(self.webpackChunkpp_label_frontend=self.webpackChunkpp_label_frontend||[]).push([[498],{91220:function(F,C,e){"use strict";e.d(C,{Z:function(){return p}});var N=e(64254);function p(a,v){var i;if(typeof Symbol=="undefined"||a[Symbol.iterator]==null){if(Array.isArray(a)||(i=(0,N.Z)(a))||v&&a&&typeof a.length=="number"){i&&(a=i);var y=0,j=function(){};return{s:j,n:function(){return y>=a.length?{done:!0}:{done:!1,value:a[y++]}},e:function(c){throw c},f:j}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,b=!1,n;return{s:function(){i=a[Symbol.iterator]()},n:function(){var c=i.next();return s=c.done,c},e:function(c){b=!0,n=c},f:function(){try{!s&&i.return!=null&&i.return()}finally{if(b)throw n}}}}},41435:function(F,C,e){"use strict";e.d(C,{Z:function(){return y}});var N=e(94663),p=e(80112);function a(j){return Function.toString.call(j).indexOf("[native code]")!==-1}var v=e(18597);function i(j,s,b){return(0,v.Z)()?i=Reflect.construct:i=function(o,c,T){var u=[null];u.push.apply(u,c);var E=Function.bind.apply(o,u),A=new E;return T&&(0,p.Z)(A,T.prototype),A},i.apply(null,arguments)}function y(j){var s=typeof Map=="function"?new Map:void 0;return y=function(n){if(n===null||!a(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof s!="undefined"){if(s.has(n))return s.get(n);s.set(n,o)}function o(){return i(n,arguments,(0,N.Z)(this).constructor)}return o.prototype=Object.create(n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),(0,p.Z)(o,n)},y(j)}},18398:function(F){F.exports={_ppcard:"_ppcard___1sR0b",title:"title___2fjZe",shadow:"shadow___3SaOl",main:"main___IOVJu",block_l:"block_l___1ywNh",block_r:"block_r___Sg4L7",goup:"goup___1vznA"}},68370:function(F,C,e){"use strict";e.r(C),e.d(C,{default:function(){return G}});var N=e(34792),p=e(48086),a=e(2824),v=e(67294),i=e(57663),y=e(71577),j=e(88983),s=e(47933),b=e(36877),n=e(96607),o=e(47673),c=e(24044),T=e(9715),u=e(93766),E=e(91220),A=e(89032),R=e(15746),W=e(11849),K=e(13062),V=e(71230),L=e(11700),$=e(18398),x=e.n($),S=e(48971),z=e(37071),f=e(93120),t=e(85893),B=[{value:"/app",label:"/app",children:[{value:"data",label:"data",children:[{value:"pplabel",label:"pplabel",children:[{value:"clas_single",label:"clas_single",children:[{value:"PetImages",label:"PetImages"}]}]}]}]}],k=function(r){return(0,t.jsxs)("div",{className:x()._ppcard,style:r.style,children:[(0,t.jsx)(V.Z,{className:x().titleRow,style:{display:r.title?void 0:"none"},children:(0,t.jsx)(L.Z,{className:x().title,children:r.title})}),(0,t.jsx)(V.Z,{style:{marginTop:26},children:(0,t.jsx)(R.Z,{span:24,style:(0,W.Z)({paddingLeft:30,paddingRight:30,textAlign:"center"},r.innerStyle),children:r.children})})]})};function U(O){var r="",g=(0,E.Z)(O),P;try{for(g.s();!(P=g.n()).done;){var Z=P.value;Z.endsWith("/")?r+=Z:r+=Z+"/"}}catch(I){g.e(I)}finally{g.f()}return r}var w=function(r){console.log("ppcreater props ",r);var g=function(l){r.project?f.F$.update(r.project.projectId,{name:l.name,description:l.description,dataDir:l.dataDir,labelDir:l.labelDir}).then(function(h){console.log(h),S.m8.push("/welcome")}).catch(function(h){console.log("update project err ",h),z.Z.parseError(h,p.default)}):f.F$.create({name:l.name,description:l.description,taskCategoryId:f.ux[r.taskCategory].id,dataDir:U(l.dataDir),labelDir:l.labelDir}).then(function(h){console.log("create res",h),localStorage.setItem("projectInfo",JSON.stringify(h)),S.m8.push("/".concat((0,f.LV)(r.taskCategory),"?projectId=").concat(h.projectId))}).catch(function(h){z.Z.parseError(h,p.default)})},P=r.taskCategory?f.ux[r.taskCategory].name:null,Z=u.Z.useForm(),I=(0,a.Z)(Z,1),D=I[0],d=r.project,M={name:d==null?void 0:d.name,description:d==null?void 0:d.description,dataDir:d==null?void 0:d.dataDir};return(0,v.useEffect)(function(){D.setFieldsValue(M)}),(0,t.jsxs)("div",{className:x().shadow,style:r.style,children:[(0,t.jsx)("div",{id:"left",className:x().block_l,children:(0,t.jsx)(k,{title:P,style:{height:760,padding:"1.25rem 0"},children:(0,t.jsxs)(u.Z,{form:D,layout:"horizontal",size:"large",style:{marginTop:"5.69rem"},onFinish:function(l){g(l)},children:[(0,t.jsx)(u.Z.Item,{name:"name",label:"Project Name",labelCol:{span:6},wrapperCol:{span:16},rules:[{required:!0,message:"Please input project name!"}],style:{fontSize:"1.5rem"},children:(0,t.jsx)(c.Z,{size:"large",placeholder:"Words or numbers",style:{height:"3.13rem"}})}),(0,t.jsx)(u.Z.Item,{name:"dataDir",label:"Dataset Path",labelCol:{span:6},wrapperCol:{span:16},rules:[{required:!0,message:"Please input dataset path!"}],style:{fontSize:"1.5rem"},children:(0,t.jsx)(n.Z,{options:B,onChange:function(l){console.log(l)},changeOnSelect:!0})}),(0,t.jsx)(u.Z.Item,{name:"description",label:"Description",labelCol:{span:6},wrapperCol:{span:16},rules:[{required:!1}],style:{fontSize:"1.5rem"},children:(0,t.jsx)(c.Z,{size:"large",placeholder:"Words or numbers",style:{height:"3.13rem"}})}),(0,t.jsx)(u.Z.Item,{name:"maxPoints",label:"MaxPoints",labelCol:{span:6},wrapperCol:{span:16},rules:[{required:r.taskCategory=="keypointDetection",message:"Please input max points!"}],style:{fontSize:"1.5rem",display:r.taskCategory=="keypointDetection"?void 0:"none"},children:(0,t.jsx)(c.Z,{size:"large",placeholder:"Numbers (Int)",style:{height:"3.13rem"}})}),(0,t.jsx)(u.Z.Item,{name:"segmentationMode",label:"AnnotationMode",labelCol:{span:6},wrapperCol:{span:16},rules:[{required:r.taskCategory=="semanticSegmentation",message:"Please select task category!"}],style:{fontSize:"1.5rem",display:r.taskCategory=="semanticSegmentation"?void 0:"none"},children:(0,t.jsx)("div",{className:x().goup,children:(0,t.jsxs)(s.ZP.Group,{defaultValue:1,size:"large",style:{height:"3.13rem"},children:[(0,t.jsx)(s.ZP,{value:1,children:"Pixel model"}),(0,t.jsx)(s.ZP,{value:2,children:"Polygon mode"})]})})}),(0,t.jsxs)(u.Z.Item,{wrapperCol:{span:16,offset:6},children:[(0,t.jsx)(y.Z,{htmlType:"submit",type:"primary",style:{height:"2.5rem",width:"48%"},block:!0,children:r.project?"Update":"Create"}),"\xA0\xA0",(0,t.jsx)(y.Z,{htmlType:"button",style:{height:"2.5rem",width:"48%"},block:!0,onClick:function(){S.m8.push("/welcome")},children:"Cancel"})]})]})})}),(0,t.jsx)("div",{id:"right",className:x().block_r,children:(0,t.jsx)(k,{style:{height:"43.63rem",padding:"0.5rem 0"},children:(0,t.jsx)("img",{src:r.imgSrc,style:{height:"43.63rem",width:"60rem"}})})})]})},H=w,J=e(11428),Q=function(){var r=(0,v.useState)(),g=(0,a.Z)(r,2),P=g[0],Z=g[1],I=(0,v.useState)(),D=(0,a.Z)(I,2),d=D[0],M=D[1],m=(0,f.os)(z.Z.getQueryVariable("taskCategory"));m||(p.default.error("Task Category not present in url"),S.m8.push("/project_creation")),console.log("In",m,f.ux,m in f.ux),console.log("taskCategory",P),m in f.ux||(p.default.error("Invalid task category "+m),S.m8.push("/project_creation"));var l=z.Z.getQueryVariable("projectId");return(0,v.useEffect)(function(){Z(m),l&&(0,f.e5)(l,M)},[]),(0,t.jsx)(J.Z,{children:(0,t.jsx)(H,{imgSrc:"./pics/illustration.jpg",taskCategory:P,project:d})})},G=Q}}]);
