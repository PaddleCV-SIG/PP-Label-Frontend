(self.webpackChunkpp_label_frontend=self.webpackChunkpp_label_frontend||[]).push([[507],{52822:function(r){r.exports={roundBall:"roundBall___1pqu1",popover:"popover___1-PR6"}},5882:function(r){r.exports={listItem:"listItem___vtDXn",eye:"eye___AsLBS",roundBall:"roundBall___1J_R3",popover:"popover___1x-2R",delete:"delete___WHPf2",listItemActive:"listItemActive___3FRb7"}},56131:function(r){r.exports={labelList:"labelList___jvD05",listHeader:"listHeader___UM5UF",eye:"eye___II3Po",roundBall:"roundBall___j752J"}},78677:function(r){r.exports={container:"container___G0FNe"}},83930:function(r){r.exports={stage:"stage___3H5QL"}},80961:function(r){r.exports={leftToolbar:"leftToolbar___1xi4t",rightToolbar:"rightToolbar___3dNSB"}},82499:function(r){r.exports={toolBarButtonContainerWrapper:"toolBarButtonContainerWrapper___1SHWL",toolBarButtonContainer:"toolBarButtonContainer___1jKUz",toolBarButton:"toolBarButton___3Ouq1",buttonText:"buttonText___10ls7",toolBarButtonContainerWrapperActive:"toolBarButtonContainerWrapperActive___3AA28"}},63097:function(r,g,e){"use strict";var Z=e(20136),u=e(55241),m=e(2824),c=e(67294),i=e(52822),l=e.n(i),v=e(63144),P=e(85893),f=function(O){var z=(0,c.useState)(O.color||"#FFF"),n=(0,m.Z)(z,2),j=n[0],t=n[1];return(0,c.useEffect)(function(){t(O.color||"#FFF")},[O]),O.changeable?(0,P.jsx)(u.Z,{getPopupContainer:function(R){return R.parentElement||document.body},overlayClassName:l().popover,openClassName:l().popoverOpenClassName,placement:"bottom",content:(0,P.jsx)(v.xS,{disableAlpha:!0,color:j,onChange:function(R){t(R.hex)},onChangeComplete:O.onChange}),trigger:"click",children:(0,P.jsx)("div",{className:l().roundBall,style:{backgroundColor:j}})}):(0,P.jsx)("div",{className:l().roundBall,style:{backgroundColor:j}})};g.Z=f},5041:function(r,g,e){"use strict";e.d(g,{Z:function(){return W}});var Z=e(54421),u=e(38272),m=e(57663),c=e(71577),i=e(2824),l=e(67294),v=e(56131),P=e.n(v),f=e(49111),H=e(19650),O=e(11849),z=e(5882),n=e.n(z),j=e(63097),t=e(85893),h=function(a){var d=(0,O.Z)({},a.label),D=(0,l.useState)(d.invisible),A=(0,i.Z)(D,2),y=A[0],L=A[1],U=(0,l.useState)(0),M=(0,i.Z)(U,2),_=M[0],b=M[1],F=a.hideEye?" ":(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("a",{className:n().eye,style:{backgroundImage:y?"url(./pics/hide.png)":"url(./pics/show.png)"},onClick:function(x){x.stopPropagation(),L(!y),a.onLabelModify(d)}})," "]}),s=a.hideColorPicker?(0,t.jsx)(t.Fragment,{}):(0,t.jsx)(j.Z,{color:d.color,changeable:!0,onChange:function(x){d.color=x.hex,a.onLabelModify(d)}}),o=(0,t.jsxs)(u.ZP.Item,{className:"".concat(n().listItem," ").concat(a.active?n().listItemActive:""),unselectable:"on",onClick:function(){a.onClick(d)},children:[(0,t.jsxs)(H.Z,{align:"center",size:5,children:[F,d.name,s]}),(0,t.jsx)("a",{className:n().delete,onClick:function(x){x.stopPropagation();var K=new Date().getTime();K-_<300||(b(K),a.onLabelDelete(d))}})]});return o},R=h,V=e(71194),T=e(50146),k=e(47673),J=e(24044),G=e(9715),C=e(93766),B=e(48971),$=["#FF0000","#008000","#0000FF","#FFFF00","#FFA500","#00FFFF","#8B00FF","#FFC0CB","#7CFC00","#007FFF","#800080","#36BF36","#DAA520","#800000","#008B8B","#B22222","#E6D933","#000080","#FF00FF","#FFFF99","#87CEEB","#5C50E6","#CD5C5C","#20B2AA","#E680FF","#4D1F00","#006374","#B399FF","#8B4513","#BA55D3","#C0C0C0","#808080","#000000"],X=function(a){var d,D,A=(0,B.YB)().formatMessage({id:"component.PPAddLabelModal.selectColor"}),y=(0,B.YB)().formatMessage({id:"component.PPAddLabelModal.addLabel"}),L=(0,B.YB)().formatMessage({id:"component.PPAddLabelModal.labelName"}),U=(0,B.YB)().formatMessage({id:"component.PPCreater.cancel"}),M=(0,B.YB)().formatMessage({id:"component.PPSegMode.ok"}),_=(0,l.useState)(((d=a.defaultLabel)===null||d===void 0?void 0:d.color)||$[a.order||0]),b=(0,i.Z)(_,2),F=b[0],s=b[1];(0,l.useEffect)(function(){var N;s(((N=a.defaultLabel)===null||N===void 0?void 0:N.color)||$[a.order||0])},[a]);var o=a.hideColorPicker?(0,t.jsx)(t.Fragment,{}):(0,t.jsx)(C.Z.Item,{label:A,name:"color",children:(0,t.jsx)(j.Z,{color:F,onChange:function(S){s(S.hex)}})}),I=C.Z.useForm(),x=(0,i.Z)(I,1),K=x[0];return(0,t.jsx)(T.Z,{title:y,visible:a.visible,onCancel:a.onCancel,footer:null,children:(0,t.jsxs)(C.Z,{form:K,name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!1,labelname:(D=a.defaultLabel)===null||D===void 0?void 0:D.name},onFinish:function(S){var w={name:S.labelname,color:F};a.onLabelAdd(w),K.resetFields()},autoComplete:"off",children:[(0,t.jsx)(C.Z.Item,{label:L,name:"labelname",rules:[{required:!0,message:"Please input label name!"}],children:(0,t.jsx)(J.Z,{})}),o,(0,t.jsx)(C.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,t.jsxs)(H.Z,{children:[(0,t.jsx)(c.Z,{onClick:function(){var S;(S=a.onCancel)===null||S===void 0||S.call(0),K.resetFields()},children:U}),(0,t.jsx)(c.Z,{type:"primary",htmlType:"submit",children:M})]})})]})})},E=X,Q=function(a){var d,D=(0,B.YB)().formatMessage({id:"component.PPLabelList.addLabel"}),A=(0,B.YB)().formatMessage({id:"component.PPLabelList.labelList"}),y=(0,l.useState)(!1),L=(0,i.Z)(y,2),U=L[0],M=L[1];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.ZP,{className:P().labelList,size:"large",header:(0,t.jsx)("div",{className:P().listHeader,children:A}),footer:(0,t.jsx)("div",{children:(0,t.jsx)(c.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",onClick:function(){M(!0)},block:!0,children:D})}),bordered:!0,dataSource:a.labels,renderItem:function(b){var F;return(0,t.jsx)(R,{hideColorPicker:a.hideColorPicker,hideEye:a.hideEye,onClick:a.onLabelSelect,label:b,active:(F=a.activeIds)===null||F===void 0?void 0:F.has(b.labelId),onLabelDelete:a.onLabelDelete,onLabelModify:a.onLabelModify})}}),(0,t.jsx)(E,{hideColorPicker:a.hideColorPicker,order:(d=a.labels)===null||d===void 0?void 0:d.length,visible:U,onLabelAdd:function(b){a.onLabelAdd(b),M(!1)},onCancel:function(){M(!1)}})]})},W=Q},8088:function(r,g,e){"use strict";var Z=e(67294),u=e(78677),m=e.n(u),c=e(85893),i=function(v){return(0,c.jsx)("div",{className:"".concat(m().container," ").concat(v.className),children:v.children})};g.Z=i},57436:function(r,g,e){"use strict";var Z=e(91220),u=e(2824),m=e(67294),c=e(65031),i=e(84420),l=e.n(i),v=e(83930),P=e.n(v),f=e(85893),H="./pics/basketball.jpg",O=function(n){var j=l()(n.imgSrc||H),t=(0,u.Z)(j,1),h=t[0],R=(0,m.useState)(0),V=(0,u.Z)(R,2),T=V[0],k=V[1],J=(0,m.useState)(0),G=(0,u.Z)(J,2),C=G[0],B=G[1],$=(0,m.useState)({x:0,y:0}),X=(0,u.Z)($,2),E=X[0],Q=X[1],W=(0,m.useRef)(null);function Y(){var s=document.getElementById("dr");s&&(k(s.clientWidth),B(s.clientHeight))}(0,m.useEffect)(function(){window.removeEventListener("resize",Y),window.addEventListener("resize",Y);var s=document.getElementById("dr");s&&(k(s.clientWidth),B(s.clientHeight))},[]);var a=function(o){o.cancelBubble=!0,console.log("PPStage onMouseDown",-T/2-E.x,-C/2-E.y,n.scale),n.onMouseDown&&n.onMouseDown(o,-T/2-E.x,-C/2-E.y,n.scale)},d=function(o){o.cancelBubble=!0,n.onMouseMove&&n.onMouseMove(o,-T/2-E.x,-C/2-E.y,n.scale)},D=function(o){o.cancelBubble=!0,n.onMouseUp&&n.onMouseUp(o,-T/2-E.x,-C/2-E.y,n.scale)},A=function(o){o.cancelBubble=!0,o.evt.preventDefault()},y=[];if(n.annotations){console.log("PPStage rendering annotations:",n.annotations);var L=(0,Z.Z)(n.annotations),U;try{for(L.s();!(U=L.n()).done;){var M=U.value;if(!!M){var _=void 0;switch(M.type){case"polygon":_=n.createPolygonFunc;break;case"brush":_=n.createBrushFunc;break;case"rubber":_=n.createBrushFunc;break;case"rectangle":_=n.createRectangleFunc;break;default:_=null}if(!!_){var b=(0,f.jsx)(c.mh,{name:"annotation",scaleX:n.scale,scaleY:n.scale,onMouseDown:a,onMouseMove:d,onMouseUp:D,onContextMenu:A,x:E.x,y:E.y,children:_(M,n.onAnnotationModify,n.onAnnotationModifyComplete,n.scale,n.currentTool,n.setCurrentAnnotation,W,n.currentAnnotation)});y.push(b)}}}}catch(s){L.e(s)}finally{L.f()}}var F=n.currentTool=="mover";return(0,f.jsxs)(c.Hf,{width:T,height:C,offsetX:-T/2,offsetY:-C/2,className:P().stage,ref:W,children:[(0,f.jsx)(c.mh,{onMouseDown:a,onMouseMove:d,onMouseUp:D,onContextMenu:A,draggable:F,scaleX:n.scale,scaleY:n.scale,onDragMove:function(o){if(n.currentTool=="mover"&&!!W.current){var I=W.current;I.find(".annotation").forEach(function(x){x.setPosition({x:o.target.x(),y:o.target.y()})})}},onDragEnd:function(o){if(n.currentTool=="mover"&&(console.log("dragEndPosX,Y: (".concat(o.target.x(),",").concat(o.target.y(),")")),Q({x:o.target.x(),y:o.target.y()}),!!W.current)){var I=W.current;I.find(".annotation").forEach(function(x){return x.setPosition({x:o.target.x(),y:o.target.y()})})}},children:(0,f.jsx)(c.Ee,{name:"baseImage",draggable:!1,image:h,x:-((h==null?void 0:h.width)||0)/2,y:-((h==null?void 0:h.height)||0)/2})}),y]})};g.Z=O},44434:function(r,g,e){"use strict";var Z=e(67294),u=e(80961),m=e.n(u),c=e(85893),i=function(v){var P=m().leftToolbar;return v.disLoc=="right"&&(P=m().rightToolbar),(0,c.jsx)("div",{className:P,children:v.children})};g.Z=i},61541:function(r,g,e){"use strict";var Z=e(49111),u=e(19650),m=e(67294),c=e(82499),i=e.n(c),l=e(85893),v=function(f){return(0,l.jsx)("div",{unselectable:"on",className:"".concat(i().toolBarButtonContainerWrapper," ").concat(f.active&&i().toolBarButtonContainerWrapperActive),onClick:f.onClick,children:(0,l.jsx)(u.Z,{align:"center",className:i().toolBarButtonContainer,size:0,children:(0,l.jsxs)(u.Z,{align:"center",direction:"vertical",className:i().toolBarButton,size:0,children:[(0,l.jsx)("img",{src:f.imgSrc}),(0,l.jsx)("div",{className:i().buttonText,children:f.children})]})})})};g.Z=v}}]);
