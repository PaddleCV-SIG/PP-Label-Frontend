(self.webpackChunkpp_labeling_frontend=self.webpackChunkpp_labeling_frontend||[]).push([[333],{85024:function(l){l.exports={listItem:"listItem___u4Q82",eye:"eye___BwaRm",roundBall:"roundBall___23A7l",popover:"popover___1BNET",listItemActive:"listItemActive___2QnA3"}},56159:function(l){l.exports={labelList:"labelList___v7C6K",listHeader:"listHeader___1aY8R",eye:"eye___2MKbp",roundBall:"roundBall___187XH"}},52822:function(l){l.exports={roundBall:"roundBall___1pqu1",popover:"popover___1-PR6"}},5882:function(l){l.exports={listItem:"listItem___vtDXn",eye:"eye___AsLBS",roundBall:"roundBall___1J_R3",popover:"popover___1x-2R",listItemActive:"listItemActive___3FRb7"}},56131:function(l){l.exports={labelList:"labelList___jvD05",listHeader:"listHeader___UM5UF",eye:"eye___II3Po",roundBall:"roundBall___j752J"}},78677:function(l){l.exports={container:"container___G0FNe"}},80961:function(l){l.exports={toolbar:"toolbar___3vxli"}},82499:function(l){l.exports={toolBarButtonContainerWrapper:"toolBarButtonContainerWrapper___1SHWL",toolBarButtonContainer:"toolBarButtonContainer___1jKUz",toolBarButton:"toolBarButton___3Ouq1",buttonText:"buttonText___10ls7",toolBarButtonContainerWrapperActive:"toolBarButtonContainerWrapperActive___3AA28"}},72869:function(l){l.exports={map:"map___92VPN",customControlIcon:"customControlIcon___3Ki2y"}},20474:function(l){l.exports={RSPop1:"RSPop1___vz5Me",RSPop2:"RSPop2___34pQA"}},55252:function(l){l.exports={RSPop1:"RSPop1___17x8k",RSPop2:"RSPop2___27kK5"}},2661:function(l){l.exports={toolbar:"toolbar___1o3he"}},93889:function(l){l.exports={toolBarButtonContainerWrapper:"toolBarButtonContainerWrapper___UtH8a",toolBarButtonContainer:"toolBarButtonContainer___1gFsH",toolBarButton:"toolBarButton___1Wqc1",buttonText:"buttonText___2zcKO",toolBarButtonContainerWrapperActive:"toolBarButtonContainerWrapperActive___3AXHi"}},75513:function(l){l.exports={segment:"segment___3WmPw",mainStage:"mainStage___2kT1s",rightSideBar:"rightSideBar___11FX3",determinOutline:"determinOutline___1g1YI"}},14836:function(l,S,n){"use strict";n.d(S,{Z:function(){return ce}});var ae=n(54421),v=n(38272),z=n(57663),x=n(71577),u=n(2824),i=n(67294),B=n(56159),c=n.n(B),C=n(49111),b=n(19650),T=n(11849),O=n(85024),D=n.n(O),d=n(63097),o=n(85893),oe=function(j){var W=(0,T.Z)({},j.annotation),F=(0,i.useState)(W.invisible),L=(0,u.Z)(F,2),k=L[0],N=L[1];(0,i.useEffect)(function(){N(j.annotation.invisible)},[j.annotation.invisible]);var w=(0,o.jsx)(v.ZP.Item,{className:"".concat(D().listItem," ").concat(j.active?D().listItemActive:""),unselectable:"on",onClick:function(){j.onClick(W)},children:(0,o.jsxs)(b.Z,{align:"center",size:5,children:[(0,o.jsx)("a",{className:D().eye,style:{backgroundImage:k?"url(./pics/hide.png)":"url(./pics/show.png)"},onClick:function(){N(!k),j.onAnnotationModify(W)}})," ",W.label.name,(0,o.jsx)(d.Z,{color:W.label.name})]})});return w},X=oe,me=function(j){var W=(0,i.useState)([]),F=(0,u.Z)(W,1),L=F[0];return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(v.ZP,{className:c().labelList,size:"large",header:(0,o.jsx)("div",{className:c().listHeader,children:"Annotation List"}),bordered:!0,dataSource:L,renderItem:function(N){var w;return(0,o.jsx)(X,{onClick:j.onAnnotationSelect,annotation:N,active:N.annotationId==((w=j.selectedAnnotation)===null||w===void 0?void 0:w.annotationId),onAnnotationDelete:j.onAnnotationDelete,onAnnotationModify:j.onAnnotationModify})},footer:(0,o.jsx)("div",{children:(0,o.jsx)(x.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",onClick:function(){j.onAnnotationSelect(void 0)},block:!0,children:"Add Annotation"})})})})},ce=me},63097:function(l,S,n){"use strict";var ae=n(20136),v=n(55241),z=n(2824),x=n(67294),u=n(52822),i=n.n(u),B=n(63144),c=n(85893),C=function(T){var O=(0,x.useState)(T.color||"#FFF"),D=(0,z.Z)(O,2),d=D[0],o=D[1];return(0,x.useEffect)(function(){o(T.color||"#FFF")},[T]),T.changeable?(0,c.jsx)(v.Z,{getPopupContainer:function(X){return X.parentElement||document.body},overlayClassName:i().popover,openClassName:i().popoverOpenClassName,placement:"bottom",content:(0,c.jsx)(B.xS,{disableAlpha:!0,color:d,onChange:function(X){o(X.hex)},onChangeComplete:T.onChange}),trigger:"click",children:(0,c.jsx)("div",{className:i().roundBall,style:{backgroundColor:d}})}):(0,c.jsx)("div",{className:i().roundBall,style:{backgroundColor:d}})};S.Z=C},5041:function(l,S,n){"use strict";n.d(S,{Z:function(){return pe}});var ae=n(54421),v=n(38272),z=n(57663),x=n(71577),u=n(2824),i=n(67294),B=n(56131),c=n.n(B),C=n(49111),b=n(19650),T=n(11849),O=n(5882),D=n.n(O),d=n(63097),o=n(85893),oe=function(r){var m=(0,T.Z)({},r.label),J=(0,i.useState)(m.invisible),a=(0,u.Z)(J,2),_=a[0],g=a[1],q=(0,o.jsx)(v.ZP.Item,{className:"".concat(D().listItem," ").concat(r.active?D().listItemActive:""),unselectable:"on",onClick:function(){r.onClick(m)},children:(0,o.jsxs)(b.Z,{align:"center",size:5,children:[(0,o.jsx)("a",{className:D().eye,style:{backgroundImage:_?"url(./pics/hide.png)":"url(./pics/show.png)"},onClick:function(){g(!_),r.onLabelModify(m)}})," ",m.name,(0,o.jsx)(d.Z,{color:m.color,changeable:!0,onChange:function(Z){m.color=Z.hex,r.onLabelModify(m)}})]})});return q},X=oe,me=n(71194),ce=n(50146),e=n(47673),j=n(24044),W=n(9715),F=n(93766),L=["#FF0000","#008000","#0000FF","#FFFF00","#FFA500","#00FFFF","#8B00FF","#FFC0CB","#7CFC00","#007FFF","#800080","#36BF36","#DAA520","#800000","#008B8B","#B22222","#E6D933","#000080","#FF00FF","#FFFF99","#87CEEB","#5C50E6","#CD5C5C","#20B2AA","#E680FF","#4D1F00","#006374","#B399FF","#8B4513","#BA55D3","#C0C0C0","#808080","#000000"],k=function(r){var m,J,a=(0,i.useState)(((m=r.defaultLabel)===null||m===void 0?void 0:m.color)||L[r.order||0]),_=(0,u.Z)(a,2),g=_[0],q=_[1];(0,i.useEffect)(function(){var A;q(((A=r.defaultLabel)===null||A===void 0?void 0:A.color)||L[r.order||0])},[r]);var V=F.Z.useForm(),Z=(0,u.Z)(V,1),p=Z[0];return(0,o.jsx)(ce.Z,{title:"Add Label",visible:r.visible,onCancel:r.onCancel,footer:null,children:(0,o.jsxs)(F.Z,{form:p,name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!1,labelname:(J=r.defaultLabel)===null||J===void 0?void 0:J.name},onFinish:function(h){var fe={name:h.labelname,color:g};r.onLabelAdd(fe),p.resetFields()},autoComplete:"off",children:[(0,o.jsx)(F.Z.Item,{label:"Label Name",name:"labelname",rules:[{required:!0,message:"Please input label name!"}],children:(0,o.jsx)(j.Z,{})}),(0,o.jsx)(F.Z.Item,{label:"Select Color",name:"color",children:(0,o.jsx)(d.Z,{color:g,onChange:function(h){q(h.hex)}})}),(0,o.jsx)(F.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,o.jsxs)(b.Z,{children:[(0,o.jsx)(x.Z,{onClick:function(){var h;(h=r.onCancel)===null||h===void 0||h.call(0),p.resetFields()},children:"\u53D6\u6D88"}),(0,o.jsx)(x.Z,{type:"primary",htmlType:"submit",children:"\u786E\u5B9A"})]})})]})})},N=k,w=[{color:"#FF0000",name:"Label 1"},{color:"#008000",name:"Label 2"}],le=function(r){var m=(0,i.useState)(w),J=(0,u.Z)(m,2),a=J[0],_=J[1],g=(0,i.useState)(!1),q=(0,u.Z)(g,2),V=q[0],Z=q[1];return(0,i.useEffect)(function(){r.selectedLabel||r.onLabelSelect(a[0])},[a,r]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(v.ZP,{className:c().labelList,size:"large",header:(0,o.jsx)("div",{className:c().listHeader,children:"Label List"}),footer:(0,o.jsx)("div",{children:(0,o.jsx)(x.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",onClick:function(){Z(!0)},block:!0,children:"Add Label"})}),bordered:!0,dataSource:a,renderItem:function(A){var h;return(0,o.jsx)(X,{onClick:r.onLabelSelect,label:A,active:A.name==((h=r.selectedLabel)===null||h===void 0?void 0:h.name),onLabelDelete:r.onLabelDelete,onLabelModify:r.onLabelModify})}}),(0,o.jsx)(N,{order:a.length,visible:V,onLabelAdd:function(A){a.push(A),_(a),Z(!1)},onCancel:function(){Z(!1)}})]})},pe=le},8088:function(l,S,n){"use strict";var ae=n(67294),v=n(78677),z=n.n(v),x=n(85893),u=function(B){return(0,x.jsx)("div",{className:"".concat(z().container," ").concat(B.className),children:B.children})};S.Z=u},44434:function(l,S,n){"use strict";var ae=n(67294),v=n(80961),z=n.n(v),x=n(85893),u=function(B){return(0,x.jsx)("div",{className:z().toolbar,children:B.children})};S.Z=u},61541:function(l,S,n){"use strict";var ae=n(49111),v=n(19650),z=n(67294),x=n(82499),u=n.n(x),i=n(85893),B=function(C){return(0,i.jsx)("div",{unselectable:"on",className:"".concat(u().toolBarButtonContainerWrapper," ").concat(C.active&&u().toolBarButtonContainerWrapperActive),onClick:C.onClick,children:(0,i.jsx)(v.Z,{align:"center",className:u().toolBarButtonContainer,size:0,children:(0,i.jsxs)(v.Z,{align:"center",direction:"vertical",className:u().toolBarButton,size:0,children:[(0,i.jsx)("img",{src:C.imgSrc}),(0,i.jsx)("div",{className:u().buttonText,children:C.children})]})})})};S.Z=B},15373:function(l,S,n){"use strict";n.r(S),n.d(S,{default:function(){return We}});var ae=n(20136),v=n(55241),z=n(49111),x=n(19650),u=n(62350),i=n(75443),B=n(57663),c=n(71577),C=n(2824),b=n(67294),T=n(75513),O=n.n(T),D=n(8088),d=n(61541),o=n(44434),oe=n(5041),X=n(14836),me=n(2661),ce=n.n(me),e=n(85893),j=function(P){return(0,e.jsx)("div",{className:ce().toolbar,children:P.children})},W=j,F=n(93889),L=n.n(F),k=function(P){return(0,e.jsx)("div",{unselectable:"on",className:"".concat(L().toolBarButtonContainerWrapper," ").concat(P.active&&L().toolBarButtonContainerWrapperActive),onClick:P.onClick,children:(0,e.jsx)(x.Z,{align:"center",className:L().toolBarButtonContainer,size:0,children:(0,e.jsxs)(x.Z,{align:"center",direction:"vertical",className:L().toolBarButton,size:0,children:[(0,e.jsx)("img",{src:P.imgSrc}),(0,e.jsx)("div",{className:L().buttonText,children:P.children})]})})})},N=k,w=n(47673),le=n(24044),pe=n(13062),H=n(71230),r=n(59250),m=n(13013),J=n(89032),a=n(15746),_=n(30887),g=n(54689),q=n(34792),V=n(48086),Z=n(89366),p=n(57254),A=n(20474),h=n.n(A);function fe(U){V.default.info("Click on menu item."),console.log("click",U)}var Ze=(0,e.jsxs)(g.Z,{onClick:fe,children:[(0,e.jsx)(g.Z.Item,{icon:(0,e.jsx)(Z.Z,{}),children:"1st menu item"},"1"),(0,e.jsx)(g.Z.Item,{icon:(0,e.jsx)(Z.Z,{}),children:"2nd menu item"},"2"),(0,e.jsx)(g.Z.Item,{icon:(0,e.jsx)(Z.Z,{}),children:"3rd menu item"},"3")]}),ye=function(){return(0,e.jsxs)("div",{children:[(0,e.jsxs)(H.Z,{children:[(0,e.jsx)(a.Z,{span:12,className:h().RSPop1,children:(0,e.jsx)("span",{children:"PD parameter"})}),(0,e.jsx)(a.Z,{span:12,className:h().RSPop2,children:(0,e.jsx)(m.Z,{overlay:Ze,children:(0,e.jsxs)(c.Z,{style:{width:"100%"},children:["Dropdown ",(0,e.jsx)(p.Z,{})]})})})]}),(0,e.jsxs)(H.Z,{children:[(0,e.jsx)(a.Z,{span:12,className:h().RSPop1,children:(0,e.jsx)("span",{children:"Simplified distance"})}),(0,e.jsx)(a.Z,{span:12,className:h().RSPop2,children:(0,e.jsx)(le.Z,{placeholder:"Basic usage"})})]}),(0,e.jsxs)(H.Z,{children:[(0,e.jsx)(a.Z,{span:12,className:h().RSPop1,children:(0,e.jsx)("span",{children:"Simplified angle"})}),(0,e.jsx)(a.Z,{span:12,className:h().RSPop2,children:(0,e.jsx)(le.Z,{placeholder:"Basic usage"})})]}),(0,e.jsxs)(H.Z,{children:[(0,e.jsx)(a.Z,{span:12,className:h().RSPop1,children:(0,e.jsx)("span",{children:"Threshold of building simplification "})}),(0,e.jsx)(a.Z,{span:12,className:h().RSPop2,children:(0,e.jsx)(le.Z,{placeholder:"Basic usage"})})]})]})},Be=ye,Ye=n(98858),ee=n(4914),be=n(55252),M=n.n(be);function Le(U){V.default.info("Click on menu item."),console.log("click",U)}var se=(0,e.jsxs)(g.Z,{onClick:Le,children:[(0,e.jsx)(g.Z.Item,{icon:(0,e.jsx)(Z.Z,{}),children:"band_1"},"1"),(0,e.jsx)(g.Z.Item,{icon:(0,e.jsx)(Z.Z,{}),children:"band_2"},"2"),(0,e.jsx)(g.Z.Item,{icon:(0,e.jsx)(Z.Z,{}),children:"band_3"},"3")]}),Ae=function(){return(0,e.jsxs)("div",{children:[(0,e.jsxs)(H.Z,{children:[(0,e.jsx)(a.Z,{className:M().RSPop1,children:(0,e.jsx)("span",{children:"R"})}),(0,e.jsx)(a.Z,{className:M().RSPop2,children:(0,e.jsx)(m.Z,{overlay:se,children:(0,e.jsxs)(c.Z,{style:{width:"100%"},children:["Band ",(0,e.jsx)(p.Z,{})]})})}),(0,e.jsx)(a.Z,{className:M().RSPop1,children:(0,e.jsx)("span",{children:"G"})}),(0,e.jsx)(a.Z,{className:M().RSPop2,children:(0,e.jsx)(m.Z,{overlay:se,children:(0,e.jsxs)(c.Z,{style:{width:"100%"},children:["Band ",(0,e.jsx)(p.Z,{})]})})}),(0,e.jsx)(a.Z,{className:M().RSPop1,children:(0,e.jsx)("span",{children:"B"})}),(0,e.jsx)(a.Z,{className:M().RSPop2,children:(0,e.jsx)(m.Z,{overlay:se,children:(0,e.jsxs)(c.Z,{style:{width:"100%"},children:["Band ",(0,e.jsx)(p.Z,{})]})})})]}),(0,e.jsxs)(H.Z,{children:[(0,e.jsx)(a.Z,{className:M().RSPop1,children:(0,e.jsx)("span",{children:"R"})}),(0,e.jsx)(a.Z,{className:M().RSPop2,children:(0,e.jsx)(m.Z,{overlay:se,children:(0,e.jsxs)(c.Z,{style:{width:"100%"},children:["Band ",(0,e.jsx)(p.Z,{})]})})}),(0,e.jsx)(a.Z,{className:M().RSPop1,children:(0,e.jsx)("span",{children:"G"})}),(0,e.jsx)(a.Z,{className:M().RSPop2,children:(0,e.jsx)(m.Z,{overlay:se,children:(0,e.jsxs)(c.Z,{style:{width:"100%"},children:["Band ",(0,e.jsx)(p.Z,{})]})})}),(0,e.jsx)(a.Z,{className:M().RSPop1,children:(0,e.jsx)("span",{children:"B"})}),(0,e.jsx)(a.Z,{className:M().RSPop2,children:(0,e.jsx)(m.Z,{overlay:se,children:(0,e.jsxs)(c.Z,{style:{width:"100%"},children:["Band ",(0,e.jsx)(p.Z,{})]})})})]}),(0,e.jsxs)(ee.Z,{title:"Data source information",column:1,bordered:!0,children:[(0,e.jsx)(ee.Z.Item,{label:"FileName",children:"A/XXX.tif B/XXX.tf"}),(0,e.jsx)(ee.Z.Item,{label:"Row",children:"1234"}),(0,e.jsx)(ee.Z.Item,{label:"Column",children:"897"}),(0,e.jsx)(ee.Z.Item,{label:"Bands",children:"7 7"}),(0,e.jsx)(ee.Z.Item,{label:"DataType",children:"UInt16"}),(0,e.jsx)(ee.Z.Item,{label:"EPSG",children:"7030"}),(0,e.jsx)(ee.Z.Item,{label:"Unit",children:"m"})]})]})},Ee=Ae,Se=n(11849),De=n(93224),Me=n(41004),Re=n(72869),Ce=n.n(Re),Qe=n(74607),Ie=function(P){var ie=P.children,R=P.leafletMapRef,$=(0,De.Z)(P,["children","leafletMapRef"]);return b.useEffect(function(){if(R.current){var I=R.current.leafletElement;I.pm.addControls({drawMarker:!1,drawCircle:!1,drawCircleMarker:!1,drawPolyline:!1,drawRectangle:!1,drawPolygon:!1,editMode:!1,dragMode:!1,cutPolygon:!0,rotateMode:!1,removalMode:!1}),I.pm.setGlobalOptions({pmIgnore:!1}),I.pm.Toolbar.createCustomControl({name:"StoreShapes",title:"Store all shapes",block:"custom",className:Ce().customControlIcon,toggle:!1,afterClick:function(){var re=JSON.stringify(I.pm.getGeomanDrawLayers(!0).toGeoJSON()),ue="data.geojson",G=document.createElement("a");G.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(re)),G.setAttribute("download",ue),G.style.display="none",document.body.appendChild(G),G.click(),console.log(re)}}),I.on("pm:create",function(Y){P.onShapeCreate(Y)}),I.on("pm:edit",function(Y){P.onShapeEdit(Y)})}},[]),(0,e.jsx)(Me.Z,(0,Se.Z)((0,Se.Z)({ref:R},$),{},{children:ie}))},Te=Ie,de=n(88014),ve=n(3263),xe={lat:0,lng:0,zoom:2},Fe=function(P){var ie=[xe.lat,xe.lng],R=b.useState([]),$=(0,C.Z)(R,2),I=$[0],Y=$[1],re=function(f){G(f.layer),f.layer.bindPopup("Label: "+f.layer._uid).openPopup(),he(f.layer)},ue=function(f){je(f.layer),console.log(f)};function G(y){var f=prompt("Please enter a Unique Id");if(f)if(I[f]){alert("Id already used, add another one"),G(y);return}else y._uid=f,I[f]=y,Y(I);else{alert("Nothing entered, layer deleted ..."),y.remove();return}}function he(y){var f=y._uid,ne=y.toGeoJSON();ne.properties={LabelID:Number(f)},console.log("Store Layer on DB. Id:"+f,ne),console.log(JSON.stringify(ne))}function je(y){var f=y._uid,ne=y.toGeoJSON();console.log("Update Layer on DB. Id:"+f,ne)}return(0,e.jsx)(Te,{leafletMapRef:P.leafletMapRef,className:Ce().map,center:ie,zoom:xe.zoom,onShapeCreate:re,onShapeEdit:ue,children:(0,e.jsxs)(de.Z,{position:"topright",children:[(0,e.jsx)(de.Z.BaseLayer,{checked:!0,name:"OpenStreetMap.Mapnik",children:(0,e.jsx)(ve.Z,{attribution:'\xA9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})}),(0,e.jsx)(de.Z.BaseLayer,{name:"TianDiTu.Satellite",children:(0,e.jsx)(ve.Z,{attribution:"\xA9 TianDiTu",url:"https://t2.tianditu.gov.cn/DataServer?T=img_w&X={x}&Y={y}&L={z}&tk=174705aebfe31b79b3587279e211cb9a"})}),(0,e.jsx)(de.Z.BaseLayer,{name:"Esri.WorldImagery",children:(0,e.jsx)(ve.Z,{attribution:"Tiles \xA9 Esri \u2014 Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community",url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"})}),(0,e.jsx)(de.Z.Overlay,{name:"Annotion.TianDiTu",children:(0,e.jsx)(ve.Z,{url:"https://t2.tianditu.gov.cn/DataServer?T=cia_w&X={x}&Y={y}&L={z}&tk=174705aebfe31b79b3587279e211cb9a"})})]})})},Ne=Fe,Oe=function(){var P=(0,b.useState)(void 0),ie=(0,C.Z)(P,2),R=ie[0],$=ie[1],I=(0,b.useState)(),Y=(0,C.Z)(I,2),re=Y[0],ue=Y[1],G=(0,b.useState)(),he=(0,C.Z)(G,2),je=he[0],y=he[1],f=(0,b.useState)(!1),ne=(0,C.Z)(f,2),Ue=ne[0],te=ne[1],E=b.useRef(null),K=function(){var t,Q=(t=E.current)===null||t===void 0?void 0:t.leafletElement.pm.globalDrawModeEnabled();console.log(Q)};function Ge(s){if(te(!0),s){var t,Q;(t=E.current)===null||t===void 0||t.leafletElement.pm.enableDraw(s),(Q=E.current)===null||Q===void 0||Q.leafletElement.pm.setPathOptions({color:"orange",fillColor:"green",fillOpacity:.4}),K()}else{var ge;(ge=E.current)===null||ge===void 0||ge.leafletElement.pm.disableDraw(s),te(!1),K()}}var Ke=function(t){var Q;(Q=E.current)===null||Q===void 0||Q.leafletElement.pm.disableDraw(t),te(!1),K()},Pe=function(){var t;return(t=E.current)===null||t===void 0?void 0:t.leafletElement.pm.Draw.getActiveShape()},ze=function(){if(Pe()=="Polygon"){var t;(t=E.current)===null||t===void 0||t.leafletElement.pm.Draw.Polygon._removeLastVertex(),K()}else K(),te(!1)},Xe=function(){var t;(t=E.current)===null||t===void 0||t.leafletElement.pm.toggleGlobalDragMode(),K()},He=function(){if(Pe()=="Polygon"){var t;(t=E.current)===null||t===void 0||t.leafletElement.pm.Draw.Polygon._finishShape(),K(),te(!1)}else K(),te(!1)},Je=function(){var t;(t=E.current)===null||t===void 0||t.leafletElement.pm.enableGlobalRemovalMode(),K()},Ve=function(){var t;(t=E.current)===null||t===void 0||t.leafletElement.pm.toggleGlobalEditMode(),K(),te(!1)},$e=function(){var t;console.log((t=E.current)===null||t===void 0?void 0:t.leafletElement.pm.getGeomanDrawLayers(!0)),te(!1)};return(0,e.jsxs)(D.Z,{className:O().segment,children:[(0,e.jsxs)(o.Z,{children:[(0,e.jsx)(d.Z,{imgSrc:"./pics/buttons/intelligent_interaction.png",children:"Intelligent Interaction"}),(0,e.jsx)(v.Z,{placement:"rightTop",visible:Ue,content:(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(x.Z,{children:[(0,e.jsx)(c.Z,{type:"primary",onClick:function(){He()},children:"Finish"}),(0,e.jsx)(c.Z,{type:"primary",onClick:function(){ze()},children:"Remove Last Vertex"}),(0,e.jsx)(i.Z,{title:"Are you sure cancel this task?",okText:"Yes",cancelText:"No",children:(0,e.jsx)(c.Z,{type:"primary",onClick:function(){Ke(Pe())},children:"Cancel"})})]})}),trigger:R=="Polygon"?"hover":"click",children:(0,e.jsx)(d.Z,{active:R=="Polygon",imgSrc:"./pics/buttons/polygon.png",onClick:function(){$("Polygon"),Ge("Polygon")},children:"Polygon"})}),(0,e.jsx)(d.Z,{onClick:function(){Ve()},imgSrc:"./pics/buttons/brush.png",children:"Edit"}),(0,e.jsxs)(v.Z,{placement:"rightTop",title:"title",content:"content",trigger:R=="rubber"?"hover":"click",children:[" ",(0,e.jsx)(d.Z,{imgSrc:"./pics/buttons/rubber.png",onClick:function(){Je()},children:"Rubber"})]}),(0,e.jsx)(d.Z,{imgSrc:"./pics/buttons/zoom_in.png",children:"Zoom in"}),(0,e.jsx)(d.Z,{imgSrc:"./pics/buttons/zoom_out.png",children:"Zoom out"}),(0,e.jsx)(d.Z,{onClick:function(){$e()},imgSrc:"./pics/buttons/save.png",children:"Save"}),(0,e.jsx)(d.Z,{imgSrc:"./pics/buttons/move.png",onClick:function(){return Xe()},children:"Move"}),(0,e.jsx)(d.Z,{imgSrc:"./pics/buttons/export.png",children:"Export"}),(0,e.jsx)(d.Z,{imgSrc:"./pics/buttons/data_division.png",children:"Divide Data"}),(0,e.jsx)(d.Z,{imgSrc:"./pics/buttons/prev.png",children:"Undo"}),(0,e.jsx)(d.Z,{imgSrc:"./pics/buttons/next.png",children:"Redo"}),(0,e.jsx)(d.Z,{imgSrc:"./pics/buttons/clear_mark.png",children:"Clear Mark"})]}),(0,e.jsx)("div",{className:O().mainStage,children:(0,e.jsx)(Ne,{leafletMapRef:E})}),(0,e.jsxs)(W,{children:[(0,e.jsxs)(v.Z,{overlayInnerStyle:{borderRadius:"0.5rem"},placement:"leftTop",title:"Setting of boundary simplification",content:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(Be,{})}),trigger:R=="boundry"?"click":"hover",children:[" ",(0,e.jsx)(N,{imgSrc:"./pics/buttons/border_simplify.png",onClick:function(){$("boundry")},children:(0,e.jsx)("h2",{children:"Boundary"})})]}),(0,e.jsxs)(v.Z,{overlayInnerStyle:{borderRadius:"0.5rem"},placement:"leftTop",title:"Setting of remote sensing",content:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(Ee,{})}),trigger:R=="colorgun"?"click":"hover",children:[" ",(0,e.jsx)(N,{imgSrc:"./pics/buttons/remote_sensing_setting.png",onClick:function(){$("colorgun")},children:(0,e.jsx)("h2",{children:"Remote Sensing"})})]}),(0,e.jsxs)(v.Z,{overlayInnerStyle:{borderRadius:"0.5rem"},placement:"leftTop",title:"Switch grids",content:"content",trigger:R=="grid"?"click":"hover",children:[" ",(0,e.jsx)(N,{imgSrc:"./pics/buttons/switch_grid.png",onClick:function(){$("grid")},children:(0,e.jsx)("h2",{children:"Grids"})})]})]}),(0,e.jsxs)("div",{className:O().rightSideBar,children:[(0,e.jsx)("div",{className:O().determinOutline,children:(0,e.jsx)(c.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",block:!0,children:"Determine Outline"})}),(0,e.jsx)(oe.Z,{selectedLabel:re,onLabelSelect:function(t){ue(t)},onLabelModify:function(){},onLabelDelete:function(){},onLabelAdd:function(){}}),(0,e.jsx)(X.Z,{selectedAnnotation:je,onAnnotationSelect:function(t){y(t)},onAnnotationAdd:function(){},onAnnotationModify:function(){},onAnnotationDelete:function(){}})]})]})},We=Oe}}]);
