(self.webpackChunkpp_labeling_frontend=self.webpackChunkpp_labeling_frontend||[]).push([[540],{85024:function(l){l.exports={listItem:"listItem___u4Q82",eye:"eye___BwaRm",roundBall:"roundBall___23A7l",popover:"popover___1BNET",annotationId:"annotationId___zAzX4",labelName:"labelName___2ohxn",listItemActive:"listItemActive___2QnA3"}},56159:function(l){l.exports={labelList:"labelList___v7C6K",listHeader:"listHeader___1aY8R",eye:"eye___2MKbp",roundBall:"roundBall___187XH"}},57560:function(l){l.exports={toolBarButtonContainerWrapper:"toolBarButtonContainerWrapper___147XP",toolBarButtonContainer:"toolBarButtonContainer___ZEvhK",toolBarButton:"toolBarButton___1s2Rh",buttonText:"buttonText___3NTCv",toolBarButtonContainerWrapperActive:"toolBarButtonContainerWrapperActive___2Utx8",popover:"popover___3PRoi"}},52822:function(l){l.exports={roundBall:"roundBall___1pqu1",popover:"popover___1-PR6"}},5882:function(l){l.exports={listItem:"listItem___vtDXn",eye:"eye___AsLBS",roundBall:"roundBall___1J_R3",popover:"popover___1x-2R",listItemActive:"listItemActive___3FRb7"}},56131:function(l){l.exports={labelList:"labelList___jvD05",listHeader:"listHeader___UM5UF",eye:"eye___II3Po",roundBall:"roundBall___j752J"}},78677:function(l){l.exports={container:"container___G0FNe"}},83930:function(l){l.exports={stage:"stage___3H5QL"}},80961:function(l){l.exports={toolbar:"toolbar___3vxli"}},82499:function(l){l.exports={toolBarButtonContainerWrapper:"toolBarButtonContainerWrapper___1SHWL",toolBarButtonContainer:"toolBarButtonContainer___1jKUz",toolBarButton:"toolBarButton___3Ouq1",buttonText:"buttonText___10ls7",toolBarButtonContainerWrapperActive:"toolBarButtonContainerWrapperActive___3AA28"}},54777:function(l){l.exports={segment:"segment___1YMcl",mainStage:"mainStage___2otee",rightSideBar:"rightSideBar___2X7jK",determinOutline:"determinOutline___2ls57"}},14836:function(l,A,n){"use strict";n.d(A,{Z:function(){return b}});var F=n(54421),m=n(38272),_=n(57663),u=n(71577),c=n(67294),i=n(56159),h=n.n(i),s=n(49111),j=n(19650),z=n(2824),o=n(11849),v=n(85024),d=n.n(v),r=n(63097),e=n(85893),t=function(f){var S=(0,o.Z)({},f.annotation),I=(0,c.useState)(S.invisible),U=(0,z.Z)(I,2),$=U[0],H=U[1];(0,c.useEffect)(function(){H(f.annotation.invisible)},[f.annotation.invisible]);var X=(0,e.jsx)(m.ZP.Item,{className:"".concat(d().listItem," ").concat(f.active?d().listItemActive:""),unselectable:"on",onClick:function(){f.onClick(S)},children:(0,e.jsxs)(j.Z,{align:"center",size:5,children:[(0,e.jsx)("a",{className:d().eye,style:{backgroundImage:$?"url(./pics/hide.png)":"url(./pics/show.png)"},onClick:function(){H(!$),f.onAnnotationModify(S)}})," ",(0,e.jsx)("span",{className:d().annotationId,children:S.annotationId}),(0,e.jsx)("span",{className:d().labelName,children:S.label.name}),(0,e.jsx)(r.Z,{color:S.label.color})]})});return X},B=t,y=function(f){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(m.ZP,{className:h().labelList,size:"large",header:(0,e.jsx)("div",{className:h().listHeader,children:"Annotation List"}),bordered:!0,dataSource:f.annotations,renderItem:function(I){var U;return(0,e.jsx)(B,{onClick:f.onAnnotationSelect,annotation:I,active:I.annotationId==((U=f.selectedAnnotation)===null||U===void 0?void 0:U.annotationId),onAnnotationDelete:f.onAnnotationDelete,onAnnotationModify:f.onAnnotationModify})},footer:(0,e.jsx)("div",{children:(0,e.jsx)(u.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",onClick:function(){f.onAnnotationSelect(void 0)},block:!0,children:"Add Annotation"})})})})},b=y},31154:function(l,A,n){"use strict";n.d(A,{Z:function(){return z}});var F=n(11849),m=n(2824),_=n(91220),u=n(67294),c=n(65031),i=n(85893);function h(o,v,d,r){if(!(!o||!v||!d||!r))return{width:o,color:v,points:d,tool:r,element:(0,i.jsx)(c.x1,{stroke:v,strokeWidth:o,globalCompositeOperation:r==="brush"?"source-over":"destination-out",lineCap:"round",points:d,tension:.01})}}function s(o,v){return o=="rubber"||v==2?"rubber":"brush"}function j(o){var v=0,d=(0,_.Z)(o),r;try{for(d.s();!(r=d.n()).done;){var e=r.value;!e||e.annotationId>v&&(v=e.annotationId)}}catch(t){d.e(t)}finally{d.f()}return v}function z(o){var v=(0,u.useState)([]),d=(0,m.Z)(v,2),r=d[0],e=d[1],t=(0,u.useState)([]),B=(0,m.Z)(t,2),y=B[0],b=B[1],T=(0,u.useState)(),f=(0,m.Z)(T,2),S=f[0],I=f[1],U=function(g){var O,C=s(o.currentTool,g.evt.button),a=h(o.brushSize||10,(O=o.currentLabel)===null||O===void 0?void 0:O.color,[g.evt.offsetX,g.evt.offsetY,g.evt.offsetX,g.evt.offsetY],C);!a||(r.push(a),I(C),b([g.evt.offsetX,g.evt.offsetY,g.evt.offsetX,g.evt.offsetY]),e(r),o.currentAnnotation?o.onAnnotationModify((0,F.Z)((0,F.Z)({},o.currentAnnotation),{},{lines:r})):o.onAnnotationAdd({annotationId:j(o.annotations)+1,label:o.currentLabel,lines:r}))},$=function(g){if(!(!S||!o.currentAnnotation)){var O=y.concat([g.evt.offsetX,g.evt.offsetY]),C=h(o.brushSize||10,o.currentLabel.color,O,S);!C||(r.pop(),r.push(C),b(O),e(r),o.onAnnotationModify((0,F.Z)((0,F.Z)({},o.currentAnnotation),{},{lines:r})))}},H=function(){I(void 0),b([])};return{elements:r,onMouseDown:U,onMouseMove:$,onMouseUp:H}}},63097:function(l,A,n){"use strict";var F=n(20136),m=n(55241),_=n(2824),u=n(67294),c=n(52822),i=n.n(c),h=n(63144),s=n(85893),j=function(o){var v=(0,u.useState)(o.color||"#FFF"),d=(0,_.Z)(v,2),r=d[0],e=d[1];return(0,u.useEffect)(function(){e(o.color||"#FFF")},[o]),o.changeable?(0,s.jsx)(m.Z,{getPopupContainer:function(B){return B.parentElement||document.body},overlayClassName:i().popover,openClassName:i().popoverOpenClassName,placement:"bottom",content:(0,s.jsx)(h.xS,{disableAlpha:!0,color:r,onChange:function(B){e(B.hex)},onChangeComplete:o.onChange}),trigger:"click",children:(0,s.jsx)("div",{className:i().roundBall,style:{backgroundColor:r}})}):(0,s.jsx)("div",{className:i().roundBall,style:{backgroundColor:r}})};A.Z=j},5041:function(l,A,n){"use strict";n.d(A,{Z:function(){return O}});var F=n(54421),m=n(38272),_=n(57663),u=n(71577),c=n(2824),i=n(67294),h=n(56131),s=n.n(h),j=n(49111),z=n(19650),o=n(11849),v=n(5882),d=n.n(v),r=n(63097),e=n(85893),t=function(a){var P=(0,o.Z)({},a.label),D=(0,i.useState)(P.invisible),E=(0,c.Z)(D,2),W=E[0],M=E[1],L=(0,e.jsx)(m.ZP.Item,{className:"".concat(d().listItem," ").concat(a.active?d().listItemActive:""),unselectable:"on",onClick:function(){a.onClick(P)},children:(0,e.jsxs)(z.Z,{align:"center",size:5,children:[(0,e.jsx)("a",{className:d().eye,style:{backgroundImage:W?"url(./pics/hide.png)":"url(./pics/show.png)"},onClick:function(){M(!W),a.onLabelModify(P)}})," ",P.name,(0,e.jsx)(r.Z,{color:P.color,changeable:!0,onChange:function(p){P.color=p.hex,a.onLabelModify(P)}})]})});return L},B=t,y=n(71194),b=n(50146),T=n(47673),f=n(24044),S=n(9715),I=n(93766),U=["#FF0000","#008000","#0000FF","#FFFF00","#FFA500","#00FFFF","#8B00FF","#FFC0CB","#7CFC00","#007FFF","#800080","#36BF36","#DAA520","#800000","#008B8B","#B22222","#E6D933","#000080","#FF00FF","#FFFF99","#87CEEB","#5C50E6","#CD5C5C","#20B2AA","#E680FF","#4D1F00","#006374","#B399FF","#8B4513","#BA55D3","#C0C0C0","#808080","#000000"],$=function(a){var P,D,E=(0,i.useState)(((P=a.defaultLabel)===null||P===void 0?void 0:P.color)||U[a.order||0]),W=(0,c.Z)(E,2),M=W[0],L=W[1];(0,i.useEffect)(function(){var R;L(((R=a.defaultLabel)===null||R===void 0?void 0:R.color)||U[a.order||0])},[a]);var Y=I.Z.useForm(),p=(0,c.Z)(Y,1),N=p[0];return(0,e.jsx)(b.Z,{title:"Add Label",visible:a.visible,onCancel:a.onCancel,footer:null,children:(0,e.jsxs)(I.Z,{form:N,name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!1,labelname:(D=a.defaultLabel)===null||D===void 0?void 0:D.name},onFinish:function(K){var V={name:K.labelname,color:M};a.onLabelAdd(V),N.resetFields()},autoComplete:"off",children:[(0,e.jsx)(I.Z.Item,{label:"Label Name",name:"labelname",rules:[{required:!0,message:"Please input label name!"}],children:(0,e.jsx)(f.Z,{})}),(0,e.jsx)(I.Z.Item,{label:"Select Color",name:"color",children:(0,e.jsx)(r.Z,{color:M,onChange:function(K){L(K.hex)}})}),(0,e.jsx)(I.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,e.jsxs)(z.Z,{children:[(0,e.jsx)(u.Z,{onClick:function(){var K;(K=a.onCancel)===null||K===void 0||K.call(0),N.resetFields()},children:"\u53D6\u6D88"}),(0,e.jsx)(u.Z,{type:"primary",htmlType:"submit",children:"\u786E\u5B9A"})]})})]})})},H=$,X=[{color:"#FF0000",name:"Label 1"},{color:"#008000",name:"Label 2"}],g=function(a){var P=(0,i.useState)(X),D=(0,c.Z)(P,2),E=D[0],W=D[1],M=(0,i.useState)(!1),L=(0,c.Z)(M,2),Y=L[0],p=L[1];return(0,i.useEffect)(function(){a.selectedLabel||a.onLabelSelect(E[0])},[E,a]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(m.ZP,{className:s().labelList,size:"large",header:(0,e.jsx)("div",{className:s().listHeader,children:"Label List"}),footer:(0,e.jsx)("div",{children:(0,e.jsx)(u.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",onClick:function(){p(!0)},block:!0,children:"Add Label"})}),bordered:!0,dataSource:E,renderItem:function(R){var K;return(0,e.jsx)(B,{onClick:a.onLabelSelect,label:R,active:R.name==((K=a.selectedLabel)===null||K===void 0?void 0:K.name),onLabelDelete:a.onLabelDelete,onLabelModify:a.onLabelModify})}}),(0,e.jsx)(H,{order:E.length,visible:Y,onLabelAdd:function(R){E.push(R),W(E),p(!1)},onCancel:function(){p(!1)}})]})},O=g},8088:function(l,A,n){"use strict";var F=n(67294),m=n(78677),_=n.n(m),u=n(85893),c=function(h){return(0,u.jsx)("div",{className:"".concat(_().container," ").concat(h.className),children:h.children})};A.Z=c},57436:function(l,A,n){"use strict";var F=n(2824),m=n(67294),_=n(65031),u=n(84420),c=n.n(u),i=n(83930),h=n.n(i),s=n(85893),j="./pics/basketball.jpg",z=function(v){var d=c()(j),r=(0,F.Z)(d,1),e=r[0],t=(e==null?void 0:e.width)||0,B=(e==null?void 0:e.height)||0;return(0,s.jsxs)(_.Hf,{width:t,height:B,className:h().stage,children:[(0,s.jsx)(_.mh,{children:(0,s.jsx)(_.Ee,{image:e})}),(0,s.jsxs)(_.mh,{onMouseDown:function(b){v.onMouseDown&&v.onMouseDown(b)},onMouseMove:function(b){v.onMouseMove&&v.onMouseMove(b)},onMouseUp:function(b){v.onMouseUp&&v.onMouseUp(b)},onContextMenu:function(b){b.evt.preventDefault()},children:[(0,s.jsx)(_.Ee,{image:e}),v.annotations.map(function(y,b){var T;return(T=y.lines)===null||T===void 0?void 0:T.map(function(f,S){return f.element})})]})]})};A.Z=z},44434:function(l,A,n){"use strict";var F=n(67294),m=n(80961),_=n.n(m),u=n(85893),c=function(h){return(0,u.jsx)("div",{className:_().toolbar,children:h.children})};A.Z=c},61541:function(l,A,n){"use strict";var F=n(49111),m=n(19650),_=n(67294),u=n(82499),c=n.n(u),i=n(85893),h=function(j){return(0,i.jsx)("div",{unselectable:"on",className:"".concat(c().toolBarButtonContainerWrapper," ").concat(j.active&&c().toolBarButtonContainerWrapperActive),onClick:j.onClick,children:(0,i.jsx)(m.Z,{align:"center",className:c().toolBarButtonContainer,size:0,children:(0,i.jsxs)(m.Z,{align:"center",direction:"vertical",className:c().toolBarButton,size:0,children:[(0,i.jsx)("img",{src:j.imgSrc}),(0,i.jsx)("div",{className:c().buttonText,children:j.children})]})})})};A.Z=h},65935:function(l,A,n){"use strict";n.r(A),n.d(A,{default:function(){return g}});var F=n(57663),m=n(71577),_=n(2824),u=n(67294),c=n(54777),i=n.n(c),h=n(8088),s=n(61541),j=n(44434),z=n(20136),o=n(55241),v=n(77883),d=n(70507),r=n(57560),e=n.n(r),t=n(85893),B=1,y=50,b=10;function T(O){return O?O<=B?B:O>=y?y:O:b}var f=function(C){var a=(0,u.useState)(T(C.size)),P=(0,_.Z)(a,2),D=P[0],E=P[1];return(0,u.useEffect)(function(){E(T(C.size))},[C.size]),(0,t.jsxs)(o.Z,{overlayClassName:e().popover,placement:"right",content:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.Z,{type:"text",onClick:function(){var M,L=T(D-1);E(L),(M=C.onChange)===null||M===void 0||M.call(0,L)},children:"-"}),(0,t.jsx)(d.Z,{min:B,max:y,value:D,onChange:function(M){var L;(L=C.onChange)===null||L===void 0||L.call(0,M)},controls:!1,style:{textAlign:"center"}}),(0,t.jsx)(m.Z,{type:"text",onClick:function(){var M,L=T(D+1);E(L),(M=C.onChange)===null||M===void 0||M.call(0,L)},children:"+"})]}),trigger:C.active?"hover":"click",children:[" ",(0,t.jsx)(s.Z,{active:C.active,imgSrc:C.imgSrc||"./pics/buttons/brush.png",onClick:C.onClick,children:C.children||"Brush"})]})},S=f,I=n(5041),U=n(57436),$=n(14836),H=n(31154),X=function(){var C=(0,u.useState)(void 0),a=(0,_.Z)(C,2),P=a[0],D=a[1],E=(0,u.useState)({color:"",name:""}),W=(0,_.Z)(E,2),M=W[0],L=W[1],Y=(0,u.useState)(),p=(0,_.Z)(Y,2),N=p[0],R=p[1],K=(0,u.useState)([]),V=(0,_.Z)(K,2),Q=V[0],nn=V[1],on=(0,u.useState)(10),en=(0,_.Z)(on,2),G=en[0],tn=en[1],k=function(x){R(x),x!=null&&x.label&&L(x.label)},w=(0,H.Z)({currentLabel:M,brushSize:G,currentTool:P,annotations:Q,currentAnnotation:N,onAnnotationAdd:function(x){nn(Q.concat([x])),N||k(x)},onAnnotationModify:function(x){for(var q=[],J=0;J<Q.length;J++)Q[J].annotationId==x.annotationId?q.push(x):q.push(Q[J]);nn(q)}});return(0,t.jsxs)(h.Z,{className:i().segment,children:[(0,t.jsxs)(j.Z,{children:[(0,t.jsx)(s.Z,{imgSrc:"./pics/buttons/intelligent_interaction.png",children:"Intelligent Interaction"}),(0,t.jsx)(s.Z,{active:P=="polygon",imgSrc:"./pics/buttons/polygon.png",onClick:function(){D("polygon")},children:"Polygon"}),(0,t.jsx)(S,{size:G,active:P=="brush",onClick:function(){D("brush")},onChange:function(x){tn(x)},children:"Brush"}),(0,t.jsx)(S,{size:G,active:P=="rubber",onClick:function(){D("rubber")},onChange:function(x){tn(x)},imgSrc:"./pics/buttons/rubber.png",children:"Rubber"}),(0,t.jsx)(s.Z,{imgSrc:"./pics/buttons/zoom_in.png",children:"Zoom in"}),(0,t.jsx)(s.Z,{imgSrc:"./pics/buttons/zoom_out.png",children:"Zoom out"}),(0,t.jsx)(s.Z,{imgSrc:"./pics/buttons/save.png",children:"Save"}),(0,t.jsx)(s.Z,{imgSrc:"./pics/buttons/move.png",children:"Move"}),(0,t.jsx)(s.Z,{imgSrc:"./pics/buttons/export.png",children:"Export"}),(0,t.jsx)(s.Z,{imgSrc:"./pics/buttons/data_division.png",children:"Divide Data"}),(0,t.jsx)(s.Z,{imgSrc:"./pics/buttons/prev.png",children:"Undo"}),(0,t.jsx)(s.Z,{imgSrc:"./pics/buttons/next.png",children:"Redo"}),(0,t.jsx)(s.Z,{imgSrc:"./pics/buttons/clear_mark.png",children:"Clear Mark"})]}),(0,t.jsx)("div",{className:i().mainStage,children:(0,t.jsx)(U.Z,{annotations:Q,onMouseDown:w.onMouseDown,onMouseMove:w.onMouseMove,onMouseUp:w.onMouseUp})}),(0,t.jsxs)("div",{className:i().rightSideBar,children:[(0,t.jsx)("div",{className:i().determinOutline,children:(0,t.jsx)(m.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",block:!0,children:"Determine Outline"})}),(0,t.jsx)(I.Z,{selectedLabel:M,onLabelSelect:function(x){L(x),k(void 0)},onLabelModify:function(){},onLabelDelete:function(){},onLabelAdd:function(){}}),(0,t.jsx)($.Z,{selectedAnnotation:N,annotations:Q,onAnnotationSelect:function(x){k(x)},onAnnotationAdd:function(){},onAnnotationModify:function(){},onAnnotationDelete:function(){}})]})]})},g=X}}]);
