(self.webpackChunkpp_label_frontend=self.webpackChunkpp_label_frontend||[]).push([[937],{85024:function(o){o.exports={listItem:"listItem___u4Q82",eye:"eye___BwaRm",delete:"delete___31JB_",roundBall:"roundBall___23A7l",popover:"popover___1BNET",annotationId:"annotationId___zAzX4",labelName:"labelName___2ohxn",listItemActive:"listItemActive___2QnA3"}},56159:function(o){o.exports={labelList:"labelList___v7C6K",listHeader:"listHeader___1aY8R",eye:"eye___2MKbp",roundBall:"roundBall___187XH"}},52822:function(o){o.exports={roundBall:"roundBall___1pqu1",popover:"popover___1-PR6"}},5882:function(o){o.exports={listItem:"listItem___vtDXn",eye:"eye___AsLBS",roundBall:"roundBall___1J_R3",popover:"popover___1x-2R",delete:"delete___WHPf2",listItemActive:"listItemActive___3FRb7"}},56131:function(o){o.exports={labelList:"labelList___jvD05",listHeader:"listHeader___UM5UF",eye:"eye___II3Po",roundBall:"roundBall___j752J"}},78677:function(o){o.exports={container:"container___G0FNe"}},83930:function(o){o.exports={stage:"stage___3H5QL"}},80961:function(o){o.exports={leftToolbar:"leftToolbar___1xi4t",rightToolbar:"rightToolbar___3dNSB"}},82499:function(o){o.exports={toolBarButtonContainerWrapper:"toolBarButtonContainerWrapper___1SHWL",toolBarButtonContainer:"toolBarButtonContainer___1jKUz",toolBarButton:"toolBarButton___3Ouq1",buttonText:"buttonText___10ls7",toolBarButtonContainerWrapperActive:"toolBarButtonContainerWrapperActive___3AA28"}},14836:function(o,M,e){"use strict";e.d(M,{Z:function(){return $}});var y=e(54421),d=e(38272),C=e(57663),c=e(71577),s=e(67294),i=e(56159),P=e.n(i),E=e(49111),L=e(19650),T=e(2824),x=e(11849),N=e(85024),t=e.n(N),b=e(63097),n=e(85893),g=function(m){var u=(0,x.Z)({},m.annotation),h=(0,s.useState)(u.invisible),I=(0,T.Z)(h,2),A=I[0],B=I[1],J=(0,s.useState)(0),Z=(0,T.Z)(J,2),W=Z[0],a=Z[1];(0,s.useEffect)(function(){B(m.annotation.invisible)},[m.annotation.invisible]);var r=(0,n.jsxs)(d.ZP.Item,{className:"".concat(t().listItem," ").concat(m.active?t().listItemActive:""),unselectable:"on",onClick:function(){m.onClick(u)},children:[(0,n.jsxs)(L.Z,{align:"center",size:5,children:[(0,n.jsx)("a",{className:t().eye,style:{backgroundImage:A?"url(./pics/hide.png)":"url(./pics/show.png)"},onClick:function(v){v.stopPropagation(),B(!A),m.onAnnotationModify(u)}})," ",(0,n.jsx)("span",{className:t().annotationId,children:u.frontendId}),(0,n.jsx)("span",{className:t().labelName,children:u.label.name}),(0,n.jsx)(b.Z,{color:u.label.color})]}),(0,n.jsx)("a",{className:t().delete,onClick:function(v){v.stopPropagation();var l=new Date().getTime();l-W<300||(a(l),m.onAnnotationDelete(u))}})]});return r},D=g,H=e(48971),S=function(m){var u=(0,H.YB)().formatMessage({id:"component.PPAnnotationList.annotationList"}),h=(0,H.YB)().formatMessage({id:"component.PPAnnotationList.addAnnotation"});return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(d.ZP,{className:P().labelList,size:"large",header:(0,n.jsx)("div",{className:P().listHeader,children:u}),bordered:!0,dataSource:m.annotations,renderItem:function(A){var B;return(0,n.jsx)(D,{onClick:m.onAnnotationSelect,annotation:A,active:A.frontendId==((B=m.currAnnotation)===null||B===void 0?void 0:B.frontendId),onAnnotationDelete:m.onAnnotationDelete,onAnnotationModify:m.onAnnotationModify})},footer:(0,n.jsx)("div",{children:(0,n.jsx)(c.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",onClick:function(){m.onAnnotationAdd()},block:!0,children:h})})})})},$=S},63097:function(o,M,e){"use strict";var y=e(20136),d=e(55241),C=e(2824),c=e(67294),s=e(52822),i=e.n(s),P=e(63144),E=e(85893),L=function(x){var N=(0,c.useState)(x.color||"#FFF"),t=(0,C.Z)(N,2),b=t[0],n=t[1];return(0,c.useEffect)(function(){n(x.color||"#FFF")},[x]),x.changeable?(0,E.jsx)(d.Z,{getPopupContainer:function(D){return D.parentElement||document.body},overlayClassName:i().popover,openClassName:i().popoverOpenClassName,placement:"bottom",content:(0,E.jsx)(P.xS,{disableAlpha:!0,color:b,onChange:function(D){n(D.hex)},onChangeComplete:x.onChange}),trigger:"click",children:(0,E.jsx)("div",{className:i().roundBall,style:{backgroundColor:b}})}):(0,E.jsx)("div",{className:i().roundBall,style:{backgroundColor:b}})};M.Z=L},5041:function(o,M,e){"use strict";e.d(M,{Z:function(){return Z}});var y=e(54421),d=e(38272),C=e(57663),c=e(71577),s=e(2824),i=e(67294),P=e(56131),E=e.n(P),L=e(49111),T=e(19650),x=e(11849),N=e(5882),t=e.n(N),b=e(63097),n=e(85893),g=function(a){var r=(0,x.Z)({},a.label),f=(0,i.useState)(r.invisible),v=(0,s.Z)(f,2),l=v[0],_=v[1],Q=(0,i.useState)(0),j=(0,s.Z)(Q,2),R=j[0],F=j[1],O=a.hideEye?" ":(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("a",{className:t().eye,style:{backgroundImage:l?"url(./pics/hide.png)":"url(./pics/show.png)"},onClick:function(U){U.stopPropagation(),_(!l),a.onLabelModify(r)}})," "]}),k=a.hideColorPicker?(0,n.jsx)(n.Fragment,{}):(0,n.jsx)(b.Z,{color:r.color,changeable:!0,onChange:function(U){r.color=U.hex,a.onLabelModify(r)}}),G=(0,n.jsxs)(d.ZP.Item,{className:"".concat(t().listItem," ").concat(a.active?t().listItemActive:""),unselectable:"on",onClick:function(){a.onClick(r)},children:[(0,n.jsxs)(T.Z,{align:"center",size:5,children:[O,r.name,k]}),(0,n.jsx)("a",{className:t().delete,onClick:function(U){U.stopPropagation();var z=new Date().getTime();z-R<300||(F(z),a.onLabelDelete(r))}})]});return G},D=g,H=e(71194),S=e(50146),$=e(47673),X=e(24044),m=e(9715),u=e(93766),h=e(48971),I=["#FF0000","#008000","#0000FF","#FFFF00","#FFA500","#00FFFF","#8B00FF","#FFC0CB","#7CFC00","#007FFF","#800080","#36BF36","#DAA520","#800000","#008B8B","#B22222","#E6D933","#000080","#FF00FF","#FFFF99","#87CEEB","#5C50E6","#CD5C5C","#20B2AA","#E680FF","#4D1F00","#006374","#B399FF","#8B4513","#BA55D3","#C0C0C0","#808080","#000000"],A=function(a){var r,f,v=(0,h.YB)().formatMessage({id:"component.PPAddLabelModal.selectColor"}),l=(0,h.YB)().formatMessage({id:"component.PPAddLabelModal.addLabel"}),_=(0,h.YB)().formatMessage({id:"component.PPAddLabelModal.labelName"}),Q=(0,h.YB)().formatMessage({id:"component.PPCreater.cancel"}),j=(0,h.YB)().formatMessage({id:"component.PPSegMode.ok"}),R=(0,i.useState)(((r=a.defaultLabel)===null||r===void 0?void 0:r.color)||I[a.order||0]),F=(0,s.Z)(R,2),O=F[0],k=F[1];(0,i.useEffect)(function(){var Y;k(((Y=a.defaultLabel)===null||Y===void 0?void 0:Y.color)||I[a.order||0])},[a]);var G=a.hideColorPicker?(0,n.jsx)(n.Fragment,{}):(0,n.jsx)(u.Z.Item,{label:v,name:"color",children:(0,n.jsx)(b.Z,{color:O,onChange:function(K){k(K.hex)}})}),V=u.Z.useForm(),U=(0,s.Z)(V,1),z=U[0];return(0,n.jsx)(S.Z,{title:l,visible:a.visible,onCancel:a.onCancel,footer:null,children:(0,n.jsxs)(u.Z,{form:z,name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!1,labelname:(f=a.defaultLabel)===null||f===void 0?void 0:f.name},onFinish:function(K){var p={name:K.labelname,color:O};a.onLabelAdd(p),z.resetFields()},autoComplete:"off",children:[(0,n.jsx)(u.Z.Item,{label:_,name:"labelname",rules:[{required:!0,message:"Please input label name!"}],children:(0,n.jsx)(X.Z,{})}),G,(0,n.jsx)(u.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,n.jsxs)(T.Z,{children:[(0,n.jsx)(c.Z,{onClick:function(){var K;(K=a.onCancel)===null||K===void 0||K.call(0),z.resetFields()},children:Q}),(0,n.jsx)(c.Z,{type:"primary",htmlType:"submit",children:j})]})})]})})},B=A,J=function(a){var r,f=(0,h.YB)().formatMessage({id:"component.PPLabelList.addLabel"}),v=(0,h.YB)().formatMessage({id:"component.PPLabelList.labelList"}),l=(0,i.useState)(!1),_=(0,s.Z)(l,2),Q=_[0],j=_[1];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.ZP,{className:E().labelList,size:"large",header:(0,n.jsx)("div",{className:E().listHeader,children:v}),footer:(0,n.jsx)("div",{children:(0,n.jsx)(c.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",onClick:function(){j(!0)},block:!0,children:f})}),bordered:!0,dataSource:a.labels,renderItem:function(F){var O;return(0,n.jsx)(D,{hideColorPicker:a.hideColorPicker,hideEye:a.hideEye,onClick:a.onLabelSelect,label:F,active:(O=a.activeIds)===null||O===void 0?void 0:O.has(F.labelId),onLabelDelete:a.onLabelDelete,onLabelModify:a.onLabelModify})}}),(0,n.jsx)(B,{hideColorPicker:a.hideColorPicker,order:(r=a.labels)===null||r===void 0?void 0:r.length,visible:Q,onLabelAdd:function(F){a.onLabelAdd(F),j(!1)},onCancel:function(){j(!1)}})]})},Z=J},8088:function(o,M,e){"use strict";var y=e(67294),d=e(78677),C=e.n(d),c=e(85893),s=function(P){return(0,c.jsx)("div",{className:"".concat(C().container," ").concat(P.className),children:P.children})};M.Z=s},57436:function(o,M,e){"use strict";var y=e(91220),d=e(2824),C=e(67294),c=e(65031),s=e(84420),i=e.n(s),P=e(83930),E=e.n(P),L=e(85893),T="./pics/basketball.jpg",x=function(t){var b=i()(t.imgSrc||""),n=(0,d.Z)(b,1),g=n[0],D=(0,C.useState)(0),H=(0,d.Z)(D,2),S=H[0],$=H[1],X=(0,C.useState)(0),m=(0,d.Z)(X,2),u=m[0],h=m[1],I=(0,C.useState)({x:0,y:0}),A=(0,d.Z)(I,2),B=A[0],J=A[1];function Z(){var l=document.getElementById("dr");l&&($(l.clientWidth),h(l.clientHeight))}(0,C.useEffect)(function(){window.removeEventListener("resize",Z),window.addEventListener("resize",Z);var l=document.getElementById("dr");l&&($(l.clientWidth),h(l.clientHeight))},[]);var W=[];if(t.annotations){var a=(0,y.Z)(t.annotations),r;try{for(a.s();!(r=a.n()).done;){var f=r.value;if(!!f){console.log("PPStage rendering annotation:",f,"annotation.tool:",f.tool);var v=void 0;switch(f.type){case"polygon":v=t.createPolygonFunc;break;case"brush":v=t.createBrushFunc;break;case"rubber":v=t.createBrushFunc;break;case"rectangle":v=t.createRectangleFunc;break;default:v=null}v&&W.push(v(f,t.onAnnotationModify,t.onAnnotationModifyComplete,t.scale,t.currentTool,t.setCurrentAnnotation,t.currentAnnotation))}}}catch(l){a.e(l)}finally{a.f()}}return(0,L.jsx)(c.Hf,{width:S,height:u,offsetX:-S/2,offsetY:-u/2,className:E().stage,children:(0,L.jsx)(c.mh,{onMouseDown:function(_){t.onMouseDown&&t.onMouseDown(_,-S/2-B.x,-u/2-B.y,t.scale)},onMouseMove:function(_){t.onMouseMove&&t.onMouseMove(_,t.scale)},onMouseUp:function(_){t.onMouseUp&&t.onMouseUp(_,t.scale)},onContextMenu:function(_){_.evt.preventDefault()},draggable:!1,children:(0,L.jsxs)(c.ZA,{draggable:t.currentTool=="mover",scaleX:t.scale,scaleY:t.scale,onDragEnd:function(_){t.currentTool=="mover"&&J({x:_.target.x(),y:_.target.y()})},children:[(0,L.jsx)(c.Ee,{draggable:!1,image:g,x:-((g==null?void 0:g.width)||0)/2,y:-((g==null?void 0:g.height)||0)/2}),W]})})})};M.Z=x},44434:function(o,M,e){"use strict";var y=e(67294),d=e(80961),C=e.n(d),c=e(85893),s=function(P){var E=C().leftToolbar;return P.disLoc=="right"&&(E=C().rightToolbar),(0,c.jsx)("div",{className:E,children:P.children})};M.Z=s},61541:function(o,M,e){"use strict";var y=e(49111),d=e(19650),C=e(67294),c=e(82499),s=e.n(c),i=e(85893),P=function(L){return(0,i.jsx)("div",{unselectable:"on",className:"".concat(s().toolBarButtonContainerWrapper," ").concat(L.active&&s().toolBarButtonContainerWrapperActive),onClick:L.onClick,children:(0,i.jsx)(d.Z,{align:"center",className:s().toolBarButtonContainer,size:0,children:(0,i.jsxs)(d.Z,{align:"center",direction:"vertical",className:s().toolBarButton,size:0,children:[(0,i.jsx)("img",{src:L.imgSrc}),(0,i.jsx)("div",{className:s().buttonText,children:L.children})]})})})};M.Z=P}}]);
