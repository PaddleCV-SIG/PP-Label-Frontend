(self.webpackChunkpp_labeling_frontend=self.webpackChunkpp_labeling_frontend||[]).push([[845],{52822:function(_){_.exports={roundBall:"roundBall___1pqu1",popover:"popover___1-PR6"}},5882:function(_){_.exports={listItem:"listItem___vtDXn",eye:"eye___AsLBS",roundBall:"roundBall___1J_R3",popover:"popover___1x-2R",listItemActive:"listItemActive___3FRb7"}},56131:function(_){_.exports={labelList:"labelList___jvD05",listHeader:"listHeader___UM5UF",eye:"eye___II3Po",roundBall:"roundBall___j752J"}},78677:function(_){_.exports={container:"container___G0FNe"}},83930:function(_){_.exports={stage:"stage___3H5QL"}},80961:function(_){_.exports={toolbar:"toolbar___3vxli"}},82499:function(_){_.exports={toolBarButtonContainerWrapper:"toolBarButtonContainerWrapper___1SHWL",toolBarButtonContainer:"toolBarButtonContainer___1jKUz",toolBarButton:"toolBarButton___3Ouq1",buttonText:"buttonText___10ls7",toolBarButtonContainerWrapperActive:"toolBarButtonContainerWrapperActive___3AA28"}},8881:function(_){_.exports={classes:"classes___GWIJ0",mainStage:"mainStage___3H7Up",rightSideBar:"rightSideBar___2sEdt",determinOutline:"determinOutline___3GjrR"}},31154:function(_,E,e){"use strict";e.d(E,{Z:function(){return A}});var M=e(11849),d=e(2824),v=e(91220),i=e(67294),r=e(65031),o=e(85893);function P(n,s,u,a){if(!(!n||!s||!u||!a))return{width:n,color:s,points:u,tool:a,element:(0,o.jsx)(r.x1,{stroke:s,strokeWidth:n,globalCompositeOperation:a==="brush"?"source-over":"destination-out",lineCap:"round",points:u,tension:.01})}}function c(n,s){return n=="rubber"||s==2?"rubber":"brush"}function L(n){var s=0,u=(0,v.Z)(n),a;try{for(u.s();!(a=u.n()).done;){var t=a.value;!t||t.annotationId>s&&(s=t.annotationId)}}catch(D){u.e(D)}finally{u.f()}return s}function A(n){var s=(0,i.useState)([]),u=(0,d.Z)(s,2),a=u[0],t=u[1],D=(0,i.useState)([]),O=(0,d.Z)(D,2),C=O[0],m=O[1],g=(0,i.useState)(),R=(0,d.Z)(g,2),p=R[0],I=R[1],N=function(f){var j,F=c(n.currentTool,f.evt.button),l=P(n.brushSize||10,(j=n.currentLabel)===null||j===void 0?void 0:j.color,[f.evt.offsetX,f.evt.offsetY,f.evt.offsetX,f.evt.offsetY],F);!l||(a.push(l),I(F),m([f.evt.offsetX,f.evt.offsetY,f.evt.offsetX,f.evt.offsetY]),t(a),n.currentAnnotation?n.onAnnotationModify((0,M.Z)((0,M.Z)({},n.currentAnnotation),{},{lines:a})):n.onAnnotationAdd({annotationId:L(n.annotations)+1,label:n.currentLabel,lines:a}))},H=function(f){if(!(!p||!n.currentAnnotation)){var j=C.concat([f.evt.offsetX,f.evt.offsetY]),F=P(n.brushSize||10,n.currentLabel.color,j,p);!F||(a.pop(),a.push(F),m(j),t(a),n.onAnnotationModify((0,M.Z)((0,M.Z)({},n.currentAnnotation),{},{lines:a})))}},$=function(){I(void 0),m([])};return{elements:a,onMouseDown:N,onMouseMove:H,onMouseUp:$}}},63097:function(_,E,e){"use strict";var M=e(20136),d=e(55241),v=e(2824),i=e(67294),r=e(52822),o=e.n(r),P=e(63144),c=e(85893),L=function(n){var s=(0,i.useState)(n.color||"#FFF"),u=(0,v.Z)(s,2),a=u[0],t=u[1];return(0,i.useEffect)(function(){t(n.color||"#FFF")},[n]),n.changeable?(0,c.jsx)(d.Z,{getPopupContainer:function(O){return O.parentElement||document.body},overlayClassName:o().popover,openClassName:o().popoverOpenClassName,placement:"bottom",content:(0,c.jsx)(P.xS,{disableAlpha:!0,color:a,onChange:function(O){t(O.hex)},onChangeComplete:n.onChange}),trigger:"click",children:(0,c.jsx)("div",{className:o().roundBall,style:{backgroundColor:a}})}):(0,c.jsx)("div",{className:o().roundBall,style:{backgroundColor:a}})};E.Z=L},5041:function(_,E,e){"use strict";e.d(E,{Z:function(){return j}});var M=e(54421),d=e(38272),v=e(57663),i=e(71577),r=e(2824),o=e(67294),P=e(56131),c=e.n(P),L=e(49111),A=e(19650),n=e(11849),s=e(5882),u=e.n(s),a=e(63097),t=e(85893),D=function(l){var b=(0,n.Z)({},l.label),T=(0,o.useState)(b.invisible),B=(0,r.Z)(T,2),U=B[0],K=B[1],S=(0,t.jsx)(d.ZP.Item,{className:"".concat(u().listItem," ").concat(l.active?u().listItemActive:""),unselectable:"on",onClick:function(){l.onClick(b)},children:(0,t.jsxs)(A.Z,{align:"center",size:5,children:[(0,t.jsx)("a",{className:u().eye,style:{backgroundImage:U?"url(./pics/hide.png)":"url(./pics/show.png)"},onClick:function(){K(!U),l.onLabelModify(b)}})," ",b.name,(0,t.jsx)(a.Z,{color:b.color,changeable:!0,onChange:function(Z){b.color=Z.hex,l.onLabelModify(b)}})]})});return S},O=D,C=e(71194),m=e(50146),g=e(47673),R=e(24044),p=e(9715),I=e(93766),N=["#FF0000","#008000","#0000FF","#FFFF00","#FFA500","#00FFFF","#8B00FF","#FFC0CB","#7CFC00","#007FFF","#800080","#36BF36","#DAA520","#800000","#008B8B","#B22222","#E6D933","#000080","#FF00FF","#FFFF99","#87CEEB","#5C50E6","#CD5C5C","#20B2AA","#E680FF","#4D1F00","#006374","#B399FF","#8B4513","#BA55D3","#C0C0C0","#808080","#000000"],H=function(l){var b,T,B=(0,o.useState)(((b=l.defaultLabel)===null||b===void 0?void 0:b.color)||N[l.order||0]),U=(0,r.Z)(B,2),K=U[0],S=U[1];(0,o.useEffect)(function(){var h;S(((h=l.defaultLabel)===null||h===void 0?void 0:h.color)||N[l.order||0])},[l]);var y=I.Z.useForm(),Z=(0,r.Z)(y,1),W=Z[0];return(0,t.jsx)(m.Z,{title:"Add Label",visible:l.visible,onCancel:l.onCancel,footer:null,children:(0,t.jsxs)(I.Z,{form:W,name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!1,labelname:(T=l.defaultLabel)===null||T===void 0?void 0:T.name},onFinish:function(x){var X={name:x.labelname,color:K};l.onLabelAdd(X),W.resetFields()},autoComplete:"off",children:[(0,t.jsx)(I.Z.Item,{label:"Label Name",name:"labelname",rules:[{required:!0,message:"Please input label name!"}],children:(0,t.jsx)(R.Z,{})}),(0,t.jsx)(I.Z.Item,{label:"Select Color",name:"color",children:(0,t.jsx)(a.Z,{color:K,onChange:function(x){S(x.hex)}})}),(0,t.jsx)(I.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,t.jsxs)(A.Z,{children:[(0,t.jsx)(i.Z,{onClick:function(){var x;(x=l.onCancel)===null||x===void 0||x.call(0),W.resetFields()},children:"\u53D6\u6D88"}),(0,t.jsx)(i.Z,{type:"primary",htmlType:"submit",children:"\u786E\u5B9A"})]})})]})})},$=H,z=[{color:"#FF0000",name:"Label 1"},{color:"#008000",name:"Label 2"}],f=function(l){var b=(0,o.useState)(z),T=(0,r.Z)(b,2),B=T[0],U=T[1],K=(0,o.useState)(!1),S=(0,r.Z)(K,2),y=S[0],Z=S[1];return(0,o.useEffect)(function(){l.selectedLabel||l.onLabelSelect(B[0])},[B,l]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.ZP,{className:c().labelList,size:"large",header:(0,t.jsx)("div",{className:c().listHeader,children:"Label List"}),footer:(0,t.jsx)("div",{children:(0,t.jsx)(i.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",onClick:function(){Z(!0)},block:!0,children:"Add Label"})}),bordered:!0,dataSource:B,renderItem:function(h){var x;return(0,t.jsx)(O,{onClick:l.onLabelSelect,label:h,active:h.name==((x=l.selectedLabel)===null||x===void 0?void 0:x.name),onLabelDelete:l.onLabelDelete,onLabelModify:l.onLabelModify})}}),(0,t.jsx)($,{order:B.length,visible:y,onLabelAdd:function(h){B.push(h),U(B),Z(!1)},onCancel:function(){Z(!1)}})]})},j=f},8088:function(_,E,e){"use strict";var M=e(67294),d=e(78677),v=e.n(d),i=e(85893),r=function(P){return(0,i.jsx)("div",{className:"".concat(v().container," ").concat(P.className),children:P.children})};E.Z=r},57436:function(_,E,e){"use strict";var M=e(2824),d=e(67294),v=e(65031),i=e(84420),r=e.n(i),o=e(83930),P=e.n(o),c=e(85893),L="./pics/basketball.jpg",A=function(s){var u=r()(L),a=(0,M.Z)(u,1),t=a[0],D=(t==null?void 0:t.width)||0,O=(t==null?void 0:t.height)||0;return(0,c.jsxs)(v.Hf,{width:D,height:O,className:P().stage,children:[(0,c.jsx)(v.mh,{children:(0,c.jsx)(v.Ee,{image:t})}),(0,c.jsxs)(v.mh,{onMouseDown:function(m){s.onMouseDown&&s.onMouseDown(m)},onMouseMove:function(m){s.onMouseMove&&s.onMouseMove(m)},onMouseUp:function(m){s.onMouseUp&&s.onMouseUp(m)},onContextMenu:function(m){m.evt.preventDefault()},children:[(0,c.jsx)(v.Ee,{image:t}),s.annotations.map(function(C,m){var g;return(g=C.lines)===null||g===void 0?void 0:g.map(function(R,p){return R.element})})]})]})};E.Z=A},44434:function(_,E,e){"use strict";var M=e(67294),d=e(80961),v=e.n(d),i=e(85893),r=function(P){return(0,i.jsx)("div",{className:v().toolbar,children:P.children})};E.Z=r},61541:function(_,E,e){"use strict";var M=e(49111),d=e(19650),v=e(67294),i=e(82499),r=e.n(i),o=e(85893),P=function(L){return(0,o.jsx)("div",{unselectable:"on",className:"".concat(r().toolBarButtonContainerWrapper," ").concat(L.active&&r().toolBarButtonContainerWrapperActive),onClick:L.onClick,children:(0,o.jsx)(d.Z,{align:"center",className:r().toolBarButtonContainer,size:0,children:(0,o.jsxs)(d.Z,{align:"center",direction:"vertical",className:r().toolBarButton,size:0,children:[(0,o.jsx)("img",{src:L.imgSrc}),(0,o.jsx)("div",{className:r().buttonText,children:L.children})]})})})};E.Z=P},27682:function(_,E,e){"use strict";e.r(E);var M=e(2824),d=e(67294),v=e(8881),i=e.n(v),r=e(8088),o=e(61541),P=e(44434),c=e(5041),L=e(57436),A=e(31154),n=e(85893),s=function(){var a=(0,d.useState)(),t=(0,M.Z)(a,2),D=t[0],O=t[1],C=(0,A.Z)({currentLabel:D});return(0,n.jsxs)(r.Z,{className:i().classes,children:[(0,n.jsxs)(P.Z,{children:[(0,n.jsx)(o.Z,{imgSrc:"./pics/buttons/zoom_in.png",children:"Zoom in"}),(0,n.jsx)(o.Z,{imgSrc:"./pics/buttons/zoom_out.png",children:"Zoom out"}),(0,n.jsx)(o.Z,{imgSrc:"./pics/buttons/save.png",children:"Save"}),(0,n.jsx)(o.Z,{imgSrc:"./pics/buttons/move.png",children:"Move"}),(0,n.jsx)(o.Z,{imgSrc:"./pics/buttons/export.png",children:"Export"}),(0,n.jsx)(o.Z,{imgSrc:"./pics/buttons/data_division.png",children:"Divide Data"}),(0,n.jsx)(o.Z,{imgSrc:"./pics/buttons/prev.png",children:"Undo"}),(0,n.jsx)(o.Z,{imgSrc:"./pics/buttons/next.png",children:"Redo"}),(0,n.jsx)(o.Z,{imgSrc:"./pics/buttons/clear_mark.png",children:"Clear Mark"})]}),(0,n.jsx)("div",{className:i().mainStage,children:(0,n.jsx)(L.Z,{elements:C.elements,onMouseDown:C.onMouseDown,onMouseMove:C.onMouseMove,onMouseUp:C.onMouseUp})}),(0,n.jsx)("div",{className:i().rightSideBar,children:(0,n.jsx)(c.Z,{selectedLabel:D,onLabelSelect:function(g){O(g)},onLabelModify:function(){},onLabelDelete:function(){},onLabelAdd:function(){}})})]})};E.default=s}}]);
