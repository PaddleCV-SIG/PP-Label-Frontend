(self.webpackChunkpp_label_frontend=self.webpackChunkpp_label_frontend||[]).push([[672],{41435:function(x,d,e){"use strict";e.d(d,{Z:function(){return v}});var m=e(94663),p=e(80112);function O(o){return Function.toString.call(o).indexOf("[native code]")!==-1}var P=e(18597);function s(o,r,_){return(0,P.Z)()?s=Reflect.construct:s=function(l,u,E){var g=[null];g.push.apply(g,u);var j=Function.bind.apply(l,g),h=new j;return E&&(0,p.Z)(h,E.prototype),h},s.apply(null,arguments)}function v(o){var r=typeof Map=="function"?new Map:void 0;return v=function(a){if(a===null||!O(a))return a;if(typeof a!="function")throw new TypeError("Super expression must either be null or a function");if(typeof r!="undefined"){if(r.has(a))return r.get(a);r.set(a,l)}function l(){return s(a,arguments,(0,m.Z)(this).constructor)}return l.prototype=Object.create(a.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),(0,p.Z)(l,a)},v(o)}},73199:function(){},10137:function(x,d,e){"use strict";var m=e(34669),p=e(54458),O=e(67294),P=e(85893),s=function(o){var r,_;return(0,P.jsxs)("div",{className:"progress",children:[(0,P.jsx)(p.Z,{className:"progressBar",percent:Math.ceil(o.project.finished/((r=o.task.all)===null||r===void 0?void 0:r.length)*100),status:"active",showInfo:!1})," ",(0,P.jsxs)("span",{className:"progressDesc",children:["Current labeling ",o.task.currIdx==null?1:o.task.currIdx+1," of"," ",(_=o.task.all)===null||_===void 0?void 0:_.length,". Already labeled ",o.project.finished||0,"."]})]})};d.Z=s},29214:function(x,d,e){"use strict";e.r(d);var m=e(11849),p=e(20228),O=e(11382),P=e(34792),s=e(48086),v=e(91220),o=e(67294),r=e(48971),_=e(73199),a=e.n(_),l=e(8088),u=e(61541),E=e(44434),g=e(5041),j=e(57436),h=e(10137),W=e(98731),t=e(85893),K=function(){var i=(0,W.$L)(o.useState,o.useEffect,{label:{oneHot:!1,postSelect:z},tool:{defaultTool:"mover"},effectTrigger:{postTaskChange:$,postProjectChanged:F}}),b=i.tool,T=i.loading,B=i.scale,D=i.annotation,I=i.task,y=i.data,L=i.project,c=i.label,M=(0,r.YB)(),U=M.formatMessage({id:"pages.toolBar.zoomIn"}),Z=M.formatMessage({id:"pages.toolBar.zoomOut"}),S=M.formatMessage({id:"pages.toolBar.move"}),k=M.formatMessage({id:"pages.toolBar.save"}),N=M.formatMessage({id:"pages.toolBar.autoSave"});function F(){var n;((n=L.curr)===null||n===void 0?void 0:n.labelFormat)=="single_class"&&c.setOneHot(!0)}function z(n,f){if(console.log("selectLabel",n),f.has(n.labelId))c.isOneHot&&D.clear(),D.create({taskId:I.curr.taskId,labelId:n.labelId,dataId:y.curr.dataId});else{var H=D.all.filter(function(A){return A.labelId==n.labelId}),C=(0,v.Z)(H),R;try{for(C.s();!(R=C.n()).done;){var Y=R.value;D.remove(Y.annotationId)}}catch(A){C.e(A)}finally{C.f()}}}function $(n,f){T.setCurr(!0),!(!n||!f)&&(c.initActive(f),T.setCurr(!1))}return(0,t.jsxs)(l.Z,{className:a().classes,children:[(0,t.jsxs)(E.Z,{children:[(0,t.jsx)(u.Z,{imgSrc:"./pics/buttons/zoom_in.png",onClick:function(){B.change(.1)},children:U}),(0,t.jsx)(u.Z,{imgSrc:"./pics/buttons/zoom_out.png",onClick:function(){B.change(-.1)},children:Z}),(0,t.jsx)(u.Z,{imgSrc:"./pics/buttons/save.png",onClick:function(){s.default.success(N)},children:k}),(0,t.jsx)(u.Z,{imgSrc:"./pics/buttons/move.png",active:b.curr=="mover",onClick:function(){b.setCurr("mover")},children:S})]}),(0,t.jsx)("div",{id:"dr",className:"mainStage",children:(0,t.jsxs)(O.Z,{tip:"loading",spinning:T.curr,children:[(0,t.jsx)("div",{className:"draw",children:(0,t.jsx)(j.Z,{scale:B.curr,currentTool:b.curr,setCurrentAnnotation:function(){},onAnnotationModify:function(){},onAnnotationModifyComplete:function(){},imgSrc:y.imgSrc})}),(0,t.jsx)("div",{className:"pblock",children:(0,t.jsx)(h.Z,{task:I,project:L})}),(0,t.jsx)("div",{className:"prevTask",onClick:I.prevTask}),(0,t.jsx)("div",{className:"nextTask",onClick:I.nextTask})]})}),(0,t.jsx)(E.Z,{disLoc:"right",children:(0,t.jsx)(u.Z,{imgSrc:"./pics/buttons/data_division.png",onClick:function(){r.m8.push("/project_overview?projectId=".concat(L.curr.projectId))},children:"Project Overview"})}),(0,t.jsx)("div",{className:"rightSideBar",children:(0,t.jsx)(g.Z,{labels:c.all,activeIds:c.activeIds,onLabelSelect:c.onSelect,onLabelAdd:function(f){return c.create((0,m.Z)((0,m.Z)({},f),{},{projectId:L.curr.projectId}))},onLabelDelete:c.remove,onLabelModify:function(){},hideColorPicker:!0,hideEye:!0})})]})};d.default=K}}]);
