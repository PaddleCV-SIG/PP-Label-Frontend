(self.webpackChunkpp_labeling_frontend=self.webpackChunkpp_labeling_frontend||[]).push([[216],{85024:function(i){i.exports={listItem:"listItem___u4Q82",eye:"eye___BwaRm",delete:"delete___31JB_",roundBall:"roundBall___23A7l",popover:"popover___1BNET",annotationId:"annotationId___zAzX4",labelName:"labelName___2ohxn",listItemActive:"listItemActive___2QnA3"}},56159:function(i){i.exports={labelList:"labelList___v7C6K",listHeader:"listHeader___1aY8R",eye:"eye___2MKbp",roundBall:"roundBall___187XH"}},52822:function(i){i.exports={roundBall:"roundBall___1pqu1",popover:"popover___1-PR6"}},5882:function(i){i.exports={listItem:"listItem___vtDXn",eye:"eye___AsLBS",roundBall:"roundBall___1J_R3",popover:"popover___1x-2R",listItemActive:"listItemActive___3FRb7"}},56131:function(i){i.exports={labelList:"labelList___jvD05",listHeader:"listHeader___UM5UF",eye:"eye___II3Po",roundBall:"roundBall___j752J"}},78677:function(i){i.exports={container:"container___G0FNe"}},83930:function(i){i.exports={stage:"stage___3H5QL"}},80961:function(i){i.exports={leftToolbar:"leftToolbar___1xi4t",rightToolbar:"rightToolbar___3dNSB"}},82499:function(i){i.exports={toolBarButtonContainerWrapper:"toolBarButtonContainerWrapper___1SHWL",toolBarButtonContainer:"toolBarButtonContainer___1jKUz",toolBarButton:"toolBarButton___3Ouq1",buttonText:"buttonText___10ls7",toolBarButtonContainerWrapperActive:"toolBarButtonContainerWrapperActive___3AA28"}},14836:function(i,C,n){"use strict";n.d(C,{Z:function(){return B}});var F=n(54421),v=n(38272),h=n(57663),a=n(71577),u=n(67294),l=n(56159),m=n.n(l),x=n(49111),f=n(19650),o=n(2824),s=n(11849),E=n(85024),t=n.n(E),c=n(63097),e=n(85893),r=function(d){var L=(0,s.Z)({},d.annotation),A=(0,u.useState)(L.invisible),M=(0,o.Z)(A,2),g=M[0],N=M[1];(0,u.useEffect)(function(){N(d.annotation.invisible)},[d.annotation.invisible]);var $=(0,e.jsxs)(v.ZP.Item,{className:"".concat(t().listItem," ").concat(d.active?t().listItemActive:""),unselectable:"on",onClick:function(){d.onClick(L)},children:[(0,e.jsxs)(f.Z,{align:"center",size:5,children:[(0,e.jsx)("a",{className:t().eye,style:{backgroundImage:g?"url(./pics/hide.png)":"url(./pics/show.png)"},onClick:function(){N(!g),d.onAnnotationModify(L)}})," ",(0,e.jsx)("span",{className:t().annotationId,children:L.annotationId}),(0,e.jsx)("span",{className:t().labelName,children:L.label.name}),(0,e.jsx)(c.Z,{color:L.label.color})]}),(0,e.jsx)("a",{className:t().delete,onClick:function(){L.delete=!0,d.onAnnotationDelete(L)}})]});return $},P=r,b=function(d){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(v.ZP,{className:m().labelList,size:"large",header:(0,e.jsx)("div",{className:m().listHeader,children:"Annotation List"}),bordered:!0,dataSource:d.annotations,renderItem:function(A){var M;return(0,e.jsx)(P,{onClick:d.onAnnotationSelect,annotation:A,active:A.annotationId==((M=d.selectedAnnotation)===null||M===void 0?void 0:M.annotationId),onAnnotationDelete:d.onAnnotationDelete,onAnnotationModify:d.onAnnotationModify})},footer:(0,e.jsx)("div",{children:(0,e.jsx)(a.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",onClick:function(){d.onAnnotationSelect(void 0)},block:!0,children:"Add Annotation"})})})})},B=b},63097:function(i,C,n){"use strict";var F=n(20136),v=n(55241),h=n(2824),a=n(67294),u=n(52822),l=n.n(u),m=n(63144),x=n(85893),f=function(s){var E=(0,a.useState)(s.color||"#FFF"),t=(0,h.Z)(E,2),c=t[0],e=t[1];return(0,a.useEffect)(function(){e(s.color||"#FFF")},[s]),s.changeable?(0,x.jsx)(v.Z,{getPopupContainer:function(P){return P.parentElement||document.body},overlayClassName:l().popover,openClassName:l().popoverOpenClassName,placement:"bottom",content:(0,x.jsx)(m.xS,{disableAlpha:!0,color:c,onChange:function(P){e(P.hex)},onChangeComplete:s.onChange}),trigger:"click",children:(0,x.jsx)("div",{className:l().roundBall,style:{backgroundColor:c}})}):(0,x.jsx)("div",{className:l().roundBall,style:{backgroundColor:c}})};C.Z=f},5041:function(i,C,n){"use strict";n.d(C,{Z:function(){return X}});var F=n(54421),v=n(38272),h=n(57663),a=n(71577),u=n(2824),l=n(67294),m=n(56131),x=n.n(m),f=n(49111),o=n(19650),s=n(11849),E=n(5882),t=n.n(E),c=n(63097),e=n(85893),r=function(_){var D=(0,s.Z)({},_.label),T=(0,l.useState)(D.invisible),y=(0,u.Z)(T,2),U=y[0],K=y[1],W=(0,e.jsx)(v.ZP.Item,{className:"".concat(t().listItem," ").concat(_.active?t().listItemActive:""),unselectable:"on",onClick:function(){_.onClick(D)},children:(0,e.jsxs)(o.Z,{align:"center",size:5,children:[(0,e.jsx)("a",{className:t().eye,style:{backgroundImage:U?"url(./pics/hide.png)":"url(./pics/show.png)"},onClick:function(){K(!U),_.onLabelModify(D)}})," ",D.name,(0,e.jsx)(c.Z,{color:D.color,changeable:!0,onChange:function(R){D.color=R.hex,_.onLabelModify(D)}})]})});return W},P=r,b=n(71194),B=n(50146),I=n(47673),d=n(24044),L=n(9715),A=n(93766),M=["#FF0000","#008000","#0000FF","#FFFF00","#FFA500","#00FFFF","#8B00FF","#FFC0CB","#7CFC00","#007FFF","#800080","#36BF36","#DAA520","#800000","#008B8B","#B22222","#E6D933","#000080","#FF00FF","#FFFF99","#87CEEB","#5C50E6","#CD5C5C","#20B2AA","#E680FF","#4D1F00","#006374","#B399FF","#8B4513","#BA55D3","#C0C0C0","#808080","#000000"],g=function(_){var D,T,y=(0,l.useState)(((D=_.defaultLabel)===null||D===void 0?void 0:D.color)||M[_.order||0]),U=(0,u.Z)(y,2),K=U[0],W=U[1];(0,l.useEffect)(function(){var O;W(((O=_.defaultLabel)===null||O===void 0?void 0:O.color)||M[_.order||0])},[_]);var S=A.Z.useForm(),R=(0,u.Z)(S,1),Z=R[0];return(0,e.jsx)(B.Z,{title:"Add Label",visible:_.visible,onCancel:_.onCancel,footer:null,children:(0,e.jsxs)(A.Z,{form:Z,name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!1,labelname:(T=_.defaultLabel)===null||T===void 0?void 0:T.name},onFinish:function(j){var Y={name:j.labelname,color:K};_.onLabelAdd(Y),Z.resetFields()},autoComplete:"off",children:[(0,e.jsx)(A.Z.Item,{label:"Label Name",name:"labelname",rules:[{required:!0,message:"Please input label name!"}],children:(0,e.jsx)(d.Z,{})}),(0,e.jsx)(A.Z.Item,{label:"Select Color",name:"color",children:(0,e.jsx)(c.Z,{color:K,onChange:function(j){W(j.hex)}})}),(0,e.jsx)(A.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,e.jsxs)(o.Z,{children:[(0,e.jsx)(a.Z,{onClick:function(){var j;(j=_.onCancel)===null||j===void 0||j.call(0),Z.resetFields()},children:"\u53D6\u6D88"}),(0,e.jsx)(a.Z,{type:"primary",htmlType:"submit",children:"\u786E\u5B9A"})]})})]})})},N=g,$=[{color:"#FF0000",name:"Label 1"},{color:"#008000",name:"Label 2"}],H=function(_){var D=(0,l.useState)($),T=(0,u.Z)(D,2),y=T[0],U=T[1],K=(0,l.useState)(!1),W=(0,u.Z)(K,2),S=W[0],R=W[1];return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(v.ZP,{className:x().labelList,size:"large",header:(0,e.jsx)("div",{className:x().listHeader,children:"Label List"}),footer:(0,e.jsx)("div",{children:(0,e.jsx)(a.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",onClick:function(){R(!0)},block:!0,children:"Add Label"})}),bordered:!0,dataSource:y,renderItem:function(O){var j;return(0,e.jsx)(P,{onClick:_.onLabelSelect,label:O,active:O.name==((j=_.selectedLabel)===null||j===void 0?void 0:j.name),onLabelDelete:_.onLabelDelete,onLabelModify:_.onLabelModify})}}),(0,e.jsx)(N,{order:y.length,visible:S,onLabelAdd:function(O){y.push(O),U(y),R(!1)},onCancel:function(){R(!1)}})]})},X=H},8088:function(i,C,n){"use strict";var F=n(67294),v=n(78677),h=n.n(v),a=n(85893),u=function(m){return(0,a.jsx)("div",{className:"".concat(h().container," ").concat(m.className),children:m.children})};C.Z=u},13931:function(i,C,n){"use strict";n.d(C,{Z:function(){return f}});var F=n(91220),v=n(67294),h=n(65031),a=n(85893);function u(o){var s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(o);return s?{r:parseInt(s[1],16),g:parseInt(s[2],16),b:parseInt(s[3],16)}:null}function l(o,s){if(!(!o||!s))return{color:o,points:s}}function m(o){if(!o||!o.lines||!o.lines[0])return[(0,a.jsx)(a.Fragment,{})];var s=o.lines[0].points,E=o.lines[0].color,t=u(E);if(!t)return[(0,a.jsx)(a.Fragment,{})];var c=void 0,e=[];return s.forEach(function(r){if(!c){c=r;return}e.push((0,a.jsx)(h.Cd,{x:c,y:r,radius:5,fill:E})),c=void 0}),[(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.x1,{stroke:E,strokeWidth:2,globalCompositeOperation:"source-over",lineCap:"round",points:s,tension:.01,closed:!0,fill:"rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", 0.5)")}),e]})]}function x(o){var s=0,E=(0,F.Z)(o),t;try{for(E.s();!(t=E.n()).done;){var c=t.value;!c||c.annotationId>s&&(s=c.annotationId)}}catch(e){E.e(e)}finally{E.f()}return s}function f(o){var s=function(r,P){var b,B=r.evt.offsetX/P,I=r.evt.offsetY/P,d=l((b=o.currentLabel)===null||b===void 0?void 0:b.color,[B,I]);!d||o.onAnnotationAdd({tool:"polygon",annotationId:x(o.annotations)+1,label:o.currentLabel,lines:[d]})},E=function(r,P){var b,B;if(!!o.currentAnnotation){var I=r.evt.offsetX/P,d=r.evt.offsetY/P,L=o.currentAnnotation.lines||[],A=l((b=o.currentLabel)===null||b===void 0?void 0:b.color,(B=L[0])===null||B===void 0?void 0:B.points.concat([I,d]));if(!!A){var M={tool:"polygon",annotationId:o.currentAnnotation.annotationId,label:o.currentAnnotation.label,lines:[A]};o.onAnnotationModify(M)}}},t=function(r,P){o.currentTool=="polygon"&&(o.currentAnnotation?E(r,P):s(r,P))},c=function(){o.currentTool=="polygon"&&o.onMouseUp()};return{onMouseDown:t,onMouseMove:function(){},onMouseUp:c,createElementsFunc:m}}},29919:function(i,C,n){"use strict";var F=n(67294),v=n(61541),h=n(85893),a=function(l){return(0,h.jsx)(v.Z,{active:l.active,imgSrc:l.imgSrc||"./pics/buttons/polygon.png",onClick:l.onClick,children:l.children})};C.Z=a},57436:function(i,C,n){"use strict";var F=n(91220),v=n(2824),h=n(67294),a=n(65031),u=n(84420),l=n.n(u),m=n(83930),x=n.n(m),f=n(85893),o="./pics/basketball.jpg",s=function(t){var c=l()(o),e=(0,v.Z)(c,1),r=e[0],P=(r==null?void 0:r.width)||0,b=(r==null?void 0:r.height)||0,B=[];if(t.annotations){var I=(0,F.Z)(t.annotations),d;try{for(I.s();!(d=I.n()).done;){var L=d.value;if(!!L){var A=L.tool=="polygon"?t.createPolygonFunc:t.createBrushFunc;A&&B.push(A(L))}}}catch(M){I.e(M)}finally{I.f()}}return(0,f.jsxs)(a.Hf,{width:P*t.scale,height:b*t.scale,className:x().stage,children:[(0,f.jsx)(a.mh,{scaleX:t.scale,scaleY:t.scale,children:(0,f.jsx)(a.Ee,{image:r})}),(0,f.jsxs)(a.mh,{scaleX:t.scale,scaleY:t.scale,onMouseDown:function(g){t.onMouseDown&&t.onMouseDown(g,t.scale)},onMouseMove:function(g){t.onMouseMove&&t.onMouseMove(g,t.scale)},onMouseUp:function(g){t.onMouseUp&&t.onMouseUp(g,t.scale)},onContextMenu:function(g){g.evt.preventDefault()},children:[(0,f.jsx)(a.Ee,{draggable:!1,image:r}),B,(0,f.jsx)(a.$T,{})]})]})};C.Z=s},44434:function(i,C,n){"use strict";var F=n(67294),v=n(80961),h=n.n(v),a=n(85893),u=function(m){var x=h().leftToolbar;return m.disLoc=="right"&&(x=h().rightToolbar),(0,a.jsx)("div",{className:x,children:m.children})};C.Z=u},61541:function(i,C,n){"use strict";var F=n(49111),v=n(19650),h=n(67294),a=n(82499),u=n.n(a),l=n(85893),m=function(f){return(0,l.jsx)("div",{unselectable:"on",className:"".concat(u().toolBarButtonContainerWrapper," ").concat(f.active&&u().toolBarButtonContainerWrapperActive),onClick:f.onClick,children:(0,l.jsx)(v.Z,{align:"center",className:u().toolBarButtonContainer,size:0,children:(0,l.jsxs)(v.Z,{align:"center",direction:"vertical",className:u().toolBarButton,size:0,children:[(0,l.jsx)("img",{src:f.imgSrc}),(0,l.jsx)("div",{className:u().buttonText,children:f.children})]})})})};C.Z=m}}]);
