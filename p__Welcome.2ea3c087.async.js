(self.webpackChunkpp_label_frontend=self.webpackChunkpp_label_frontend||[]).push([[185],{88769:function(d){d.exports={createBtn:"createBtn___L_oKa"}},41180:function(d){d.exports={ppcard:"ppcard___27hGd",title:"title___22R8f"}},9238:function(d){d.exports={button:"button___3gM4r"}},70362:function(d){d.exports={card:"card___CFZWU",thumbnail:"thumbnail___1gIPM",button:"button___g0lkO"}},48627:function(d){d.exports={container:"container___2RXc3"}},17969:function(d){d.exports={col:"col___yKN-b"}},24141:function(d){d.exports={pagination:"pagination___1KJhU",pageSizeSelector:"pageSizeSelector___2XZ11"}},75534:function(d){d.exports={table:"table___BHQO2"}},31982:function(d,O,e){"use strict";var z=e(89032),v=e(15746),K=e(11849),M=e(13062),x=e(71230),m=e(11700),B=e(67294),Z=e(41180),I=e.n(Z),g=e(85893),T=function(f){return(0,g.jsxs)("div",{className:I().ppcard,style:f.style,children:[(0,g.jsx)(x.Z,{className:I().titleRow,style:{display:f.title?void 0:"none"},children:(0,g.jsx)(m.Z,{className:I().title,children:f.title})}),(0,g.jsx)(x.Z,{style:{marginTop:26},children:(0,g.jsx)(v.Z,{span:24,style:(0,K.Z)({paddingLeft:30,paddingRight:30,textAlign:"center"},f.innerStyle),children:f.children})})]})};O.Z=T},40318:function(d,O,e){"use strict";var z=e(57663),v=e(71577),K=e(48971),M=e(67294),x=e(70362),m=e.n(x),B=e(85893),Z=function(g){return(0,B.jsxs)("div",{className:m().card,style:{height:g.height,width:g.width},onClick:function(){return K.m8.push(g.href?g.href:"")},children:[(0,B.jsx)("img",{className:m().thumbnail,alt:g.wording||m().thumbnail,src:g.imgSrc,style:{height:g.height,width:g.width}}),(0,B.jsx)(v.Z,{className:m().button,style:{width:g.width},children:g.children})]})};O.Z=Z},11428:function(d,O,e){"use strict";var z=e(67294),v=e(48627),K=e.n(v),M=e(85893),x=function(B){return(0,M.jsx)("div",{className:"".concat(K().container),style:{backgroundImage:"url(./pics/background.png)"},children:B.children})};O.Z=x},52940:function(d,O,e){"use strict";var z=e(11849),v=e(89032),K=e(15746),M=e(2824),x=e(67294),m=e(17969),B=e.n(m),Z=e(85893),I=function(T){var D=(0,x.useState)(!1),f=(0,M.Z)(D,2),E=f[0],S=f[1];return(0,Z.jsx)(K.Z,(0,z.Z)((0,z.Z)({},T),{},{className:"".concat(B().col," ").concat(T.className),style:{zIndex:E?11:10,width:"100%"},onMouseOver:function(){S(!0)},onMouseLeave:function(){S(!1)},children:T.children}))};O.Z=I},3275:function(d,O,e){"use strict";e.r(O),e.d(O,{PROJECT_INFO_KEY:function(){return V},default:function(){return pe},refreshProject:function(){return Pe}});var z=e(57663),v=e(71577),K=e(13062),M=e(71230),x=e(89032),m=e(15746),B=e(49111),Z=e(19650),I=e(3182),g=e(94043),T=e.n(g),D=e(67294),f=e(11428),E=e(40318),S=e(31982),W=e(11849),te=e(8963),ne=e(34441),Y=e(2824),ae=e(75534),re=e.n(ae),he=e(14781),se=e(40308),fe=e(43358),Q=e(34041),l=e(48971),ue=e(24141),G=e.n(ue),t=e(85893),b=Q.Z.Option;function de(R){var a=R.formatMessage({id:"component.PPTable.prev",defaultMessage:"Previous"}),P=R.formatMessage({id:"component.PPTable.next",defaultMessage:"Next"});return function(j,p,h){return p==="prev"?(0,t.jsx)(v.Z,{children:a}):p==="next"?(0,t.jsx)(v.Z,{children:P}):h}}var $=function(a){var P=a.totalNum,j=(0,D.useState)(a.pageSize||10),p=(0,Y.Z)(j,2),h=p[0],A=p[1],u=(0,D.useState)(a.currentPage||1),F=(0,Y.Z)(u,2),U=F[0],N=F[1];return(0,t.jsx)("div",{className:"".concat(G().pagination),children:(0,t.jsxs)(Z.Z,{align:"center",children:[(0,l.YB)().formatMessage({id:"component.PPTable.pageTotal"},{total:P,show:(0,t.jsxs)(Q.Z,{value:h+"",className:G().pageSizeSelector,onChange:function(C){A(parseInt(C)),a.onChange&&a.onChange(U,parseInt(C))},children:[(0,t.jsx)(b,{value:"10",children:"10"}),(0,t.jsx)(b,{value:"20",children:"20"}),(0,t.jsx)(b,{value:"30",children:"30"}),(0,t.jsx)(b,{value:"40",children:"40"}),(0,t.jsx)(b,{value:"50",children:"50"})]})}),(0,t.jsx)(se.Z,{className:G().pagination,current:U,pageSize:h,total:P,itemRender:de((0,l.YB)()),onChange:function(C,w){console.log("Pagination: ".concat(w,"/").concat(C)),N(C),a.onChange&&a.onChange(C,w)}})]})})},ge=$,H=function(a){var P,j=((P=a.dataSource)===null||P===void 0?void 0:P.length)||0,p=(0,D.useState)(10),h=(0,Y.Z)(p,2),A=h[0],u=h[1],F=(0,D.useState)(1),U=(0,Y.Z)(F,2),N=U[0],y=U[1],C=a.dataSource,w=[];if(a.dataSource){var oe,ie,J=A*(N-1),ee=A;J+A>j&&(ee=j-J+1),C=(oe=a.dataSource)===null||oe===void 0?void 0:oe.slice(J,J+ee/2),w=(ie=a.dataSource)===null||ie===void 0?void 0:ie.slice(J+ee/2,J+ee)}return(0,t.jsxs)("div",{className:"".concat(re().table),children:[(0,t.jsxs)(M.Z,{children:[(0,t.jsx)(m.Z,{span:12,style:{borderRight:"0.063rem solid rgba(151,151,151,0.27)"},children:(0,t.jsx)(ne.Z,(0,W.Z)((0,W.Z)({},a),{},{dataSource:C,pagination:!1,rowSelection:void 0}))}),(0,t.jsx)(m.Z,{span:12,children:(0,t.jsx)(ne.Z,(0,W.Z)((0,W.Z)({},a),{},{dataSource:w,pagination:!1,rowSelection:void 0}))})]}),(0,t.jsx)(M.Z,{style:{marginTop:"1.75rem"},children:(0,t.jsx)(m.Z,{span:24,children:(0,t.jsx)(Z.Z,{align:"center",children:(0,t.jsx)(ge,{totalNum:j,pageSize:A,currentPage:N,onChange:function(le,ce){u(ce),(le-1)*ce>j?y(1):y(le),a.onChange&&a.onChange(le,ce)}})})})})]})},me=H,X=e(9238),k=e.n(X),_e=function(a){return(0,t.jsx)(v.Z,(0,W.Z)((0,W.Z)({},a),{},{style:{color:a.color,width:a.width,height:a.height,borderColor:a.color},className:"".concat(k().button),children:a.children}))},q=_e,n=e(49101),r=e(88769),i=e.n(r),o=function(a){return(0,t.jsx)(v.Z,{onClick:a.onClick,icon:(0,t.jsx)(n.Z,{}),size:"large",id:"".concat(i().createBtn),children:a.children})},s=o,c=e(52940),L=e(37071),ve=e(91156),_=e(64322),V="projectInfo",Pe=function(){var R=(0,I.Z)(T().mark(function a(P){var j,p,h;return T().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(j=P==null?L.Z.getQueryVariable("projectId"):P,j){u.next=5;break}return message.error("projectId isn't passed in nor present in url!"),l.m8.push("/"),u.abrupt("return");case 5:if(p=localStorage.getItem(V),!p){u.next=8;break}return u.abrupt("return",JSON.parse(p));case 8:return u.next=10,ve.F$.get(j);case 10:if(h=u.sent,h){u.next=15;break}return message.error("Cannot find project: ".concat(j,"!")),l.m8.push("/"),u.abrupt("return");case 15:return localStorage.setItem(V,JSON.stringify(h)),u.abrupt("return",h);case 17:case"end":return u.stop()}},a)}));return function(P){return R.apply(this,arguments)}}(),je=function(){var a,P=(0,l.YB)().formatMessage({id:"pages.welcome.edit"}),j=(0,l.YB)().formatMessage({id:"pages.welcome.label"}),p=(0,l.YB)().formatMessage({id:"pages.welcome.deleted"}),h=(0,l.YB)().formatMessage({id:"pages.welcome.myProjects"}),A=(0,l.YB)().formatMessage({id:"pages.welcome.createProject"});console.log("render projects");var u=(0,_.Gd)(D.useState);(0,D.useEffect)(function(){u.getAll()},[]);var F=[{title:"ID",dataIndex:"projectId",key:"projectId",width:"4.5rem",align:"center",render:function(N){return(0,t.jsx)(t.Fragment,{children:N})}},{title:"Name",dataIndex:"name",key:"projectId"},{title:"Actions",key:"projectId",width:"15rem",align:"center",render:function(N,y){return(0,t.jsxs)(Z.Z,{size:"middle",children:[(0,t.jsx)(q,{width:"4.375rem",height:"1.875rem",color:"rgba(241,162,0,1)",onClick:function(){l.m8.push("/project_detail?taskCategory=".concat(y.taskCategory.name,"&projectId=").concat(y.projectId))},children:P}),(0,t.jsx)(q,{width:"4.375rem",height:"1.875rem",color:"rgba(0,100,248,1)",onClick:function(){l.m8.push("/".concat(y.taskCategory.name,"?projectId=").concat(y.projectId))},children:j}),(0,t.jsx)(q,{width:"4.375rem",height:"1.875rem",color:"rgba(207,63,0,1)",onClick:function(){return u.remove(y)},children:p})]})}}];return(a=u.all)!==null&&a!==void 0&&a.length?(0,t.jsx)(M.Z,{style:{marginTop:20},children:(0,t.jsx)(m.Z,{span:24,children:(0,t.jsx)(S.Z,{title:h,children:(0,t.jsx)(me,{columns:F,dataSource:(0,_.gu)(u.all),showHeader:!1})})})}):(0,t.jsx)(M.Z,{style:{marginTop:20},children:(0,t.jsx)(m.Z,{span:24,children:(0,t.jsx)(S.Z,{title:h,children:(0,t.jsx)(s,{onClick:function(){l.m8.push("/project_creation")},children:A})})})})},Ee=function(){var a=(0,l.YB)().formatMessage({id:"pages.welcome.createProject"}),P=(0,l.YB)().formatMessage({id:"pages.welcome.sampleProject"}),j=(0,l.YB)().formatMessage({id:"pages.welcome.imageClassification"}),p=(0,l.YB)().formatMessage({id:"pages.welcome.objectDetection"}),h=(0,l.YB)().formatMessage({id:"pages.welcome.instanceSegmentation"}),A=(0,l.YB)().formatMessage({id:"pages.welcome.semanticSegmentation"}),u=(0,l.YB)().formatMessage({id:"pages.welcome.keypointDetection"}),F=(0,l.YB)().formatMessage({id:"pages.welcome.trainingKnowledge"}),U=(0,l.YB)().formatMessage({id:"pages.welcome.paddleClas"}),N=(0,l.YB)().formatMessage({id:"pages.welcome.paddleDet"}),y=(0,l.YB)().formatMessage({id:"pages.welcome.paddleSeg"}),C=(0,l.YB)().formatMessage({id:"pages.welcome.paddleX"});return(0,t.jsxs)(f.Z,{children:[(0,t.jsx)(M.Z,{gutter:[20,20],children:(0,t.jsx)(m.Z,{span:24,children:(0,t.jsx)(s,{onClick:function(){l.m8.push("/project_creation")},children:a})})}),(0,t.jsxs)(M.Z,{gutter:[20,20],style:{marginTop:20},children:[(0,t.jsx)(m.Z,{span:17,children:(0,t.jsx)(S.Z,{title:P,style:{height:430},children:(0,t.jsxs)(M.Z,{children:[(0,t.jsx)(c.Z,{span:4,children:(0,t.jsx)(E.Z,{imgSrc:"./pics/classification.jpg",children:j})}),(0,t.jsx)(c.Z,{span:4,children:(0,t.jsx)(E.Z,{imgSrc:"./pics/object_detection.jpg",children:p})}),(0,t.jsx)(c.Z,{span:4,children:(0,t.jsx)(E.Z,{imgSrc:"./pics/instance_segmentation.jpg",children:h})}),(0,t.jsx)(c.Z,{span:4,children:(0,t.jsx)(E.Z,{imgSrc:"./pics/semantic_segmentation.jpg",children:A})}),(0,t.jsx)(c.Z,{span:4,children:(0,t.jsx)(E.Z,{imgSrc:"./pics/keypoint_detection.jpg",children:u})})]})})}),(0,t.jsx)(m.Z,{span:7,children:(0,t.jsx)(S.Z,{title:F,style:{height:430},children:(0,t.jsxs)(Z.Z,{direction:"vertical",style:{width:"100%"},size:10,children:[(0,t.jsx)(v.Z,{type:"primary",style:{height:"3.125rem"},block:!0,children:U}),(0,t.jsx)(v.Z,{type:"primary",style:{height:"3.125rem"},block:!0,children:N}),(0,t.jsx)(v.Z,{type:"primary",style:{height:"3.125rem"},block:!0,children:y}),(0,t.jsx)(v.Z,{type:"primary",style:{height:"3.125rem"},block:!0,children:C})]})})})]}),je()]})},pe=Ee},91156:function(d,O,e){"use strict";e.d(O,{F$:function(){return E},LV:function(){return re},ux:function(){return se}});var z=e(34792),v=e(94043),K=e.n(v),M=e(37071),x=e(9992),m=e(63891),B=e(13868),Z=e(70676),I=e(54919),g=e(6276),T=e(59124),D=localStorage.getItem("basePath"),f=new x.VK(D?{basePath:D}:void 0),E=new m.U(f),S=new B.v(f),W=new I.W(f),te=new g.s(f),ne=new T.C(f);function Y(n){return JSON.parse(JSON.stringify(n))}var ae=function(r,i,o){if(!o)return-1;for(var s=0;s<i.length;s++)if(r[o]==i[s][o])return s;return-1};function re(n){return n&&n.replace(/[A-Z]/g,function(r){return"_".concat(r.toLowerCase())})}function he(n){return n&&(n.toLowerCase().replace(/([-_][a-z])/g,function(r){return r.toUpperCase().replace("-","").replace("_","")}),n)}var se={classification:{name:"Image Classification",avatar:"./pics/classification.jpg",id:1},detection:{name:"Detection",avatar:"./pics/object_detection.jpg",id:2},semanticSegmentation:{name:"Semantic Segmentation",avatar:"./pics/semantic_segmentation.jpg",id:3},instanceSegmentation:{name:"Instance Segmentation",avatar:"./pics/instance_segmentation.jpg",id:4},keypointDetection:{name:"Keypoint Detection",avatar:"./pics/keypoint_detection.jpg",id:5}},fe=function(r,i){var o=_toConsumableArray(r);for(var s in r)o[s].active=!1;for(var c in r)ae(r[c],i,"labelId")!=-1&&(o[c].active=!0);return console.log("activa labs",o),o};function Q(n){return l.apply(this,arguments)}function l(){return l=_asyncToGenerator(_regeneratorRuntime.mark(function n(r){return _regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:E.getAll().then(function(s){console.log("get all projects",Y(s)),r(Y(s))}).catch(function(s){serviceUtils.parseError(s,_message)});case 1:case"end":return o.stop()}},n)})),l.apply(this,arguments)}function ue(n){return G.apply(this,arguments)}function G(){return G=_asyncToGenerator(_regeneratorRuntime.mark(function n(r){var i,o=arguments;return _regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:i=o.length>1&&o[1]!==void 0?o[1]:null,console.log("get project id ",r),E.get(r).then(function(L){return console.log("getProject res",L),i&&i(L),L}).catch(function(L){console.log("getProject err",L),serviceUtils.parseError(L,_message)});case 3:case"end":return c.stop()}},n)})),G.apply(this,arguments)}function t(n,r){return b.apply(this,arguments)}function b(){return b=_asyncToGenerator(_regeneratorRuntime.mark(function n(r,i){return _regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:console.log("delete pj, pjid",r),E.remove(r).then(function(c){console.log("delete project",c),Q(i)}).catch(function(c){console.log(c),serviceUtils.parseError(c,_message)});case 2:case"end":return s.stop()}},n)})),b.apply(this,arguments)}function de(n){return $.apply(this,arguments)}function $(){return $=_asyncToGenerator(_regeneratorRuntime.mark(function n(r){return _regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:te.getAll().then(function(s){console.log("got tasks",s),r&&r(s)}).catch(function(s){console.log("get tasks err",s),serviceUtils.parseError(s,_message)});case 1:case"end":return o.stop()}},n)})),$.apply(this,arguments)}function ge(n,r){return H.apply(this,arguments)}function H(){return H=_asyncToGenerator(_regeneratorRuntime.mark(function n(r,i){return _regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:console.log("get task id",r),te.get(r).then(function(c){console.log("got task ",c),i&&i(c)});case 2:case"end":return s.stop()}},n)})),H.apply(this,arguments)}function me(n){return X.apply(this,arguments)}function X(){return X=_asyncToGenerator(_regeneratorRuntime.mark(function n(r){var i,o,s,c,L;return _regeneratorRuntime.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(r){_.next=2;break}return _.abrupt("return",0);case 2:return _.prev=2,_.next=5,E.getTasks(r);case 5:i=_.sent,o=0,s=_createForOfIteratorHelper(i);try{for(s.s();!(c=s.n()).done;)L=c.value,L.annotations.length!=0&&o++}catch(V){s.e(V)}finally{s.f()}return console.log("progress",Math.ceil(o/i.length*100)),_.abrupt("return",Math.ceil(o/i.length*100));case 13:return _.prev=13,_.t0=_.catch(2),console.log("get progress err",_.t0),serviceUtils.parseError(_.t0,_message),_.abrupt("return",0);case 18:case"end":return _.stop()}},n,null,[[2,13]])})),X.apply(this,arguments)}function k(n,r){console.log("getLabels projectid",n),!!n&&E.getLabels(n).then(function(i){console.log("got labels ",i),r(Y(i))}).catch(function(i){serviceUtils.parseError(i,_message)})}function _e(n,r,i){var o=LabelFromJSON(r);o.projectId=n,S.create(o).then(function(){k(n,i)}).catch(function(s){serviceUtils.parseError(s,_message)})}function q(n,r){console.log("delete label",n),S.remove(n.labelId).then(function(){_message.error("Label "+n.name+" is deleted!"),k(n.projectId,r)}).catch(function(i){serviceUtils.parseError(i,_message)})}}}]);
