(self.webpackChunkpp_label_frontend=self.webpackChunkpp_label_frontend||[]).push([[813],{85024:function(U){U.exports={listItem:"listItem___u4Q82",eye:"eye___BwaRm",delete:"delete___31JB_",roundBall:"roundBall___23A7l",popover:"popover___1BNET",annotationId:"annotationId___zAzX4",labelName:"labelName___2ohxn",listItemActive:"listItemActive___2QnA3"}},56159:function(U){U.exports={labelList:"labelList___v7C6K",listHeader:"listHeader___1aY8R",eye:"eye___2MKbp",roundBall:"roundBall___187XH"}},26647:function(U){U.exports={toolBarButtonContainerWrapper:"toolBarButtonContainerWrapper___1FTWb",toolBarButtonContainer:"toolBarButtonContainer___1Vahn",toolBarButton:"toolBarButton___3mR2H",buttonText:"buttonText___Y0WDm",toolBarButtonContainerWrapperActive:"toolBarButtonContainerWrapperActive___3lRZ8",popover:"popover___3zzu2",slider:"slider___ALra-",popoverLeft:"popoverLeft___15lGe"}},6277:function(U){U.exports={modal:"modal___26yNn"}},45092:function(U){U.exports={modal:"modal___1H_FQ"}},14836:function(U,k,n){"use strict";n.d(k,{Z:function(){return on}});var V=n(54421),tn=n(38272),_n=n(57663),ln=n(71577),dn=n(67294),u=n(56159),i=n.n(u),h=n(49111),O=n(19650),T=n(2824),en=n(11849),W=n(85024),Y=n.n(W),un=n(63097),r=n(85893),m=function(o){var e=(0,en.Z)({},o.annotation),X=(0,dn.useState)(e.invisible),x=(0,T.Z)(X,2),F=x[0],N=x[1],p=(0,dn.useState)(0),b=(0,T.Z)(p,2),an=b[0],j=b[1];(0,dn.useEffect)(function(){N(o.annotation.invisible)},[o.annotation.invisible]);var y=(0,r.jsxs)(tn.ZP.Item,{className:"".concat(Y().listItem," ").concat(o.active?Y().listItemActive:""),unselectable:"on",onClick:function(){o.onClick(e)},children:[(0,r.jsxs)(O.Z,{align:"center",size:5,children:[(0,r.jsx)("a",{className:Y().eye,style:{backgroundImage:F?"url(./pics/hide.png)":"url(./pics/show.png)"},onClick:function(rn){rn.stopPropagation(),N(!F),o.onAnnotationModify(e)}})," ",(0,r.jsx)("span",{className:Y().annotationId,children:e.frontendId}),(0,r.jsx)("span",{className:Y().labelName,children:e.label.name}),(0,r.jsx)(un.Z,{color:e.label.color})]}),(0,r.jsx)("a",{className:Y().delete,onClick:function(rn){rn.stopPropagation();var t=new Date().getTime();t-an<300||(j(t),o.onAnnotationDelete(e))}})]});return y},H=m,D=n(48971),I=function(o){var e=(0,D.YB)().formatMessage({id:"component.PPAnnotationList.annotationList"}),X=(0,D.YB)().formatMessage({id:"component.PPAnnotationList.addAnnotation"});return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(tn.ZP,{className:i().labelList,size:"large",header:(0,r.jsx)("div",{className:i().listHeader,children:e}),bordered:!0,dataSource:o.annotations,renderItem:function(F){var N;return(0,r.jsx)(H,{onClick:o.onAnnotationSelect,annotation:F,active:F.frontendId==((N=o.currAnnotation)===null||N===void 0?void 0:N.frontendId),onAnnotationDelete:o.onAnnotationDelete,onAnnotationModify:o.onAnnotationModify})},footer:(0,r.jsx)("div",{children:(0,r.jsx)(ln.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",onClick:function(){o.onAnnotationAdd()},block:!0,children:X})})})})},on=I},27992:function(U,k,n){"use strict";var V=n(20136),tn=n(55241),_n=n(13062),ln=n(71230),dn=n(77883),u=n(70507),i=n(89032),h=n(15746),O=n(66126),T=n(75454),en=n(2824),W=n(67294),Y=n(61541),un=n(26647),r=n.n(un),m=n(85893),H=0,D=100,I=10,on=function(o){var e=(0,W.useState)(an(o.size)),X=(0,en.Z)(e,2),x=X[0],F=X[1];function N(j){F(an(j))}var p=o.minSize==null?H:o.minSize,b=o.maxSize==null?D:o.maxSize;function an(j){return j==null?I:j<=p?p:j>=b?b:j}return(0,W.useEffect)(function(){N(o.size)},[o.size]),(0,m.jsxs)(tn.Z,{overlayClassName:"".concat(r().popover," ").concat(o.disLoc=="left"?r().popoverLeft:""),placement:o.disLoc||"right",content:(0,m.jsxs)(ln.Z,{children:[(0,m.jsx)(h.Z,{span:16,children:(0,m.jsx)(T.Z,{className:r().slider,value:x,max:b,min:p,onChange:function(y){var A;(A=o.onChange)===null||A===void 0||A.call(0,y)},tooltipVisible:!1})}),(0,m.jsx)(h.Z,{span:8,children:(0,m.jsx)(u.Z,{min:p,max:b,value:x,onChange:function(y){var A;(A=o.onChange)===null||A===void 0||A.call(0,y)},step:10})})]}),trigger:"hover",children:[" ",(0,m.jsx)(Y.Z,{imgSrc:o.imgSrc||"",onClick:o.onClick,active:o.active,children:o.children})]})};k.Z=on},85871:function(U,k,n){"use strict";var V=n(71194),tn=n(50146),_n=n(49111),ln=n(19650),dn=n(57663),u=n(71577),i=n(13062),h=n(71230),O=n(89032),T=n(15746),en=n(77883),W=n(70507),Y=n(34792),un=n(48086),r=n(9715),m=n(93766),H=n(2824),D=n(67294),I=n(48971),on=n(6277),J=n.n(on),o=n(85893),e=function(x){var F=(0,I.YB)(),N=(0,D.useState)(60),p=(0,H.Z)(N,2),b=p[0],an=p[1],j=(0,D.useState)(20),y=(0,H.Z)(j,2),A=y[0],rn=y[1],t=(0,D.useState)(20),s=(0,H.Z)(t,2),c=s[0],f=s[1],_=(0,D.useState)(!1),l=(0,H.Z)(_,2),g=l[0],E=l[1],M=(0,I.YB)().formatMessage({id:"pages.toolBar.divideData"}),C=(0,I.YB)().formatMessage({id:"component.PPDivideDataModal.train"}),v=(0,I.YB)().formatMessage({id:"component.PPDivideDataModal.validation"}),K=(0,I.YB)().formatMessage({id:"component.PPDivideDataModal.test"}),G=(0,I.YB)().formatMessage({id:"component.PPCreater.cancel"}),Z=(0,I.YB)().formatMessage({id:"component.PPSegMode.ok"}),Q=m.Z.useForm(),P=(0,H.Z)(Q,1),L=P[0];return(0,o.jsx)(tn.Z,{className:J().modal,title:M,visible:x.visible,onCancel:x.onCancel,footer:null,children:(0,o.jsxs)(m.Z,{form:L,name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!1},onFinish:function(){if(b+A+c!=100){un.default.error("Train, Validation and Test total percent should equal 100!");return}console.log("x trainData: ".concat(b,", validationData: ").concat(A,", testData: ").concat(c,", props.project.curr.projectId: ").concat(x.project.curr.projectId)),E(!0),x.splitDataset(x.project.curr.projectId,{train:b*.01,val:A*.01,test:c*.01}).then(function(){var w;console.log("success"),un.default.success(F.formatMessage({id:"component.PPDivideDataModal.success"})),(w=x.onFinish)===null||w===void 0||w.call(0)}).finally(function(){E(!1)})},autoComplete:"off",layout:"vertical",children:[(0,o.jsxs)(h.Z,{children:[(0,o.jsx)(T.Z,{span:8,children:(0,o.jsx)(m.Z.Item,{label:C,name:"train",children:(0,o.jsx)(W.Z,{addonAfter:"%",defaultValue:60,precision:0,min:0,max:100,value:b,onChange:an})})}),(0,o.jsx)(T.Z,{span:8,children:(0,o.jsx)(m.Z.Item,{label:v,name:"validation",children:(0,o.jsx)(W.Z,{addonAfter:"%",defaultValue:20,precision:0,min:0,max:100,value:A,onChange:rn})})}),(0,o.jsx)(T.Z,{span:8,children:(0,o.jsx)(m.Z.Item,{label:K,name:"test",children:(0,o.jsx)(W.Z,{addonAfter:"%",defaultValue:20,precision:0,min:0,max:100,value:c,onChange:f})})})]}),(0,o.jsx)(m.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,o.jsxs)(ln.Z,{children:[(0,o.jsx)(u.Z,{onClick:function(){var w;(w=x.onCancel)===null||w===void 0||w.call(0),L.resetFields()},children:G}),(0,o.jsx)(u.Z,{type:"primary",htmlType:"submit",loading:g,children:Z})]})})]})})};k.Z=e},62850:function(U,k,n){"use strict";var V=n(71194),tn=n(50146),_n=n(49111),ln=n(19650),dn=n(57663),u=n(71577),i=n(47673),h=n(24044),O=n(34792),T=n(48086),en=n(9715),W=n(93766),Y=n(2824),un=n(67294),r=n(48971),m=n(45092),H=n.n(m),D=n(85893),I=function(J){var o=(0,r.YB)(),e=(0,un.useState)(!1),X=(0,Y.Z)(e,2),x=X[0],F=X[1],N=(0,r.YB)().formatMessage({id:"component.PPCreater.cancel"}),p=W.Z.useForm(),b=(0,Y.Z)(p,1),an=b[0];return(0,D.jsx)(tn.Z,{className:H().modal,title:(0,r.YB)().formatMessage({id:"component.PPExportModal.title"}),visible:J.visible,onCancel:J.onCancel,footer:null,children:(0,D.jsxs)(W.Z,{form:an,name:"basic",labelCol:{span:6},wrapperCol:{span:16},initialValues:{remember:!1},onFinish:function(y){console.log(y);var A=y.path;if(!A){T.default.error(o.formatMessage({id:"component.PPExportModal.pathNotNull"}));return}F(!0),J.exportDataset(J.project.curr.projectId,A).then(function(){var rn;T.default.success(o.formatMessage({id:"component.PPExportModal.exportSuccess"})),(rn=J.onFinish)===null||rn===void 0||rn.call(0)}).finally(function(){F(!1)})},autoComplete:"off",children:[(0,D.jsx)(W.Z.Item,{label:o.formatMessage({id:"component.PPExportModal.path"}),name:"path",children:(0,D.jsx)(h.Z,{})}),(0,D.jsx)(W.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,D.jsxs)(ln.Z,{children:[(0,D.jsx)(u.Z,{onClick:function(){var y;(y=J.onCancel)===null||y===void 0||y.call(0),an.resetFields()},children:N}),(0,D.jsx)(u.Z,{type:"primary",htmlType:"submit",loading:x,children:o.formatMessage({id:"component.PPExportModal.export"})})]})})]})})};k.Z=I},91861:function(U,k,n){"use strict";n.d(k,{Ad:function(){return tn},k3:function(){return _n},Vd:function(){return ln},td:function(){return dn}});var V=40;function tn(){localStorage.removeItem("history"),_n([])}function _n(u){var i=localStorage.getItem("history"),h=i?JSON.parse(i):{index:-1,items:[]};if(JSON.stringify(h.items[h.index])!=JSON.stringify(u)){var O=h.index>V?h.index-V:0,T=h.items.splice(O,h.index==0?1:h.index+1);h.items=T.concat([u]),h.index<=V?h.index++:h.index=V+1,localStorage.setItem("history",JSON.stringify(h))}}function ln(){var u=localStorage.getItem("history");if(!!u){var i=JSON.parse(u);if(!!i&&!(i.index>=i.items.length-1))return i.index++,localStorage.setItem("history",JSON.stringify(i)),i.items[i.index]}}function dn(){var u=localStorage.getItem("history");if(!!u){var i=JSON.parse(u);if(!(!i||!i.index)&&!(i.index<=0))return i.index--,localStorage.setItem("history",JSON.stringify(i)),i.items[i.index]}}},4813:function(U,k,n){"use strict";n.r(k),n.d(k,{MOST_HISTORY_STEPS:function(){return y},default:function(){return rn}});var V=n(91220),tn=n(57663),_n=n(71577),ln=n(34669),dn=n(54458),u=n(2824),i=n(67294),h=n(8088),O=n(61541),T=n(44434),en=n(27992),W=n(5041),Y=n(57436),un=n(14836),r=n(48971),m=n(91861),H=n(85871),D=n(62850),I=n(11849),on=n(65031);function J(t){var s=0;if(!t)return s;var c=(0,V.Z)(t),f;try{for(c.s();!(f=c.n()).done;){var _=f.value;!_||!_.frontendId||_.frontendId>s&&(s=_.frontendId)}}catch(l){c.e(l)}finally{c.f()}return s}function o(t){var s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return s?{r:parseInt(s[1],16),g:parseInt(s[2],16),b:parseInt(s[3],16)}:null}var e=n(85893);function X(t){if(!(!t||!t.width||!t.color||!t.points||!t.lineId))return t}function x(t,s,c){var f,_;console.log("drawDirectCanvas line: ",c);var l=(f=t.current)===null||f===void 0?void 0:f.getContext("2d");if(!(!l||c.length==0)){l&&l.clearRect(0,0,l.canvas.width,l.canvas.height);var g=(0,V.Z)(c),E;try{for(g.s();!(E=g.n()).done;){var M=E.value;console.log("drawDirectCanvas line: ",M);var C=M.points;l.beginPath(),l.moveTo(C[0],C[1]);for(var v=0;v<=C.length/2-1;v++){var K=C[2*v],G=C[2*v+1];l.lineTo(K,G)}l.lineCap="round",l.lineJoin="round",l.lineWidth=M.width,l.strokeStyle=M.color,l.globalCompositeOperation=M.type=="brush"?"source-over":"destination-out",l.stroke()}}catch(Z){g.e(Z)}finally{g.f()}(_=s.current)===null||_===void 0||_.batchDraw()}}function F(t,s){return t=="rubber"||s==2?"rubber":"brush"}function N(t){var s=(0,i.useState)(),c=(0,u.Z)(s,2),f=c[0],_=c[1],l=(0,i.useState)([]),g=(0,u.Z)(l,2),E=g[0],M=g[1],C=(0,i.useState)(0),v=(0,u.Z)(C,2),K=v[0],G=v[1],Z=function(){return G(K+1),K+1},Q=function(S){var q=E.concat([S]);return M(q),q};function P(z){if(!z.annotation)return(0,e.jsx)(e.Fragment,{});var S=z.annotation.png?(0,e.jsx)(on.Ee,{image:z.annotation.png}):(0,e.jsx)(e.Fragment,{});return S}var L=function(S){var q,cn;if(!(t.currentTool!="brush"&&t.currentTool!="rubber"||!((q=t.currentLabel)!==null&&q!==void 0&&q.color))){var $=S.mouseX,Mn=S.mouseY,gn=F(t.currentTool,S.e.evt.button),sn=X({width:t.brushSize||10,color:(cn=t.currentLabel)===null||cn===void 0?void 0:cn.color,points:[$,Mn,$,Mn],type:gn,lineId:Z()});if(!!sn){if(_(gn),t.currentAnnotation){var B,vn={toolType:"brush",frontendId:t.currentAnnotation.frontendId,label:t.currentAnnotation.label,lines:(B=t.currentAnnotation.lines)===null||B===void 0?void 0:B.concat([sn.lineId]),dataId:t.dataId};t.onAnnotationModify(vn)}else{if(gn=="rubber")return;t.onAnnotationAdd({dataId:t.dataId,frontendId:J(t.annotations)+1,label:t.currentLabel,lines:[sn.lineId]})}x(S.canvasRef,S.layerRef,Q(sn))}}},mn=function(S){var q,cn;if(!(!f||!t.currentAnnotation||!E.at(-1)||!((q=t.currentLabel)!==null&&q!==void 0&&q.color))){var $=E.pop();if(!!$){var Mn=S.mouseX,gn=S.mouseY,sn=[Mn,gn];(cn=t.currentAnnotation)!==null&&cn!==void 0&&cn.lines&&(sn=$.points.concat(sn));var B=X((0,I.Z)((0,I.Z)({},$),{},{points:sn}));!B||x(S.canvasRef,S.layerRef,Q(B))}}},w=function(){t.currentTool!="brush"&&t.currentTool!="rubber"||(_(void 0),t.onMouseUp())};return{onMouseDown:L,onMouseMove:mn,onMouseUp:w,createElementsFunc:P}}function p(t,s){if(!(!t||!s))return{color:t,points:s}}function b(t){if(!t.annotation||!t.annotation.lines||!t.annotation.lines[0])return(0,e.jsx)(e.Fragment,{});var s=t.annotation.lines[0].points,c=t.annotation.lines[0].color,f=o(c);if(!f)return(0,e.jsx)(e.Fragment,{});var _=.3,l=void 0,g=[];return s.forEach(function(E,M){if(!l){l=E;return}g.push((0,e.jsx)(on.Cd,{onMouseDown:function(){t.currentTool=="editor"&&t.onSelect(t.annotation)},draggable:t.currentTool=="editor",onDragMove:function(v){var K;v.cancelBubble=!0;var G=(K=t.stageRef)===null||K===void 0?void 0:K.current,Z=G.findOne(".baseImage"),Q=!1,P=v.target.x();P>Z.width()/2&&(P=Z.width()/2,Q=!0),P<-Z.width()/2&&(P=-Z.width()/2,Q=!0);var L=v.target.y();L>Z.height()/2&&(L=Z.height()/2,Q=!0),L<-Z.height()/2&&(L=-Z.height()/2,Q=!0),Q&&v.target.setPosition({x:P,y:L}),s[M-1]=P,s[M]=L;var mn=(0,I.Z)((0,I.Z)({},t.annotation),{},{points:[{color:c,points:s}]});t.onDrag(mn)},onMouseOver:function(){var v;t.currentTool=="editor"&&(v=t.stageRef)!==null&&v!==void 0&&v.current&&(t.stageRef.current.container().style.cursor="cell")},onMouseOut:function(){var v;t.currentTool=="editor"&&(v=t.stageRef)!==null&&v!==void 0&&v.current&&(t.stageRef.current.container().style.cursor="default")},x:l,y:E,radius:5/t.scale,fill:c})),l=void 0}),(0,e.jsxs)(on.ZA,{children:[(0,e.jsx)(on.x1,{onMouseOver:function(){t.currentTool=="editor"&&(document.body.style.cursor="pointer")},onMouseOut:function(){document.body.style.cursor="default"},onClick:function(){t.currentTool=="editor"&&t.onSelect(t.annotation)},stroke:c,strokeWidth:2/t.scale,globalCompositeOperation:"source-over",lineCap:"round",points:s,tension:0,closed:!0,fill:"rgba(".concat(f.r,", ").concat(f.g,", ").concat(f.b,", ").concat(_,")")}),g]},t.annotation.frontendId)}function an(t){var s=0;if(!t)return s;var c=(0,V.Z)(t),f;try{for(c.s();!(f=c.n()).done;){var _=f.value;!_||!_.frontendId||_.frontendId>s&&(s=_.frontendId)}}catch(l){c.e(l)}finally{c.f()}return s}function j(t){var s=function(g,E){var M,C=p((M=t.currentLabel)===null||M===void 0?void 0:M.color,[g,E]);!C||t.onAnnotationAdd({dataId:t.dataId,type:"polygon",frontendId:an(t.annotations)+1,label:t.currentLabel,lines:[C]})},c=function(g,E){var M,C;if(!!t.currentAnnotation){var v=t.currentAnnotation.lines||[],K=p((M=t.currentLabel)===null||M===void 0?void 0:M.color,(C=v[0])===null||C===void 0?void 0:C.points.concat([g,E]));if(!!K){var G={dataId:t.dataId,type:"polygon",frontendId:t.currentAnnotation.frontendId,label:t.currentAnnotation.label,points:[K]};t.onAnnotationModify(G)}}},f=function(g){t.currentTool=="polygon"&&(t.currentAnnotation?c(g.mouseX,g.mouseY):s(g.mouseX,g.mouseY))},_=function(){t.currentTool=="polygon"&&t.onMouseUp()};return{onMouseDown:f,onMouseMove:function(){},onMouseUp:_,createElementsFunc:b}}var y=40,A=function(){var s=(0,i.useState)([]),c=(0,u.Z)(s,2),f=c[0],_=c[1],l=(0,i.useState)(!1),g=(0,u.Z)(l,2),E=g[0],M=g[1],C=(0,i.useState)(!1),v=(0,u.Z)(C,2),K=v[0],G=v[1],Z=(0,i.useState)(void 0),Q=(0,u.Z)(Z,2),P=Q[0],L=Q[1],mn=(0,i.useState)(),w=(0,u.Z)(mn,2),z=w[0],S=w[1],q=(0,i.useState)(),cn=(0,u.Z)(q,2),$=cn[0],Mn=cn[1],gn=(0,i.useState)([]),sn=(0,u.Z)(gn,2),B=sn[0],vn=sn[1],Tn=(0,i.useState)(10),En=(0,u.Z)(Tn,2),hn=En[0],Dn=En[1],bn=(0,i.useState)(60),xn=(0,u.Z)(bn,2),An=xn[0],jn=xn[1],Zn=(0,i.useState)(1),On=(0,u.Z)(Zn,2),Pn=On[0],Cn=On[1],Sn=function(a){a||Cn(1),a<.1||a>3?Cn(1):Cn(a)},R=function(a){Mn(a),a!=null&&a.label&&S(a.label)};(0,i.useEffect)(function(){(0,m.Ad)()},[]);var In=function(a){for(var nn=[],fn=0;fn<B.length;fn++)B[fn].frontendId==a.frontendId?nn.push(a):nn.push(B[fn]);R(a),vn(nn)},Bn={dataId:0,currentLabel:z,brushSize:hn,scale:Pn,currentTool:P,annotations:B,currentAnnotation:$,onAnnotationAdd:function(a){var nn=B.concat([a]);vn(nn),$||R(a)},onAnnotationModify:In,onMouseUp:function(){(0,m.k3)({annos:B,currAnno:$})}},Rn=N(Bn),Un=j(Bn),Wn=P=="polygon"?Un:Rn,Kn=(0,r.YB)().formatMessage({id:"pages.toolBar.polygon"}),Yn=(0,r.YB)().formatMessage({id:"pages.toolBar.brush"}),Fn=(0,r.YB)().formatMessage({id:"pages.toolBar.rubber"}),Nn=(0,r.YB)().formatMessage({id:"pages.toolBar.zoomIn"}),pn=(0,r.YB)().formatMessage({id:"pages.toolBar.zoomOut"}),zn=(0,r.YB)().formatMessage({id:"pages.toolBar.move"}),$n=(0,r.YB)().formatMessage({id:"pages.toolBar.unDo"}),Vn=(0,r.YB)().formatMessage({id:"pages.toolBar.reDo"}),Hn=(0,r.YB)().formatMessage({id:"pages.toolBar.save"}),Jn=(0,r.YB)().formatMessage({id:"pages.toolBar.edit"}),Xn=(0,r.YB)().formatMessage({id:"pages.toolBar.clearMark"}),Gn=(0,r.YB)().formatMessage({id:"pages.toolBar.interactor"}),Qn=(0,r.YB)().formatMessage({id:"pages.toolBar.segmentThreshold"}),kn=(0,r.YB)().formatMessage({id:"pages.toolBar.visualRadius"}),wn=(0,r.YB)().formatMessage({id:"pages.toolBar.determineOutline"}),qn=(0,r.YB)().formatMessage({id:"pages.toolBar.divideData"}),nt=(0,r.YB)().formatMessage({id:"pages.toolBar.export"});return(0,e.jsxs)(h.Z,{className:"segment",children:[(0,e.jsxs)(T.Z,{children:[(0,e.jsx)(O.Z,{imgSrc:"./pics/buttons/polygon.png",active:P=="polygon",onClick:function(){L("polygon"),R(void 0)},children:Kn}),(0,e.jsx)(O.Z,{active:P=="editor",imgSrc:"./pics/buttons/edit.png",onClick:function(){L("editor"),R(void 0)},children:Jn}),(0,e.jsx)(en.Z,{imgSrc:"./pics/buttons/brush.png",size:hn,active:P=="brush",onClick:function(){P!="rubber"&&P!="brush"&&R(void 0),L("brush")},onChange:function(a){Dn(a)},children:Yn}),(0,e.jsx)(en.Z,{size:hn,active:P=="rubber",onClick:function(){P!="rubber"&&P!="brush"&&R(void 0),L("rubber")},onChange:function(a){Dn(a)},imgSrc:"./pics/buttons/rubber.png",children:Fn}),(0,e.jsx)(O.Z,{imgSrc:"./pics/buttons/zoom_in.png",onClick:function(){Sn(Pn+.1)},children:Nn}),(0,e.jsx)(O.Z,{imgSrc:"./pics/buttons/zoom_out.png",onClick:function(){Sn(Pn-.1)},children:pn}),(0,e.jsx)(O.Z,{imgSrc:"./pics/buttons/save.png",children:Hn}),(0,e.jsx)(O.Z,{active:P=="mover",imgSrc:"./pics/buttons/move.png",onClick:function(){L("mover")},children:zn}),(0,e.jsx)(O.Z,{imgSrc:"./pics/buttons/prev.png",onClick:function(){var a=(0,m.td)();a&&(vn(a.annos),R(a.currAnno))},children:$n}),(0,e.jsx)(O.Z,{imgSrc:"./pics/buttons/next.png",onClick:function(){var a=(0,m.Vd)();a&&(vn(a.annos),R(a.currAnno))},children:Vn}),(0,e.jsx)(O.Z,{imgSrc:"./pics/buttons/clear_mark.png",children:Xn})]}),(0,e.jsxs)("div",{id:"dr",className:"mainStage",children:[(0,e.jsx)("div",{className:"draw",children:(0,e.jsx)(Y.Z,{scale:Pn,annotations:B,currentTool:P,currentAnnotation:$,setCurrentAnnotation:R,onAnnotationModify:In,onAnnotationModifyComplete:function(){(0,m.k3)({annos:B,currAnno:$})},imgSrc:void 0,transparency:An,onAnnotationAdd:function(a){var nn=B.concat([a]);vn(nn),$||R(a)},drawTool:Wn})}),(0,e.jsx)("div",{className:"pblock",children:(0,e.jsxs)("div",{className:"progress",children:[(0,e.jsx)(dn.Z,{className:"progressBar",percent:10,status:"active",showInfo:!1})," ",(0,e.jsx)("span",{className:"progressDesc",children:"Current labeling 1 of 300. Already labeled 20."})]})}),(0,e.jsx)("div",{className:"prevTask",onClick:function(){!task.prevTask()||(R(void 0),vn([]))}}),(0,e.jsx)("div",{className:"nextTask",onClick:function(){!task.nextTask()||(R(void 0),vn([]))}})]}),(0,e.jsxs)(T.Z,{disLoc:"right",children:[(0,e.jsx)(O.Z,{imgSrc:"./pics/buttons/intelligent_interaction.png",children:Gn}),(0,e.jsx)(en.Z,{imgSrc:"./pics/buttons/threshold.png",disLoc:"left",children:Qn}),(0,e.jsx)(en.Z,{imgSrc:"./pics/buttons/alpha.png",disLoc:"left",size:An,maxSize:100,minSize:0,onChange:function(a){jn(a)},children:(0,r.YB)().formatMessage({id:"pages.toolBar.transparency"})}),(0,e.jsx)(en.Z,{imgSrc:"./pics/buttons/radius.png",disLoc:"left",children:kn}),(0,e.jsx)(O.Z,{imgSrc:"./pics/buttons/data_division.png",onClick:function(){M(!0)},children:qn}),(0,e.jsx)(O.Z,{imgSrc:"./pics/buttons/export.png",onClick:function(){G(!0)},children:nt})]}),(0,e.jsxs)("div",{className:"rightSideBar",children:[(0,e.jsx)("div",{className:"determinOutline",children:(0,e.jsx)(_n.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",block:!0,onClick:function(){R(void 0)},children:wn})}),(0,e.jsx)(W.Z,{labels:f,activeIds:new Set([z]),onLabelSelect:function(a){S(a),R(void 0)},onLabelModify:function(){},onLabelDelete:function(a){var nn=[],fn=(0,V.Z)(f),yn;try{for(fn.s();!(yn=fn.n()).done;){var Ln=yn.value;Ln.labelId!=a.labelId&&nn.push(Ln)}}catch(tt){fn.e(tt)}finally{fn.f()}_(nn),(z==null?void 0:z.labelId)==a.labelId&&S(void 0)},onLabelAdd:function(a){f.push(a),_(f),S(a)}}),(0,e.jsx)(un.Z,{currAnnotation:$,annotations:B,onAnnotationSelect:function(a){a!=null&&a.delete||R(a)},onAnnotationAdd:function(){},onAnnotationModify:function(){},onAnnotationDelete:function(a){vn(B.filter(function(nn){return nn.frontendId!=a.frontendId})),R(void 0)}})]}),(0,e.jsx)(H.Z,{visible:E,onCancel:function(){M(!1)},onFinish:function(){M(!1)}}),(0,e.jsx)(D.Z,{visible:K,onCancel:function(){G(!1)},onFinish:function(){G(!1)}})]})},rn=A}}]);
