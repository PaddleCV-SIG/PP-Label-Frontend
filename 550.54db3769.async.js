(self.webpackChunkpp_labeling_frontend=self.webpackChunkpp_labeling_frontend||[]).push([[550],{74607:function(){(function(k){var E={};function s(f){if(E[f])return E[f].exports;var c=E[f]={i:f,l:!1,exports:{}};return k[f].call(c.exports,c,c.exports,s),c.l=!0,c.exports}s.m=k,s.c=E,s.d=function(f,c,v){s.o(f,c)||Object.defineProperty(f,c,{enumerable:!0,get:v})},s.r=function(f){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},s.t=function(f,c){if(1&c&&(f=s(f)),8&c||4&c&&typeof f=="object"&&f&&f.__esModule)return f;var v=Object.create(null);if(s.r(v),Object.defineProperty(v,"default",{enumerable:!0,value:f}),2&c&&typeof f!="string")for(var m in f)s.d(v,m,function(S){return f[S]}.bind(null,m));return v},s.n=function(f){var c=f&&f.__esModule?function(){return f.default}:function(){return f};return s.d(c,"a",c),c},s.o=function(f,c){return Object.prototype.hasOwnProperty.call(f,c)},s.p="",s(s.s=65)})([function(k,E,s){var f=s(133);k.exports=function(c,v,m){var S=c==null?void 0:f(c,v);return S===void 0?m:S}},function(k,E,s){"use strict";var f=this&&this.__importDefault||function(X){return X&&X.__esModule?X:{default:X}};Object.defineProperty(E,"__esModule",{value:!0});var c=s(6),v=s(9),m=f(s(143)),S=s(15),Z=f(s(144));function z(X,I){var T=v.getCoords(X),j=v.getCoords(I);if(T.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(j.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var F=T[0][0],C=T[0][1],R=T[1][0],g=T[1][1],b=j[0][0],B=j[0][1],G=j[1][0],O=j[1][1],A=(O-B)*(R-F)-(G-b)*(g-C);if(A==0)return null;var V=((G-b)*(C-B)-(O-B)*(F-b))/A,J=((R-F)*(C-B)-(g-C)*(F-b))/A;if(0<=V&&V<=1&&0<=J&&J<=1){var it=F+V*(R-F),dt=C+V*(g-C);return c.point([it,dt])}return null}E.default=function(X,I){var T={},j=[];if(X.type==="LineString"&&(X=c.feature(X)),I.type==="LineString"&&(I=c.feature(I)),X.type==="Feature"&&I.type==="Feature"&&X.geometry!==null&&I.geometry!==null&&X.geometry.type==="LineString"&&I.geometry.type==="LineString"&&X.geometry.coordinates.length===2&&I.geometry.coordinates.length===2){var F=z(X,I);return F&&j.push(F),c.featureCollection(j)}var C=Z.default();return C.load(m.default(I)),S.featureEach(m.default(X),function(R){S.featureEach(C.search(R),function(g){var b=z(R,g);if(b){var B=v.getCoords(b).join(",");T[B]||(T[B]=!0,j.push(b))}})}),c.featureCollection(j)}},function(k,E){k.exports=function(s){var f=typeof s;return s!=null&&(f=="object"||f=="function")}},function(k,E,s){var f=s(29),c=typeof self=="object"&&self&&self.Object===Object&&self,v=f||c||Function("return this")();k.exports=v},function(k,E){k.exports=function(s){return s!=null&&typeof s=="object"}},function(k,E){var s=Array.isArray;k.exports=s},function(k,E,s){"use strict";function f(C,R,g){g===void 0&&(g={});var b={type:"Feature"};return g.id!==0&&!g.id||(b.id=g.id),g.bbox&&(b.bbox=g.bbox),b.properties=R||{},b.geometry=C,b}function c(C,R,g){return g===void 0&&(g={}),f({type:"Point",coordinates:C},R,g)}function v(C,R,g){g===void 0&&(g={});for(var b=0,B=C;b<B.length;b++){var G=B[b];if(G.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var O=0;O<G[G.length-1].length;O++)if(G[G.length-1][O]!==G[0][O])throw new Error("First and last Position are not equivalent.")}return f({type:"Polygon",coordinates:C},R,g)}function m(C,R,g){if(g===void 0&&(g={}),C.length<2)throw new Error("coordinates must be an array of two or more positions");return f({type:"LineString",coordinates:C},R,g)}function S(C,R){R===void 0&&(R={});var g={type:"FeatureCollection"};return R.id&&(g.id=R.id),R.bbox&&(g.bbox=R.bbox),g.features=C,g}function Z(C,R,g){return g===void 0&&(g={}),f({type:"MultiLineString",coordinates:C},R,g)}function z(C,R,g){return g===void 0&&(g={}),f({type:"MultiPoint",coordinates:C},R,g)}function X(C,R,g){return g===void 0&&(g={}),f({type:"MultiPolygon",coordinates:C},R,g)}function I(C,R){R===void 0&&(R="kilometers");var g=E.factors[R];if(!g)throw new Error(R+" units is invalid");return C*g}function T(C,R){R===void 0&&(R="kilometers");var g=E.factors[R];if(!g)throw new Error(R+" units is invalid");return C/g}function j(C){return C%(2*Math.PI)*180/Math.PI}function F(C){return!isNaN(C)&&C!==null&&!Array.isArray(C)&&!/^\s*$/.test(C)}Object.defineProperty(E,"__esModule",{value:!0}),E.earthRadius=63710088e-1,E.factors={centimeters:100*E.earthRadius,centimetres:100*E.earthRadius,degrees:E.earthRadius/111325,feet:3.28084*E.earthRadius,inches:39.37*E.earthRadius,kilometers:E.earthRadius/1e3,kilometres:E.earthRadius/1e3,meters:E.earthRadius,metres:E.earthRadius,miles:E.earthRadius/1609.344,millimeters:1e3*E.earthRadius,millimetres:1e3*E.earthRadius,nauticalmiles:E.earthRadius/1852,radians:1,yards:E.earthRadius/1.0936},E.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/E.earthRadius,yards:1/1.0936},E.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},E.feature=f,E.geometry=function(C,R,g){switch(g===void 0&&(g={}),C){case"Point":return c(R).geometry;case"LineString":return m(R).geometry;case"Polygon":return v(R).geometry;case"MultiPoint":return z(R).geometry;case"MultiLineString":return Z(R).geometry;case"MultiPolygon":return X(R).geometry;default:throw new Error(C+" is invalid")}},E.point=c,E.points=function(C,R,g){return g===void 0&&(g={}),S(C.map(function(b){return c(b,R)}),g)},E.polygon=v,E.polygons=function(C,R,g){return g===void 0&&(g={}),S(C.map(function(b){return v(b,R)}),g)},E.lineString=m,E.lineStrings=function(C,R,g){return g===void 0&&(g={}),S(C.map(function(b){return m(b,R)}),g)},E.featureCollection=S,E.multiLineString=Z,E.multiPoint=z,E.multiPolygon=X,E.geometryCollection=function(C,R,g){return g===void 0&&(g={}),f({type:"GeometryCollection",geometries:C},R,g)},E.round=function(C,R){if(R===void 0&&(R=0),R&&!(0<=R))throw new Error("precision must be a positive number");var g=Math.pow(10,R||0);return Math.round(C*g)/g},E.radiansToLength=I,E.lengthToRadians=T,E.lengthToDegrees=function(C,R){return j(T(C,R))},E.bearingToAzimuth=function(C){var R=C%360;return R<0&&(R+=360),R},E.radiansToDegrees=j,E.degreesToRadians=function(C){return C%360*Math.PI/180},E.convertLength=function(C,R,g){if(R===void 0&&(R="kilometers"),g===void 0&&(g="kilometers"),!(0<=C))throw new Error("length must be a positive number");return I(T(C,R),g)},E.convertArea=function(C,R,g){if(R===void 0&&(R="meters"),g===void 0&&(g="kilometers"),!(0<=C))throw new Error("area must be a positive number");var b=E.areaFactors[R];if(!b)throw new Error("invalid original units");var B=E.areaFactors[g];if(!B)throw new Error("invalid final units");return C/b*B},E.isNumber=F,E.isObject=function(C){return!!C&&C.constructor===Object},E.validateBBox=function(C){if(!C)throw new Error("bbox is required");if(!Array.isArray(C))throw new Error("bbox must be an Array");if(C.length!==4&&C.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");C.forEach(function(R){if(!F(R))throw new Error("bbox must only contain numbers")})},E.validateId=function(C){if(!C)throw new Error("id is required");if(["string","number"].indexOf(typeof C)===-1)throw new Error("id must be a number or a string")},E.radians2degrees=function(){throw new Error("method has been renamed to `radiansToDegrees`")},E.degrees2radians=function(){throw new Error("method has been renamed to `degreesToRadians`")},E.distanceToDegrees=function(){throw new Error("method has been renamed to `lengthToDegrees`")},E.distanceToRadians=function(){throw new Error("method has been renamed to `lengthToRadians`")},E.radiansToDistance=function(){throw new Error("method has been renamed to `radiansToLength`")},E.bearingToAngle=function(){throw new Error("method has been renamed to `bearingToAzimuth`")},E.convertDistance=function(){throw new Error("method has been renamed to `convertLength`")}},function(k,E,s){"use strict";Object.defineProperty(E,"__esModule",{value:!0});var f=s(6);function c(v,m,S,Z,z,X,I,T){var j,F,C,R,g={x:null,y:null,onLine1:!1,onLine2:!1};return(j=(T-X)*(S-v)-(I-z)*(Z-m))==0?g.x!==null&&g.y!==null&&g:(R=(S-v)*(F=m-X)-(Z-m)*(C=v-z),F=((I-z)*F-(T-X)*C)/j,C=R/j,g.x=v+F*(S-v),g.y=m+F*(Z-m),0<=F&&F<=1&&(g.onLine1=!0),0<=C&&C<=1&&(g.onLine2=!0),!(!g.onLine1||!g.onLine2)&&[g.x,g.y])}E.default=function(v){var m,S,Z={type:"FeatureCollection",features:[]};if((S=v.type==="Feature"?v.geometry:v).type==="LineString")m=[S.coordinates];else if(S.type==="MultiLineString")m=S.coordinates;else if(S.type==="MultiPolygon")m=[].concat.apply([],S.coordinates);else{if(S.type!=="Polygon")throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");m=S.coordinates}return m.forEach(function(z){m.forEach(function(X){for(var I=0;I<z.length-1;I++)for(var T=I;T<X.length-1;T++)if(!(z===X&&(Math.abs(I-T)===1||I===0&&T===z.length-2&&z[I][0]===z[z.length-1][0]&&z[I][1]===z[z.length-1][1]))){var j=c(z[I][0],z[I][1],z[I+1][0],z[I+1][1],X[T][0],X[T][1],X[T+1][0],X[T+1][1]);j&&Z.features.push(f.point([j[0],j[1]]))}})}),Z}},function(k,E,s){var f=s(18),c=s(81),v=s(82),m=f?f.toStringTag:void 0;k.exports=function(S){return S==null?S===void 0?"[object Undefined]":"[object Null]":m&&m in Object(S)?c(S):v(S)}},function(k,E,s){"use strict";Object.defineProperty(E,"__esModule",{value:!0});var f=s(6);E.getCoord=function(c){if(!c)throw new Error("coord is required");if(!Array.isArray(c)){if(c.type==="Feature"&&c.geometry!==null&&c.geometry.type==="Point")return c.geometry.coordinates;if(c.type==="Point")return c.coordinates}if(Array.isArray(c)&&2<=c.length&&!Array.isArray(c[0])&&!Array.isArray(c[1]))return c;throw new Error("coord must be GeoJSON Point or an Array of numbers")},E.getCoords=function(c){if(Array.isArray(c))return c;if(c.type==="Feature"){if(c.geometry!==null)return c.geometry.coordinates}else if(c.coordinates)return c.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")},E.containsNumber=function c(v){if(1<v.length&&f.isNumber(v[0])&&f.isNumber(v[1]))return!0;if(Array.isArray(v[0])&&v[0].length)return c(v[0]);throw new Error("coordinates must only contain numbers")},E.geojsonType=function(c,v,m){if(!v||!m)throw new Error("type and name required");if(!c||c.type!==v)throw new Error("Invalid input to "+m+": must be a "+v+", given "+c.type)},E.featureOf=function(c,v,m){if(!c)throw new Error("No feature passed");if(!m)throw new Error(".featureOf() requires a name");if(!c||c.type!=="Feature"||!c.geometry)throw new Error("Invalid input to "+m+", Feature with geometry required");if(!c.geometry||c.geometry.type!==v)throw new Error("Invalid input to "+m+": must be a "+v+", given "+c.geometry.type)},E.collectionOf=function(c,v,m){if(!c)throw new Error("No featureCollection passed");if(!m)throw new Error(".collectionOf() requires a name");if(!c||c.type!=="FeatureCollection")throw new Error("Invalid input to "+m+", FeatureCollection required");for(var S=0,Z=c.features;S<Z.length;S++){var z=Z[S];if(!z||z.type!=="Feature"||!z.geometry)throw new Error("Invalid input to "+m+", Feature with geometry required");if(!z.geometry||z.geometry.type!==v)throw new Error("Invalid input to "+m+": must be a "+v+", given "+z.geometry.type)}},E.getGeom=function(c){return c.type==="Feature"?c.geometry:c},E.getType=function(c,v){return c.type==="FeatureCollection"?"FeatureCollection":c.type==="GeometryCollection"?"GeometryCollection":c.type==="Feature"&&c.geometry!==null?c.geometry.type:c.type}},function(k,E,s){var f=s(69),c=s(70),v=s(71),m=s(72),S=s(73);function Z(z){var X=-1,I=z==null?0:z.length;for(this.clear();++X<I;){var T=z[X];this.set(T[0],T[1])}}Z.prototype.clear=f,Z.prototype.delete=c,Z.prototype.get=v,Z.prototype.has=m,Z.prototype.set=S,k.exports=Z},function(k,E,s){var f=s(12);k.exports=function(c,v){for(var m=c.length;m--;)if(f(c[m][0],v))return m;return-1}},function(k,E){k.exports=function(s,f){return s===f||s!=s&&f!=f}},function(k,E,s){var f=s(16)(Object,"create");k.exports=f},function(k,E,s){var f=s(95);k.exports=function(c,v){var m=c.__data__;return f(v)?m[typeof v=="string"?"string":"hash"]:m.map}},function(k,E,s){"use strict";Object.defineProperty(E,"__esModule",{value:!0});var f=s(6);function c(I,T,j){if(I!==null)for(var F,C,R,g,b,B,G,O,A=0,V=0,J=I.type,it=J==="FeatureCollection",dt=J==="Feature",bt=it?I.features.length:1,$=0;$<bt;$++){b=(O=!!(G=it?I.features[$].geometry:dt?I.geometry:I)&&G.type==="GeometryCollection")?G.geometries.length:1;for(var xt=0;xt<b;xt++){var Bt=0,Gt=0;if((g=O?G.geometries[xt]:G)!==null){B=g.coordinates;var Ot=g.type;switch(A=!j||Ot!=="Polygon"&&Ot!=="MultiPolygon"?0:1,Ot){case null:break;case"Point":if(T(B,V,$,Bt,Gt)===!1)return!1;V++,Bt++;break;case"LineString":case"MultiPoint":for(F=0;F<B.length;F++){if(T(B[F],V,$,Bt,Gt)===!1)return!1;V++,Ot==="MultiPoint"&&Bt++}Ot==="LineString"&&Bt++;break;case"Polygon":case"MultiLineString":for(F=0;F<B.length;F++){for(C=0;C<B[F].length-A;C++){if(T(B[F][C],V,$,Bt,Gt)===!1)return!1;V++}Ot==="MultiLineString"&&Bt++,Ot==="Polygon"&&Gt++}Ot==="Polygon"&&Bt++;break;case"MultiPolygon":for(F=0;F<B.length;F++){for(C=Gt=0;C<B[F].length;C++){for(R=0;R<B[F][C].length-A;R++){if(T(B[F][C][R],V,$,Bt,Gt)===!1)return!1;V++}Gt++}Bt++}break;case"GeometryCollection":for(F=0;F<g.geometries.length;F++)if(c(g.geometries[F],T,j)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function v(I,T){var j;switch(I.type){case"FeatureCollection":for(j=0;j<I.features.length&&T(I.features[j].properties,j)!==!1;j++);break;case"Feature":T(I.properties,0)}}function m(I,T){if(I.type==="Feature")T(I,0);else if(I.type==="FeatureCollection")for(var j=0;j<I.features.length&&T(I.features[j],j)!==!1;j++);}function S(I,T){var j,F,C,R,g,b,B,G,O,A,V=0,J=I.type==="FeatureCollection",it=I.type==="Feature",dt=J?I.features.length:1;for(j=0;j<dt;j++){for(b=J?I.features[j].geometry:it?I.geometry:I,G=J?I.features[j].properties:it?I.properties:{},O=J?I.features[j].bbox:it?I.bbox:void 0,A=J?I.features[j].id:it?I.id:void 0,g=(B=!!b&&b.type==="GeometryCollection")?b.geometries.length:1,C=0;C<g;C++)if((R=B?b.geometries[C]:b)!==null)switch(R.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(T(R,V,G,O,A)===!1)return!1;break;case"GeometryCollection":for(F=0;F<R.geometries.length;F++)if(T(R.geometries[F],V,G,O,A)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(T(null,V,G,O,A)===!1)return!1;V++}}function Z(I,T){S(I,function(j,F,C,R,g){var b,B=j===null?null:j.type;switch(B){case null:case"Point":case"LineString":case"Polygon":return T(f.feature(j,C,{bbox:R,id:g}),F,0)!==!1&&void 0}switch(B){case"MultiPoint":b="Point";break;case"MultiLineString":b="LineString";break;case"MultiPolygon":b="Polygon"}for(var G=0;G<j.coordinates.length;G++){var O={type:b,coordinates:j.coordinates[G]};if(T(f.feature(O,C),F,G)===!1)return!1}})}function z(I,T){Z(I,function(j,F,C){var R=0;if(j.geometry){var g=j.geometry.type;if(g!=="Point"&&g!=="MultiPoint"){var b,B=0,G=0,O=0;return c(j,function(A,V,J,it,dt){if(b===void 0||B<F||G<it||O<dt)return b=A,B=F,G=it,O=dt,void(R=0);var bt=f.lineString([b,A],j.properties);if(T(bt,F,C,dt,R)===!1)return!1;R++,b=A})!==!1&&void 0}}})}function X(I,T){if(!I)throw new Error("geojson is required");Z(I,function(j,F,C){if(j.geometry!==null){var R=j.geometry.type,g=j.geometry.coordinates;switch(R){case"LineString":if(T(j,F,C,0,0)===!1)return!1;break;case"Polygon":for(var b=0;b<g.length;b++)if(T(f.lineString(g[b],j.properties),F,C,b)===!1)return!1}}})}E.coordEach=c,E.coordReduce=function(I,T,j,F){var C=j;return c(I,function(R,g,b,B,G){C=g===0&&j===void 0?R:T(C,R,g,b,B,G)},F),C},E.propEach=v,E.propReduce=function(I,T,j){var F=j;return v(I,function(C,R){F=R===0&&j===void 0?C:T(F,C,R)}),F},E.featureEach=m,E.featureReduce=function(I,T,j){var F=j;return m(I,function(C,R){F=R===0&&j===void 0?C:T(F,C,R)}),F},E.coordAll=function(I){var T=[];return c(I,function(j){T.push(j)}),T},E.geomEach=S,E.geomReduce=function(I,T,j){var F=j;return S(I,function(C,R,g,b,B){F=R===0&&j===void 0?C:T(F,C,R,g,b,B)}),F},E.flattenEach=Z,E.flattenReduce=function(I,T,j){var F=j;return Z(I,function(C,R,g){F=R===0&&g===0&&j===void 0?C:T(F,C,R,g)}),F},E.segmentEach=z,E.segmentReduce=function(I,T,j){var F=j,C=!1;return z(I,function(R,g,b,B,G){F=C===!1&&j===void 0?R:T(F,R,g,b,B,G),C=!0}),F},E.lineEach=X,E.lineReduce=function(I,T,j){var F=j;return X(I,function(C,R,g,b){F=R===0&&j===void 0?C:T(F,C,R,g,b)}),F},E.findSegment=function(I,T){if(T=T||{},!f.isObject(T))throw new Error("options is invalid");var j,F=T.featureIndex||0,C=T.multiFeatureIndex||0,R=T.geometryIndex||0,g=T.segmentIndex||0,b=T.properties;switch(I.type){case"FeatureCollection":F<0&&(F=I.features.length+F),b=b||I.features[F].properties,j=I.features[F].geometry;break;case"Feature":b=b||I.properties,j=I.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":j=I;break;default:throw new Error("geojson is invalid")}if(j===null)return null;var B=j.coordinates;switch(j.type){case"Point":case"MultiPoint":return null;case"LineString":return g<0&&(g=B.length+g-1),f.lineString([B[g],B[g+1]],b,T);case"Polygon":return R<0&&(R=B.length+R),g<0&&(g=B[R].length+g-1),f.lineString([B[R][g],B[R][g+1]],b,T);case"MultiLineString":return C<0&&(C=B.length+C),g<0&&(g=B[C].length+g-1),f.lineString([B[C][g],B[C][g+1]],b,T);case"MultiPolygon":return C<0&&(C=B.length+C),R<0&&(R=B[C].length+R),g<0&&(g=B[C][R].length-g-1),f.lineString([B[C][R][g],B[C][R][g+1]],b,T)}throw new Error("geojson is invalid")},E.findPoint=function(I,T){if(T=T||{},!f.isObject(T))throw new Error("options is invalid");var j,F=T.featureIndex||0,C=T.multiFeatureIndex||0,R=T.geometryIndex||0,g=T.coordIndex||0,b=T.properties;switch(I.type){case"FeatureCollection":F<0&&(F=I.features.length+F),b=b||I.features[F].properties,j=I.features[F].geometry;break;case"Feature":b=b||I.properties,j=I.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":j=I;break;default:throw new Error("geojson is invalid")}if(j===null)return null;var B=j.coordinates;switch(j.type){case"Point":return f.point(B,b,T);case"MultiPoint":return C<0&&(C=B.length+C),f.point(B[C],b,T);case"LineString":return g<0&&(g=B.length+g),f.point(B[g],b,T);case"Polygon":return R<0&&(R=B.length+R),g<0&&(g=B[R].length+g),f.point(B[R][g],b,T);case"MultiLineString":return C<0&&(C=B.length+C),g<0&&(g=B[C].length+g),f.point(B[C][g],b,T);case"MultiPolygon":return C<0&&(C=B.length+C),R<0&&(R=B[C].length+R),g<0&&(g=B[C][R].length-g),f.point(B[C][R][g],b,T)}throw new Error("geojson is invalid")}},function(k,E,s){var f=s(79),c=s(86);k.exports=function(v,m){var S=c(v,m);return f(S)?S:void 0}},function(k,E,s){var f=s(8),c=s(2);k.exports=function(v){if(!c(v))return!1;var m=f(v);return m=="[object Function]"||m=="[object GeneratorFunction]"||m=="[object AsyncFunction]"||m=="[object Proxy]"}},function(k,E,s){var f=s(3).Symbol;k.exports=f},function(k,E,s){var f=s(32);k.exports=function(c,v,m){v=="__proto__"&&f?f(c,v,{configurable:!0,enumerable:!0,value:m,writable:!0}):c[v]=m}},function(k,E){k.exports=function(s){return s.webpackPolyfill||(s.deprecate=function(){},s.paths=[],s.children||(s.children=[]),Object.defineProperty(s,"loaded",{enumerable:!0,get:function(){return s.l}}),Object.defineProperty(s,"id",{enumerable:!0,get:function(){return s.i}}),s.webpackPolyfill=1),s}},function(k,E,s){var f=s(110),c=s(4),v=Object.prototype,m=v.hasOwnProperty,S=v.propertyIsEnumerable,Z=f(function(){return arguments}())?f:function(z){return c(z)&&m.call(z,"callee")&&!S.call(z,"callee")};k.exports=Z},function(k,E,s){var f=s(17),c=s(23);k.exports=function(v){return v!=null&&c(v.length)&&!f(v)}},function(k,E){k.exports=function(s){return typeof s=="number"&&-1<s&&s%1==0&&s<=9007199254740991}},function(k,E){var s=/^(?:0|[1-9]\d*)$/;k.exports=function(f,c){var v=typeof f;return!!(c=c==null?9007199254740991:c)&&(v=="number"||v!="symbol"&&s.test(f))&&-1<f&&f%1==0&&f<c}},function(k,E,s){var f=s(8),c=s(4);k.exports=function(v){return typeof v=="symbol"||c(v)&&f(v)=="[object Symbol]"}},function(k,E,s){var f=s(67),c=s(124)(function(v,m,S){f(v,m,S)});k.exports=c},function(k,E,s){(function(f){k.exports=function(){"use strict";function c(q,d){if(!(q instanceof d))throw new TypeError("Cannot call a class as a function")}function v(q,d){for(var w=0;w<d.length;w++){var D=d[w];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(q,D.key,D)}}function m(q,d,w){return d&&v(q.prototype,d),w&&v(q,w),q}var S=function q(d,w){c(this,q),this.next=null,this.key=d,this.data=w,this.left=null,this.right=null};function Z(q,d){return d<q?1:q<d?-1:0}function z(q,d,w){for(var D=new S(null,null),Y=D,K=D;;){var at=w(q,d.key);if(at<0){if(d.left===null)break;if(w(q,d.left.key)<0){var rt=d.left;if(d.left=rt.right,rt.right=d,(d=rt).left===null)break}K.left=d,d=(K=d).left}else{if(!(0<at)||d.right===null)break;if(0<w(q,d.right.key)){var ot=d.right;if(d.right=ot.left,ot.left=d,(d=ot).right===null)break}Y.right=d,d=(Y=d).right}}return Y.right=d.left,K.left=d.right,d.left=D.right,d.right=D.left,d}function X(q,d,w,D){var Y=new S(q,d);if(w===null)return Y.left=Y.right=null,Y;var K=D(q,(w=z(q,w,D)).key);return K<0?(Y.left=w.left,(Y.right=w).left=null):0<=K&&(Y.right=w.right,(Y.left=w).right=null),Y}function I(q,d,w){var D=null,Y=null;if(d){var K=w((d=z(q,d,w)).key,q);K===0?(D=d.left,Y=d.right):K<0?(Y=d.right,d.right=null,D=d):(D=d.left,d.left=null,Y=d)}return{left:D,right:Y}}var T=function(){function q(){var d=0<arguments.length&&arguments[0]!==void 0?arguments[0]:Z;c(this,q),this._root=null,this._size=0,this._comparator=d}return m(q,[{key:"insert",value:function(d,w){return this._size++,this._root=X(d,w,this._root,this._comparator)}},{key:"add",value:function(d,w){var D=new S(d,w);this._root===null&&(D.left=D.right=null,this._size++,this._root=D);var Y=this._comparator,K=z(d,this._root,Y),at=Y(d,K.key);return at===0?this._root=K:(at<0?(D.left=K.left,(D.right=K).left=null):0<at&&(D.right=K.right,(D.left=K).right=null),this._size++,this._root=D),this._root}},{key:"remove",value:function(d){this._root=this._remove(d,this._root,this._comparator)}},{key:"_remove",value:function(d,w,D){var Y;return w===null?null:D(d,(w=z(d,w,D)).key)===0?(w.left===null?Y=w.right:(Y=z(d,w.left,D)).right=w.right,this._size--,Y):w}},{key:"pop",value:function(){var d=this._root;if(d){for(;d.left;)d=d.left;return this._root=z(d.key,this._root,this._comparator),this._root=this._remove(d.key,this._root,this._comparator),{key:d.key,data:d.data}}return null}},{key:"findStatic",value:function(d){for(var w=this._root,D=this._comparator;w;){var Y=D(d,w.key);if(Y===0)return w;w=Y<0?w.left:w.right}return null}},{key:"find",value:function(d){return this._root&&(this._root=z(d,this._root,this._comparator),this._comparator(d,this._root.key)!==0)?null:this._root}},{key:"contains",value:function(d){for(var w=this._root,D=this._comparator;w;){var Y=D(d,w.key);if(Y===0)return!0;w=Y<0?w.left:w.right}return!1}},{key:"forEach",value:function(d,w){for(var D=this._root,Y=[],K=!1;!K;)D!==null?(Y.push(D),D=D.left):Y.length!==0?(D=Y.pop(),d.call(w,D),D=D.right):K=!0;return this}},{key:"range",value:function(d,w,D,Y){for(var K=[],at=this._comparator,rt=this._root;K.length!==0||rt;)if(rt)K.push(rt),rt=rt.left;else{if(0<at((rt=K.pop()).key,w))break;if(0<=at(rt.key,d)&&D.call(Y,rt))return this;rt=rt.right}return this}},{key:"keys",value:function(){var d=[];return this.forEach(function(w){var D=w.key;return d.push(D)}),d}},{key:"values",value:function(){var d=[];return this.forEach(function(w){var D=w.data;return d.push(D)}),d}},{key:"min",value:function(){return this._root?this.minNode(this._root).key:null}},{key:"max",value:function(){return this._root?this.maxNode(this._root).key:null}},{key:"minNode",value:function(){var d=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._root;if(d)for(;d.left;)d=d.left;return d}},{key:"maxNode",value:function(){var d=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._root;if(d)for(;d.right;)d=d.right;return d}},{key:"at",value:function(d){for(var w=this._root,D=!1,Y=0,K=[];!D;)if(w)K.push(w),w=w.left;else if(0<K.length){if(w=K.pop(),Y===d)return w;Y++,w=w.right}else D=!0;return null}},{key:"next",value:function(d){var w=this._root,D=null;if(d.right){for(D=d.right;D.left;)D=D.left;return D}for(var Y=this._comparator;w;){var K=Y(d.key,w.key);if(K===0)break;w=K<0?(D=w).left:w.right}return D}},{key:"prev",value:function(d){var w=this._root,D=null;if(d.left!==null){for(D=d.left;D.right;)D=D.right;return D}for(var Y=this._comparator;w;){var K=Y(d.key,w.key);if(K===0)break;w=K<0?w.left:(D=w).right}return D}},{key:"clear",value:function(){return this._root=null,this._size=0,this}},{key:"toList",value:function(){return function(d){for(var w=d,D=[],Y=!1,K=new S(null,null),at=K;!Y;)w?(D.push(w),w=w.left):0<D.length?w=(w=at=at.next=D.pop()).right:Y=!0;return at.next=null,K.next}(this._root)}},{key:"load",value:function(d){var w=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[],D=2<arguments.length&&arguments[2]!==void 0&&arguments[2],Y=d.length,K=this._comparator;if(D&&function rt(ot,ut,gt,pt,mt){if(!(pt<=gt)){for(var wt=ot[gt+pt>>1],vt=gt-1,Mt=pt+1;;){for(;mt(ot[++vt],wt)<0;);for(;0<mt(ot[--Mt],wt););if(Mt<=vt)break;var Ct=ot[vt];ot[vt]=ot[Mt],ot[Mt]=Ct,Ct=ut[vt],ut[vt]=ut[Mt],ut[Mt]=Ct}rt(ot,ut,gt,Mt,mt),rt(ot,ut,Mt+1,pt,mt)}}(d,w,0,Y-1,K),this._root===null)this._root=function rt(ot,ut,gt,pt){var mt=pt-gt;if(0<mt){var wt=gt+Math.floor(mt/2),vt=ot[wt],Mt=ut[wt],Ct=new S(vt,Mt);return Ct.left=rt(ot,ut,gt,wt),Ct.right=rt(ot,ut,wt+1,pt),Ct}return null}(d,w,0,Y),this._size=Y;else{var at=function(rt,ot,ut){for(var gt=new S(null,null),pt=gt,mt=rt,wt=ot;mt!==null&&wt!==null;)ut(mt.key,wt.key)<0?mt=(pt.next=mt).next:wt=(pt.next=wt).next,pt=pt.next;return mt!==null?pt.next=mt:wt!==null&&(pt.next=wt),gt.next}(this.toList(),function(rt,ot){for(var ut=new S(null,null),gt=ut,pt=0;pt<rt.length;pt++)gt=gt.next=new S(rt[pt],ot[pt]);return gt.next=null,ut.next}(d,w),K);Y=this._size+Y,this._root=function rt(ot,ut,gt){var pt=gt-ut;if(0<pt){var mt=ut+Math.floor(pt/2),wt=rt(ot,ut,mt),vt=ot.head;return vt.left=wt,ot.head=ot.head.next,vt.right=rt(ot,mt+1,gt),vt}return null}({head:at},0,Y)}return this}},{key:"isEmpty",value:function(){return this._root===null}},{key:"toString",value:function(){var d=0<arguments.length&&arguments[0]!==void 0?arguments[0]:function(D){return String(D.key)},w=[];return function D(Y,K,at,rt,ot){if(Y){rt("".concat(K).concat(at?"\u2514\u2500\u2500 ":"\u251C\u2500\u2500 ").concat(ot(Y),`
`));var ut=K+(at?"    ":"\u2502   ");Y.left&&D(Y.left,ut,!1,rt,ot),Y.right&&D(Y.right,ut,!0,rt,ot)}}(this._root,"",!0,function(D){return w.push(D)},d),w.join("")}},{key:"update",value:function(d,w,D){var Y=this._comparator,K=I(d,this._root,Y),at=K.left,rt=K.right;Y(d,w)<0?rt=X(w,D,rt,Y):at=X(w,D,at,Y),this._root=function(ot,ut,gt){return ut===null?ot:(ot===null||((ut=z(ot.key,ut,gt)).left=ot),ut)}(at,rt,Y)}},{key:"split",value:function(d){return I(d,this._root,this._comparator)}},{key:"size",get:function(){return this._size}},{key:"root",get:function(){return this._root}}]),q}(),j=function(q,d){return q.ll.x<=d.x&&d.x<=q.ur.x&&q.ll.y<=d.y&&d.y<=q.ur.y},F=function(q,d){if(d.ur.x<q.ll.x||q.ur.x<d.ll.x||d.ur.y<q.ll.y||q.ur.y<d.ll.y)return null;var w=q.ll.x<d.ll.x?d.ll.x:q.ll.x,D=q.ur.x<d.ur.x?q.ur.x:d.ur.x;return{ll:{x:w,y:q.ll.y<d.ll.y?d.ll.y:q.ll.y},ur:{x:D,y:q.ur.y<d.ur.y?q.ur.y:d.ur.y}}},C=Number.EPSILON;C===void 0&&(C=Math.pow(2,-52));var R=C*C,g=function(q,d){if(-C<q&&q<C&&-C<d&&d<C)return 0;var w=q-d;return w*w<R*q*d?0:q<d?-1:1},b=function(){function q(){c(this,q),this.reset()}return m(q,[{key:"reset",value:function(){this.xRounder=new B,this.yRounder=new B}},{key:"round",value:function(d,w){return{x:this.xRounder.round(d),y:this.yRounder.round(w)}}}]),q}(),B=function(){function q(){c(this,q),this.tree=new T,this.round(0)}return m(q,[{key:"round",value:function(d){var w=this.tree.add(d),D=this.tree.prev(w);if(D!==null&&g(w.key,D.key)===0)return this.tree.remove(d),D.key;var Y=this.tree.next(w);return Y!==null&&g(w.key,Y.key)===0?(this.tree.remove(d),Y.key):d}}]),q}(),G=new b,O=function(q,d){return q.x*d.y-q.y*d.x},A=function(q,d){return q.x*d.x+q.y*d.y},V=function(q,d,w){var D={x:d.x-q.x,y:d.y-q.y},Y={x:w.x-q.x,y:w.y-q.y},K=O(D,Y);return g(K,0)},J=function(q){return Math.sqrt(A(q,q))},it=function(q,d,w){var D={x:d.x-q.x,y:d.y-q.y},Y={x:w.x-q.x,y:w.y-q.y};return O(Y,D)/J(Y)/J(D)},dt=function(q,d,w){var D={x:d.x-q.x,y:d.y-q.y},Y={x:w.x-q.x,y:w.y-q.y};return A(Y,D)/J(Y)/J(D)},bt=function(q,d,w){return d.y===0?null:{x:q.x+d.x/d.y*(w-q.y),y:w}},$=function(q,d,w){return d.x===0?null:{x:w,y:q.y+d.y/d.x*(w-q.x)}},xt=function(){function q(d,w){c(this,q),d.events===void 0?d.events=[this]:d.events.push(this),this.point=d,this.isLeft=w}return m(q,null,[{key:"compare",value:function(d,w){var D=q.comparePoints(d.point,w.point);return D!==0?D:(d.point!==w.point&&d.link(w),d.isLeft!==w.isLeft?d.isLeft?1:-1:Gt.compare(d.segment,w.segment))}},{key:"comparePoints",value:function(d,w){return d.x<w.x?-1:d.x>w.x?1:d.y<w.y?-1:d.y>w.y?1:0}}]),m(q,[{key:"link",value:function(d){if(d.point===this.point)throw new Error("Tried to link already linked events");for(var w=d.point.events,D=0,Y=w.length;D<Y;D++){var K=w[D];this.point.events.push(K),K.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var d=this.point.events.length,w=0;w<d;w++){var D=this.point.events[w];if(D.segment.consumedBy===void 0)for(var Y=w+1;Y<d;Y++){var K=this.point.events[Y];K.consumedBy===void 0&&D.otherSE.point.events===K.otherSE.point.events&&D.segment.consume(K.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var d=[],w=0,D=this.point.events.length;w<D;w++){var Y=this.point.events[w];Y!==this&&!Y.segment.ringOut&&Y.segment.isInResult()&&d.push(Y)}return d}},{key:"getLeftmostComparator",value:function(d){var w=this,D=new Map,Y=function(K){var at=K.otherSE;D.set(K,{sine:it(w.point,d.point,at.point),cosine:dt(w.point,d.point,at.point)})};return function(K,at){D.has(K)||Y(K),D.has(at)||Y(at);var rt=D.get(K),ot=rt.sine,ut=rt.cosine,gt=D.get(at),pt=gt.sine,mt=gt.cosine;return 0<=ot&&0<=pt?ut<mt?1:mt<ut?-1:0:ot<0&&pt<0?ut<mt?-1:mt<ut?1:0:pt<ot?-1:ot<pt?1:0}}}]),q}(),Bt=0,Gt=function(){function q(d,w,D,Y){c(this,q),this.id=++Bt,(this.leftSE=d).segment=this,d.otherSE=w,(this.rightSE=w).segment=this,w.otherSE=d,this.rings=D,this.windings=Y}return m(q,null,[{key:"compare",value:function(d,w){var D=d.leftSE.point.x,Y=w.leftSE.point.x,K=d.rightSE.point.x,at=w.rightSE.point.x;if(at<D)return 1;if(K<Y)return-1;var rt=d.leftSE.point.y,ot=w.leftSE.point.y,ut=d.rightSE.point.y,gt=w.rightSE.point.y;if(D<Y){if(ot<rt&&ot<ut)return 1;if(rt<ot&&ut<ot)return-1;var pt=d.comparePoint(w.leftSE.point);if(pt<0)return 1;if(0<pt)return-1;var mt=w.comparePoint(d.rightSE.point);return mt!==0?mt:-1}if(Y<D){if(rt<ot&&rt<gt)return-1;if(ot<rt&&gt<rt)return 1;var wt=w.comparePoint(d.leftSE.point);if(wt!==0)return wt;var vt=d.comparePoint(w.rightSE.point);return vt<0?1:0<vt?-1:1}if(rt<ot)return-1;if(ot<rt)return 1;if(K<at){var Mt=w.comparePoint(d.rightSE.point);if(Mt!==0)return Mt}if(at<K){var Ct=d.comparePoint(w.rightSE.point);if(Ct<0)return 1;if(0<Ct)return-1}if(K!==at){var Rt=ut-rt,te=K-D,Wt=gt-ot,Ft=at-Y;if(te<Rt&&Wt<Ft)return 1;if(Rt<te&&Ft<Wt)return-1}return at<K?1:K<at||ut<gt?-1:gt<ut?1:d.id<w.id?-1:d.id>w.id?1:0}}]),m(q,[{key:"replaceRightSE",value:function(d){this.rightSE=d,(this.rightSE.segment=this).rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var d=this.leftSE.point.y,w=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:d<w?d:w},ur:{x:this.rightSE.point.x,y:w<d?d:w}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(d){return d.x===this.leftSE.point.x&&d.y===this.leftSE.point.y||d.x===this.rightSE.point.x&&d.y===this.rightSE.point.y}},{key:"comparePoint",value:function(d){if(this.isAnEndpoint(d))return 0;var w=this.leftSE.point,D=this.rightSE.point,Y=this.vector();if(w.x===D.x)return d.x===w.x?0:d.x<w.x?1:-1;var K=(d.y-w.y)/Y.y,at=w.x+K*Y.x;if(d.x===at)return 0;var rt=(d.x-w.x)/Y.x,ot=w.y+rt*Y.y;return d.y===ot?0:d.y<ot?-1:1}},{key:"getIntersection",value:function(d){var w=this.bbox(),D=d.bbox(),Y=F(w,D);if(Y===null)return null;var K=this.leftSE.point,at=this.rightSE.point,rt=d.leftSE.point,ot=d.rightSE.point,ut=j(w,rt)&&this.comparePoint(rt)===0,gt=j(D,K)&&d.comparePoint(K)===0,pt=j(w,ot)&&this.comparePoint(ot)===0,mt=j(D,at)&&d.comparePoint(at)===0;if(gt&&ut)return mt&&!pt?at:!mt&&pt?ot:null;if(gt)return pt&&K.x===ot.x&&K.y===ot.y?null:K;if(ut)return mt&&at.x===rt.x&&at.y===rt.y?null:rt;if(mt&&pt)return null;if(mt)return at;if(pt)return ot;var wt=function(vt,Mt,Ct,Rt){if(Mt.x===0)return $(Ct,Rt,vt.x);if(Rt.x===0)return $(vt,Mt,Ct.x);if(Mt.y===0)return bt(Ct,Rt,vt.y);if(Rt.y===0)return bt(vt,Mt,Ct.y);var te=O(Mt,Rt);if(te==0)return null;var Wt={x:Ct.x-vt.x,y:Ct.y-vt.y},Ft=O(Wt,Mt)/te,le=O(Wt,Rt)/te;return{x:(vt.x+le*Mt.x+(Ct.x+Ft*Rt.x))/2,y:(vt.y+le*Mt.y+(Ct.y+Ft*Rt.y))/2}}(K,this.vector(),rt,d.vector());return wt===null?null:j(Y,wt)?G.round(wt.x,wt.y):null}},{key:"split",value:function(d){var w=[],D=d.events!==void 0,Y=new xt(d,!0),K=new xt(d,!1),at=this.rightSE;this.replaceRightSE(K),w.push(K),w.push(Y);var rt=new q(Y,at,this.rings.slice(),this.windings.slice());return 0<xt.comparePoints(rt.leftSE.point,rt.rightSE.point)&&rt.swapEvents(),0<xt.comparePoints(this.leftSE.point,this.rightSE.point)&&this.swapEvents(),D&&(Y.checkForConsuming(),K.checkForConsuming()),w}},{key:"swapEvents",value:function(){var d=this.rightSE;this.rightSE=this.leftSE,this.leftSE=d,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var w=0,D=this.windings.length;w<D;w++)this.windings[w]*=-1}},{key:"consume",value:function(d){for(var w=this,D=d;w.consumedBy;)w=w.consumedBy;for(;D.consumedBy;)D=D.consumedBy;var Y=q.compare(w,D);if(Y!==0){if(0<Y){var K=w;w=D,D=K}if(w.prev===D){var at=w;w=D,D=at}for(var rt=0,ot=D.rings.length;rt<ot;rt++){var ut=D.rings[rt],gt=D.windings[rt],pt=w.rings.indexOf(ut);pt===-1?(w.rings.push(ut),w.windings.push(gt)):w.windings[pt]+=gt}D.rings=null,D.windings=null,D.consumedBy=w,D.leftSE.consumedBy=w.leftSE,D.rightSE.consumedBy=w.rightSE}}},{key:"prevInResult",value:function(){return this._prevInResult!==void 0||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(this._beforeState!==void 0)return this._beforeState;if(this.prev){var d=this.prev.consumedBy||this.prev;this._beforeState=d.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(this._afterState!==void 0)return this._afterState;var d=this.beforeState();this._afterState={rings:d.rings.slice(0),windings:d.windings.slice(0),multiPolys:[]};for(var w=this._afterState.rings,D=this._afterState.windings,Y=this._afterState.multiPolys,K=0,at=this.rings.length;K<at;K++){var rt=this.rings[K],ot=this.windings[K],ut=w.indexOf(rt);ut===-1?(w.push(rt),D.push(ot)):D[ut]+=ot}for(var gt=[],pt=[],mt=0,wt=w.length;mt<wt;mt++)if(D[mt]!==0){var vt=w[mt],Mt=vt.poly;if(pt.indexOf(Mt)===-1)if(vt.isExterior)gt.push(Mt);else{pt.indexOf(Mt)===-1&&pt.push(Mt);var Ct=gt.indexOf(vt.poly);Ct!==-1&&gt.splice(Ct,1)}}for(var Rt=0,te=gt.length;Rt<te;Rt++){var Wt=gt[Rt].multiPoly;Y.indexOf(Wt)===-1&&Y.push(Wt)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;var d=this.beforeState().multiPolys,w=this.afterState().multiPolys;switch(Et.type){case"union":var D=d.length===0,Y=w.length===0;this._isInResult=D!=Y;break;case"intersection":var K,at;at=d.length<w.length?(K=d.length,w.length):(K=w.length,d.length),this._isInResult=at===Et.numMultiPolys&&K<at;break;case"xor":var rt=Math.abs(d.length-w.length);this._isInResult=rt%2==1;break;case"difference":var ot=function(ut){return ut.length===1&&ut[0].isSubject};this._isInResult=ot(d)!==ot(w);break;default:throw new Error("Unrecognized operation type found ".concat(Et.type))}return this._isInResult}}],[{key:"fromRing",value:function(d,w,D){var Y,K,at,rt=xt.comparePoints(d,w);if(rt<0)Y=d,K=w,at=1;else{if(!(0<rt))throw new Error("Tried to create degenerate segment at [".concat(d.x,", ").concat(d.y,"]"));Y=w,K=d,at=-1}return new q(new xt(Y,!0),new xt(K,!1),[D],[at])}}]),q}(),Ot=function(){function q(d,w,D){if(c(this,q),!Array.isArray(d)||d.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=w,this.isExterior=D,this.segments=[],typeof d[0][0]!="number"||typeof d[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var Y=G.round(d[0][0],d[0][1]);this.bbox={ll:{x:Y.x,y:Y.y},ur:{x:Y.x,y:Y.y}};for(var K=Y,at=1,rt=d.length;at<rt;at++){if(typeof d[at][0]!="number"||typeof d[at][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var ot=G.round(d[at][0],d[at][1]);ot.x===K.x&&ot.y===K.y||(this.segments.push(Gt.fromRing(K,ot,this)),ot.x<this.bbox.ll.x&&(this.bbox.ll.x=ot.x),ot.y<this.bbox.ll.y&&(this.bbox.ll.y=ot.y),ot.x>this.bbox.ur.x&&(this.bbox.ur.x=ot.x),ot.y>this.bbox.ur.y&&(this.bbox.ur.y=ot.y),K=ot)}Y.x===K.x&&Y.y===K.y||this.segments.push(Gt.fromRing(K,Y,this))}return m(q,[{key:"getSweepEvents",value:function(){for(var d=[],w=0,D=this.segments.length;w<D;w++){var Y=this.segments[w];d.push(Y.leftSE),d.push(Y.rightSE)}return d}}]),q}(),ce=function(){function q(d,w){if(c(this,q),!Array.isArray(d))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new Ot(d[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var D=1,Y=d.length;D<Y;D++){var K=new Ot(d[D],this,!1);K.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=K.bbox.ll.x),K.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=K.bbox.ll.y),K.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=K.bbox.ur.x),K.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=K.bbox.ur.y),this.interiorRings.push(K)}this.multiPoly=w}return m(q,[{key:"getSweepEvents",value:function(){for(var d=this.exteriorRing.getSweepEvents(),w=0,D=this.interiorRings.length;w<D;w++)for(var Y=this.interiorRings[w].getSweepEvents(),K=0,at=Y.length;K<at;K++)d.push(Y[K]);return d}}]),q}(),Lt=function(){function q(d,w){if(c(this,q),!Array.isArray(d))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof d[0][0][0]=="number"&&(d=[d])}catch(at){}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var D=0,Y=d.length;D<Y;D++){var K=new ce(d[D],this);K.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=K.bbox.ll.x),K.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=K.bbox.ll.y),K.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=K.bbox.ur.x),K.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=K.bbox.ur.y),this.polys.push(K)}this.isSubject=w}return m(q,[{key:"getSweepEvents",value:function(){for(var d=[],w=0,D=this.polys.length;w<D;w++)for(var Y=this.polys[w].getSweepEvents(),K=0,at=Y.length;K<at;K++)d.push(Y[K]);return d}}]),q}(),Be=function(){function q(d){c(this,q),this.events=d;for(var w=0,D=d.length;w<D;w++)d[w].segment.ringOut=this;this.poly=null}return m(q,null,[{key:"factory",value:function(d){for(var w=[],D=0,Y=d.length;D<Y;D++){var K=d[D];if(K.isInResult()&&!K.ringOut){for(var at=null,rt=K.leftSE,ot=K.rightSE,ut=[rt],gt=rt.point,pt=[];at=rt,rt=ot,ut.push(rt),rt.point!==gt;)for(;;){var mt=rt.getAvailableLinkedEvents();if(mt.length===0){var wt=ut[0].point,vt=ut[ut.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(wt.x,",")+" ".concat(wt.y,"]. Last matching segment found ends at")+" [".concat(vt.x,", ").concat(vt.y,"]."))}if(mt.length===1){ot=mt[0].otherSE;break}for(var Mt=null,Ct=0,Rt=pt.length;Ct<Rt;Ct++)if(pt[Ct].point===rt.point){Mt=Ct;break}if(Mt===null){pt.push({index:ut.length,point:rt.point});var te=rt.getLeftmostComparator(at);ot=mt.sort(te)[0].otherSE;break}var Wt=pt.splice(Mt)[0],Ft=ut.splice(Wt.index);Ft.unshift(Ft[0].otherSE),w.push(new q(Ft.reverse()))}w.push(new q(ut))}}return w}}]),m(q,[{key:"getGeom",value:function(){for(var d=this.events[0].point,w=[d],D=1,Y=this.events.length-1;D<Y;D++){var K=this.events[D].point,at=this.events[D+1].point;V(K,d,at)!==0&&(w.push(K),d=K)}if(w.length===1)return null;var rt=w[0],ot=w[1];V(rt,d,ot)===0&&w.shift(),w.push(w[0]);for(var ut=this.isExteriorRing()?1:-1,gt=this.isExteriorRing()?0:w.length-1,pt=this.isExteriorRing()?w.length:-1,mt=[],wt=gt;wt!=pt;wt+=ut)mt.push([w[wt].x,w[wt].y]);return mt}},{key:"isExteriorRing",value:function(){if(this._isExteriorRing===void 0){var d=this.enclosingRing();this._isExteriorRing=!d||!d.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var d=this.events[0],w=1,D=this.events.length;w<D;w++){var Y=this.events[w];0<xt.compare(d,Y)&&(d=Y)}for(var K=d.segment.prevInResult(),at=K?K.prevInResult():null;;){if(!K)return null;if(!at)return K.ringOut;if(at.ringOut!==K.ringOut)return at.ringOut.enclosingRing()!==K.ringOut?K.ringOut:K.ringOut.enclosingRing();at=(K=at.prevInResult())?K.prevInResult():null}}}]),q}(),Tt=function(){function q(d){c(this,q),((this.exteriorRing=d).poly=this).interiorRings=[]}return m(q,[{key:"addInterior",value:function(d){this.interiorRings.push(d),d.poly=this}},{key:"getGeom",value:function(){var d=[this.exteriorRing.getGeom()];if(d[0]===null)return null;for(var w=0,D=this.interiorRings.length;w<D;w++){var Y=this.interiorRings[w].getGeom();Y!==null&&d.push(Y)}return d}}]),q}(),Dt=function(){function q(d){c(this,q),this.rings=d,this.polys=this._composePolys(d)}return m(q,[{key:"getGeom",value:function(){for(var d=[],w=0,D=this.polys.length;w<D;w++){var Y=this.polys[w].getGeom();Y!==null&&d.push(Y)}return d}},{key:"_composePolys",value:function(d){for(var w=[],D=0,Y=d.length;D<Y;D++){var K=d[D];if(!K.poly)if(K.isExteriorRing())w.push(new Tt(K));else{var at=K.enclosingRing();at.poly||w.push(new Tt(at)),at.poly.addInterior(K)}}return w}}]),q}(),oe=function(){function q(d){var w=1<arguments.length&&arguments[1]!==void 0?arguments[1]:Gt.compare;c(this,q),this.queue=d,this.tree=new T(w),this.segments=[]}return m(q,[{key:"process",value:function(d){var w=d.segment,D=[];if(d.consumedBy)return d.isLeft?this.queue.remove(d.otherSE):this.tree.remove(w),D;var Y=d.isLeft?this.tree.insert(w):this.tree.find(w);if(!Y)throw new Error("Unable to find segment #".concat(w.id," ")+"[".concat(w.leftSE.point.x,", ").concat(w.leftSE.point.y,"] -> ")+"[".concat(w.rightSE.point.x,", ").concat(w.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var K=Y,at=Y,rt=void 0,ot=void 0;rt===void 0;)(K=this.tree.prev(K))===null?rt=null:K.key.consumedBy===void 0&&(rt=K.key);for(;ot===void 0;)(at=this.tree.next(at))===null?ot=null:at.key.consumedBy===void 0&&(ot=at.key);if(d.isLeft){var ut=null;if(rt){var gt=rt.getIntersection(w);if(gt!==null&&(w.isAnEndpoint(gt)||(ut=gt),!rt.isAnEndpoint(gt)))for(var pt=this._splitSafely(rt,gt),mt=0,wt=pt.length;mt<wt;mt++)D.push(pt[mt])}var vt=null;if(ot){var Mt=ot.getIntersection(w);if(Mt!==null&&(w.isAnEndpoint(Mt)||(vt=Mt),!ot.isAnEndpoint(Mt)))for(var Ct=this._splitSafely(ot,Mt),Rt=0,te=Ct.length;Rt<te;Rt++)D.push(Ct[Rt])}if(ut!==null||vt!==null){var Wt=null;ut===null?Wt=vt:vt===null?Wt=ut:Wt=xt.comparePoints(ut,vt)<=0?ut:vt,this.queue.remove(w.rightSE),D.push(w.rightSE);for(var Ft=w.split(Wt),le=0,ne=Ft.length;le<ne;le++)D.push(Ft[le])}0<D.length?(this.tree.remove(w),D.push(d)):(this.segments.push(w),w.prev=rt)}else{if(rt&&ot){var $t=rt.getIntersection(ot);if($t!==null){if(!rt.isAnEndpoint($t))for(var fe=this._splitSafely(rt,$t),ae=0,me=fe.length;ae<me;ae++)D.push(fe[ae]);if(!ot.isAnEndpoint($t))for(var Oe=this._splitSafely(ot,$t),Le=0,ze=Oe.length;Le<ze;Le++)D.push(Oe[Le])}}this.tree.remove(w)}return D}},{key:"_splitSafely",value:function(d,w){this.tree.remove(d);var D=d.rightSE;this.queue.remove(D);var Y=d.split(w);return Y.push(D),d.consumedBy===void 0&&this.tree.insert(d),Y}}]),q}(),Ut=f!==void 0&&f.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,Nt=f!==void 0&&f.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,Et=new(function(){function q(){c(this,q)}return m(q,[{key:"run",value:function(d,w,D){Et.type=d,G.reset();for(var Y=[new Lt(w,!0)],K=0,at=D.length;K<at;K++)Y.push(new Lt(D[K],!1));if(Et.numMultiPolys=Y.length,Et.type==="difference")for(var rt=Y[0],ot=1;ot<Y.length;)F(Y[ot].bbox,rt.bbox)!==null?ot++:Y.splice(ot,1);if(Et.type==="intersection"){for(var ut=0,gt=Y.length;ut<gt;ut++)for(var pt=Y[ut],mt=ut+1,wt=Y.length;mt<wt;mt++)if(F(pt.bbox,Y[mt].bbox)===null)return[]}for(var vt=new T(xt.compare),Mt=0,Ct=Y.length;Mt<Ct;Mt++)for(var Rt=Y[Mt].getSweepEvents(),te=0,Wt=Rt.length;te<Wt;te++)if(vt.insert(Rt[te]),vt.size>Ut)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var Ft=new oe(vt),le=vt.size,ne=vt.pop();ne;){var $t=ne.key;if(vt.size===le){var fe=$t.segment;throw new Error("Unable to pop() ".concat($t.isLeft?"left":"right"," SweepEvent ")+"[".concat($t.point.x,", ").concat($t.point.y,"] from segment #").concat(fe.id," ")+"[".concat(fe.leftSE.point.x,", ").concat(fe.leftSE.point.y,"] -> ")+"[".concat(fe.rightSE.point.x,", ").concat(fe.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(vt.size>Ut)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(Ft.segments.length>Nt)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var ae=Ft.process($t),me=0,Oe=ae.length;me<Oe;me++){var Le=ae[me];Le.consumedBy===void 0&&vt.insert(Le)}le=vt.size,ne=vt.pop()}G.reset();var ze=Be.factory(Ft.segments);return new Dt(ze).getGeom()}}]),q}());return{union:function(q){for(var d=arguments.length,w=new Array(1<d?d-1:0),D=1;D<d;D++)w[D-1]=arguments[D];return Et.run("union",q,w)},intersection:function(q){for(var d=arguments.length,w=new Array(1<d?d-1:0),D=1;D<d;D++)w[D-1]=arguments[D];return Et.run("intersection",q,w)},xor:function(q){for(var d=arguments.length,w=new Array(1<d?d-1:0),D=1;D<d;D++)w[D-1]=arguments[D];return Et.run("xor",q,w)},difference:function(q){for(var d=arguments.length,w=new Array(1<d?d-1:0),D=1;D<d;D++)w[D-1]=arguments[D];return Et.run("difference",q,w)}}}()}).call(this,s(149))},function(k,E,s){var f=s(16)(s(3),"Map");k.exports=f},function(k,E,s){(function(f){var c=typeof f=="object"&&f&&f.Object===Object&&f;k.exports=c}).call(this,s(80))},function(k,E,s){var f=s(87),c=s(94),v=s(96),m=s(97),S=s(98);function Z(z){var X=-1,I=z==null?0:z.length;for(this.clear();++X<I;){var T=z[X];this.set(T[0],T[1])}}Z.prototype.clear=f,Z.prototype.delete=c,Z.prototype.get=v,Z.prototype.has=m,Z.prototype.set=S,k.exports=Z},function(k,E,s){var f=s(19),c=s(12);k.exports=function(v,m,S){(S===void 0||c(v[m],S))&&(S!==void 0||m in v)||f(v,m,S)}},function(k,E,s){var f=s(16),c=function(){try{var v=f(Object,"defineProperty");return v({},"",{}),v}catch(m){}}();k.exports=c},function(k,E,s){var f=s(109)(Object.getPrototypeOf,Object);k.exports=f},function(k,E){var s=Object.prototype;k.exports=function(f){var c=f&&f.constructor;return f===(typeof c=="function"&&c.prototype||s)}},function(k,E,s){(function(f){var c=s(3),v=s(112),m=E&&!E.nodeType&&E,S=m&&typeof f=="object"&&f&&!f.nodeType&&f,Z=S&&S.exports===m?c.Buffer:void 0,z=(Z?Z.isBuffer:void 0)||v;f.exports=z}).call(this,s(20)(k))},function(k,E,s){var f=s(114),c=s(115),v=s(116),m=v&&v.isTypedArray,S=m?c(m):f;k.exports=S},function(k,E){k.exports=function(s,f){if((f!=="constructor"||typeof s[f]!="function")&&f!="__proto__")return s[f]}},function(k,E,s){var f=s(120),c=s(122),v=s(22);k.exports=function(m){return v(m)?f(m,!0):c(m)}},function(k,E){k.exports=function(s){return s}},function(k,E,s){var f=s(5),c=s(134),v=s(135),m=s(138);k.exports=function(S,Z){return f(S)?S:c(S,Z)?[S]:v(m(S))}},function(k,E,s){var f=s(25);k.exports=function(c){if(typeof c=="string"||f(c))return c;var v=c+"";return v=="0"&&1/c==-1/0?"-0":v}},function(k,E,s){"use strict";Object.defineProperty(E,"__esModule",{value:!0});var f=s(15);E.default=function(c){var v=[1/0,1/0,-1/0,-1/0];return f.coordEach(c,function(m){v[0]>m[0]&&(v[0]=m[0]),v[1]>m[1]&&(v[1]=m[1]),v[2]<m[0]&&(v[2]=m[0]),v[3]<m[1]&&(v[3]=m[1])}),v}},function(k){k.exports=JSON.parse('{"a":"2.9.0"}')},function(k){k.exports=JSON.parse('{"tooltips":{"placeMarker":"Click to place marker","firstVertex":"Click to place first vertex","continueLine":"Click to continue drawing","finishLine":"Click any existing marker to finish","finishPoly":"Click first marker to finish","finishRect":"Click to finish","startCircle":"Click to place circle center","finishCircle":"Click to finish circle","placeCircleMarker":"Click to place circle marker"},"actions":{"finish":"Finish","cancel":"Cancel","removeLastVertex":"Remove Last Vertex"},"buttonTitles":{"drawMarkerButton":"Draw Marker","drawPolyButton":"Draw Polygons","drawLineButton":"Draw Polyline","drawCircleButton":"Draw Circle","drawRectButton":"Draw Rectangle","editButton":"Edit Layers","dragButton":"Drag Layers","cutButton":"Cut Layers","deleteButton":"Remove Layers","drawCircleMarkerButton":"Draw Circle Marker","snappingButton":"Snap dragged marker to other layers and vertices","pinningButton":"Pin shared vertices together"}}')},function(k){k.exports=JSON.parse('{"tooltips":{"placeMarker":"Platziere den Marker mit Klick","firstVertex":"Platziere den ersten Marker mit Klick","continueLine":"Klicke, um weiter zu zeichnen","finishLine":"Beende mit Klick auf existierenden Marker","finishPoly":"Beende mit Klick auf ersten Marker","finishRect":"Beende mit Klick","startCircle":"Platziere das Kreiszentrum mit Klick","finishCircle":"Beende den Kreis mit Klick","placeCircleMarker":"Platziere den Kreismarker mit Klick"},"actions":{"finish":"Beenden","cancel":"Abbrechen","removeLastVertex":"Letzten Vertex l\xF6schen"},"buttonTitles":{"drawMarkerButton":"Marker zeichnen","drawPolyButton":"Polygon zeichnen","drawLineButton":"Polyline zeichnen","drawCircleButton":"Kreis zeichnen","drawRectButton":"Rechteck zeichnen","editButton":"Layer editieren","dragButton":"Layer bewegen","cutButton":"Layer schneiden","deleteButton":"Layer l\xF6schen","drawCircleMarkerButton":"Kreismarker zeichnen","snappingButton":"Bewegter Layer an andere Layer oder Vertexe einhacken","pinningButton":"Vertexe an der gleichen Position verkn\xFCpfen"}}')},function(k){k.exports=JSON.parse(`{"tooltips":{"placeMarker":"Clicca per posizionare un Marker","firstVertex":"Clicca per posizionare il primo vertice","continueLine":"Clicca per continuare a disegnare","finishLine":"Clicca qualsiasi marker esistente per terminare","finishPoly":"Clicca il primo marker per terminare","finishRect":"Clicca per terminare","startCircle":"Clicca per posizionare il punto centrale del cerchio","finishCircle":"Clicca per terminare il cerchio","placeCircleMarker":"Clicca per posizionare un Marker del cherchio"},"actions":{"finish":"Termina","cancel":"Annulla","removeLastVertex":"Rimuovi l'ultimo vertice"},"buttonTitles":{"drawMarkerButton":"Disegna Marker","drawPolyButton":"Disegna Poligoni","drawLineButton":"Disegna Polilinea","drawCircleButton":"Disegna Cerchio","drawRectButton":"Disegna Rettangolo","editButton":"Modifica Livelli","dragButton":"Sposta Livelli","cutButton":"Ritaglia Livelli","deleteButton":"Elimina Livelli","drawCircleMarkerButton":"Disegna Marker del Cerchio","snappingButton":"Snap ha trascinato il pennarello su altri strati e vertici","pinningButton":"Pin condiviso vertici insieme"}}`)},function(k){k.exports=JSON.parse('{"tooltips":{"placeMarker":"Klik untuk menempatkan marker","firstVertex":"Klik untuk menempatkan vertex pertama","continueLine":"Klik untuk meneruskan digitasi","finishLine":"Klik pada sembarang marker yang ada untuk mengakhiri","finishPoly":"Klik marker pertama untuk mengakhiri","finishRect":"Klik untuk mengakhiri","startCircle":"Klik untuk menempatkan titik pusat lingkaran","finishCircle":"Klik untuk mengakhiri lingkaran","placeCircleMarker":"Klik untuk menempatkan penanda lingkarann"},"actions":{"finish":"Selesai","cancel":"Batal","removeLastVertex":"Hilangkan Vertex Terakhir"},"buttonTitles":{"drawMarkerButton":"Digitasi Marker","drawPolyButton":"Digitasi Polygon","drawLineButton":"Digitasi Polyline","drawCircleButton":"Digitasi Lingkaran","drawRectButton":"Digitasi Segi Empat","editButton":"Edit Layer","dragButton":"Geser Layer","cutButton":"Potong Layer","deleteButton":"Hilangkan Layer","drawCircleMarkerButton":"Digitasi Penanda Lingkaran","snappingButton":"Jepretkan penanda yang ditarik ke lapisan dan simpul lain","pinningButton":"Sematkan simpul bersama bersama"}}')},function(k){k.exports=JSON.parse('{"tooltips":{"placeMarker":"Adaug\u0103 un punct","firstVertex":"Apas\u0103 aici pentru a ad\u0103uga primul Vertex","continueLine":"Apas\u0103 aici pentru a continua desenul","finishLine":"Apas\u0103 pe orice obiect pentru a finisa desenul","finishPoly":"Apas\u0103 pe primul obiect pentru a finisa","finishRect":"Apas\u0103 pentru a finisa","startCircle":"Apas\u0103 pentru a desena un cerc","finishCircle":"Apas\u0103 pentru a finisa un cerc","placeCircleMarker":"Adaug\u0103 un punct"},"actions":{"finish":"Termin\u0103","cancel":"Anuleaz\u0103","removeLastVertex":"\u0218terge ultimul Vertex"},"buttonTitles":{"drawMarkerButton":"Adaug\u0103 o bulin\u0103","drawPolyButton":"Deseneaz\u0103 un poligon","drawLineButton":"Deseneaz\u0103 o linie","drawCircleButton":"Deseneaz\u0103 un cerc","drawRectButton":"Deseneaz\u0103 un dreptunghi","editButton":"Editeaz\u0103 straturile","dragButton":"Mut\u0103 straturile","cutButton":"Taie straturile","deleteButton":"\u0218terge straturile","drawCircleMarkerButton":"Deseneaz\u0103 marcatorul cercului","snappingButton":"Fixa\u021Bi marcatorul glisat pe alte straturi \u0219i v\xE2rfuri","pinningButton":"Fixa\u021Bi v\xE2rfurile partajate \xEEmpreun\u0103"}}')},function(k){k.exports=JSON.parse('{"tooltips":{"placeMarker":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043C\u0430\u0440\u043A\u0435\u0440","firstVertex":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043F\u0435\u0440\u0432\u044B\u0439 \u043E\u0431\u044A\u0435\u043A\u0442","continueLine":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u044C \u0440\u0438\u0441\u043E\u0432\u0430\u043D\u0438\u0435","finishLine":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435 \u043B\u044E\u0431\u043E\u0439 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044E\u0449\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440 \u0434\u043B\u044F \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u0438\u044F","finishPoly":"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043F\u0435\u0440\u0432\u0443\u044E \u0442\u043E\u0447\u043A\u0443, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u043A\u043E\u043D\u0447\u0438\u0442\u044C","finishRect":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u043A\u043E\u043D\u0447\u0438\u0442\u044C","startCircle":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0446\u0435\u043D\u0442\u0440 \u043A\u0440\u0443\u0433\u0430","finishCircle":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u0434\u0430\u0442\u044C \u0440\u0430\u0434\u0438\u0443\u0441","placeCircleMarker":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043A\u0440\u0443\u0433\u043E\u0432\u043E\u0439 \u043C\u0430\u0440\u043A\u0435\u0440"},"actions":{"finish":"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044C","cancel":"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C","removeLastVertex":"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C \u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0435\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435"},"buttonTitles":{"drawMarkerButton":"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043C\u0430\u0440\u043A\u0435\u0440","drawPolyButton":"\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043F\u043E\u043B\u0438\u0433\u043E\u043D","drawLineButton":"\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043A\u0440\u0438\u0432\u0443\u044E","drawCircleButton":"\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043A\u0440\u0443\u0433","drawRectButton":"\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043F\u0440\u044F\u043C\u043E\u0443\u0433\u043E\u043B\u044C\u043D\u0438\u043A","editButton":"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u043B\u043E\u0439","dragButton":"\u041F\u0435\u0440\u0435\u043D\u0435\u0441\u0442\u0438 \u0441\u043B\u043E\u0439","cutButton":"\u0412\u044B\u0440\u0435\u0437\u0430\u0442\u044C \u0441\u043B\u043E\u0439","deleteButton":"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0441\u043B\u043E\u0439","drawCircleMarkerButton":"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043A\u0440\u0443\u0433\u043E\u0432\u043E\u0439 \u043C\u0430\u0440\u043A\u0435\u0440","snappingButton":"\u041F\u0440\u0438\u0432\u044F\u0437\u0430\u0442\u044C \u043F\u0435\u0440\u0435\u0442\u0430\u0441\u043A\u0438\u0432\u0430\u0435\u043C\u044B\u0439 \u043C\u0430\u0440\u043A\u0435\u0440 \u043A \u0434\u0440\u0443\u0433\u0438\u043C \u0441\u043B\u043E\u044F\u043C \u0438 \u0432\u0435\u0440\u0448\u0438\u043D\u0430\u043C","pinningButton":"\u0421\u0432\u044F\u0437\u0430\u0442\u044C \u043E\u0431\u0449\u0438\u0435 \u0442\u043E\u0447\u043A\u0438 \u0432\u043C\u0435\u0441\u0442\u0435"}}')},function(k){k.exports=JSON.parse('{"tooltips":{"placeMarker":"Presiona para colocar un marcador","firstVertex":"Presiona para colocar el primer v\xE9rtice","continueLine":"Presiona para continuar dibujando","finishLine":"Presiona cualquier marcador existente para finalizar","finishPoly":"Presiona el primer marcador para finalizar","finishRect":"Presiona para finalizar","startCircle":"Presiona para colocar el centro del circulo","finishCircle":"Presiona para finalizar el circulo","placeCircleMarker":"Presiona para colocar un marcador de circulo"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Remover ultimo v\xE9rtice"},"buttonTitles":{"drawMarkerButton":"Dibujar Marcador","drawPolyButton":"Dibujar Pol\xEDgono","drawLineButton":"Dibujar L\xEDnea","drawCircleButton":"Dibujar Circulo","drawRectButton":"Dibujar Rect\xE1ngulo","editButton":"Editar Capas","dragButton":"Arrastrar Capas","cutButton":"Cortar Capas","deleteButton":"Remover Capas","drawCircleMarkerButton":"Dibujar Marcador de Circulo","snappingButton":"El marcador de Snap arrastrado a otras capas y v\xE9rtices","pinningButton":"Fijar juntos los v\xE9rtices compartidos"}}')},function(k){k.exports=JSON.parse('{"tooltips":{"placeMarker":"Klik om een marker te plaatsen","firstVertex":"Klik om het eerste punt te plaatsen","continueLine":"Klik om te blijven tekenen","finishLine":"Klik op een bestaand punt om te be\xEBindigen","finishPoly":"Klik op het eerst punt om te be\xEBindigen","finishRect":"Klik om te be\xEBindigen","startCircle":"Klik om het middelpunt te plaatsen","finishCircle":"Klik om de cirkel te be\xEBindigen","placeCircleMarker":"Klik om een marker te plaatsen"},"actions":{"finish":"Bewaar","cancel":"Annuleer","removeLastVertex":"Verwijder laatste punt"},"buttonTitles":{"drawMarkerButton":"Plaats Marker","drawPolyButton":"Teken een vlak","drawLineButton":"Teken een lijn","drawCircleButton":"Teken een cirkel","drawRectButton":"Teken een vierkant","editButton":"Bewerk","dragButton":"Verplaats","cutButton":"Knip","deleteButton":"Verwijder","drawCircleMarkerButton":"Plaats Marker","snappingButton":"Snap gesleepte marker naar andere lagen en hoekpunten","pinningButton":"Speld gedeelde hoekpunten samen"}}')},function(k){k.exports=JSON.parse(`{"tooltips":{"placeMarker":"Cliquez pour placer un marqueur","firstVertex":"Cliquez pour placer le premier sommet","continueLine":"Cliquez pour continuer \xE0 dessiner","finishLine":"Cliquez sur n'importe quel marqueur pour terminer","finishPoly":"Cliquez sur le premier marqueur pour terminer","finishRect":"Cliquez pour terminer","startCircle":"Cliquez pour placer le centre du cercle","finishCircle":"Cliquez pour finir le cercle","placeCircleMarker":"Cliquez pour placer le marqueur circulaire"},"actions":{"finish":"Terminer","cancel":"Annuler","removeLastVertex":"Retirer le dernier sommet"},"buttonTitles":{"drawMarkerButton":"Placer des marqueurs","drawPolyButton":"Dessiner des polygones","drawLineButton":"Dessiner des polylignes","drawCircleButton":"Dessiner un cercle","drawRectButton":"Dessiner un rectangle","editButton":"\xC9diter des calques","dragButton":"D\xE9placer des calques","cutButton":"Couper des calques","deleteButton":"Supprimer des calques","drawCircleMarkerButton":"Dessiner un marqueur circulaire","snappingButton":"Glisser le marqueur vers d'autres couches et sommets","pinningButton":"\xC9pingler ensemble les sommets partag\xE9s"}}`)},function(k){k.exports=JSON.parse('{"tooltips":{"placeMarker":"\u5355\u51FB\u653E\u7F6E\u6807\u8BB0","firstVertex":"\u5355\u51FB\u653E\u7F6E\u9996\u4E2A\u9876\u70B9","continueLine":"\u5355\u51FB\u7EE7\u7EED\u7ED8\u5236","finishLine":"\u5355\u51FB\u4EFB\u4F55\u5B58\u5728\u7684\u6807\u8BB0\u4EE5\u5B8C\u6210","finishPoly":"\u5355\u51FB\u7B2C\u4E00\u4E2A\u6807\u8BB0\u4EE5\u5B8C\u6210","finishRect":"\u5355\u51FB\u5B8C\u6210","startCircle":"\u5355\u51FB\u653E\u7F6E\u5706\u5FC3","finishCircle":"\u5355\u51FB\u5B8C\u6210\u5706\u5F62","placeCircleMarker":"\u70B9\u51FB\u653E\u7F6E\u5706\u5F62\u6807\u8BB0"},"actions":{"finish":"\u5B8C\u6210","cancel":"\u53D6\u6D88","removeLastVertex":"\u79FB\u9664\u6700\u540E\u7684\u9876\u70B9"},"buttonTitles":{"drawMarkerButton":"\u7ED8\u5236\u6807\u8BB0","drawPolyButton":"\u7ED8\u5236\u591A\u8FB9\u5F62","drawLineButton":"\u7ED8\u5236\u7EBF\u6BB5","drawCircleButton":"\u7ED8\u5236\u5706\u5F62","drawRectButton":"\u7ED8\u5236\u957F\u65B9\u5F62","editButton":"\u7F16\u8F91\u56FE\u5C42","dragButton":"\u62D6\u62FD\u56FE\u5C42","cutButton":"\u526A\u5207\u56FE\u5C42","deleteButton":"\u5220\u9664\u56FE\u5C42","drawCircleMarkerButton":"\u753B\u5706\u5708\u6807\u8BB0","snappingButton":"\u5C06\u62D6\u52A8\u7684\u6807\u8BB0\u6355\u6349\u5230\u5176\u4ED6\u56FE\u5C42\u548C\u9876\u70B9","pinningButton":"\u5C06\u5171\u4EAB\u9876\u70B9\u56FA\u5B9A\u5728\u4E00\u8D77"}}')},function(k){k.exports=JSON.parse('{"tooltips":{"placeMarker":"\u55AE\u64CA\u653E\u7F6E\u6A19\u8A18","firstVertex":"\u55AE\u64CA\u653E\u7F6E\u7B2C\u4E00\u500B\u9802\u9EDE","continueLine":"\u55AE\u64CA\u7E7C\u7E8C\u7E6A\u88FD","finishLine":"\u55AE\u64CA\u4EFB\u4F55\u5B58\u5728\u7684\u6A19\u8A18\u4EE5\u5B8C\u6210","finishPoly":"\u55AE\u64CA\u7B2C\u4E00\u500B\u6A19\u8A18\u4EE5\u5B8C\u6210","finishRect":"\u55AE\u64CA\u5B8C\u6210","startCircle":"\u55AE\u64CA\u653E\u7F6E\u5713\u5FC3","finishCircle":"\u55AE\u64CA\u5B8C\u6210\u5713\u5F62","placeCircleMarker":"\u9EDE\u64CA\u653E\u7F6E\u5713\u5F62\u6A19\u8A18"},"actions":{"finish":"\u5B8C\u6210","cancel":"\u53D6\u6D88","removeLastVertex":"\u79FB\u9664\u6700\u5F8C\u4E00\u500B\u9802\u9EDE"},"buttonTitles":{"drawMarkerButton":"\u653E\u7F6E\u6A19\u8A18","drawPolyButton":"\u7E6A\u88FD\u591A\u908A\u5F62","drawLineButton":"\u7E6A\u88FD\u7DDA\u6BB5","drawCircleButton":"\u7E6A\u88FD\u5713\u5F62","drawRectButton":"\u7E6A\u88FD\u65B9\u5F62","editButton":"\u7DE8\u8F2F\u5716\u5F62","dragButton":"\u79FB\u52D5\u5716\u5F62","cutButton":"\u88C1\u5207\u5716\u5F62","deleteButton":"\u522A\u9664\u5716\u5F62","drawCircleMarkerButton":"\u756B\u5713\u5708\u6A19\u8A18","snappingButton":"\u5C07\u62D6\u52D5\u7684\u6A19\u8A18\u5C0D\u9F4A\u5230\u5176\u4ED6\u5716\u5C64\u548C\u9802\u9EDE","pinningButton":"\u5C07\u5171\u4EAB\u9802\u9EDE\u56FA\u5B9A\u5728\u4E00\u8D77"}}')},function(k){k.exports=JSON.parse('{"tooltips":{"placeMarker":"Clique para posicionar o marcador","firstVertex":"Clique para posicionar o primeiro v\xE9rtice","continueLine":"Clique para continuar desenhando","finishLine":"Clique em qualquer marcador existente para finalizar","finishPoly":"Clique no primeiro ponto para fechar o pol\xEDgono","finishRect":"Clique para finalizar","startCircle":"Clique para posicionar o centro do c\xEDrculo","finishCircle":"Clique para fechar o c\xEDrculo","placeCircleMarker":"Clique para posicionar o marcador circular"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Remover \xFAltimo v\xE9rtice"},"buttonTitles":{"drawMarkerButton":"Desenhar um marcador","drawPolyButton":"Desenhar um pol\xEDgono","drawLineButton":"Desenhar uma polilinha","drawCircleButton":"Desenhar um c\xEDrculo","drawRectButton":"Desenhar um ret\xE2ngulo","editButton":"Editar camada(s)","dragButton":"Mover camada(s)","cutButton":"Recortar camada(s)","deleteButton":"Remover camada(s)","drawCircleMarkerButton":"Marcador de c\xEDrculos de desenho","snappingButton":"Marcador arrastado para outras camadas e v\xE9rtices","pinningButton":"V\xE9rtices compartilhados de pinos juntos"}}')},function(k){k.exports=JSON.parse('{"tooltips":{"placeMarker":"Kliknij, aby ustawi\u0107 znacznik","firstVertex":"Kliknij, aby ustawi\u0107 pierwszy punkt","continueLine":"Kliknij, aby kontynuowa\u0107 rysowanie","finishLine":"Kliknij dowolny punkt, aby zako\u0144czy\u0107","finishPoly":"Kliknij pierwszy punkt, aby zako\u0144czy\u0107","finishRect":"Kliknij, aby zako\u0144czy\u0107","startCircle":"Kliknij, aby ustawi\u0107 \u015Brodek ko\u0142a","finishCircle":"Kliknij, aby zako\u0144czy\u0107 rysowanie ko\u0142a","placeCircleMarker":"Kliknij, aby ustawi\u0107 okr\u0105g\u0142y znacznik"},"actions":{"finish":"Zako\u0144cz","cancel":"Anuluj","removeLastVertex":"Usu\u0144 ostatni punkt"},"buttonTitles":{"drawMarkerButton":"Narysuj znacznik","drawPolyButton":"Narysuj wielok\u0105t","drawLineButton":"Narysuj \u015Bcie\u017Ck\u0119","drawCircleButton":"Narysuj ko\u0142o","drawRectButton":"Narysuj prostok\u0105t","editButton":"Edytuj","dragButton":"Przesu\u0144","cutButton":"Wytnij","deleteButton":"Usu\u0144","drawCircleMarkerButton":"Narysuj okr\u0105g\u0142y znacznik","snappingButton":"Snap przeci\u0105gni\u0119ty marker na inne warstwy i wierzcho\u0142ki","pinningButton":"Sworze\u0144 wsp\xF3lne wierzcho\u0142ki razem"}}')},function(k){k.exports=JSON.parse('{"tooltips":{"placeMarker":"Klicka f\xF6r att placera mark\xF6r","firstVertex":"Klicka f\xF6r att placera f\xF6rsta h\xF6rnet","continueLine":"Klicka f\xF6r att forts\xE4tta rita","finishLine":"Klicka p\xE5 en existerande punkt f\xF6r att slutf\xF6ra","finishPoly":"Klicka p\xE5 den f\xF6rsta punkten f\xF6r att slutf\xF6ra","finishRect":"Klicka f\xF6r att slutf\xF6ra","startCircle":"Klicka f\xF6r att placera cirkelns centrum","finishCircle":"Klicka f\xF6r att slutf\xF6ra cirkeln","placeCircleMarker":"Klicka f\xF6r att placera cirkelmark\xF6r"},"actions":{"finish":"Slutf\xF6r","cancel":"Avbryt","removeLastVertex":"Ta bort sista h\xF6rnet"},"buttonTitles":{"drawMarkerButton":"Rita Mark\xF6r","drawPolyButton":"Rita Polygoner","drawLineButton":"Rita Linje","drawCircleButton":"Rita Cirkel","drawRectButton":"Rita Rektangel","editButton":"Redigera Lager","dragButton":"Dra Lager","cutButton":"Klipp i Lager","deleteButton":"Ta bort Lager","drawCircleMarkerButton":"Rita Cirkelmark\xF6r","snappingButton":"Sn\xE4pp dra mark\xF6ren till andra lager och h\xF6rn","pinningButton":"F\xE4st delade h\xF6rn tillsammans"}}')},function(k){k.exports=JSON.parse('{"tooltips":{"placeMarker":"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C4\u03AE\u03C3\u03B5\u03C4\u03B5 \u0394\u03B5\u03AF\u03BA\u03C4\u03B7","firstVertex":"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C4\u03AE\u03C3\u03B5\u03C4\u03B5 \u03C4\u03BF \u03C0\u03C1\u03CE\u03C4\u03BF \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF","continueLine":"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C3\u03C5\u03BD\u03B5\u03C7\u03AF\u03C3\u03B5\u03C4\u03B5 \u03BD\u03B1 \u03C3\u03C7\u03B5\u03B4\u03B9\u03AC\u03B6\u03B5\u03C4\u03B5","finishLine":"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03C3\u03B5 \u03BF\u03C0\u03BF\u03B9\u03BF\u03BD\u03B4\u03AE\u03C0\u03BF\u03C4\u03B5 \u03C5\u03C0\u03AC\u03C1\u03C7\u03BF\u03BD \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03BF\u03BB\u03BF\u03BA\u03BB\u03B7\u03C1\u03C9\u03B8\u03B5\u03AF","finishPoly":"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03C3\u03C4\u03BF \u03C0\u03C1\u03CE\u03C4\u03BF \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03B5\u03BB\u03B5\u03B9\u03CE\u03C3\u03B5\u03C4\u03B5","finishRect":"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03B5\u03BB\u03B5\u03B9\u03CE\u03C3\u03B5\u03C4\u03B5","startCircle":"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C4\u03AE\u03C3\u03B5\u03C4\u03B5 \u03BA\u03AD\u03BD\u03C4\u03C1\u03BF \u039A\u03CD\u03BA\u03BB\u03BF\u03C5","finishCircle":"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03BF\u03BB\u03BF\u03BA\u03BB\u03B7\u03C1\u03CE\u03C3\u03B5\u03C4\u03B5 \u03C4\u03BF\u03BD \u039A\u03CD\u03BA\u03BB\u03BF","placeCircleMarker":"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C4\u03AE\u03C3\u03B5\u03C4\u03B5 \u039A\u03C5\u03BA\u03BB\u03B9\u03BA\u03CC \u0394\u03B5\u03AF\u03BA\u03C4\u03B7"},"actions":{"finish":"\u03A4\u03AD\u03BB\u03BF\u03C2","cancel":"\u0391\u03BA\u03CD\u03C1\u03C9\u03C3\u03B7","removeLastVertex":"\u039A\u03B1\u03C4\u03AC\u03C1\u03B3\u03B7\u03C3\u03B7 \u03C4\u03B5\u03BB\u03B5\u03C5\u03C4\u03B1\u03AF\u03BF\u03C5 \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF\u03C5"},"buttonTitles":{"drawMarkerButton":"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u0394\u03B5\u03AF\u03BA\u03C4\u03B7","drawPolyButton":"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u03A0\u03BF\u03BB\u03C5\u03B3\u03CE\u03BD\u03BF\u03C5","drawLineButton":"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u0393\u03C1\u03B1\u03BC\u03BC\u03AE\u03C2","drawCircleButton":"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u039A\u03CD\u03BA\u03BB\u03BF\u03C5","drawRectButton":"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u039F\u03C1\u03B8\u03BF\u03B3\u03C9\u03BD\u03AF\u03BF\u03C5","editButton":"\u0395\u03C0\u03B5\u03BE\u03B5\u03C1\u03B3\u03B1\u03C3\u03AF\u03B1 \u0395\u03C0\u03B9\u03C0\u03AD\u03B4\u03C9\u03BD","dragButton":"\u039C\u03B5\u03C4\u03B1\u03C6\u03BF\u03C1\u03AC \u0395\u03C0\u03B9\u03C0\u03AD\u03B4\u03C9\u03BD","cutButton":"\u0391\u03C0\u03BF\u03BA\u03BF\u03C0\u03AE \u0395\u03C0\u03B9\u03C0\u03AD\u03B4\u03C9\u03BD","deleteButton":"\u039A\u03B1\u03C4\u03AC\u03C1\u03B3\u03B7\u03C3\u03B7 \u0395\u03C0\u03B9\u03C0\u03AD\u03B4\u03C9\u03BD","drawCircleMarkerButton":"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u039A\u03C5\u03BA\u03BB\u03B9\u03BA\u03BF\u03CD \u0394\u03B5\u03AF\u03BA\u03C4\u03B7","snappingButton":"\u03A0\u03C1\u03BF\u03C3\u03BA\u03CC\u03BB\u03BB\u03B7\u03C3\u03B7 \u03C4\u03BF\u03C5 \u0394\u03B5\u03AF\u03BA\u03C4\u03B7 \u03BC\u03B5\u03C4\u03B1\u03C6\u03BF\u03C1\u03AC\u03C2 \u03C3\u03B5 \u03AC\u03BB\u03BB\u03B1 \u0395\u03C0\u03AF\u03C0\u03B5\u03B4\u03B1 \u03BA\u03B1\u03B9 \u039A\u03BF\u03C1\u03C5\u03C6\u03AD\u03C2","pinningButton":"\u03A0\u03B5\u03C1\u03B9\u03BA\u03BF\u03C0\u03AE \u03BA\u03BF\u03B9\u03BD\u03CE\u03BD \u03BA\u03BF\u03C1\u03C5\u03C6\u03CE\u03BD \u03BC\u03B1\u03B6\u03AF"}}')},function(k){k.exports=JSON.parse('{"tooltips":{"placeMarker":"Kattintson a jel\xF6l\u0151 elhelyez\xE9s\xE9hez","firstVertex":"Kattintson az els\u0151 pont elhelyez\xE9s\xE9hez","continueLine":"Kattintson a k\xF6vetkez\u0151 pont elhelyez\xE9s\xE9hez","finishLine":"A befejez\xE9shez kattintson egy megl\xE9v\u0151 pontra","finishPoly":"A befejez\xE9shez kattintson az els\u0151 pontra","finishRect":"Kattintson a befejez\xE9shez","startCircle":"Kattintson a k\xF6r k\xF6z\xE9ppontj\xE1nak elhelyez\xE9s\xE9hez","finishCircle":"Kattintson a k\xF6r befejez\xE9s\xE9hez","placeCircleMarker":"Kattintson a k\xF6rjel\xF6l\u0151 elhelyez\xE9s\xE9hez"},"actions":{"finish":"Befejez\xE9s","cancel":"M\xE9gse","removeLastVertex":"Utols\xF3 pont elt\xE1vol\xEDt\xE1sa"},"buttonTitles":{"drawMarkerButton":"Jel\xF6l\u0151 rajzol\xE1sa","drawPolyButton":"Poligon rajzol\xE1sa","drawLineButton":"Vonal rajzol\xE1sa","drawCircleButton":"K\xF6r rajzol\xE1sa","drawRectButton":"N\xE9gyzet rajzol\xE1sa","editButton":"Elemek szerkeszt\xE9se","dragButton":"Elemek mozgat\xE1sa","cutButton":"Elemek v\xE1g\xE1sa","deleteButton":"Elemek t\xF6rl\xE9se","drawCircleMarkerButton":"K\xF6r jel\xF6l\u0151 rajzol\xE1sa","snappingButton":"Kapcsolja a jel\xF6lt\u0151t m\xE1sik elemhez vagy ponthoz","pinningButton":"K\xF6z\xF6s pontok \xF6sszek\xF6t\xE9se"}}')},function(k){k.exports=JSON.parse('{"tooltips":{"placeMarker":"Tryk for at placere en mark\xF8r","firstVertex":"Tryk for at placere det f\xF8rste punkt","continueLine":"Tryk for at forts\xE6tte linjen","finishLine":"Tryk p\xE5 et eksisterende punkt for at afslutte","finishPoly":"Tryk p\xE5 det f\xF8rste punkt for at afslutte","finishRect":"Tryk for at afslutte","startCircle":"Tryk for at placere cirklens center","finishCircle":"Tryk for at afslutte cirklen","placeCircleMarker":"Tryk for at placere en cirkelmark\xF8r"},"actions":{"finish":"Afslut","cancel":"Afbryd","removeLastVertex":"Fjern sidste punkt"},"buttonTitles":{"drawMarkerButton":"Placer mark\xF8r","drawPolyButton":"Tegn polygon","drawLineButton":"Tegn linje","drawCircleButton":"Tegn cirkel","drawRectButton":"Tegn firkant","editButton":"Rediger","dragButton":"Tr\xE6k","cutButton":"Klip","deleteButton":"Fjern","drawCircleMarkerButton":"Tegn cirkelmark\xF8r","snappingButton":"Fastg\xF8r trukket mark\xF8r til andre elementer","pinningButton":"Sammenl\xE6g delte elementer"}}')},function(k){k.exports=JSON.parse('{"tooltips":{"placeMarker":"Klikk for \xE5 plassere punkt","firstVertex":"Klikk for \xE5 plassere f\xF8rste punkt","continueLine":"Klikk for \xE5 tegne videre","finishLine":"Klikk p\xE5 et eksisterende punkt for \xE5 fullf\xF8re","finishPoly":"Klikk f\xF8rste punkt for \xE5 fullf\xF8re","finishRect":"Klikk for \xE5 fullf\xF8re","startCircle":"Klikk for \xE5 sette sirkel midtpunkt","finishCircle":"Klikk for \xE5 fullf\xF8re sirkel","placeCircleMarker":"Klikk for \xE5 plassere sirkel"},"actions":{"finish":"Fullf\xF8r","cancel":"Kanseller","removeLastVertex":"Fjern forrige punkt"},"buttonTitles":{"drawMarkerButton":"Tegn Punkt","drawPolyButton":"Tegn Flate","drawLineButton":"Tegn Linje","drawCircleButton":"Tegn Sirkel","drawRectButton":"Tegn rektangel","editButton":"Rediger Objekter","dragButton":"Dra Objekter","cutButton":"Kutt Objekter","deleteButton":"Fjern Objekter","drawCircleMarkerButton":"Tegn sirkel-punkt","snappingButton":"Fest dratt punkt til andre objekter og punkt","pinningButton":"Pin delte punkt sammen"}}')},function(k){k.exports=JSON.parse('{"tooltips":{"placeMarker":"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u062C\u0627\u0646\u0645\u0627\u06CC\u06CC \u0646\u0634\u0627\u0646","firstVertex":"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0631\u0633\u0645 \u0627\u0648\u0644\u06CC\u0646 \u0631\u0623\u0633","continueLine":"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0627\u062F\u0627\u0645\u0647 \u0631\u0633\u0645","finishLine":"\u06A9\u0644\u06CC\u06A9 \u0631\u0648\u06CC \u0647\u0631 \u0646\u0634\u0627\u0646 \u0645\u0648\u062C\u0648\u062F \u0628\u0631\u0627\u06CC \u067E\u0627\u06CC\u0627\u0646","finishPoly":"\u06A9\u0644\u06CC\u06A9 \u0631\u0648\u06CC \u0627\u0648\u0644\u06CC\u0646 \u0646\u0634\u0627\u0646 \u0628\u0631\u0627\u06CC \u067E\u0627\u06CC\u0627\u0646","finishRect":"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u067E\u0627\u06CC\u0627\u0646","startCircle":"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0631\u0633\u0645 \u0645\u0631\u06A9\u0632 \u062F\u0627\u06CC\u0631\u0647","finishCircle":"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u067E\u0627\u06CC\u0627\u0646 \u0631\u0633\u0645 \u062F\u0627\u06CC\u0631\u0647","placeCircleMarker":"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0631\u0633\u0645 \u0646\u0634\u0627\u0646 \u062F\u0627\u06CC\u0631\u0647"},"actions":{"finish":"\u067E\u0627\u06CC\u0627\u0646","cancel":"\u0644\u0641\u0648","removeLastVertex":"\u062D\u0630\u0641 \u0622\u062E\u0631\u06CC\u0646 \u0631\u0623\u0633"},"buttonTitles":{"drawMarkerButton":"\u062F\u0631\u062C \u0646\u0634\u0627\u0646","drawPolyButton":"\u0631\u0633\u0645 \u0686\u0646\u062F\u0636\u0644\u0639\u06CC","drawLineButton":"\u0631\u0633\u0645 \u062E\u0637","drawCircleButton":"\u0631\u0633\u0645 \u062F\u0627\u06CC\u0631\u0647","drawRectButton":"\u0631\u0633\u0645 \u0686\u0647\u0627\u0631\u0636\u0644\u0639\u06CC","editButton":"\u0648\u06CC\u0631\u0627\u06CC\u0634 \u0644\u0627\u06CC\u0647\u200C\u0647\u0644","dragButton":"\u062C\u0627\u0628\u062C\u0627\u06CC\u06CC \u0644\u0627\u06CC\u0647\u200C\u0647\u0627","cutButton":"\u0628\u0631\u0634 \u0644\u0627\u06CC\u0647\u200C\u0647\u0627","deleteButton":"\u062D\u0630\u0641 \u0644\u0627\u06CC\u0647\u200C\u0647\u0627","drawCircleMarkerButton":"\u0631\u0633\u0645 \u0646\u0634\u0627\u0646 \u062F\u0627\u06CC\u0631\u0647","snappingButton":"\u0646\u0634\u0627\u0646\u06AF\u0631 \u0631\u0627 \u0628\u0647 \u0644\u0627\u06CC\u0647 \u0647\u0627 \u0648 \u0631\u0626\u0648\u0633 \u062F\u06CC\u06AF\u0631 \u0628\u06A9\u0634\u06CC\u062F","pinningButton":"\u0631\u0626\u0648\u0633 \u0645\u0634\u062A\u0631\u06A9 \u0631\u0627 \u0628\u0627 \u0647\u0645 \u067E\u06CC\u0646 \u06A9\u0646\u06CC\u062F"}}')},function(k,E,s){var f=s(141),c=s(142);k.exports=function(v,m){return v!=null&&c(v,m,f)}},function(k,E,s){"use strict";var f=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(E,"__esModule",{value:!0});var c=f(s(42)),v=f(s(147)),m=f(s(148)),S=s(9);function Z(b,B){var G,O=!1;for(G=0;G<b.coordinates.length;G++)if(R(b.coordinates[G],B.coordinates)){O=!0;break}return O}function z(b,B){for(var G=0,O=B.coordinates;G<O.length;G++){for(var A=O[G],V=!1,J=0,it=b.coordinates;J<it.length;J++)if(R(A,it[J])){V=!0;break}if(!V)return!1}return!0}function X(b,B){for(var G=!1,O=0,A=B.coordinates;O<A.length;O++){var V=A[O];if(m.default(V,b,{ignoreEndVertices:!0})&&(G=!0),!m.default(V,b))return!1}return!!G}function I(b,B){for(var G=0,O=B.coordinates;G<O.length;G++){var A=O[G];if(!v.default(A,b,{ignoreBoundary:!0}))return!1}return!0}function T(b,B){for(var G=!1,O=0,A=B.coordinates;O<A.length;O++){var V=A[O];if(m.default({type:"Point",coordinates:V},b,{ignoreEndVertices:!0})&&(G=!0),!m.default({type:"Point",coordinates:V},b,{ignoreEndVertices:!1}))return!1}return G}function j(b,B){var G=!1,O=0;if(!C(c.default(b),c.default(B)))return!1;for(;O<B.coordinates.length-1;O++){var A=g(B.coordinates[O],B.coordinates[O+1]);if(v.default({type:"Point",coordinates:A},b,{ignoreBoundary:!0})){G=!0;break}}return G}function F(b,B){if(b.type==="Feature"&&b.geometry===null||B.type==="Feature"&&B.geometry===null||!C(c.default(b),c.default(B)))return!1;for(var G=0,O=S.getGeom(B).coordinates;G<O.length;G++)for(var A=0,V=O[G];A<V.length;A++){var J=V[A];if(!v.default(J,b))return!1}return!0}function C(b,B){return!(b[0]>B[0]||b[2]<B[2]||b[1]>B[1]||b[3]<B[3])}function R(b,B){return b[0]===B[0]&&b[1]===B[1]}function g(b,B){return[(b[0]+B[0])/2,(b[1]+B[1])/2]}E.default=function(b,B){var G=S.getGeom(b),O=S.getGeom(B),A=S.getType(b),V=S.getType(B),J=S.getCoords(b),it=S.getCoords(B);switch(A){case"Point":switch(V){case"Point":return R(J,it);default:throw new Error("feature2 "+V+" geometry not supported")}case"MultiPoint":switch(V){case"Point":return Z(G,O);case"MultiPoint":return z(G,O);default:throw new Error("feature2 "+V+" geometry not supported")}case"LineString":switch(V){case"Point":return m.default(O,G,{ignoreEndVertices:!0});case"LineString":return T(G,O);case"MultiPoint":return X(G,O);default:throw new Error("feature2 "+V+" geometry not supported")}case"Polygon":switch(V){case"Point":return v.default(O,G,{ignoreBoundary:!0});case"LineString":return j(G,O);case"Polygon":return F(G,O);case"MultiPoint":return I(G,O);default:throw new Error("feature2 "+V+" geometry not supported")}default:throw new Error("feature1 "+A+" geometry not supported")}},E.isPointInMultiPoint=Z,E.isMultiPointInMultiPoint=z,E.isMultiPointOnLine=X,E.isMultiPointInPoly=I,E.isLineOnLine=T,E.isLineInPoly=j,E.isPolyInPoly=F,E.doBBoxOverlap=C,E.compareCoords=R,E.getMidpoint=g},function(k,E,s){k.exports=s(152)},function(k,E){Array.prototype.findIndex=Array.prototype.findIndex||function(s){if(this===null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof s!="function")throw new TypeError("callback must be a function");for(var f=Object(this),c=f.length>>>0,v=arguments[1],m=0;m<c;m++)if(s.call(v,f[m],m,f))return m;return-1},Array.prototype.find=Array.prototype.find||function(s){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof s!="function")throw new TypeError("callback must be a function");for(var f=Object(this),c=f.length>>>0,v=arguments[1],m=0;m<c;m++){var S=f[m];if(s.call(v,S,m,f))return S}},typeof Object.assign!="function"&&(Object.assign=function(s){"use strict";if(s==null)throw new TypeError("Cannot convert undefined or null to object");s=Object(s);for(var f=1;f<arguments.length;f++){var c=arguments[f];if(c!=null)for(var v in c)Object.prototype.hasOwnProperty.call(c,v)&&(s[v]=c[v])}return s}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(s){s.hasOwnProperty("remove")||Object.defineProperty(s,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(s,f){if(this==null)throw new TypeError('"this" is null or not defined');var c=Object(this),v=c.length>>>0;if(v==0)return!1;for(var m,S,Z=0|f,z=Math.max(0<=Z?Z:v-Math.abs(Z),0);z<v;){if((m=c[z])===(S=s)||typeof m=="number"&&typeof S=="number"&&isNaN(m)&&isNaN(S))return!0;z++}return!1}})},function(k,E,s){var f=s(68),c=s(31),v=s(99),m=s(101),S=s(2),Z=s(38),z=s(37);k.exports=function X(I,T,j,F,C){I!==T&&v(T,function(R,g){if(C=C||new f,S(R))m(I,T,g,j,X,F,C);else{var b=F?F(z(I,g),R,g+"",I,T,C):void 0;b===void 0&&(b=R),c(I,g,b)}},Z)}},function(k,E,s){var f=s(10),c=s(74),v=s(75),m=s(76),S=s(77),Z=s(78);function z(X){var I=this.__data__=new f(X);this.size=I.size}z.prototype.clear=c,z.prototype.delete=v,z.prototype.get=m,z.prototype.has=S,z.prototype.set=Z,k.exports=z},function(k,E){k.exports=function(){this.__data__=[],this.size=0}},function(k,E,s){var f=s(11),c=Array.prototype.splice;k.exports=function(v){var m=this.__data__,S=f(m,v);return!(S<0||(S==m.length-1?m.pop():c.call(m,S,1),--this.size,0))}},function(k,E,s){var f=s(11);k.exports=function(c){var v=this.__data__,m=f(v,c);return m<0?void 0:v[m][1]}},function(k,E,s){var f=s(11);k.exports=function(c){return-1<f(this.__data__,c)}},function(k,E,s){var f=s(11);k.exports=function(c,v){var m=this.__data__,S=f(m,c);return S<0?(++this.size,m.push([c,v])):m[S][1]=v,this}},function(k,E,s){var f=s(10);k.exports=function(){this.__data__=new f,this.size=0}},function(k,E){k.exports=function(s){var f=this.__data__,c=f.delete(s);return this.size=f.size,c}},function(k,E){k.exports=function(s){return this.__data__.get(s)}},function(k,E){k.exports=function(s){return this.__data__.has(s)}},function(k,E,s){var f=s(10),c=s(28),v=s(30);k.exports=function(m,S){var Z=this.__data__;if(Z instanceof f){var z=Z.__data__;if(!c||z.length<199)return z.push([m,S]),this.size=++Z.size,this;Z=this.__data__=new v(z)}return Z.set(m,S),this.size=Z.size,this}},function(k,E,s){var f=s(17),c=s(83),v=s(2),m=s(85),S=/^\[object .+?Constructor\]$/,Z=Function.prototype,z=Object.prototype,X=Z.toString,I=z.hasOwnProperty,T=RegExp("^"+X.call(I).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");k.exports=function(j){return!(!v(j)||c(j))&&(f(j)?T:S).test(m(j))}},function(k,E){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch(f){typeof window=="object"&&(s=window)}k.exports=s},function(k,E,s){var f=s(18),c=Object.prototype,v=c.hasOwnProperty,m=c.toString,S=f?f.toStringTag:void 0;k.exports=function(Z){var z=v.call(Z,S),X=Z[S];try{Z[S]=void 0;var I=!0}catch(j){}var T=m.call(Z);return I&&(z?Z[S]=X:delete Z[S]),T}},function(k,E){var s=Object.prototype.toString;k.exports=function(f){return s.call(f)}},function(k,E,s){var f,c=s(84),v=(f=/[^.]+$/.exec(c&&c.keys&&c.keys.IE_PROTO||""))?"Symbol(src)_1."+f:"";k.exports=function(m){return!!v&&v in m}},function(k,E,s){var f=s(3)["__core-js_shared__"];k.exports=f},function(k,E){var s=Function.prototype.toString;k.exports=function(f){if(f!=null){try{return s.call(f)}catch(c){}try{return f+""}catch(c){}}return""}},function(k,E){k.exports=function(s,f){return s==null?void 0:s[f]}},function(k,E,s){var f=s(88),c=s(10),v=s(28);k.exports=function(){this.size=0,this.__data__={hash:new f,map:new(v||c),string:new f}}},function(k,E,s){var f=s(89),c=s(90),v=s(91),m=s(92),S=s(93);function Z(z){var X=-1,I=z==null?0:z.length;for(this.clear();++X<I;){var T=z[X];this.set(T[0],T[1])}}Z.prototype.clear=f,Z.prototype.delete=c,Z.prototype.get=v,Z.prototype.has=m,Z.prototype.set=S,k.exports=Z},function(k,E,s){var f=s(13);k.exports=function(){this.__data__=f?f(null):{},this.size=0}},function(k,E){k.exports=function(s){var f=this.has(s)&&delete this.__data__[s];return this.size-=f?1:0,f}},function(k,E,s){var f=s(13),c=Object.prototype.hasOwnProperty;k.exports=function(v){var m=this.__data__;if(f){var S=m[v];return S==="__lodash_hash_undefined__"?void 0:S}return c.call(m,v)?m[v]:void 0}},function(k,E,s){var f=s(13),c=Object.prototype.hasOwnProperty;k.exports=function(v){var m=this.__data__;return f?m[v]!==void 0:c.call(m,v)}},function(k,E,s){var f=s(13);k.exports=function(c,v){var m=this.__data__;return this.size+=this.has(c)?0:1,m[c]=f&&v===void 0?"__lodash_hash_undefined__":v,this}},function(k,E,s){var f=s(14);k.exports=function(c){var v=f(this,c).delete(c);return this.size-=v?1:0,v}},function(k,E){k.exports=function(s){var f=typeof s;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?s!=="__proto__":s===null}},function(k,E,s){var f=s(14);k.exports=function(c){return f(this,c).get(c)}},function(k,E,s){var f=s(14);k.exports=function(c){return f(this,c).has(c)}},function(k,E,s){var f=s(14);k.exports=function(c,v){var m=f(this,c),S=m.size;return m.set(c,v),this.size+=m.size==S?0:1,this}},function(k,E,s){var f=s(100)();k.exports=f},function(k,E){k.exports=function(s){return function(f,c,v){for(var m=-1,S=Object(f),Z=v(f),z=Z.length;z--;){var X=Z[s?z:++m];if(c(S[X],X,S)===!1)break}return f}}},function(k,E,s){var f=s(31),c=s(102),v=s(103),m=s(106),S=s(107),Z=s(21),z=s(5),X=s(111),I=s(35),T=s(17),j=s(2),F=s(113),C=s(36),R=s(37),g=s(117);k.exports=function(b,B,G,O,A,V,J){var it=R(b,G),dt=R(B,G),bt=J.get(dt);if(bt)f(b,G,bt);else{var $=V?V(it,dt,G+"",b,B,J):void 0,xt=$===void 0;if(xt){var Bt=z(dt),Gt=!Bt&&I(dt),Ot=!Bt&&!Gt&&C(dt);$=dt,Bt||Gt||Ot?$=z(it)?it:X(it)?m(it):Gt?c(dt,!(xt=!1)):Ot?v(dt,!(xt=!1)):[]:F(dt)||Z(dt)?Z($=it)?$=g(it):j(it)&&!T(it)||($=S(dt)):xt=!1}xt&&(J.set(dt,$),A($,dt,O,V,J),J.delete(dt)),f(b,G,$)}}},function(k,E,s){(function(f){var c=s(3),v=E&&!E.nodeType&&E,m=v&&typeof f=="object"&&f&&!f.nodeType&&f,S=m&&m.exports===v?c.Buffer:void 0,Z=S?S.allocUnsafe:void 0;f.exports=function(z,X){if(X)return z.slice();var I=z.length,T=Z?Z(I):new z.constructor(I);return z.copy(T),T}}).call(this,s(20)(k))},function(k,E,s){var f=s(104);k.exports=function(c,v){var m=v?f(c.buffer):c.buffer;return new c.constructor(m,c.byteOffset,c.length)}},function(k,E,s){var f=s(105);k.exports=function(c){var v=new c.constructor(c.byteLength);return new f(v).set(new f(c)),v}},function(k,E,s){var f=s(3).Uint8Array;k.exports=f},function(k,E){k.exports=function(s,f){var c=-1,v=s.length;for(f=f||Array(v);++c<v;)f[c]=s[c];return f}},function(k,E,s){var f=s(108),c=s(33),v=s(34);k.exports=function(m){return typeof m.constructor!="function"||v(m)?{}:f(c(m))}},function(k,E,s){var f=s(2),c=Object.create;function v(){}k.exports=function(m){if(!f(m))return{};if(c)return c(m);v.prototype=m;var S=new v;return v.prototype=void 0,S}},function(k,E){k.exports=function(s,f){return function(c){return s(f(c))}}},function(k,E,s){var f=s(8),c=s(4);k.exports=function(v){return c(v)&&f(v)=="[object Arguments]"}},function(k,E,s){var f=s(22),c=s(4);k.exports=function(v){return c(v)&&f(v)}},function(k,E){k.exports=function(){return!1}},function(k,E,s){var f=s(8),c=s(33),v=s(4),m=Function.prototype,S=Object.prototype,Z=m.toString,z=S.hasOwnProperty,X=Z.call(Object);k.exports=function(I){if(!v(I)||f(I)!="[object Object]")return!1;var T=c(I);if(T===null)return!0;var j=z.call(T,"constructor")&&T.constructor;return typeof j=="function"&&j instanceof j&&Z.call(j)==X}},function(k,E,s){var f=s(8),c=s(23),v=s(4),m={};m["[object Float32Array]"]=m["[object Float64Array]"]=m["[object Int8Array]"]=m["[object Int16Array]"]=m["[object Int32Array]"]=m["[object Uint8Array]"]=m["[object Uint8ClampedArray]"]=m["[object Uint16Array]"]=m["[object Uint32Array]"]=!0,m["[object Arguments]"]=m["[object Array]"]=m["[object ArrayBuffer]"]=m["[object Boolean]"]=m["[object DataView]"]=m["[object Date]"]=m["[object Error]"]=m["[object Function]"]=m["[object Map]"]=m["[object Number]"]=m["[object Object]"]=m["[object RegExp]"]=m["[object Set]"]=m["[object String]"]=m["[object WeakMap]"]=!1,k.exports=function(S){return v(S)&&c(S.length)&&!!m[f(S)]}},function(k,E){k.exports=function(s){return function(f){return s(f)}}},function(k,E,s){(function(f){var c=s(29),v=E&&!E.nodeType&&E,m=v&&typeof f=="object"&&f&&!f.nodeType&&f,S=m&&m.exports===v&&c.process,Z=function(){try{return m&&m.require&&m.require("util").types||S&&S.binding&&S.binding("util")}catch(z){}}();f.exports=Z}).call(this,s(20)(k))},function(k,E,s){var f=s(118),c=s(38);k.exports=function(v){return f(v,c(v))}},function(k,E,s){var f=s(119),c=s(19);k.exports=function(v,m,S,Z){var z=!S;S=S||{};for(var X=-1,I=m.length;++X<I;){var T=m[X],j=Z?Z(S[T],v[T],T,S,v):void 0;j===void 0&&(j=v[T]),z?c(S,T,j):f(S,T,j)}return S}},function(k,E,s){var f=s(19),c=s(12),v=Object.prototype.hasOwnProperty;k.exports=function(m,S,Z){var z=m[S];v.call(m,S)&&c(z,Z)&&(Z!==void 0||S in m)||f(m,S,Z)}},function(k,E,s){var f=s(121),c=s(21),v=s(5),m=s(35),S=s(24),Z=s(36),z=Object.prototype.hasOwnProperty;k.exports=function(X,I){var T=v(X),j=!T&&c(X),F=!T&&!j&&m(X),C=!T&&!j&&!F&&Z(X),R=T||j||F||C,g=R?f(X.length,String):[],b=g.length;for(var B in X)!I&&!z.call(X,B)||R&&(B=="length"||F&&(B=="offset"||B=="parent")||C&&(B=="buffer"||B=="byteLength"||B=="byteOffset")||S(B,b))||g.push(B);return g}},function(k,E){k.exports=function(s,f){for(var c=-1,v=Array(s);++c<s;)v[c]=f(c);return v}},function(k,E,s){var f=s(2),c=s(34),v=s(123),m=Object.prototype.hasOwnProperty;k.exports=function(S){if(!f(S))return v(S);var Z=c(S),z=[];for(var X in S)(X!="constructor"||!Z&&m.call(S,X))&&z.push(X);return z}},function(k,E){k.exports=function(s){var f=[];if(s!=null)for(var c in Object(s))f.push(c);return f}},function(k,E,s){var f=s(125),c=s(132);k.exports=function(v){return f(function(m,S){var Z=-1,z=S.length,X=1<z?S[z-1]:void 0,I=2<z?S[2]:void 0;for(X=3<v.length&&typeof X=="function"?(z--,X):void 0,I&&c(S[0],S[1],I)&&(X=z<3?void 0:X,z=1),m=Object(m);++Z<z;){var T=S[Z];T&&v(m,T,Z,X)}return m})}},function(k,E,s){var f=s(39),c=s(126),v=s(128);k.exports=function(m,S){return v(c(m,S,f),m+"")}},function(k,E,s){var f=s(127),c=Math.max;k.exports=function(v,m,S){return m=c(m===void 0?v.length-1:m,0),function(){for(var Z=arguments,z=-1,X=c(Z.length-m,0),I=Array(X);++z<X;)I[z]=Z[m+z];z=-1;for(var T=Array(m+1);++z<m;)T[z]=Z[z];return T[m]=S(I),f(v,this,T)}}},function(k,E){k.exports=function(s,f,c){switch(c.length){case 0:return s.call(f);case 1:return s.call(f,c[0]);case 2:return s.call(f,c[0],c[1]);case 3:return s.call(f,c[0],c[1],c[2])}return s.apply(f,c)}},function(k,E,s){var f=s(129),c=s(131)(f);k.exports=c},function(k,E,s){var f=s(130),c=s(32),v=s(39),m=c?function(S,Z){return c(S,"toString",{configurable:!0,enumerable:!1,value:f(Z),writable:!0})}:v;k.exports=m},function(k,E){k.exports=function(s){return function(){return s}}},function(k,E){var s=Date.now;k.exports=function(f){var c=0,v=0;return function(){var m=s(),S=16-(m-v);if(v=m,0<S){if(800<=++c)return arguments[0]}else c=0;return f.apply(void 0,arguments)}}},function(k,E,s){var f=s(12),c=s(22),v=s(24),m=s(2);k.exports=function(S,Z,z){if(!m(z))return!1;var X=typeof Z;return!!(X=="number"?c(z)&&v(Z,z.length):X=="string"&&Z in z)&&f(z[Z],S)}},function(k,E,s){var f=s(40),c=s(41);k.exports=function(v,m){for(var S=0,Z=(m=f(m,v)).length;v!=null&&S<Z;)v=v[c(m[S++])];return S&&S==Z?v:void 0}},function(k,E,s){var f=s(5),c=s(25),v=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,m=/^\w*$/;k.exports=function(S,Z){if(f(S))return!1;var z=typeof S;return!(z!="number"&&z!="symbol"&&z!="boolean"&&S!=null&&!c(S))||m.test(S)||!v.test(S)||Z!=null&&S in Object(Z)}},function(k,E,s){var f=s(136),c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,v=/\\(\\)?/g,m=f(function(S){var Z=[];return S.charCodeAt(0)===46&&Z.push(""),S.replace(c,function(z,X,I,T){Z.push(I?T.replace(v,"$1"):X||z)}),Z});k.exports=m},function(k,E,s){var f=s(137);k.exports=function(c){var v=f(c,function(S){return m.size===500&&m.clear(),S}),m=v.cache;return v}},function(k,E,s){var f=s(30);function c(v,m){if(typeof v!="function"||m!=null&&typeof m!="function")throw new TypeError("Expected a function");var S=function(){var Z=arguments,z=m?m.apply(this,Z):Z[0],X=S.cache;if(X.has(z))return X.get(z);var I=v.apply(this,Z);return S.cache=X.set(z,I)||X,I};return S.cache=new(c.Cache||f),S}c.Cache=f,k.exports=c},function(k,E,s){var f=s(139);k.exports=function(c){return c==null?"":f(c)}},function(k,E,s){var f=s(18),c=s(140),v=s(5),m=s(25),S=f?f.prototype:void 0,Z=S?S.toString:void 0;k.exports=function z(X){if(typeof X=="string")return X;if(v(X))return c(X,z)+"";if(m(X))return Z?Z.call(X):"";var I=X+"";return I=="0"&&1/X==-1/0?"-0":I}},function(k,E){k.exports=function(s,f){for(var c=-1,v=s==null?0:s.length,m=Array(v);++c<v;)m[c]=f(s[c],c,s);return m}},function(k,E){var s=Object.prototype.hasOwnProperty;k.exports=function(f,c){return f!=null&&s.call(f,c)}},function(k,E,s){var f=s(40),c=s(21),v=s(5),m=s(24),S=s(23),Z=s(41);k.exports=function(z,X,I){for(var T=-1,j=(X=f(X,z)).length,F=!1;++T<j;){var C=Z(X[T]);if(!(F=z!=null&&I(z,C)))break;z=z[C]}return F||++T!=j?F:!!(j=z==null?0:z.length)&&S(j)&&m(C,j)&&(v(z)||c(z))}},function(k,E,s){"use strict";Object.defineProperty(E,"__esModule",{value:!0});var f=s(6),c=s(9),v=s(15);E.default=function(m){if(!m)throw new Error("geojson is required");var S=[];return v.flattenEach(m,function(Z){(function(z,X){var I=[],T=z.geometry;if(T!==null){switch(T.type){case"Polygon":I=c.getCoords(T);break;case"LineString":I=[c.getCoords(T)]}I.forEach(function(j){(function(F,C){var R=[];return F.reduce(function(g,b){var B=f.lineString([g,b],C);return B.bbox=function(G,O){var A=G[0],V=G[1],J=O[0],it=O[1];return[A<J?A:J,V<it?V:it,J<A?A:J,it<V?V:it]}(g,b),R.push(B),b}),R})(j,z.properties).forEach(function(F){F.id=X.length,X.push(F)})})}})(Z,S)}),f.featureCollection(S)}},function(k,E,s){var f=s(145),c=s(6),v=s(15),m=s(42).default,S=v.featureEach,Z=(v.coordEach,c.polygon,c.featureCollection);function z(X){var I=f(X);return I.insert=function(T){if(T.type!=="Feature")throw new Error("invalid feature");return T.bbox=T.bbox?T.bbox:m(T),f.prototype.insert.call(this,T)},I.load=function(T){var j=[];return Array.isArray(T)?T.forEach(function(F){if(F.type!=="Feature")throw new Error("invalid features");F.bbox=F.bbox?F.bbox:m(F),j.push(F)}):S(T,function(F){if(F.type!=="Feature")throw new Error("invalid features");F.bbox=F.bbox?F.bbox:m(F),j.push(F)}),f.prototype.load.call(this,j)},I.remove=function(T,j){if(T.type!=="Feature")throw new Error("invalid feature");return T.bbox=T.bbox?T.bbox:m(T),f.prototype.remove.call(this,T,j)},I.clear=function(){return f.prototype.clear.call(this)},I.search=function(T){var j=f.prototype.search.call(this,this.toBBox(T));return Z(j)},I.collides=function(T){return f.prototype.collides.call(this,this.toBBox(T))},I.all=function(){var T=f.prototype.all.call(this);return Z(T)},I.toJSON=function(){return f.prototype.toJSON.call(this)},I.fromJSON=function(T){return f.prototype.fromJSON.call(this,T)},I.toBBox=function(T){var j;if(T.bbox)j=T.bbox;else if(Array.isArray(T)&&T.length===4)j=T;else if(Array.isArray(T)&&T.length===6)j=[T[0],T[1],T[3],T[4]];else if(T.type==="Feature")j=m(T);else{if(T.type!=="FeatureCollection")throw new Error("invalid geojson");j=m(T)}return{minX:j[0],minY:j[1],maxX:j[2],maxY:j[3]}},I}k.exports=z,k.exports.default=z},function(k,E,s){"use strict";k.exports=c,k.exports.default=c;var f=s(146);function c(g,b){if(!(this instanceof c))return new c(g,b);this._maxEntries=Math.max(4,g||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),b&&this._initFormat(b),this.clear()}function v(g,b,B){if(!B)return b.indexOf(g);for(var G=0;G<b.length;G++)if(B(g,b[G]))return G;return-1}function m(g,b){S(g,0,g.children.length,b,g)}function S(g,b,B,G,O){(O=O||C(null)).minX=1/0,O.minY=1/0,O.maxX=-1/0,O.maxY=-1/0;for(var A,V=b;V<B;V++)A=g.children[V],Z(O,g.leaf?G(A):A);return O}function Z(g,b){return g.minX=Math.min(g.minX,b.minX),g.minY=Math.min(g.minY,b.minY),g.maxX=Math.max(g.maxX,b.maxX),g.maxY=Math.max(g.maxY,b.maxY),g}function z(g,b){return g.minX-b.minX}function X(g,b){return g.minY-b.minY}function I(g){return(g.maxX-g.minX)*(g.maxY-g.minY)}function T(g){return g.maxX-g.minX+(g.maxY-g.minY)}function j(g,b){return g.minX<=b.minX&&g.minY<=b.minY&&b.maxX<=g.maxX&&b.maxY<=g.maxY}function F(g,b){return b.minX<=g.maxX&&b.minY<=g.maxY&&b.maxX>=g.minX&&b.maxY>=g.minY}function C(g){return{children:g,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function R(g,b,B,G,O){for(var A,V=[b,B];V.length;)(B=V.pop())-(b=V.pop())<=G||(A=b+Math.ceil((B-b)/G/2)*G,f(g,A,b,B,O),V.push(b,A,A,B))}c.prototype={all:function(){return this._all(this.data,[])},search:function(g){var b=this.data,B=[],G=this.toBBox;if(!F(g,b))return B;for(var O,A,V,J,it=[];b;){for(O=0,A=b.children.length;O<A;O++)V=b.children[O],F(g,J=b.leaf?G(V):V)&&(b.leaf?B.push(V):j(g,J)?this._all(V,B):it.push(V));b=it.pop()}return B},collides:function(g){var b=this.data,B=this.toBBox;if(!F(g,b))return!1;for(var G,O,A,V,J=[];b;){for(G=0,O=b.children.length;G<O;G++)if(A=b.children[G],F(g,V=b.leaf?B(A):A)){if(b.leaf||j(g,V))return!0;J.push(A)}b=J.pop()}return!1},load:function(g){if(!g||!g.length)return this;if(g.length<this._minEntries){for(var b=0,B=g.length;b<B;b++)this.insert(g[b]);return this}var G=this._build(g.slice(),0,g.length-1,0);if(this.data.children.length)if(this.data.height===G.height)this._splitRoot(this.data,G);else{if(this.data.height<G.height){var O=this.data;this.data=G,G=O}this._insert(G,this.data.height-G.height-1,!0)}else this.data=G;return this},insert:function(g){return g&&this._insert(g,this.data.height-1),this},clear:function(){return this.data=C([]),this},remove:function(g,b){if(!g)return this;for(var B,G,O,A,V=this.data,J=this.toBBox(g),it=[],dt=[];V||it.length;){if(V||(V=it.pop(),G=it[it.length-1],B=dt.pop(),A=!0),V.leaf&&(O=v(g,V.children,b))!==-1)return V.children.splice(O,1),it.push(V),this._condense(it),this;A||V.leaf||!j(V,J)?G?(B++,V=G.children[B],A=!1):V=null:(it.push(V),dt.push(B),B=0,V=(G=V).children[0])}return this},toBBox:function(g){return g},compareMinX:z,compareMinY:X,toJSON:function(){return this.data},fromJSON:function(g){return this.data=g,this},_all:function(g,b){for(var B=[];g;)g.leaf?b.push.apply(b,g.children):B.push.apply(B,g.children),g=B.pop();return b},_build:function(g,b,B,G){var O,A=B-b+1,V=this._maxEntries;if(A<=V)return m(O=C(g.slice(b,B+1)),this.toBBox),O;G||(G=Math.ceil(Math.log(A)/Math.log(V)),V=Math.ceil(A/Math.pow(V,G-1))),(O=C([])).leaf=!1,O.height=G;var J,it,dt,bt,$=Math.ceil(A/V),xt=$*Math.ceil(Math.sqrt(V));for(R(g,b,B,xt,this.compareMinX),J=b;J<=B;J+=xt)for(R(g,J,dt=Math.min(J+xt-1,B),$,this.compareMinY),it=J;it<=dt;it+=$)bt=Math.min(it+$-1,dt),O.children.push(this._build(g,it,bt,G-1));return m(O,this.toBBox),O},_chooseSubtree:function(g,b,B,G){for(var O,A,V,J,it,dt,bt,$,xt,Bt;G.push(b),!b.leaf&&G.length-1!==B;){for(bt=$=1/0,O=0,A=b.children.length;O<A;O++)it=I(V=b.children[O]),xt=g,Bt=V,(dt=(Math.max(Bt.maxX,xt.maxX)-Math.min(Bt.minX,xt.minX))*(Math.max(Bt.maxY,xt.maxY)-Math.min(Bt.minY,xt.minY))-it)<$?($=dt,bt=it<bt?it:bt,J=V):dt===$&&it<bt&&(bt=it,J=V);b=J||b.children[0]}return b},_insert:function(g,b,B){var G=this.toBBox,O=B?g:G(g),A=[],V=this._chooseSubtree(O,this.data,b,A);for(V.children.push(g),Z(V,O);0<=b&&A[b].children.length>this._maxEntries;)this._split(A,b),b--;this._adjustParentBBoxes(O,A,b)},_split:function(g,b){var B=g[b],G=B.children.length,O=this._minEntries;this._chooseSplitAxis(B,O,G);var A=this._chooseSplitIndex(B,O,G),V=C(B.children.splice(A,B.children.length-A));V.height=B.height,V.leaf=B.leaf,m(B,this.toBBox),m(V,this.toBBox),b?g[b-1].children.push(V):this._splitRoot(B,V)},_splitRoot:function(g,b){this.data=C([g,b]),this.data.height=g.height+1,this.data.leaf=!1,m(this.data,this.toBBox)},_chooseSplitIndex:function(g,b,B){var G,O,A,V,J,it,dt,bt,$,xt,Bt,Gt,Ot,ce;for(it=dt=1/0,G=b;G<=B-b;G++)$=O=S(g,0,G,this.toBBox),xt=A=S(g,G,B,this.toBBox),Bt=Math.max($.minX,xt.minX),Gt=Math.max($.minY,xt.minY),Ot=Math.min($.maxX,xt.maxX),ce=Math.min($.maxY,xt.maxY),V=Math.max(0,Ot-Bt)*Math.max(0,ce-Gt),J=I(O)+I(A),V<it?(it=V,bt=G,dt=J<dt?J:dt):V===it&&J<dt&&(dt=J,bt=G);return bt},_chooseSplitAxis:function(g,b,B){var G=g.leaf?this.compareMinX:z,O=g.leaf?this.compareMinY:X;this._allDistMargin(g,b,B,G)<this._allDistMargin(g,b,B,O)&&g.children.sort(G)},_allDistMargin:function(g,b,B,G){g.children.sort(G);var O,A,V=this.toBBox,J=S(g,0,b,V),it=S(g,B-b,B,V),dt=T(J)+T(it);for(O=b;O<B-b;O++)A=g.children[O],Z(J,g.leaf?V(A):A),dt+=T(J);for(O=B-b-1;b<=O;O--)A=g.children[O],Z(it,g.leaf?V(A):A),dt+=T(it);return dt},_adjustParentBBoxes:function(g,b,B){for(var G=B;0<=G;G--)Z(b[G],g)},_condense:function(g){for(var b,B=g.length-1;0<=B;B--)g[B].children.length===0?0<B?(b=g[B-1].children).splice(b.indexOf(g[B]),1):this.clear():m(g[B],this.toBBox)},_initFormat:function(g){var b=["return a"," - b",";"];this.compareMinX=new Function("a","b",b.join(g[0])),this.compareMinY=new Function("a","b",b.join(g[1])),this.toBBox=new Function("a","return {minX: a"+g[0]+", minY: a"+g[1]+", maxX: a"+g[2]+", maxY: a"+g[3]+"};")}}},function(k,E,s){k.exports=function(){"use strict";function f(v,m,S){var Z=v[m];v[m]=v[S],v[S]=Z}function c(v,m){return v<m?-1:m<v?1:0}return function(v,m,S,Z,z){(function X(I,T,j,F,C){for(;j<F;){if(600<F-j){var R=F-j+1,g=T-j+1,b=Math.log(R),B=.5*Math.exp(2*b/3),G=.5*Math.sqrt(b*B*(R-B)/R)*(g-R/2<0?-1:1);X(I,T,Math.max(j,Math.floor(T-g*B/R+G)),Math.min(F,Math.floor(T+(R-g)*B/R+G)),C)}var O=I[T],A=j,V=F;for(f(I,j,T),0<C(I[F],O)&&f(I,j,F);A<V;){for(f(I,A,V),A++,V--;C(I[A],O)<0;)A++;for(;0<C(I[V],O);)V--}C(I[j],O)===0?f(I,j,V):f(I,++V,F),V<=T&&(j=V+1),T<=V&&(F=V-1)}})(v,m,S||0,Z||v.length-1,z||c)}}()},function(k,E,s){"use strict";Object.defineProperty(E,"__esModule",{value:!0});var f=s(9);function c(v,m,S){var Z=!1;m[0][0]===m[m.length-1][0]&&m[0][1]===m[m.length-1][1]&&(m=m.slice(0,m.length-1));for(var z=0,X=m.length-1;z<m.length;X=z++){var I=m[z][0],T=m[z][1],j=m[X][0],F=m[X][1];if(v[1]*(I-j)+T*(j-v[0])+F*(v[0]-I)==0&&(I-v[0])*(j-v[0])<=0&&(T-v[1])*(F-v[1])<=0)return!S;T>v[1]!=F>v[1]&&v[0]<(j-I)*(v[1]-T)/(F-T)+I&&(Z=!Z)}return Z}E.default=function(v,m,S){if(S===void 0&&(S={}),!v)throw new Error("point is required");if(!m)throw new Error("polygon is required");var Z=f.getCoord(v),z=f.getGeom(m),X=z.type,I=m.bbox,T=z.coordinates;if(I&&function(g,b){return b[0]<=g[0]&&b[1]<=g[1]&&b[2]>=g[0]&&b[3]>=g[1]}(Z,I)===!1)return!1;X==="Polygon"&&(T=[T]);for(var j=!1,F=0;F<T.length&&!j;F++)if(c(Z,T[F][0],S.ignoreBoundary)){for(var C=!1,R=1;R<T[F].length&&!C;)c(Z,T[F][R],!S.ignoreBoundary)&&(C=!0),R++;C||(j=!0)}return j}},function(k,E,s){"use strict";Object.defineProperty(E,"__esModule",{value:!0});var f=s(9);function c(v,m,S,Z){var z=S[0],X=S[1],I=v[0],T=v[1],j=m[0],F=m[1],C=j-I,R=F-T;return(S[0]-I)*R-(S[1]-T)*C==0&&(Z?Z==="start"?Math.abs(C)>=Math.abs(R)?0<C?I<z&&z<=j:j<=z&&z<I:0<R?T<X&&X<=F:F<=X&&X<T:Z==="end"?Math.abs(C)>=Math.abs(R)?0<C?I<=z&&z<j:j<z&&z<=I:0<R?T<=X&&X<F:F<X&&X<=T:Z==="both"&&(Math.abs(C)>=Math.abs(R)?0<C?I<z&&z<j:j<z&&z<I:0<R?T<X&&X<F:F<X&&X<T):Math.abs(C)>=Math.abs(R)?0<C?I<=z&&z<=j:j<=z&&z<=I:0<R?T<=X&&X<=F:F<=X&&X<=T)}E.default=function(v,m,S){S===void 0&&(S={});for(var Z=f.getCoord(v),z=f.getCoords(m),X=0;X<z.length-1;X++){var I=!1;if(S.ignoreEndVertices&&(X===0&&(I="start"),X===z.length-2&&(I="end"),X===0&&X+1===z.length-1&&(I="both")),c(z[X],z[X+1],Z,I))return!0}return!1}},function(k,E){var s,f,c=k.exports={};function v(){throw new Error("setTimeout has not been defined")}function m(){throw new Error("clearTimeout has not been defined")}function S(R){if(s===setTimeout)return setTimeout(R,0);if((s===v||!s)&&setTimeout)return s=setTimeout,setTimeout(R,0);try{return s(R,0)}catch(g){try{return s.call(null,R,0)}catch(b){return s.call(this,R,0)}}}(function(){try{s=typeof setTimeout=="function"?setTimeout:v}catch(R){s=v}try{f=typeof clearTimeout=="function"?clearTimeout:m}catch(R){f=m}})();var Z,z=[],X=!1,I=-1;function T(){X&&Z&&(X=!1,Z.length?z=Z.concat(z):I=-1,z.length&&j())}function j(){if(!X){var R=S(T);X=!0;for(var g=z.length;g;){for(Z=z,z=[];++I<g;)Z&&Z[I].run();I=-1,g=z.length}Z=null,X=!1,function(b){if(f===clearTimeout)return clearTimeout(b);if((f===m||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(b);try{f(b)}catch(B){try{return f.call(null,b)}catch(G){return f.call(this,b)}}}(R)}}function F(R,g){this.fun=R,this.array=g}function C(){}c.nextTick=function(R){var g=new Array(arguments.length-1);if(1<arguments.length)for(var b=1;b<arguments.length;b++)g[b-1]=arguments[b];z.push(new F(R,g)),z.length!==1||X||S(j)},F.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=C,c.addListener=C,c.once=C,c.off=C,c.removeListener=C,c.removeAllListeners=C,c.emit=C,c.prependListener=C,c.prependOnceListener=C,c.listeners=function(R){return[]},c.binding=function(R){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(R){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(k,E,s){},function(k,E,s){},function(k,E,s){"use strict";s.r(E),s(66);var f=s(43),c=s(26),v=s.n(c),m=s(44),S=s(45),Z=s(46),z=s(47),X=s(48),I=s(49),T=s(50),j=s(51),F=s(52),C=s(53),R=s(54),g={en:m,de:S,it:Z,id:z,ro:X,ru:I,es:T,nl:j,fr:F,pt_br:s(55),zh:C,zh_tw:R,pl:s(56),sv:s(57),el:s(58),hu:s(59),da:s(60),no:s(61),fa:s(62)},b=s(0),B=s.n(b),G=s(63),O=s.n(G);function A(i){var n=L.PM.activeLang;return O()(g,n)||(n="en"),B()(g[n],i)}function V(i){return!function n(o){return o.filter(function(l){return![null,"",void 0].includes(l)}).reduce(function(l,u){return l.concat(Array.isArray(u)?n(u):u)},[])}(i).length}function J(i){return i.reduce(function(n,o){return o.length!==0&&n.push(Array.isArray(o)?J(o):o),n},[])}function it(i,n,o){for(var l,u,p,_=6378137,M=63567523142e-4,x=1/298.257223563,P=i.lng,H=i.lat,W=o,U=Math.PI,tt=n*U/180,nt=Math.sin(tt),lt=Math.cos(tt),ht=(1-x)*Math.tan(H*U/180),ct=1/Math.sqrt(1+ht*ht),_t=ht*ct,kt=Math.atan2(ht,lt),jt=ct*nt,At=1-jt*jt,Vt=At*(_*_-M*M)/(M*M),Qt=1+Vt/16384*(4096+Vt*(Vt*(320-175*Vt)-768)),Jt=Vt/1024*(256+Vt*(Vt*(74-47*Vt)-128)),pe=W/(M*Qt),ie=2*Math.PI;1e-12<Math.abs(pe-ie);)l=Math.cos(2*kt+pe),ie=pe,pe=W/(M*Qt)+Jt*(u=Math.sin(pe))*(l+Jt/4*((p=Math.cos(pe))*(2*l*l-1)-Jt/6*l*(4*u*u-3)*(4*l*l-3)));var Pe=_t*u-ct*p*lt,ye=Math.atan2(_t*p+ct*u*lt,(1-x)*Math.sqrt(jt*jt+Pe*Pe)),Ui=x/16*At*(4+x*(4-3*At)),yn=P+180*(Math.atan2(u*nt,ct*p-_t*u*lt)-(1-Ui)*x*jt*(pe+Ui*u*(l+Ui*p*(2*l*l-1))))/U,Hi=180*ye/U;return L.latLng(yn,Hi)}function dt(i,n,o,l){for(var u,p,_=[],M=0;M<o;M+=1)u=it(i,360*M/o+l,n),p=L.latLng(u.lng,u.lat),_.push(p);return _}function bt(i,n,o,l){return function(u,p,_){p=(p+360)%360;var M=Math.PI/180,x=180/Math.PI,P=u.lng*M,H=u.lat*M,W=p*M,U=Math.sin(H),tt=Math.cos(H),nt=Math.cos(_/6378137),lt=Math.sin(_/6378137),ht=Math.asin(U*nt+tt*lt*Math.cos(W)),ct=P+Math.atan2(Math.sin(W)*lt*tt,nt-U*Math.sin(ht));return ct=180<(ct*=x)?ct-360:ct<-180?ct+360:ct,L.latLng([ht*x,ct])}(n,function(u,p,_){var M=u.latLngToContainerPoint(p),x=u.latLngToContainerPoint(_),P=180*Math.atan2(x.y-M.y,x.x-M.x)/Math.PI+90;return P+(P<0?360:0)}(i,n,o),l)}var $={calcMiddleLatLng:function(i,n,o){var l=i.project(n),u=i.project(o);return i.unproject(l._add(u)._divideBy(2))},findLayers:function(i){var n=[];return i.eachLayer(function(o){(o instanceof L.Polyline||o instanceof L.Marker||o instanceof L.Circle||o instanceof L.CircleMarker||o instanceof L.ImageOverlay)&&n.push(o)}),n=(n=n.filter(function(o){return!!o.pm})).filter(function(o){return!o._pmTempLayer})},circleToPolygon:function(i){for(var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:60,o=dt(i.getLatLng(),i.getRadius(),n,0),l=[],u=0;u<o.length;u+=1){var p=[o[u].lat,o[u].lng];l.push(p)}return L.polygon(l,i.options)},disablePopup:function(i){i.getPopup()&&(i._tempPopupCopy=i.getPopup(),i.unbindPopup())},enablePopup:function(i){i._tempPopupCopy&&(i.bindPopup(i._tempPopupCopy),delete i._tempPopupCopy)},_fireEvent:function(i,n,o){var l=3<arguments.length&&arguments[3]!==void 0&&arguments[3];i.fire(n,o,l),this.getAllParentGroups(i).groups.forEach(function(u){u.fire(n,o,l)})},getAllParentGroups:function(i){var n=[],o=[];return!i._pmLastGroupFetch||!i._pmLastGroupFetch.time||1e3<new Date().getTime()-i._pmLastGroupFetch.time?(function l(u){for(var p in u._eventParents)if(n.indexOf(p)===-1){n.push(p);var _=u._eventParents[p];o.push(_),l(_)}}(i),i._pmLastGroupFetch={time:new Date().getTime(),groups:o,groupIds:n},{groupIds:n,groups:o}):{groups:i._pmLastGroupFetch.groups,groupIds:i._pmLastGroupFetch.groupIds}},createGeodesicPolygon:dt,getTranslation:A,findDeepCoordIndex:function(i,n){var o;i.some(function u(p){return function(_,M){var x=p.concat(M);return _.lat&&_.lat===n.lat&&_.lng===n.lng?(o=x,!0):Array.isArray(_)&&_.some(u(x))}}([]));var l={};return o&&(l={indexPath:o,index:o[o.length-1],parentPath:o.slice(0,o.length-1)}),l},_getIndexFromSegment:function(i,n){if(n&&n.length===2){var o=this.findDeepCoordIndex(i,n[0]),l=this.findDeepCoordIndex(i,n[1]),u=Math.max(o.index,l.index);return o.index!==0&&l.index!==0||u===1||(u+=1),{indexA:o,indexB:l,newIndex:u,indexPath:o.indexPath,parentPath:o.parentPath}}return null}};function xt(i,n){var o=Object.keys(i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);n&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(i,u).enumerable})),o.push.apply(o,l)}return o}function Bt(i){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?arguments[n]:{};n%2?xt(Object(o),!0).forEach(function(l){Gt(i,l,o[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):xt(Object(o)).forEach(function(l){Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(o,l))})}return i}function Gt(i,n,o){return n in i?Object.defineProperty(i,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[n]=o,i}var Ot=$.findLayers,ce={_globalEditMode:!1,enableGlobalEditMode:function(i){var n=Bt({snappable:this._globalSnappingEnabled},i);this.Toolbar.toggleButton("editMode",!0),Ot(this.map).forEach(function(o){o.pm.enable(n)}),this.throttledReInitEdit||(this.throttledReInitEdit=L.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this._addedLayers=[],this.map.on("layeradd",this._layerAdded,this),this.map.on("layeradd",this.throttledReInitEdit,this),this.setGlobalEditStatus(!0)},disableGlobalEditMode:function(){Ot(this.map).forEach(function(i){i.pm.disable()}),this.map.off("layeradd",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",!1),this.setGlobalEditStatus(!1)},globalEditEnabled:function(){return this.globalEditModeEnabled()},globalEditModeEnabled:function(){return this._globalEditMode},setGlobalEditStatus:function(i){this._globalEditMode=i,this._fireEditModeEvent(this._globalEditMode)},toggleGlobalEditMode:function(){var i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.globalOptions;this.globalEditModeEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(i)},handleLayerAdditionInGlobalEditMode:function(){var i=this,n=this._addedLayers;this._addedLayers=[],n.forEach(function(o){!o.pm||o._pmTempLayer||!i.globalEditModeEnabled()||o.pm.enable(Bt({},i.globalOptions))})},_layerAdded:function(i){var n=i.layer;this._addedLayers.push(n)},_fireEditModeEvent:function(i){$._fireEvent(this.map,"pm:globaleditmodetoggled",{enabled:i,map:this.map})}},Lt=$.findLayers,Be={enableGlobalDragMode:function(){var i=Lt(this.map);this._globalDragMode=!0,i.forEach(function(n){n.pm.enableLayerDrag()}),this.throttledReInitDrag||(this.throttledReInitDrag=L.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this._globalDragMode),this._fireDragModeEvent(!0)},disableGlobalDragMode:function(){var i=Lt(this.map);this._globalDragMode=!1,i.forEach(function(n){n.pm.disableLayerDrag()}),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this._globalDragMode),this._fireDragModeEvent(!1)},globalDragModeEnabled:function(){return!!this._globalDragMode},toggleGlobalDragMode:function(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode:function(i){var n=i.layer;!n.pm||n._pmTempLayer||!this.globalDragModeEnabled()||(this.disableGlobalDragMode(),this.enableGlobalDragMode())},_fireDragModeEvent:function(i){$._fireEvent(this.map,"pm:globaldragmodetoggled",{enabled:i,map:this.map})}},Tt={enableGlobalRemovalMode:function(){var i=this;this._globalRemovalMode=!0,this.map.eachLayer(function(n){(function(o){return o.pm&&!(o instanceof L.LayerGroup)})(n)&&(n.pm.disable(),n.on("click",i.removeLayer,i))}),this.throttledReInitRemoval||(this.throttledReInitRemoval=L.Util.throttle(this.reinitGlobalRemovalMode,100,this)),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("deleteLayer",this._globalRemovalMode),this._fireRemovalModeEvent(!0)},disableGlobalRemovalMode:function(){var i=this;this._globalRemovalMode=!1,this.map.eachLayer(function(n){n.off("click",i.removeLayer,i)}),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("deleteLayer",this._globalRemovalMode),this._fireRemovalModeEvent(!1)},globalRemovalEnabled:function(){return this.globalRemovalModeEnabled()},globalRemovalModeEnabled:function(){return!!this._globalRemovalMode},toggleGlobalRemovalMode:function(){this.globalRemovalModeEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},reinitGlobalRemovalMode:function(i){var n=i.layer;!n.pm||n._pmTempLayer||!this.globalRemovalModeEnabled()||(this.disableGlobalRemovalMode(),this.enableGlobalRemovalMode())},_fireRemovalModeEvent:function(i){$._fireEvent(this.map,"pm:globalremovalmodetoggled",{enabled:i,map:this.map})},removeLayer:function(i){var n=i.target;n._pmTempLayer||n.pm&&n.pm.dragging()||(n.removeFrom(this.map.pm._getContainingLayer()),n.remove(),n instanceof L.LayerGroup?($._fireEvent(n,"pm:remove",{layer:n,shape:void 0}),$._fireEvent(this.map,"pm:remove",{layer:n,shape:void 0})):($._fireEvent(n,"pm:remove",{layer:n,shape:n.pm.getShape()}),$._fireEvent(this.map,"pm:remove",{layer:n,shape:n.pm.getShape()})))}},Dt=$.findLayers,oe=L.Class.extend({includes:[ce,Be,Tt],initialize:function(i){this.map=i,this.Draw=new L.PM.Draw(i),this.Toolbar=new L.PM.Toolbar(i),this._globalRemovalMode=!1,this.globalOptions={snappable:!0,layerGroup:void 0,snappingOrder:["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],panes:{vertexPane:"markerPane",layerPane:"overlayPane",markerPane:"markerPane"}}},setLang:function(){var i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"en",n=1<arguments.length?arguments[1]:void 0,o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"en",l=L.PM.activeLang;n&&(g[i]=v()(g[o],n)),L.PM.activeLang=i,this.map.pm.Toolbar.reinit(),$._fireEvent(this.map,"pm:langchange",{oldLang:l,activeLang:i,fallback:o,translations:g[i]})},addControls:function(i){this.Toolbar.addControls(i)},removeControls:function(){this.Toolbar.removeControls()},toggleControls:function(){this.Toolbar.toggleControls()},controlsVisible:function(){return this.Toolbar.isVisible},enableDraw:function(){var i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"Polygon",n=1<arguments.length?arguments[1]:void 0;i==="Poly"&&(i="Polygon"),this.Draw.enable(i,n)},disableDraw:function(){var i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"Polygon";i==="Poly"&&(i="Polygon"),this.Draw.disable(i)},setPathOptions:function(i){var n=this,o=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).ignoreShapes||[];this.map.pm.Draw.shapes.forEach(function(l){o.indexOf(l)===-1&&n.map.pm.Draw[l].setPathOptions(i)})},getGlobalOptions:function(){return this.globalOptions},setGlobalOptions:function(i){var n=this,o=v()(this.globalOptions,i),l=!1;this.map.pm.Draw.CircleMarker.enabled()&&this.map.pm.Draw.CircleMarker.options.editable!==o.editable&&(this.map.pm.Draw.CircleMarker.disable(),l=!0),this.map.pm.Draw.shapes.forEach(function(u){n.map.pm.Draw[u].setOptions(o)}),l&&this.map.pm.Draw.CircleMarker.enable(),Dt(this.map).forEach(function(u){u.pm.setOptions(o)}),this.applyGlobalOptions(),this.globalOptions=o},applyGlobalOptions:function(){Dt(this.map).forEach(function(i){i.pm.enabled()&&i.pm.applyOptions()})},globalDrawModeEnabled:function(){return!!this.Draw.getActiveShape()},globalCutModeEnabled:function(){return!!this.Draw.Cut.enabled()},enableGlobalCutMode:function(i){return this.Draw.Cut.enable(i)},toggleGlobalCutMode:function(i){return this.Draw.Cut.toggle(i)},disableGlobalCutMode:function(){return this.Draw.Cut.disable()},getGeomanLayers:function(){var i=0<arguments.length&&arguments[0]!==void 0&&arguments[0],n=Dt(this.map);if(!i)return n;var o=L.featureGroup();return o._pmTempLayer=!0,n.forEach(function(l){o.addLayer(l)}),o},getGeomanDrawLayers:function(){var i=0<arguments.length&&arguments[0]!==void 0&&arguments[0],n=Dt(this.map).filter(function(l){return l._drawnByGeoman===!0});if(!i)return n;var o=L.featureGroup();return o._pmTempLayer=!0,n.forEach(function(l){o.addLayer(l)}),o},_getContainingLayer:function(){return this.globalOptions.layerGroup&&this.globalOptions.layerGroup instanceof L.LayerGroup?this.globalOptions.layerGroup:this.map}}),Ut=L.Control.extend({options:{position:"topleft"},initialize:function(i){this._button=Object.assign({},this.options,i)},onAdd:function(i){return this._map=i,this._map.pm.Toolbar.options.oneBlock?this._container=this._map.pm.Toolbar._createContainer(this.options.position):this._button.tool==="edit"?this._container=this._map.pm.Toolbar.editContainer:this._button.tool==="options"?this._container=this._map.pm.Toolbar.optionsContainer:this._button.tool==="custom"?this._container=this._map.pm.Toolbar.customContainer:this._container=this._map.pm.Toolbar.drawContainer,this.buttonsDomNode=this._makeButton(this._button),this._container.appendChild(this.buttonsDomNode),this._container},onRemove:function(){return this.buttonsDomNode.remove(),this._container},getText:function(){return this._button.text},getIconUrl:function(){return this._button.iconUrl},destroy:function(){this._button={},this._update()},toggle:function(i){return this._button.toggleStatus=typeof i=="boolean"?i:!this._button.toggleStatus,this._applyStyleClasses(),this._button.toggleStatus},toggled:function(){return this._button.toggleStatus},onCreate:function(){this.toggle(!1)},_triggerClick:function(i){i&&i.preventDefault(),this._button.onClick(i,{button:this,event:i}),this._clicked(i),this._button.afterClick(i,{button:this,event:i})},_makeButton:function(i){var n=this,o=-1<this.options.position.indexOf("right")?"pos-right":"",l=L.DomUtil.create("div","button-container",this._container),u=L.DomUtil.create("a","leaflet-buttons-control-button",l);u.setAttribute("role","button"),u.setAttribute("tabindex","0"),u.href="#";var p=L.DomUtil.create("div","leaflet-pm-actions-container ".concat(o),l),_=i.actions,M={cancel:{text:A("actions.cancel"),onClick:function(){this._triggerClick()}},finishMode:{text:A("actions.finish"),onClick:function(){this._triggerClick()}},removeLastVertex:{text:A("actions.removeLastVertex"),onClick:function(){this._map.pm.Draw[i.jsClass]._removeLastVertex()}},finish:{text:A("actions.finish"),onClick:function(P){this._map.pm.Draw[i.jsClass]._finishShape(P)}}};_.forEach(function(P){var H;if(M[P])H=M[P];else{if(!P.text)return;H=P}var W=L.DomUtil.create("a","leaflet-pm-action ".concat(o," action-").concat(P),p);W.setAttribute("role","button"),W.setAttribute("tabindex","0"),W.href="#",W.innerHTML=H.text,!i.disabled&&H.onClick&&(L.DomEvent.addListener(W,"click",function(U){U.preventDefault();var tt="",nt=n._map.pm.Toolbar.buttons;for(var lt in nt)if(nt[lt]._button===i){tt=lt;break}$._fireEvent(n._map,"pm:actionclick",{text:H.text,action:H,btnName:tt,button:i})},n),L.DomEvent.addListener(W,"click",H.onClick,n)),L.DomEvent.disableClickPropagation(W)}),i.toggleStatus&&L.DomUtil.addClass(l,"active");var x=L.DomUtil.create("div","control-icon",u);return i.title&&x.setAttribute("title",i.title),i.iconUrl&&x.setAttribute("src",i.iconUrl),i.className&&L.DomUtil.addClass(x,i.className),i.disabled||(L.DomEvent.addListener(u,"click",function(){n._button.disableOtherButtons&&n._map.pm.Toolbar.triggerClickOnToggledButtons(n);var P="",H=n._map.pm.Toolbar.buttons;for(var W in H)if(H[W]._button===i){P=W;break}$._fireEvent(n._map,"pm:buttonclick",{btnName:P,button:i})}),L.DomEvent.addListener(u,"click",this._triggerClick,this)),i.disabled&&(L.DomUtil.addClass(u,"pm-disabled"),L.DomUtil.addClass(x,"pm-disabled")),L.DomEvent.disableClickPropagation(u),l},_applyStyleClasses:function(){this._container&&(this._button.toggleStatus&&this._button.cssToggle!==!1?(L.DomUtil.addClass(this.buttonsDomNode,"active"),L.DomUtil.addClass(this._container,"activeChild")):(L.DomUtil.removeClass(this.buttonsDomNode,"active"),L.DomUtil.removeClass(this._container,"activeChild")))},_clicked:function(){this._button.doToggle&&this.toggle()}});function Nt(i){return(Nt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(i)}L.Control.PMButton=Ut;var Et=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,snappingOption:!0,drawControls:!0,editControls:!0,optionsControls:!0,customControls:!0,oneBlock:!1,position:"topleft",positions:{draw:"",edit:"",options:"",custom:""}},customButtons:[],initialize:function(i){this.init(i)},reinit:function(){var i=this.isVisible;this.removeControls(),this._defineButtons(),i&&this.addControls()},init:function(i){this.map=i,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this.customContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"),this._defineButtons()},_createContainer:function(i){var n="".concat(i,"Container");return this[n]||(this[n]=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-".concat(i," leaflet-bar leaflet-control"))),this[n]},getButtons:function(){return this.buttons},addControls:function(){var i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.options;i.editPolygon!==void 0&&(i.editMode=i.editPolygon),i.deleteLayer!==void 0&&(i.removalMode=i.deleteLayer),L.Util.setOptions(this,i),this.applyIconStyle(),this._showHideButtons(),this.isVisible=!0},applyIconStyle:function(){var i=this.getButtons(),n={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete"}};for(var o in i){var l=i[o];L.Util.setOptions(l,{className:n.geomanIcons[o]})}},removeControls:function(){var i=this.getButtons();for(var n in i)i[n].remove();this.isVisible=!1},toggleControls:function(){var i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.options;this.isVisible?this.removeControls():this.addControls(i)},_addButton:function(i,n){return this.buttons[i]=n,this.options[i]=this.options[i]||!1,this.buttons[i]},triggerClickOnToggledButtons:function(i){var n=["snappingOption"];for(var o in this.buttons)!n.includes(o)&&this.buttons[o]!==i&&this.buttons[o].toggled()&&this.buttons[o]._triggerClick()},toggleButton:function(i,n){return i==="editPolygon"&&(i="editMode"),i==="deleteLayer"&&(i="removalMode"),(!(2<arguments.length&&arguments[2]!==void 0)||arguments[2])&&this.triggerClickOnToggledButtons(this.buttons[i]),!!this.buttons[i]&&this.buttons[i].toggle(n)},_defineButtons:function(){var i=this,n={className:"control-icon leaflet-pm-icon-marker",title:A("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:function(){},afterClick:function(W,U){i.map.pm.Draw[U.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},o={title:A("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:function(){},afterClick:function(W,U){i.map.pm.Draw[U.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},l={className:"control-icon leaflet-pm-icon-polyline",title:A("buttonTitles.drawLineButton"),jsClass:"Line",onClick:function(){},afterClick:function(W,U){i.map.pm.Draw[U.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},u={title:A("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:function(){},afterClick:function(W,U){i.map.pm.Draw[U.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},p={title:A("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:function(){},afterClick:function(W,U){i.map.pm.Draw[U.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},_={title:A("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:function(){},afterClick:function(W,U){i.map.pm.Draw[U.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},M={title:A("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:function(){},afterClick:function(){i.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},x={title:A("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:function(){},afterClick:function(){i.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},P={title:A("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:function(){},afterClick:function(W,U){i.map.pm.Draw[U.button._button.jsClass].toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},H={title:A("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:function(){},afterClick:function(){i.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]};this._addButton("drawMarker",new L.Control.PMButton(n)),this._addButton("drawPolyline",new L.Control.PMButton(l)),this._addButton("drawRectangle",new L.Control.PMButton(_)),this._addButton("drawPolygon",new L.Control.PMButton(o)),this._addButton("drawCircle",new L.Control.PMButton(u)),this._addButton("drawCircleMarker",new L.Control.PMButton(p)),this._addButton("editMode",new L.Control.PMButton(M)),this._addButton("dragMode",new L.Control.PMButton(x)),this._addButton("cutPolygon",new L.Control.PMButton(P)),this._addButton("removalMode",new L.Control.PMButton(H))},_showHideButtons:function(){this.removeControls();var i=this.getButtons(),n=[];for(var o in this.options.drawControls===!1&&(n=n.concat(Object.keys(i).filter(function(u){return!i[u]._button.tool}))),this.options.editControls===!1&&(n=n.concat(Object.keys(i).filter(function(u){return i[u]._button.tool==="edit"}))),this.options.optionsControls===!1&&(n=n.concat(Object.keys(i).filter(function(u){return i[u]._button.tool==="options"}))),this.options.customControls===!1&&(n=n.concat(Object.keys(i).filter(function(u){return i[u]._button.tool==="custom"}))),i)if(this.options[o]&&n.indexOf(o)===-1){var l=i[o]._button.tool;l=l||"draw",i[o].setPosition(this._getBtnPosition(l)),i[o].addTo(this.map)}},_getBtnPosition:function(i){return this.options.positions&&this.options.positions[i]?this.options.positions[i]:this.options.position},setBlockPosition:function(i,n){this.options.positions[i]=n,this._showHideButtons(),this.changeControlOrder()},getBlockPositions:function(){return this.options.positions},copyDrawControl:function(i,n){if(!n)throw new TypeError("Button has no name");Nt(n)!=="object"&&(n={name:n});var o=this._btnNameMapping(i);if(!n.name)throw new TypeError("Button has no name");if(this.buttons[n.name])throw new TypeError("Button with this name already exists");var l=this.map.pm.Draw.createNewDrawInstance(n.name,o),u=this.buttons[o]._button;return n=Object.assign({},u,n),{drawInstance:l,control:this.createCustomControl(n)}},createCustomControl:function(i){if(!i.name)throw new TypeError("Button has no name");if(this.buttons[i.name])throw new TypeError("Button with this name already exists");i.onClick||(i.onClick=function(){}),i.afterClick||(i.afterClick=function(){}),i.toggle!==!1&&(i.toggle=!0),i.block&&(i.block=i.block.toLowerCase()),i.block&&i.block!=="draw"||(i.block=""),i.className?i.className.indexOf("control-icon")===-1&&(i.className="control-icon ".concat(i.className)):i.className="control-icon";var n={tool:i.block,className:i.className,title:i.title||"",jsClass:i.name,onClick:i.onClick,afterClick:i.afterClick,doToggle:i.toggle,toggleStatus:!1,disableOtherButtons:!0,cssToggle:i.toggle,position:this.options.position,actions:i.actions||[],disabled:!!i.disabled};this.options[i.name]!==!1&&(this.options[i.name]=!0);var o=this._addButton(i.name,new L.Control.PMButton(n));return this.changeControlOrder(),o},changeControlOrder:function(){var i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],n=this._shapeMapping(),o=[];i.forEach(function(p){n[p]?o.push(n[p]):o.push(p)});var l=this.getButtons(),u={};o.forEach(function(p){l[p]&&(u[p]=l[p])}),Object.keys(l).filter(function(p){return!l[p]._button.tool}).forEach(function(p){o.indexOf(p)===-1&&(u[p]=l[p])}),Object.keys(l).filter(function(p){return l[p]._button.tool==="edit"}).forEach(function(p){o.indexOf(p)===-1&&(u[p]=l[p])}),Object.keys(l).filter(function(p){return l[p]._button.tool==="options"}).forEach(function(p){o.indexOf(p)===-1&&(u[p]=l[p])}),Object.keys(l).filter(function(p){return l[p]._button.tool==="custom"}).forEach(function(p){o.indexOf(p)===-1&&(u[p]=l[p])}),Object.keys(l).forEach(function(p){o.indexOf(p)===-1&&(u[p]=l[p])}),this.map.pm.Toolbar.buttons=u,this._showHideButtons()},getControlOrder:function(){var i=this.getButtons(),n=[];for(var o in i)n.push(o);return n},changeActionsOfControl:function(i,n){var o=this._btnNameMapping(i);if(!o)throw new TypeError("No name passed");if(!n)throw new TypeError("No actions passed");if(!this.buttons[o])throw new TypeError("Button with this name not exists");this.buttons[o]._button.actions=n,this.changeControlOrder()},setButtonDisabled:function(i,n){var o=this._btnNameMapping(i);this.buttons[o]._button.disabled=!!n,this._showHideButtons()},_shapeMapping:function(){return{Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode"}},_btnNameMapping:function(i){var n=this._shapeMapping();return n[i]?n[i]:i}}),q={_initSnappableMarkers:function(){this.options.snapDistance=this.options.snapDistance||30,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents:function(i){var n=this;i.forEach(function(o){Array.isArray(o)?n._assignEvents(o):(o.off("drag",n._handleSnapping,n),o.on("drag",n._handleSnapping,n),o.off("dragend",n._cleanupSnapping,n),o.on("dragend",n._cleanupSnapping,n))})},_cleanupSnapping:function(){delete this._snapList,this.throttledList&&(this._map.off("layeradd",this.throttledList,this),this.throttledList=void 0),this._map.off("pm:remove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(function(i){i.remove()})},_handleSnapping:function(i){var n=this,o=i.target;if(o._snapped=!1,this.throttledList||(this.throttledList=L.Util.throttle(this._createSnapList,100,this)),i.originalEvent.altKey||(this._snapList===void 0&&(this._createSnapList(),this._map.off("layeradd",this.throttledList,this),this._map.on("layeradd",this.throttledList,this)),this._snapList.length<=0))return!1;var l=this._calcClosestLayer(o.getLatLng(),this._snapList);if(Object.keys(l).length===0)return!1;var u,p=l.layer instanceof L.Marker||l.layer instanceof L.CircleMarker;u=p?l.latlng:this._checkPrioritiySnapping(l);var _=this.options.snapDistance,M={marker:o,shape:this._shape,snapLatLng:u,segment:l.segment,layer:this._layer,workingLayer:this._layer,layerInteractedWith:l.layer,distance:l.distance};if($._fireEvent(M.marker,"pm:snapdrag",M),$._fireEvent(this._layer,"pm:snapdrag",M),l.distance<_){o._orgLatLng=o.getLatLng(),o.setLatLng(u),o._snapped=!0,o._snapInfo=M;var x=this._snapLatLng||{},P=u||{};x.lat===P.lat&&x.lng===P.lng||(n._snapLatLng=u,$._fireEvent(o,"pm:snap",M),$._fireEvent(n._layer,"pm:snap",M))}else this._snapLatLng&&(this._unsnap(M),o._snapped=!1,$._fireEvent(M.marker,"pm:unsnap",M),$._fireEvent(this._layer,"pm:unsnap",M));return!0},_createSnapList:function(){var i=this,n=[],o=[],l=this._map;l.off("pm:remove",this._handleSnapLayerRemoval,this),l.on("pm:remove",this._handleSnapLayerRemoval,this),l.eachLayer(function(u){if((u instanceof L.Polyline||u instanceof L.Marker||u instanceof L.CircleMarker||u instanceof L.ImageOverlay)&&u.options.snapIgnore!==!0&&(!L.PM.optIn&&!u.options.pmIgnore||L.PM.optIn&&u.options.pmIgnore===!1)){(u instanceof L.Circle||u instanceof L.CircleMarker)&&u.pm&&u.pm._hiddenPolyCircle?n.push(u.pm._hiddenPolyCircle):u instanceof L.ImageOverlay&&(u=L.rectangle(u.getBounds())),n.push(u);var p=L.polyline([],{color:"red",pmIgnore:!0});p._pmTempLayer=!0,o.push(p),(u instanceof L.Circle||u instanceof L.CircleMarker)&&o.push(p)}}),n=(n=(n=n.filter(function(u){return i._layer!==u})).filter(function(u){return u._latlng||u._latlngs&&!V(u._latlngs)})).filter(function(u){return!u._pmTempLayer}),this._otherSnapLayers?this._snapList=n.concat(this._otherSnapLayers):this._snapList=n,this.debugIndicatorLines=o},_handleSnapLayerRemoval:function(i){var n=i.layer,o=this._snapList.findIndex(function(l){return l._leaflet_id===n._leaflet_id});this._snapList.splice(o,1)},_calcClosestLayer:function(i,n){var o=this,l=[],u={};return n.forEach(function(p,_){if(!p._parentCopy||p._parentCopy!==o._layer){var M=o._calcLayerDistances(i,p);o.debugIndicatorLines[_].setLatLngs([i,M.latlng]),(u.distance===void 0||M.distance<=u.distance)&&(M.distance<u.distance&&(l=[]),(u=M).layer=p,l.push(u))}}),this._getClosestLayerByPriority(l)},_calcLayerDistances:function(i,n){var o,l,u=this,p=this._map,_=n instanceof L.Marker||n instanceof L.CircleMarker,M=n instanceof L.Polygon,x=i,P=_?n.getLatLng():n.getLatLngs();if(_)return{latlng:Object.assign({},P),distance:this._getDistance(p,P,x)};(function W(U){U.forEach(function(tt,nt){if(Array.isArray(tt))W(tt);else{var lt,ht=tt;lt=M?nt+1===U.length?0:nt+1:nt+1===U.length?void 0:nt+1;var ct=U[lt];if(ct){var _t=u._getDistanceToSegment(p,x,ht,ct);(l===void 0||_t<l)&&(l=_t,o=[ht,ct])}}})})(P);var H=this._getClosestPointOnSegment(p,i,o[0],o[1]);return{latlng:Object.assign({},H),segment:o,distance:l}},_getClosestLayerByPriority:function(i){i=i.sort(function(u,p){return u._leaflet_id-p._leaflet_id});var n=this._map.pm.globalOptions.snappingOrder||[],o=0,l={};return n.concat(["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"]).forEach(function(u){l[u]||(o+=1,l[u]=o)}),i.sort(function(u,p,_){var M=2<arguments.length&&_!==void 0?_:"asc";if(!p||Object.keys(p).length===0)return function(tt,nt){return tt-nt};for(var x,P=Object.keys(p),H=P.length,W={};H--;)x=P[H],W[x.toLowerCase()]=p[x];function U(tt){return tt instanceof L.Marker?"Marker":tt instanceof L.Circle?"Circle":tt instanceof L.CircleMarker?"CircleMarker":tt instanceof L.Rectangle?"Rectangle":tt instanceof L.Polygon?"Polygon":tt instanceof L.Polyline?"Line":void 0}return function(tt,nt){var lt,ht;if(u==="instanceofShape"){if(lt=U(tt.layer).toLowerCase(),ht=U(nt.layer).toLowerCase(),!lt||!ht)return 0}else{if(!tt.hasOwnProperty(u)||!nt.hasOwnProperty(u))return 0;lt=tt[u].toLowerCase(),ht=nt[u].toLowerCase()}var ct=lt in W?W[lt]:Number.MAX_SAFE_INTEGER,_t=ht in W?W[ht]:Number.MAX_SAFE_INTEGER,kt=0;return ct<_t?kt=-1:_t<ct&&(kt=1),M==="desc"?-1*kt:kt}}("instanceofShape",l)),i[0]||{}},_checkPrioritiySnapping:function(i){var n,o=this._map,l=i.segment[0],u=i.segment[1],p=i.latlng,_=this._getDistance(o,l,p),M=this._getDistance(o,u,p),x=_<M?l:u,P=_<M?_:M;if(this.options.snapMiddle){var H=$.calcMiddleLatLng(o,l,u),W=this._getDistance(o,H,p);W<_&&W<M&&(x=H,P=W)}return n=P<this.options.snapDistance?x:p,Object.assign({},n)},_unsnap:function(){delete this._snapLatLng},_getClosestPointOnSegment:function(i,n,o,l){var u=i.getMaxZoom();u===1/0&&(u=i.getZoom());var p=i.project(n,u),_=i.project(o,u),M=i.project(l,u),x=L.LineUtil.closestPointOnSegment(p,_,M);return i.unproject(x,u)},_getDistanceToSegment:function(i,n,o,l){var u=i.latLngToLayerPoint(n),p=i.latLngToLayerPoint(o),_=i.latLngToLayerPoint(l);return L.LineUtil.pointToSegmentDistance(u,p,_)},_getDistance:function(i,n,o){return i.latLngToLayerPoint(n).distanceTo(i.latLngToLayerPoint(o))}},d=L.Class.extend({includes:[q],options:{snappable:!0,snapDistance:20,snapMiddle:!1,allowSelfIntersection:!0,tooltips:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},pathOptions:null,cursorMarker:!0,finishOn:null,markerStyle:{draggable:!0,icon:L.icon()},hideMiddleMarkers:!1,minRadiusCircle:null,maxRadiusCircle:null,minRadiusCircleMarker:null,maxRadiusCircleMarker:null,editable:!1,markerEditable:!0,continueDrawing:!1},setOptions:function(i){L.Util.setOptions(this,i)},initialize:function(i){var n=this,o=new L.Icon.Default;o.options.tooltipAnchor=[0,0],this.options.markerStyle.icon=o,this._map=i,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut"],this.shapes.forEach(function(l){n[l]=new L.PM.Draw[l](n._map)}),this.Marker.setOptions({continueDrawing:!0}),this.CircleMarker.setOptions({continueDrawing:!0})},setPathOptions:function(i){this.options.pathOptions=i},getShapes:function(){return this.shapes},enable:function(i,n){if(!i)throw new Error("Error: Please pass a shape as a parameter. Possible shapes are: ".concat(this.getShapes().join(",")));this.disable(),this[i].enable(n)},disable:function(){var i=this;this.shapes.forEach(function(n){i[n].disable()})},addControls:function(){var i=this;this.shapes.forEach(function(n){i[n].addButton()})},getActiveShape:function(){var i,n=this;return this.shapes.forEach(function(o){n[o]._enabled&&(i=o)}),i},_setGlobalDrawMode:function(){this._shape==="Cut"?$._fireEvent(this._map,"pm:globalcutmodetoggled",{enabled:!!this._enabled,map:this._map}):$._fireEvent(this._map,"pm:globaldrawmodetoggled",{enabled:this._enabled,shape:this._shape,map:this._map});var i=$.findLayers(this._map);this._enabled?i.forEach(function(n){$.disablePopup(n)}):i.forEach(function(n){$.enablePopup(n)})},createNewDrawInstance:function(i,n){var o=this._getShapeFromBtnName(n);if(this[i])throw new TypeError("Draw Type already exists");if(!L.PM.Draw[o])throw new TypeError("There is no class L.PM.Draw.".concat(o));return this[i]=new L.PM.Draw[o](this._map),this[i].toolbarButtonName=i,this[i]._shape=i,this.shapes.push(i),this[n]&&this[i].setOptions(this[n].options),this[i].setOptions(this[i].options),this[i]},_getShapeFromBtnName:function(i){var n={drawMarker:"Marker",drawCircle:"Circle",drawPolygon:"Polygon",drawPolyline:"Line",drawRectangle:"Rectangle",drawCircleMarker:"CircleMarker",editMode:"Edit",dragMode:"Drag",cutPolygon:"Cut",removalMode:"Removal"};return n[i]?n[i]:this[i]?this[i]._shape:i},_finishLayer:function(i){i.pm.setOptions(this.options),i.pm&&(i.pm._shape=this._shape),this._addDrawnLayerProp(i)},_addDrawnLayerProp:function(i){i._drawnByGeoman=!0},_setPane:function(i,n){n==="layerPane"?i.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":n==="vertexPane"?i.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":n==="markerPane"&&(i.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")}});d.Marker=d.extend({initialize:function(i){this._map=i,this._shape="Marker",this.toolbarButtonName="drawMarker"},enable:function(i){var n=this;L.Util.setOptions(this,i),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker([0,0],this.options.markerStyle),this._setPane(this._hintMarker,"markerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(A("tooltips.placeMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this.options.markerEditable&&this._map.eachLayer(function(o){n.isRelevantMarker(o)&&o.pm.enable()}),$._fireEvent(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer}),this._setGlobalDrawMode()},disable:function(){var i=this;this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(function(n){i.isRelevantMarker(n)&&n.pm.disable()}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),$._fireEvent(this._map,"pm:drawend",{shape:this._shape}),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(i){this.enabled()?this.disable():this.enable(i)},isRelevantMarker:function(i){return i instanceof L.Marker&&i.pm&&!i._pmTempLayer},_syncHintMarker:function(i){if(this._hintMarker.setLatLng(i.latlng),this.options.snappable){var n=i;n.target=this._hintMarker,this._handleSnapping(n)}},_createMarker:function(i){if(i.latlng){this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);var n=this._hintMarker.getLatLng(),o=new L.Marker(n,this.options.markerStyle);this._setPane(o,"markerPane"),this._finishLayer(o),o.addTo(this._map.pm._getContainingLayer()),o.pm||(o.options.draggable=!1),o.addTo(this._map.pm._getContainingLayer()),o.pm&&this.options.markerEditable?o.pm.enable():o.dragging&&o.dragging.disable(),$._fireEvent(this._map,"pm:create",{shape:this._shape,marker:o,layer:o}),this._cleanupSnapping(),this.options.continueDrawing||this.disable()}}});var w=s(7),D=s.n(w);d.Line=d.extend({initialize:function(i){this._map=i,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable:function(i){L.Util.setOptions(this,i),this._enabled=!0,this._layerGroup=new L.LayerGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],this.options.templineStyle),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(A("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map._container.style.cursor="crosshair",this._map.on("click",this._createVertex,this),this.options.finishOn&&this._map.on(this.options.finishOn,this._finishShape,this),this.options.finishOn==="dblclick"&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],$._fireEvent(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer}),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),$._fireEvent(this._map,"pm:drawend",{shape:this._shape}),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(i){this.enabled()?this.disable():this.enable(i)},_syncHintLine:function(){var i=this._layer.getLatLngs();if(0<i.length){var n=i[i.length-1];this._hintline.setLatLngs([n,this._hintMarker.getLatLng()])}},_syncHintMarker:function(i){if(this._hintMarker.setLatLng(i.latlng),this.options.snappable){var n=i;n.target=this._hintMarker,this._handleSnapping(n)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,i.latlng)},hasSelfIntersection:function(){return 0<D()(this._layer.toGeoJSON(15)).features.length},_handleSelfIntersection:function(i,n){var o=L.polyline(this._layer.getLatLngs());i&&(n=n||this._hintMarker.getLatLng(),o.addLatLng(n));var l=D()(o.toGeoJSON(15));this._doesSelfIntersect=0<l.features.length,this._doesSelfIntersect?this._hintline.setStyle({color:"red"}):this._hintline.isEmpty()||this._hintline.setStyle(this.options.hintlineStyle)},_createVertex:function(i){if(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,i.latlng),!this._doesSelfIntersect)){this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);var n=this._hintMarker.getLatLng();if(n.equals(this._layer.getLatLngs()[0]))this._finishShape(i);else{this._layer._latlngInfo=this._layer._latlngInfo||[],this._layer._latlngInfo.push({latlng:n,snapInfo:this._hintMarker._snapInfo}),this._layer.addLatLng(n);var o=this._createMarker(n);this._setTooltipText(),this._hintline.setLatLngs([n,n]),$._fireEvent(this._layer,"pm:vertexadded",{shape:this._shape,workingLayer:this._layer,marker:o,latlng:n})}}},_removeLastVertex:function(){var i=this._layer.getLatLngs(),n=i.pop();if(i.length<1)this.disable();else{var o=this._layerGroup.getLayers().filter(function(l){return l instanceof L.Marker}).filter(function(l){return!L.DomUtil.hasClass(l._icon,"cursor-marker")}).find(function(l){return l.getLatLng()===n});this._layerGroup.removeLayer(o),this._layer.setLatLngs(i),this._syncHintLine(),this._setTooltipText()}},_finishShape:function(){if(this.options.allowSelfIntersection||(this._handleSelfIntersection(!1),!this._doesSelfIntersect)){var i=this._layer.getLatLngs();if(!(i.length<=1)){var n=L.polyline(i,this.options.pathOptions);this._setPane(n,"layerPane"),this._finishLayer(n),n.addTo(this._map.pm._getContainingLayer()),$._fireEvent(this._map,"pm:create",{shape:this._shape,layer:n}),this.options.snappable&&this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()}}},_createMarker:function(i){var n=new L.Marker(i,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(n,"vertexPane"),n._pmTempLayer=!0,this._layerGroup.addLayer(n),n.on("click",this._finishShape,this),n},_setTooltipText:function(){var i;i=A(this._layer.getLatLngs().flat().length<=1?"tooltips.continueLine":"tooltips.finishLine"),this._hintMarker.setTooltipContent(i)}}),d.Polygon=d.Line.extend({initialize:function(i){this._map=i,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},_createMarker:function(i){var n=new L.Marker(i,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(n,"vertexPane"),n._pmTempLayer=!0,this._layerGroup.addLayer(n),this._layer.getLatLngs().flat().length===1?(n.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(n)-1,this.options.snappable&&this._cleanupSnapping()):n.on("click",function(){return 1}),n},_setTooltipText:function(){var i;i=A(this._layer.getLatLngs().flat().length<=2?"tooltips.continueLine":"tooltips.finishPoly"),this._hintMarker.setTooltipContent(i)},_finishShape:function(i){if(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),!this._doesSelfIntersect)){var n=this._layer.getLatLngs();if(!(n.length<=2)){var o=L.polygon(n,this.options.pathOptions);this._setPane(o,"layerPane"),this._finishLayer(o),o.addTo(this._map.pm._getContainingLayer()),$._fireEvent(this._map,"pm:create",{shape:this._shape,layer:o}),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this.disable(),this.options.continueDrawing&&this.enable()}}}}),d.Rectangle=d.extend({initialize:function(i){this._map=i,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable:function(i){if(L.Util.setOptions(this,i),this._enabled=!0,this._layerGroup=new L.LayerGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._startMarker=L.marker([0,0],{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:100,opacity:this.options.cursorMarker?1:0}),this._setPane(this._startMarker,"vertexPane"),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker([0,0],{icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.tooltips&&this._hintMarker.bindTooltip(A("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){L.DomUtil.addClass(this._hintMarker._icon,"visible"),this._styleMarkers=[];for(var n=0;n<2;n+=1){var o=L.marker([0,0],{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});this._setPane(o,"vertexPane"),o._pmTempLayer=!0,this._layerGroup.addLayer(o),this._styleMarkers.push(o)}}this._map._container.style.cursor="crosshair",this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],$._fireEvent(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer}),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),$._fireEvent(this._map,"pm:drawend",{shape:this._shape}),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(i){this.enabled()?this.disable():this.enable(i)},_placeStartingMarkers:function(i){this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);var n=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(n),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(function(o){L.DomUtil.addClass(o._icon,"visible"),o.setLatLng(n)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent(A("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin:function(){var i=this._startMarker.getLatLng();i&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([i,i]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker:function(i){if(this._hintMarker.setLatLng(i.latlng),this.options.snappable){var n=i;n.target=this._hintMarker,this._handleSnapping(n)}},_syncRectangleSize:function(){var i=this,n=this._startMarker.getLatLng(),o=this._hintMarker.getLatLng();if(this._layer.setBounds([n,o]),this.options.cursorMarker&&this._styleMarkers){var l=this._findCorners(),u=[];l.forEach(function(p){p.equals(i._startMarker.getLatLng())||p.equals(i._hintMarker.getLatLng())||u.push(p)}),u.forEach(function(p,_){i._styleMarkers[_].setLatLng(p)})}},_findCorners:function(){var i=this._layer.getBounds();return[i.getNorthWest(),i.getNorthEast(),i.getSouthEast(),i.getSouthWest()]},_finishShape:function(i){this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);var n=this._hintMarker.getLatLng(),o=this._startMarker.getLatLng(),l=L.rectangle([o,n],this.options.pathOptions);this._setPane(l,"layerPane"),this._finishLayer(l),l.addTo(this._map.pm._getContainingLayer()),$._fireEvent(this._map,"pm:create",{shape:this._shape,layer:l}),this.disable(),this.options.continueDrawing&&this.enable()}}),d.Circle=d.extend({initialize:function(i){this._map=i,this._shape="Circle",this.toolbarButtonName="drawCircle"},enable:function(i){L.Util.setOptions(this,i),this.options.radius=0,this._enabled=!0,this._layerGroup=new L.LayerGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.circle([0,0],this.options.templineStyle),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._centerMarker=L.marker([0,0],{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._centerMarker),this._hintMarker=L.marker([0,0],{icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(A("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map._container.style.cursor="crosshair",this._map.on("click",this._placeCenterMarker,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],$._fireEvent(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer}),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),$._fireEvent(this._map,"pm:drawend",{shape:this._shape}),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(i){this.enabled()?this.disable():this.enable(i)},_syncHintLine:function(){var i=this._centerMarker.getLatLng(),n=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([i,n])},_syncCircleRadius:function(){var i,n=this._centerMarker.getLatLng(),o=this._hintMarker.getLatLng();i=this._map.options.crs===L.CRS.Simple?this._map.distance(n,o):n.distanceTo(o),this.options.minRadiusCircle&&i<this.options.minRadiusCircle?this._layer.setRadius(this.options.minRadiusCircle):this.options.maxRadiusCircle&&i>this.options.maxRadiusCircle?this._layer.setRadius(this.options.maxRadiusCircle):this._layer.setRadius(i)},_syncHintMarker:function(i){if(this._hintMarker.setLatLng(i.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){var n=i;n.target=this._hintMarker,this._handleSnapping(n)}this._handleHintMarkerSnapping()},_placeCenterMarker:function(i){this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);var n=this._hintMarker.getLatLng();this._centerMarker.setLatLng(n),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter:function(){var i=this._centerMarker.getLatLng();i&&(this._layer.setLatLng(i),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(A("tooltips.finishCircle")),$._fireEvent(this._layer,"pm:centerplaced",{workingLayer:this._layer,latlng:i,shape:this._shape}))},_finishShape:function(i){this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);var n,o=this._centerMarker.getLatLng(),l=this._hintMarker.getLatLng();n=this._map.options.crs===L.CRS.Simple?this._map.distance(o,l):o.distanceTo(l),this.options.minRadiusCircle&&n<this.options.minRadiusCircle?n=this.options.minRadiusCircle:this.options.maxRadiusCircle&&n>this.options.maxRadiusCircle&&(n=this.options.maxRadiusCircle);var u=Object.assign({},this.options.pathOptions,{radius:n}),p=L.circle(o,u);this._setPane(p,"layerPane"),this._finishLayer(p),p.addTo(this._map.pm._getContainingLayer()),p.pm&&p.pm._updateHiddenPolyCircle(),$._fireEvent(this._map,"pm:create",{shape:this._shape,layer:p}),this.disable(),this.options.continueDrawing&&this.enable()},_getNewDestinationOfHintMarker:function(){var i=this._centerMarker.getLatLng(),n=this._hintMarker.getLatLng(),o=i.distanceTo(n);return this.options.minRadiusCircle&&o<this.options.minRadiusCircle?n=bt(this._map,i,n,this.options.minRadiusCircle):this.options.maxRadiusCircle&&o>this.options.maxRadiusCircle&&(n=bt(this._map,i,n,this.options.maxRadiusCircle)),n},_handleHintMarkerSnapping:function(){if(this._hintMarker._snapped){var i=this._centerMarker.getLatLng(),n=this._hintMarker.getLatLng(),o=i.distanceTo(n);(this.options.minRadiusCircle&&o<this.options.minRadiusCircle||this.options.maxRadiusCircle&&o>this.options.maxRadiusCircle)&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng)}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}}),d.CircleMarker=d.Marker.extend({initialize:function(i){this._map=i,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker",this._layerIsDragging=!1},enable:function(i){var n=this;L.Util.setOptions(this,i),this._enabled=!0,this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this.options.editable?(this._layerGroup=new L.LayerGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.circleMarker([0,0],this.options.templineStyle),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._centerMarker=L.marker([0,0],{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._centerMarker),this._hintMarker=L.marker([0,0],{icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(A("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map.on("click",this._placeCenterMarker,this),this._map._container.style.cursor="crosshair"):(this._map.on("click",this._createMarker,this),this._hintMarker=L.circleMarker([0,0],this.options.templineStyle),this._setPane(this._hintMarker,"layerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this.options.tooltips&&this._hintMarker.bindTooltip(A("tooltips.placeCircleMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip()),this._map.on("mousemove",this._syncHintMarker,this),!this.options.editable&&this.options.markerEditable&&this._map.eachLayer(function(o){n.isRelevantMarker(o)&&o.pm.enable()}),this._layer.bringToBack(),$._fireEvent(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer}),this._setGlobalDrawMode()},disable:function(){var i=this;this._enabled&&(this._enabled=!1,this.options.editable?(this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.removeLayer(this._layerGroup)):(this._map.off("click",this._createMarker,this),this._map.eachLayer(function(n){i.isRelevantMarker(n)&&n.pm.disable()}),this._hintMarker.remove()),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),$._fireEvent(this._map,"pm:drawend",{shape:this._shape}),this._setGlobalDrawMode())},_placeCenterMarker:function(i){this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);var n=this._hintMarker.getLatLng();this._centerMarker.setLatLng(n),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter:function(){var i=this._centerMarker.getLatLng();i&&(this._layer.setLatLng(i),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(A("tooltips.finishCircle")),$._fireEvent(this._layer,"pm:centerplaced",{shape:this._shape,workingLayer:this._layer,latlng:i}))},_syncHintLine:function(){var i=this._centerMarker.getLatLng(),n=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([i,n])},_syncCircleRadius:function(){var i=this._centerMarker.getLatLng(),n=this._hintMarker.getLatLng(),o=this._map.project(i).distanceTo(this._map.project(n));this.options.minRadiusCircleMarker&&o<this.options.minRadiusCircleMarker?this._layer.setRadius(this.options.minRadiusCircleMarker):this.options.maxRadiusCircleMarker&&o>this.options.maxRadiusCircleMarker?this._layer.setRadius(this.options.maxRadiusCircleMarker):this._layer.setRadius(o)},_syncHintMarker:function(i){if(this._hintMarker.setLatLng(i.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){var n=i;n.target=this._hintMarker,this._handleSnapping(n)}this._handleHintMarkerSnapping()},isRelevantMarker:function(i){return i instanceof L.CircleMarker&&!(i instanceof L.Circle)&&i.pm&&!i._pmTempLayer},_createMarker:function(i){if(i.latlng&&!this._layerIsDragging){this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);var n=this._hintMarker.getLatLng(),o=L.circleMarker(n,this.options.pathOptions);this._setPane(o,"layerPane"),this._finishLayer(o),o.addTo(this._map.pm._getContainingLayer()),o.pm&&this.options.markerEditable&&o.pm.enable(),$._fireEvent(this._map,"pm:create",{shape:this._shape,marker:o,layer:o}),this._cleanupSnapping(),this.options.continueDrawing||this.disable()}},_finishShape:function(i){this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);var n=this._centerMarker.getLatLng(),o=this._hintMarker.getLatLng(),l=this._map.project(n).distanceTo(this._map.project(o));this.options.editable&&(this.options.minRadiusCircleMarker&&l<this.options.minRadiusCircleMarker?l=this.options.minRadiusCircleMarker:this.options.maxRadiusCircleMarker&&l>this.options.maxRadiusCircleMarker&&(l=this.options.maxRadiusCircleMarker));var u=Object.assign({},this.options.pathOptions,{radius:l}),p=L.circleMarker(n,u);this._setPane(p,"layerPane"),this._finishLayer(p),p.addTo(this._map.pm._getContainingLayer()),p.pm&&p.pm._updateHiddenPolyCircle(),$._fireEvent(this._map,"pm:create",{shape:this._shape,layer:p}),this.disable(),this.options.continueDrawing&&this.enable()},_getNewDestinationOfHintMarker:function(){var i=this._hintMarker.getLatLng();if(this.options.editable){var n=this._centerMarker.getLatLng(),o=this._map.project(n).distanceTo(this._map.project(i));this.options.minRadiusCircleMarker&&o<this.options.minRadiusCircleMarker?i=bt(this._map,n,i,this._pxRadiusToMeter(this.options.minRadiusCircleMarker)):this.options.maxRadiusCircleMarker&&o>this.options.maxRadiusCircleMarker&&(i=bt(this._map,n,i,this._pxRadiusToMeter(this.options.maxRadiusCircleMarker)))}return i},_handleHintMarkerSnapping:function(){if(this.options.editable){if(this._hintMarker._snapped){var i=this._centerMarker.getLatLng(),n=this._hintMarker.getLatLng(),o=this._map.project(i).distanceTo(this._map.project(n));(this.options.minRadiusCircleMarker&&o<this.options.minRadiusCircleMarker||this.options.maxRadiusCircleMarker&&o>this.options.maxRadiusCircleMarker)&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng)}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}},_pxRadiusToMeter:function(i){var n=this._centerMarker.getLatLng(),o=this._map.project(n),l=L.point(o.x+i,o.y);return this._map.unproject(l).distanceTo(n)}});var Y=s(1),K=s.n(Y);function at(i,n,o){var l=i[n];i[n]=i[o],i[o]=l}function rt(i,n){return i<n?-1:n<i?1:0}var ot=function(i,n,o,l,u){(function p(_,M,x,P,H){for(;x<P;){if(600<P-x){var W=P-x+1,U=M-x+1,tt=Math.log(W),nt=.5*Math.exp(2*tt/3),lt=.5*Math.sqrt(tt*nt*(W-nt)/W)*(U-W/2<0?-1:1);p(_,M,Math.max(x,Math.floor(M-U*nt/W+lt)),Math.min(P,Math.floor(M+(W-U)*nt/W+lt)),H)}var ht=_[M],ct=x,_t=P;for(at(_,x,M),0<H(_[P],ht)&&at(_,x,P);ct<_t;){for(at(_,ct,_t),ct++,_t--;H(_[ct],ht)<0;)ct++;for(;0<H(_[_t],ht);)_t--}H(_[x],ht)===0?at(_,x,_t):at(_,++_t,P),_t<=M&&(x=_t+1),M<=_t&&(P=_t-1)}})(i,n,o||0,l||i.length-1,u||rt)};function ut(i,n){if(!(this instanceof ut))return new ut(i,n);this._maxEntries=Math.max(4,i||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),n&&this._initFormat(n),this.clear()}function gt(i,n,o){if(!o)return n.indexOf(i);for(var l=0;l<n.length;l++)if(o(i,n[l]))return l;return-1}function pt(i,n){mt(i,0,i.children.length,n,i)}function mt(i,n,o,l,u){(u=u||Ft(null)).minX=1/0,u.minY=1/0,u.maxX=-1/0,u.maxY=-1/0;for(var p,_=n;_<o;_++)p=i.children[_],wt(u,i.leaf?l(p):p);return u}function wt(i,n){return i.minX=Math.min(i.minX,n.minX),i.minY=Math.min(i.minY,n.minY),i.maxX=Math.max(i.maxX,n.maxX),i.maxY=Math.max(i.maxY,n.maxY),i}function vt(i,n){return i.minX-n.minX}function Mt(i,n){return i.minY-n.minY}function Ct(i){return(i.maxX-i.minX)*(i.maxY-i.minY)}function Rt(i){return i.maxX-i.minX+(i.maxY-i.minY)}function te(i,n){return i.minX<=n.minX&&i.minY<=n.minY&&n.maxX<=i.maxX&&n.maxY<=i.maxY}function Wt(i,n){return n.minX<=i.maxX&&n.minY<=i.maxY&&n.maxX>=i.minX&&n.maxY>=i.minY}function Ft(i){return{children:i,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function le(i,n,o,l,u){for(var p,_=[n,o];_.length;)(o=_.pop())-(n=_.pop())<=l||(p=n+Math.ceil((o-n)/l/2)*l,ot(i,p,n,o,u),_.push(n,p,p,o))}ut.prototype={all:function(){return this._all(this.data,[])},search:function(i){var n=this.data,o=[],l=this.toBBox;if(!Wt(i,n))return o;for(var u,p,_,M,x=[];n;){for(u=0,p=n.children.length;u<p;u++)_=n.children[u],Wt(i,M=n.leaf?l(_):_)&&(n.leaf?o.push(_):te(i,M)?this._all(_,o):x.push(_));n=x.pop()}return o},collides:function(i){var n=this.data,o=this.toBBox;if(!Wt(i,n))return!1;for(var l,u,p,_,M=[];n;){for(l=0,u=n.children.length;l<u;l++)if(p=n.children[l],Wt(i,_=n.leaf?o(p):p)){if(n.leaf||te(i,_))return!0;M.push(p)}n=M.pop()}return!1},load:function(i){if(!i||!i.length)return this;if(i.length<this._minEntries){for(var n=0,o=i.length;n<o;n++)this.insert(i[n]);return this}var l=this._build(i.slice(),0,i.length-1,0);if(this.data.children.length)if(this.data.height===l.height)this._splitRoot(this.data,l);else{if(this.data.height<l.height){var u=this.data;this.data=l,l=u}this._insert(l,this.data.height-l.height-1,!0)}else this.data=l;return this},insert:function(i){return i&&this._insert(i,this.data.height-1),this},clear:function(){return this.data=Ft([]),this},remove:function(i,n){if(!i)return this;for(var o,l,u,p,_=this.data,M=this.toBBox(i),x=[],P=[];_||x.length;){if(_||(_=x.pop(),l=x[x.length-1],o=P.pop(),p=!0),_.leaf&&(u=gt(i,_.children,n))!==-1)return _.children.splice(u,1),x.push(_),this._condense(x),this;p||_.leaf||!te(_,M)?l?(o++,_=l.children[o],p=!1):_=null:(x.push(_),P.push(o),o=0,_=(l=_).children[0])}return this},toBBox:function(i){return i},compareMinX:vt,compareMinY:Mt,toJSON:function(){return this.data},fromJSON:function(i){return this.data=i,this},_all:function(i,n){for(var o=[];i;)i.leaf?n.push.apply(n,i.children):o.push.apply(o,i.children),i=o.pop();return n},_build:function(i,n,o,l){var u,p=o-n+1,_=this._maxEntries;if(p<=_)return pt(u=Ft(i.slice(n,o+1)),this.toBBox),u;l||(l=Math.ceil(Math.log(p)/Math.log(_)),_=Math.ceil(p/Math.pow(_,l-1))),(u=Ft([])).leaf=!1,u.height=l;var M,x,P,H,W=Math.ceil(p/_),U=W*Math.ceil(Math.sqrt(_));for(le(i,n,o,U,this.compareMinX),M=n;M<=o;M+=U)for(le(i,M,P=Math.min(M+U-1,o),W,this.compareMinY),x=M;x<=P;x+=W)H=Math.min(x+W-1,P),u.children.push(this._build(i,x,H,l-1));return pt(u,this.toBBox),u},_chooseSubtree:function(i,n,o,l){for(var u,p,_,M,x,P,H,W,U,tt;l.push(n),!n.leaf&&l.length-1!==o;){for(H=W=1/0,u=0,p=n.children.length;u<p;u++)x=Ct(_=n.children[u]),U=i,tt=_,(P=(Math.max(tt.maxX,U.maxX)-Math.min(tt.minX,U.minX))*(Math.max(tt.maxY,U.maxY)-Math.min(tt.minY,U.minY))-x)<W?(W=P,H=x<H?x:H,M=_):P===W&&x<H&&(H=x,M=_);n=M||n.children[0]}return n},_insert:function(i,n,o){var l=this.toBBox,u=o?i:l(i),p=[],_=this._chooseSubtree(u,this.data,n,p);for(_.children.push(i),wt(_,u);0<=n&&p[n].children.length>this._maxEntries;)this._split(p,n),n--;this._adjustParentBBoxes(u,p,n)},_split:function(i,n){var o=i[n],l=o.children.length,u=this._minEntries;this._chooseSplitAxis(o,u,l);var p=this._chooseSplitIndex(o,u,l),_=Ft(o.children.splice(p,o.children.length-p));_.height=o.height,_.leaf=o.leaf,pt(o,this.toBBox),pt(_,this.toBBox),n?i[n-1].children.push(_):this._splitRoot(o,_)},_splitRoot:function(i,n){this.data=Ft([i,n]),this.data.height=i.height+1,this.data.leaf=!1,pt(this.data,this.toBBox)},_chooseSplitIndex:function(i,n,o){var l,u,p,_,M,x,P,H,W,U,tt,nt,lt,ht;for(x=P=1/0,l=n;l<=o-n;l++)W=u=mt(i,0,l,this.toBBox),U=p=mt(i,l,o,this.toBBox),tt=Math.max(W.minX,U.minX),nt=Math.max(W.minY,U.minY),lt=Math.min(W.maxX,U.maxX),ht=Math.min(W.maxY,U.maxY),_=Math.max(0,lt-tt)*Math.max(0,ht-nt),M=Ct(u)+Ct(p),_<x?(x=_,H=l,P=M<P?M:P):_===x&&M<P&&(P=M,H=l);return H},_chooseSplitAxis:function(i,n,o){var l=i.leaf?this.compareMinX:vt,u=i.leaf?this.compareMinY:Mt;this._allDistMargin(i,n,o,l)<this._allDistMargin(i,n,o,u)&&i.children.sort(l)},_allDistMargin:function(i,n,o,l){i.children.sort(l);var u,p,_=this.toBBox,M=mt(i,0,n,_),x=mt(i,o-n,o,_),P=Rt(M)+Rt(x);for(u=n;u<o-n;u++)p=i.children[u],wt(M,i.leaf?_(p):p),P+=Rt(M);for(u=o-n-1;n<=u;u--)p=i.children[u],wt(x,i.leaf?_(p):p),P+=Rt(x);return P},_adjustParentBBoxes:function(i,n,o){for(var l=o;0<=l;l--)wt(n[l],i)},_condense:function(i){for(var n,o=i.length-1;0<=o;o--)i[o].children.length===0?0<o?(n=i[o-1].children).splice(n.indexOf(i[o]),1):this.clear():pt(i[o],this.toBBox)},_initFormat:function(i){var n=["return a"," - b",";"];this.compareMinX=new Function("a","b",n.join(i[0])),this.compareMinY=new Function("a","b",n.join(i[1])),this.toBBox=new Function("a","return {minX: a"+i[0]+", minY: a"+i[1]+", maxX: a"+i[2]+", maxY: a"+i[3]+"};")}};var ne=ut;function $t(i,n,o){if(!Oe(o=o||{}))throw new Error("options is invalid");var l=o.bbox,u=o.id;if(i===void 0)throw new Error("geometry is required");if(n&&n.constructor!==Object)throw new Error("properties must be an Object");l&&Le(l),u&&ze(u);var p={type:"Feature"};return u&&(p.id=u),l&&(p.bbox=l),p.properties=n||{},p.geometry=i,p}function fe(i,n,o){if(!i)throw new Error("coordinates is required");if(i.length<2)throw new Error("coordinates must be an array of two or more positions");if(!me(i[0][1])||!me(i[0][1]))throw new Error("coordinates must contain numbers");return $t({type:"LineString",coordinates:i},n,o)}function ae(i,n){if(!Oe(n=n||{}))throw new Error("options is invalid");var o=n.bbox,l=n.id;if(!i)throw new Error("No features passed");if(!Array.isArray(i))throw new Error("features must be an Array");o&&Le(o),l&&ze(l);var u={type:"FeatureCollection"};return l&&(u.id=l),o&&(u.bbox=o),u.features=i,u}function me(i){return!isNaN(i)&&i!==null&&!Array.isArray(i)}function Oe(i){return!!i&&i.constructor===Object}function Le(i){if(!i)throw new Error("bbox is required");if(!Array.isArray(i))throw new Error("bbox must be an Array");if(i.length!==4&&i.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");i.forEach(function(n){if(!me(n))throw new Error("bbox must only contain numbers")})}function ze(i){if(!i)throw new Error("id is required");if(["string","number"].indexOf(typeof i)===-1)throw new Error("id must be a number or a string")}function he(i,n,o){if(i!==null)for(var l,u,p,_,M,x,P,H,W=0,U=0,tt=i.type,nt=tt==="FeatureCollection",lt=tt==="Feature",ht=nt?i.features.length:1,ct=0;ct<ht;ct++){M=(H=!!(P=nt?i.features[ct].geometry:lt?i.geometry:i)&&P.type==="GeometryCollection")?P.geometries.length:1;for(var _t=0;_t<M;_t++){var kt=0,jt=0;if((_=H?P.geometries[_t]:P)!==null){x=_.coordinates;var At=_.type;switch(W=!o||At!=="Polygon"&&At!=="MultiPolygon"?0:1,At){case null:break;case"Point":if(n(x,U,ct,kt,jt)===!1)return!1;U++,kt++;break;case"LineString":case"MultiPoint":for(l=0;l<x.length;l++){if(n(x[l],U,ct,kt,jt)===!1)return!1;U++,At==="MultiPoint"&&kt++}At==="LineString"&&kt++;break;case"Polygon":case"MultiLineString":for(l=0;l<x.length;l++){for(u=0;u<x[l].length-W;u++){if(n(x[l][u],U,ct,kt,jt)===!1)return!1;U++}At==="MultiLineString"&&kt++,At==="Polygon"&&jt++}At==="Polygon"&&kt++;break;case"MultiPolygon":for(l=0;l<x.length;l++){for(At==="MultiPolygon"&&(jt=0),u=0;u<x[l].length;u++){for(p=0;p<x[l][u].length-W;p++){if(n(x[l][u][p],U,ct,kt,jt)===!1)return!1;U++}jt++}kt++}break;case"GeometryCollection":for(l=0;l<_.geometries.length;l++)if(he(_.geometries[l],n,o)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function be(i,n){if(i.type==="Feature")n(i,0);else if(i.type==="FeatureCollection")for(var o=0;o<i.features.length&&n(i.features[o],o)!==!1;o++);}function qi(i,n){(function(o,l){var u,p,_,M,x,P,H,W,U,tt,nt=0,lt=o.type==="FeatureCollection",ht=o.type==="Feature",ct=lt?o.features.length:1;for(u=0;u<ct;u++){for(P=lt?o.features[u].geometry:ht?o.geometry:o,W=lt?o.features[u].properties:ht?o.properties:{},U=lt?o.features[u].bbox:ht?o.bbox:void 0,tt=lt?o.features[u].id:ht?o.id:void 0,x=(H=!!P&&P.type==="GeometryCollection")?P.geometries.length:1,_=0;_<x;_++)if((M=H?P.geometries[_]:P)!==null)switch(M.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(l(M,nt,W,U,tt)===!1)return!1;break;case"GeometryCollection":for(p=0;p<M.geometries.length;p++)if(l(M.geometries[p],nt,W,U,tt)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(l(null,nt,W,U,tt)===!1)return!1;nt++}})(i,function(o,l,u,p,_){var M,x=o===null?null:o.type;switch(x){case null:case"Point":case"LineString":case"Polygon":return n($t(o,u,{bbox:p,id:_}),l,0)!==!1&&void 0}switch(x){case"MultiPoint":M="Point";break;case"MultiLineString":M="LineString";break;case"MultiPolygon":M="Polygon"}for(var P=0;P<o.coordinates.length;P++){var H=o.coordinates[P];if(n($t({type:M,coordinates:H},u),l,P)===!1)return!1}})}function Ii(i){var n=[i[0],i[1]],o=[i[0],i[3]],l=[i[2],i[3]];return{type:"Feature",bbox:i,properties:{},geometry:{type:"Polygon",coordinates:[[n,[i[2],i[1]],l,o,n]]}}}function Ee(i){var n=[1/0,1/0,-1/0,-1/0];return he(i,function(o){n[0]>o[0]&&(n[0]=o[0]),n[1]>o[1]&&(n[1]=o[1]),n[2]<o[0]&&(n[2]=o[0]),n[3]<o[1]&&(n[3]=o[1])}),n}var _e=function(i){var n=ne(i);return n.insert=function(o){if(Array.isArray(o)){var l=o;(o=Ii(l)).bbox=l}else o.bbox=o.bbox?o.bbox:Ee(o);return ne.prototype.insert.call(this,o)},n.load=function(o){var l=[];return Array.isArray(o)?o.forEach(function(u){var p=Ii(u);p.bbox=u,l.push(p)}):be(o,function(u){u.bbox=u.bbox?u.bbox:Ee(u),l.push(u)}),ne.prototype.load.call(this,l)},n.remove=function(o){if(Array.isArray(o)){var l=o;(o=Ii(l)).bbox=l}return ne.prototype.remove.call(this,o)},n.clear=function(){return ne.prototype.clear.call(this)},n.search=function(o){return{type:"FeatureCollection",features:ne.prototype.search.call(this,this.toBBox(o))}},n.collides=function(o){return ne.prototype.collides.call(this,this.toBBox(o))},n.all=function(){return{type:"FeatureCollection",features:ne.prototype.all.call(this)}},n.toJSON=function(){return ne.prototype.toJSON.call(this)},n.fromJSON=function(o){return ne.prototype.fromJSON.call(this,o)},n.toBBox=function(o){var l;return{minX:(l=o.bbox?o.bbox:Array.isArray(o)&&o.length===4?o:Ee(o))[0],minY:l[1],maxX:l[2],maxY:l[3]}},n},Yt=63710088e-1,Ji={meters:Yt,metres:Yt,millimeters:1e3*Yt,millimetres:1e3*Yt,centimeters:100*Yt,centimetres:100*Yt,kilometers:Yt/1e3,kilometres:Yt/1e3,miles:Yt/1609.344,nauticalmiles:Yt/1852,inches:39.37*Yt,yards:Yt/1.0936,feet:3.28084*Yt,radians:1,degrees:Yt/111325};function mi(i){if(i==null)throw new Error("degrees is required");return i%360*Math.PI/180}function Ie(i){if(!i)throw new Error("coord is required");if(i.type==="Feature"&&i.geometry!==null&&i.geometry.type==="Point")return i.geometry.coordinates;if(i.type==="Point")return i.coordinates;if(Array.isArray(i)&&2<=i.length&&i[0].length===void 0&&i[1].length===void 0)return i;throw new Error("coord must be GeoJSON Point or an Array of numbers")}var ge=function(i,n,o){if(!function(W){return!!W&&W.constructor===Object}(o=o||{}))throw new Error("options is invalid");var l=o.units,u=Ie(i),p=Ie(n),_=mi(p[1]-u[1]),M=mi(p[0]-u[0]),x=mi(u[1]),P=mi(p[1]),H=Math.pow(Math.sin(_/2),2)+Math.pow(Math.sin(M/2),2)*Math.cos(x)*Math.cos(P);return function(W,U){if(W==null)throw new Error("radians is required");if(U&&typeof U!="string")throw new Error("units must be a string");var tt=Ji[U||"kilometers"];if(!tt)throw new Error(U+" units is invalid");return W*tt}(2*Math.atan2(Math.sqrt(H),Math.sqrt(1-H)),l)},$i=function(i,n){if(!function(_){return!!_&&_.constructor===Object}(n=n||{}))throw new Error("options is invalid");var o=n.precision,l=n.coordinates,u=n.mutate;if(o=o==null||isNaN(o)?6:o,l=l==null||isNaN(l)?3:l,!i)throw new Error("<geojson> is required");if(typeof o!="number")throw new Error("<precision> must be a number");if(typeof l!="number")throw new Error("<coordinates> must be a number");u!==!1&&u!==void 0||(i=JSON.parse(JSON.stringify(i)));var p=Math.pow(10,o);return function _(M,x,P){if(M!==null)for(var H,W,U,tt,nt,lt,ht,ct,_t=0,kt=0,jt=M.type,At=jt==="FeatureCollection",Vt=jt==="Feature",Qt=At?M.features.length:1,Jt=0;Jt<Qt;Jt++){nt=(ct=!!(ht=At?M.features[Jt].geometry:Vt?M.geometry:M)&&ht.type==="GeometryCollection")?ht.geometries.length:1;for(var pe=0;pe<nt;pe++){var ie=0,Pe=0;if((tt=ct?ht.geometries[pe]:ht)!==null){lt=tt.coordinates;var ye=tt.type;switch(_t=!P||ye!=="Polygon"&&ye!=="MultiPolygon"?0:1,ye){case null:break;case"Point":if(x(lt,kt,Jt,ie,Pe)===!1)return!1;kt++,ie++;break;case"LineString":case"MultiPoint":for(H=0;H<lt.length;H++){if(x(lt[H],kt,Jt,ie,Pe)===!1)return!1;kt++,ye==="MultiPoint"&&ie++}ye==="LineString"&&ie++;break;case"Polygon":case"MultiLineString":for(H=0;H<lt.length;H++){for(W=0;W<lt[H].length-_t;W++){if(x(lt[H][W],kt,Jt,ie,Pe)===!1)return!1;kt++}ye==="MultiLineString"&&ie++,ye==="Polygon"&&Pe++}ye==="Polygon"&&ie++;break;case"MultiPolygon":for(H=0;H<lt.length;H++){for(ye==="MultiPolygon"&&(Pe=0),W=0;W<lt[H].length;W++){for(U=0;U<lt[H][W].length-_t;U++){if(x(lt[H][W][U],kt,Jt,ie,Pe)===!1)return!1;kt++}Pe++}ie++}break;case"GeometryCollection":for(H=0;H<tt.geometries.length;H++)if(_(tt.geometries[H],x,P)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}(i,function(_){(function(M,x,P){M.length>P&&M.splice(P,M.length);for(var H=0;H<M.length;H++)M[H]=Math.round(M[H]*x)/x})(_,p,l)}),i};function Xe(i){if(!i)throw new Error("coord is required");if(i.type==="Feature"&&i.geometry!==null&&i.geometry.type==="Point")return i.geometry.coordinates;if(i.type==="Point")return i.coordinates;if(Array.isArray(i)&&2<=i.length&&i[0].length===void 0&&i[1].length===void 0)return i;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function we(i){if(!i)throw new Error("coords is required");if(i.type==="Feature"&&i.geometry!==null)return i.geometry.coordinates;if(i.coordinates)return i.coordinates;if(Array.isArray(i))return i;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function ke(i,n){if(!i)throw new Error((n||"geojson")+" is required");if(i.geometry&&i.geometry.type)return i.geometry.type;if(i.type)return i.type;throw new Error((n||"geojson")+" is invalid")}var Di=function(i){if(!i)throw new Error("geojson is required");var n=[];return qi(i,function(o){(function(l,u){var p=[],_=l.geometry;switch(_.type){case"Polygon":p=we(_);break;case"LineString":p=[we(_)]}p.forEach(function(M){(function(x,P){var H=[];return x.reduce(function(W,U){var tt=fe([W,U],P);return tt.bbox=function(nt,lt){var ht=nt[0],ct=nt[1],_t=lt[0],kt=lt[1];return[ht<_t?ht:_t,ct<kt?ct:kt,_t<ht?ht:_t,kt<ct?ct:kt]}(W,U),H.push(tt),U}),H})(M,l.properties).forEach(function(x){x.id=u.length,u.push(x)})})})(o,n)}),ae(n)};function _i(i,n){var o=we(i),l=we(n);if(o.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(l.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var u=o[0][0],p=o[0][1],_=o[1][0],M=o[1][1],x=l[0][0],P=l[0][1],H=l[1][0],W=l[1][1],U=(W-P)*(_-u)-(H-x)*(M-p);if(U==0)return null;var tt=((H-x)*(p-P)-(W-P)*(u-x))/U,nt=((_-u)*(p-P)-(M-p)*(u-x))/U;return 0<=tt&&tt<=1&&0<=nt&&nt<=1?function(lt,ht,ct){if(!lt)throw new Error("coordinates is required");if(!Array.isArray(lt))throw new Error("coordinates must be an Array");if(lt.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!me(lt[0])||!me(lt[1]))throw new Error("coordinates must contain numbers");return $t({type:"Point",coordinates:lt},ht,ct)}([u+tt*(_-u),p+tt*(M-p)]):null}function Ke(i){if(i==null)throw new Error("degrees is required");return i%360*Math.PI/180}function gi(i){if(!i)throw new Error("coord is required");if(i.type==="Feature"&&i.geometry!==null&&i.geometry.type==="Point")return i.geometry.coordinates;if(i.type==="Point")return i.coordinates;if(Array.isArray(i)&&2<=i.length&&i[0].length===void 0&&i[1].length===void 0)return i;throw new Error("coord must be GeoJSON Point or an Array of numbers")}var Ri=function i(n,o,l){if(!function(U){return!!U&&U.constructor===Object}(l=l||{}))throw new Error("options is invalid");if(l.final===!0)return function(U,tt){var nt=i(tt,U);return(nt+180)%360}(n,o);var u=gi(n),p=gi(o),_=Ke(u[0]),M=Ke(p[0]),x=Ke(u[1]),P=Ke(p[1]),H=Math.sin(M-_)*Math.cos(P),W=Math.cos(x)*Math.sin(P)-Math.sin(x)*Math.cos(P)*Math.cos(M-_);return function(U){if(U==null)throw new Error("radians is required");return U%(2*Math.PI)*180/Math.PI}(Math.atan2(H,W))},ee=63710088e-1,Qi={meters:ee,metres:ee,millimeters:1e3*ee,millimetres:1e3*ee,centimeters:100*ee,centimetres:100*ee,kilometers:ee/1e3,kilometres:ee/1e3,miles:ee/1609.344,nauticalmiles:ee/1852,inches:39.37*ee,yards:ee/1.0936,feet:3.28084*ee,radians:1,degrees:ee/111325};function _n(i,n,o){if(!en(o=o||{}))throw new Error("options is invalid");var l=o.bbox,u=o.id;if(i===void 0)throw new Error("geometry is required");if(n&&n.constructor!==Object)throw new Error("properties must be an Object");l&&function(_){if(!_)throw new Error("bbox is required");if(!Array.isArray(_))throw new Error("bbox must be an Array");if(_.length!==4&&_.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");_.forEach(function(M){if(!zi(M))throw new Error("bbox must only contain numbers")})}(l),u&&function(_){if(!_)throw new Error("id is required");if(["string","number"].indexOf(typeof _)===-1)throw new Error("id must be a number or a string")}(u);var p={type:"Feature"};return u&&(p.id=u),l&&(p.bbox=l),p.properties=n||{},p.geometry=i,p}function tn(i){if(i==null)throw new Error("radians is required");return i%(2*Math.PI)*180/Math.PI}function Ai(i){if(i==null)throw new Error("degrees is required");return i%360*Math.PI/180}function zi(i){return!isNaN(i)&&i!==null&&!Array.isArray(i)}function en(i){return!!i&&i.constructor===Object}var Ni=function(i,n,o,l){if(!en(l=l||{}))throw new Error("options is invalid");var u=l.units,p=l.properties,_=function(U){if(!U)throw new Error("coord is required");if(U.type==="Feature"&&U.geometry!==null&&U.geometry.type==="Point")return U.geometry.coordinates;if(U.type==="Point")return U.coordinates;if(Array.isArray(U)&&2<=U.length&&U[0].length===void 0&&U[1].length===void 0)return U;throw new Error("coord must be GeoJSON Point or an Array of numbers")}(i),M=Ai(_[0]),x=Ai(_[1]),P=Ai(o),H=function(U,tt){if(U==null)throw new Error("distance is required");if(tt&&typeof tt!="string")throw new Error("units must be a string");var nt=Qi[tt||"kilometers"];if(!nt)throw new Error(tt+" units is invalid");return U/nt}(n,u),W=Math.asin(Math.sin(x)*Math.cos(H)+Math.cos(x)*Math.sin(H)*Math.cos(P));return function(U,tt,nt){if(!U)throw new Error("coordinates is required");if(!Array.isArray(U))throw new Error("coordinates must be an Array");if(U.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!zi(U[0])||!zi(U[1]))throw new Error("coordinates must contain numbers");return _n({type:"Point",coordinates:U},tt,nt)}([tn(M+Math.atan2(Math.sin(P)*Math.sin(H)*Math.cos(x),Math.cos(H)-Math.sin(x)*Math.sin(W))),tn(W)],p)};function Ne(i,n,o){var l=i[n];i[n]=i[o],i[o]=l}function gn(i,n){return i<n?-1:n<i?1:0}var vn=function(i,n,o,l,u){(function p(_,M,x,P,H){for(;x<P;){if(600<P-x){var W=P-x+1,U=M-x+1,tt=Math.log(W),nt=.5*Math.exp(2*tt/3),lt=.5*Math.sqrt(tt*nt*(W-nt)/W)*(U-W/2<0?-1:1);p(_,M,Math.max(x,Math.floor(M-U*nt/W+lt)),Math.min(P,Math.floor(M+(W-U)*nt/W+lt)),H)}var ht=_[M],ct=x,_t=P;for(Ne(_,x,M),0<H(_[P],ht)&&Ne(_,x,P);ct<_t;){for(Ne(_,ct,_t),ct++,_t--;H(_[ct],ht)<0;)ct++;for(;0<H(_[_t],ht);)_t--}H(_[x],ht)===0?Ne(_,x,_t):Ne(_,++_t,P),_t<=M&&(x=_t+1),M<=_t&&(P=_t-1)}})(i,n,o||0,l||i.length-1,u||gn)};function Ze(i,n){if(!(this instanceof Ze))return new Ze(i,n);this._maxEntries=Math.max(4,i||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),n&&this._initFormat(n),this.clear()}function vi(i,n,o){if(!o)return n.indexOf(i);for(var l=0;l<n.length;l++)if(o(i,n[l]))return l;return-1}function xe(i,n){ri(i,0,i.children.length,n,i)}function ri(i,n,o,l,u){(u=u||Zt(null)).minX=1/0,u.minY=1/0,u.maxX=-1/0,u.maxY=-1/0;for(var p,_=n;_<o;_++)p=i.children[_],oi(u,i.leaf?l(p):p);return u}function oi(i,n){return i.minX=Math.min(i.minX,n.minX),i.minY=Math.min(i.minY,n.minY),i.maxX=Math.max(i.maxX,n.maxX),i.maxY=Math.max(i.maxY,n.maxY),i}function yi(i,n){return i.minX-n.minX}function qe(i,n){return i.minY-n.minY}function Li(i){return(i.maxX-i.minX)*(i.maxY-i.minY)}function ai(i){return i.maxX-i.minX+(i.maxY-i.minY)}function je(i,n){return i.minX<=n.minX&&i.minY<=n.minY&&n.maxX<=i.maxX&&n.maxY<=i.maxY}function It(i,n){return n.minX<=i.maxX&&n.minY<=i.maxY&&n.maxX>=i.minX&&n.maxY>=i.minY}function Zt(i){return{children:i,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function si(i,n,o,l,u){for(var p,_=[n,o];_.length;)(o=_.pop())-(n=_.pop())<=l||(p=n+Math.ceil((o-n)/l/2)*l,vn(i,p,n,o,u),_.push(n,p,p,o))}Ze.prototype={all:function(){return this._all(this.data,[])},search:function(i){var n=this.data,o=[],l=this.toBBox;if(!It(i,n))return o;for(var u,p,_,M,x=[];n;){for(u=0,p=n.children.length;u<p;u++)_=n.children[u],It(i,M=n.leaf?l(_):_)&&(n.leaf?o.push(_):je(i,M)?this._all(_,o):x.push(_));n=x.pop()}return o},collides:function(i){var n=this.data,o=this.toBBox;if(!It(i,n))return!1;for(var l,u,p,_,M=[];n;){for(l=0,u=n.children.length;l<u;l++)if(p=n.children[l],It(i,_=n.leaf?o(p):p)){if(n.leaf||je(i,_))return!0;M.push(p)}n=M.pop()}return!1},load:function(i){if(!i||!i.length)return this;if(i.length<this._minEntries){for(var n=0,o=i.length;n<o;n++)this.insert(i[n]);return this}var l=this._build(i.slice(),0,i.length-1,0);if(this.data.children.length)if(this.data.height===l.height)this._splitRoot(this.data,l);else{if(this.data.height<l.height){var u=this.data;this.data=l,l=u}this._insert(l,this.data.height-l.height-1,!0)}else this.data=l;return this},insert:function(i){return i&&this._insert(i,this.data.height-1),this},clear:function(){return this.data=Zt([]),this},remove:function(i,n){if(!i)return this;for(var o,l,u,p,_=this.data,M=this.toBBox(i),x=[],P=[];_||x.length;){if(_||(_=x.pop(),l=x[x.length-1],o=P.pop(),p=!0),_.leaf&&(u=vi(i,_.children,n))!==-1)return _.children.splice(u,1),x.push(_),this._condense(x),this;p||_.leaf||!je(_,M)?l?(o++,_=l.children[o],p=!1):_=null:(x.push(_),P.push(o),o=0,_=(l=_).children[0])}return this},toBBox:function(i){return i},compareMinX:yi,compareMinY:qe,toJSON:function(){return this.data},fromJSON:function(i){return this.data=i,this},_all:function(i,n){for(var o=[];i;)i.leaf?n.push.apply(n,i.children):o.push.apply(o,i.children),i=o.pop();return n},_build:function(i,n,o,l){var u,p=o-n+1,_=this._maxEntries;if(p<=_)return xe(u=Zt(i.slice(n,o+1)),this.toBBox),u;l||(l=Math.ceil(Math.log(p)/Math.log(_)),_=Math.ceil(p/Math.pow(_,l-1))),(u=Zt([])).leaf=!1,u.height=l;var M,x,P,H,W=Math.ceil(p/_),U=W*Math.ceil(Math.sqrt(_));for(si(i,n,o,U,this.compareMinX),M=n;M<=o;M+=U)for(si(i,M,P=Math.min(M+U-1,o),W,this.compareMinY),x=M;x<=P;x+=W)H=Math.min(x+W-1,P),u.children.push(this._build(i,x,H,l-1));return xe(u,this.toBBox),u},_chooseSubtree:function(i,n,o,l){for(var u,p,_,M,x,P,H,W,U,tt;l.push(n),!n.leaf&&l.length-1!==o;){for(H=W=1/0,u=0,p=n.children.length;u<p;u++)x=Li(_=n.children[u]),U=i,tt=_,(P=(Math.max(tt.maxX,U.maxX)-Math.min(tt.minX,U.minX))*(Math.max(tt.maxY,U.maxY)-Math.min(tt.minY,U.minY))-x)<W?(W=P,H=x<H?x:H,M=_):P===W&&x<H&&(H=x,M=_);n=M||n.children[0]}return n},_insert:function(i,n,o){var l=this.toBBox,u=o?i:l(i),p=[],_=this._chooseSubtree(u,this.data,n,p);for(_.children.push(i),oi(_,u);0<=n&&p[n].children.length>this._maxEntries;)this._split(p,n),n--;this._adjustParentBBoxes(u,p,n)},_split:function(i,n){var o=i[n],l=o.children.length,u=this._minEntries;this._chooseSplitAxis(o,u,l);var p=this._chooseSplitIndex(o,u,l),_=Zt(o.children.splice(p,o.children.length-p));_.height=o.height,_.leaf=o.leaf,xe(o,this.toBBox),xe(_,this.toBBox),n?i[n-1].children.push(_):this._splitRoot(o,_)},_splitRoot:function(i,n){this.data=Zt([i,n]),this.data.height=i.height+1,this.data.leaf=!1,xe(this.data,this.toBBox)},_chooseSplitIndex:function(i,n,o){var l,u,p,_,M,x,P,H,W,U,tt,nt,lt,ht;for(x=P=1/0,l=n;l<=o-n;l++)W=u=ri(i,0,l,this.toBBox),U=p=ri(i,l,o,this.toBBox),tt=Math.max(W.minX,U.minX),nt=Math.max(W.minY,U.minY),lt=Math.min(W.maxX,U.maxX),ht=Math.min(W.maxY,U.maxY),_=Math.max(0,lt-tt)*Math.max(0,ht-nt),M=Li(u)+Li(p),_<x?(x=_,H=l,P=M<P?M:P):_===x&&M<P&&(P=M,H=l);return H},_chooseSplitAxis:function(i,n,o){var l=i.leaf?this.compareMinX:yi,u=i.leaf?this.compareMinY:qe;this._allDistMargin(i,n,o,l)<this._allDistMargin(i,n,o,u)&&i.children.sort(l)},_allDistMargin:function(i,n,o,l){i.children.sort(l);var u,p,_=this.toBBox,M=ri(i,0,n,_),x=ri(i,o-n,o,_),P=ai(M)+ai(x);for(u=n;u<o-n;u++)p=i.children[u],oi(M,i.leaf?_(p):p),P+=ai(M);for(u=o-n-1;n<=u;u--)p=i.children[u],oi(x,i.leaf?_(p):p),P+=ai(x);return P},_adjustParentBBoxes:function(i,n,o){for(var l=o;0<=l;l--)oi(n[l],i)},_condense:function(i){for(var n,o=i.length-1;0<=o;o--)i[o].children.length===0?0<o?(n=i[o-1].children).splice(n.indexOf(i[o]),1):this.clear():xe(i[o],this.toBBox)},_initFormat:function(i){var n=["return a"," - b",";"];this.compareMinX=new Function("a","b",n.join(i[0])),this.compareMinY=new Function("a","b",n.join(i[1])),this.toBBox=new Function("a","return {minX: a"+i[0]+", minY: a"+i[1]+", maxX: a"+i[2]+", maxY: a"+i[3]+"};")}};var se=Ze;function Me(i,n,o){if(!$e(o=o||{}))throw new Error("options is invalid");var l=o.bbox,u=o.id;if(i===void 0)throw new Error("geometry is required");if(n&&n.constructor!==Object)throw new Error("properties must be an Object");l&&de(l),u&&nn(u);var p={type:"Feature"};return u&&(p.id=u),l&&(p.bbox=l),p.properties=n||{},p.geometry=i,p}function Je(i,n,o){if(!i)throw new Error("coordinates is required");if(!Array.isArray(i))throw new Error("coordinates must be an Array");if(i.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Ge(i[0])||!Ge(i[1]))throw new Error("coordinates must contain numbers");return Me({type:"Point",coordinates:i},n,o)}function Pt(i,n,o){if(!i)throw new Error("coordinates is required");if(i.length<2)throw new Error("coordinates must be an array of two or more positions");if(!Ge(i[0][1])||!Ge(i[0][1]))throw new Error("coordinates must contain numbers");return Me({type:"LineString",coordinates:i},n,o)}function Ht(i,n){if(!$e(n=n||{}))throw new Error("options is invalid");var o=n.bbox,l=n.id;if(!i)throw new Error("No features passed");if(!Array.isArray(i))throw new Error("features must be an Array");o&&de(o),l&&nn(l);var u={type:"FeatureCollection"};return l&&(u.id=l),o&&(u.bbox=o),u.features=i,u}function Ge(i){return!isNaN(i)&&i!==null&&!Array.isArray(i)}function $e(i){return!!i&&i.constructor===Object}function de(i){if(!i)throw new Error("bbox is required");if(!Array.isArray(i))throw new Error("bbox must be an Array");if(i.length!==4&&i.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");i.forEach(function(n){if(!Ge(n))throw new Error("bbox must only contain numbers")})}function nn(i){if(!i)throw new Error("id is required");if(["string","number"].indexOf(typeof i)===-1)throw new Error("id must be a number or a string")}function Qe(i,n){if(i.type==="Feature")n(i,0);else if(i.type==="FeatureCollection")for(var o=0;o<i.features.length&&n(i.features[o],o)!==!1;o++);}function Re(i,n){(function(o,l){var u,p,_,M,x,P,H,W,U,tt,nt=0,lt=o.type==="FeatureCollection",ht=o.type==="Feature",ct=lt?o.features.length:1;for(u=0;u<ct;u++){for(P=lt?o.features[u].geometry:ht?o.geometry:o,W=lt?o.features[u].properties:ht?o.properties:{},U=lt?o.features[u].bbox:ht?o.bbox:void 0,tt=lt?o.features[u].id:ht?o.id:void 0,x=(H=!!P&&P.type==="GeometryCollection")?P.geometries.length:1,_=0;_<x;_++)if((M=H?P.geometries[_]:P)!==null)switch(M.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(l(M,nt,W,U,tt)===!1)return!1;break;case"GeometryCollection":for(p=0;p<M.geometries.length;p++)if(l(M.geometries[p],nt,W,U,tt)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(l(null,nt,W,U,tt)===!1)return!1;nt++}})(i,function(o,l,u,p,_){var M,x=o===null?null:o.type;switch(x){case null:case"Point":case"LineString":case"Polygon":return n(Me(o,u,{bbox:p,id:_}),l,0)!==!1&&void 0}switch(x){case"MultiPoint":M="Point";break;case"MultiLineString":M="LineString";break;case"MultiPolygon":M="Polygon"}for(var P=0;P<o.coordinates.length;P++){var H=o.coordinates[P];if(n(Me({type:M,coordinates:H},u),l,P)===!1)return!1}})}function Xt(i){var n=[i[0],i[1]],o=[i[0],i[3]],l=[i[2],i[3]];return{type:"Feature",bbox:i,properties:{},geometry:{type:"Polygon",coordinates:[[n,[i[2],i[1]],l,o,n]]}}}function Ce(i){var n=[1/0,1/0,-1/0,-1/0];return function o(l,u,p){if(l!==null)for(var _,M,x,P,H,W,U,tt,nt=0,lt=0,ht=l.type,ct=ht==="FeatureCollection",_t=ht==="Feature",kt=ct?l.features.length:1,jt=0;jt<kt;jt++){H=(tt=!!(U=ct?l.features[jt].geometry:_t?l.geometry:l)&&U.type==="GeometryCollection")?U.geometries.length:1;for(var At=0;At<H;At++){var Vt=0,Qt=0;if((P=tt?U.geometries[At]:U)!==null){W=P.coordinates;var Jt=P.type;switch(nt=!p||Jt!=="Polygon"&&Jt!=="MultiPolygon"?0:1,Jt){case null:break;case"Point":if(u(W,lt,jt,Vt,Qt)===!1)return!1;lt++,Vt++;break;case"LineString":case"MultiPoint":for(_=0;_<W.length;_++){if(u(W[_],lt,jt,Vt,Qt)===!1)return!1;lt++,Jt==="MultiPoint"&&Vt++}Jt==="LineString"&&Vt++;break;case"Polygon":case"MultiLineString":for(_=0;_<W.length;_++){for(M=0;M<W[_].length-nt;M++){if(u(W[_][M],lt,jt,Vt,Qt)===!1)return!1;lt++}Jt==="MultiLineString"&&Vt++,Jt==="Polygon"&&Qt++}Jt==="Polygon"&&Vt++;break;case"MultiPolygon":for(_=0;_<W.length;_++){for(Jt==="MultiPolygon"&&(Qt=0),M=0;M<W[_].length;M++){for(x=0;x<W[_][M].length-nt;x++){if(u(W[_][M][x],lt,jt,Vt,Qt)===!1)return!1;lt++}Qt++}Vt++}break;case"GeometryCollection":for(_=0;_<P.geometries.length;_++)if(o(P.geometries[_],u,p)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}(i,function(o){n[0]>o[0]&&(n[0]=o[0]),n[1]>o[1]&&(n[1]=o[1]),n[2]<o[0]&&(n[2]=o[0]),n[3]<o[1]&&(n[3]=o[1])}),n}function Se(i){if(!i)throw new Error("coords is required");if(i.type==="Feature"&&i.geometry!==null)return i.geometry.coordinates;if(i.coordinates)return i.coordinates;if(Array.isArray(i))return i;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}var ti=function(i){if(!i)throw new Error("geojson is required");var n=[];return Re(i,function(o){(function(l,u){var p=[],_=l.geometry;switch(_.type){case"Polygon":p=Se(_);break;case"LineString":p=[Se(_)]}p.forEach(function(M){(function(x,P){var H=[];return x.reduce(function(W,U){var tt=Pt([W,U],P);return tt.bbox=function(nt,lt){var ht=nt[0],ct=nt[1],_t=lt[0],kt=lt[1];return[ht<_t?ht:_t,ct<kt?ct:kt,_t<ht?ht:_t,kt<ct?ct:kt]}(W,U),H.push(tt),U}),H})(M,l.properties).forEach(function(x){x.id=u.length,u.push(x)})})})(o,n)}),Ht(n)};function bi(i,n){var o=Se(i),l=Se(n);if(o.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(l.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var u=o[0][0],p=o[0][1],_=o[1][0],M=o[1][1],x=l[0][0],P=l[0][1],H=l[1][0],W=l[1][1],U=(W-P)*(_-u)-(H-x)*(M-p);if(U==0)return null;var tt=((H-x)*(p-P)-(W-P)*(u-x))/U,nt=((_-u)*(p-P)-(M-p)*(u-x))/U;return 0<=tt&&tt<=1&&0<=nt&&nt<=1?Je([u+tt*(_-u),p+tt*(M-p)]):null}var li=function(i,n){var o={},l=[];if(i.type==="LineString"&&(i=Me(i)),n.type==="LineString"&&(n=Me(n)),i.type==="Feature"&&n.type==="Feature"&&i.geometry.type==="LineString"&&n.geometry.type==="LineString"&&i.geometry.coordinates.length===2&&n.geometry.coordinates.length===2){var u=bi(i,n);return u&&l.push(u),Ht(l)}var p=function(_){var M=se(_);return M.insert=function(x){if(Array.isArray(x)){var P=x;(x=Xt(P)).bbox=P}else x.bbox=x.bbox?x.bbox:Ce(x);return se.prototype.insert.call(this,x)},M.load=function(x){var P=[];return Array.isArray(x)?x.forEach(function(H){var W=Xt(H);W.bbox=H,P.push(W)}):Qe(x,function(H){H.bbox=H.bbox?H.bbox:Ce(H),P.push(H)}),se.prototype.load.call(this,P)},M.remove=function(x){if(Array.isArray(x)){var P=x;(x=Xt(P)).bbox=P}return se.prototype.remove.call(this,x)},M.clear=function(){return se.prototype.clear.call(this)},M.search=function(x){return{type:"FeatureCollection",features:se.prototype.search.call(this,this.toBBox(x))}},M.collides=function(x){return se.prototype.collides.call(this,this.toBBox(x))},M.all=function(){return{type:"FeatureCollection",features:se.prototype.all.call(this)}},M.toJSON=function(){return se.prototype.toJSON.call(this)},M.fromJSON=function(x){return se.prototype.fromJSON.call(this,x)},M.toBBox=function(x){var P;return{minX:(P=x.bbox?x.bbox:Array.isArray(x)&&x.length===4?x:Ce(x))[0],minY:P[1],maxX:P[2],maxY:P[3]}},M}();return p.load(ti(n)),Qe(ti(i),function(_){Qe(p.search(_),function(M){var x=bi(_,M);if(x){var P=Se(x).join(",");o[P]||(o[P]=!0,l.push(x))}})}),Ht(l)};function wi(i,n){var o=[],l=_e();return qi(n,function(u){if(o.forEach(function(M,x){M.id=x}),o.length){var p=l.search(u);if(p.features.length){var _=ui(u,p);o=o.filter(function(M){return M.id!==_.id}),l.remove(_),be(hi(_,u),function(M){o.push(M),l.insert(M)})}}else(o=hi(i,u).features).forEach(function(M){M.bbox||(M.bbox=function(x){var P=x[0],H=x[1],W=x[2],U=x[3],tt=ge(x.slice(0,2),[W,H]);if(ge(x.slice(0,2),[P,U])<=tt){var nt=(H+U)/2;return[P,nt-(W-P)/2,W,nt+(W-P)/2]}var lt=(P+W)/2;return[lt-(U-H)/2,H,lt+(U-H)/2,U]}(function(x){var P=[1/0,1/0,-1/0,-1/0];return he(x,function(H){P[0]>H[0]&&(P[0]=H[0]),P[1]>H[1]&&(P[1]=H[1]),P[2]<H[0]&&(P[2]=H[0]),P[3]<H[1]&&(P[3]=H[1])}),P}(M)))}),l.load(ae(o))}),ae(o)}function hi(i,n){var o=[],l=we(i)[0],u=we(i)[i.geometry.coordinates.length-1];if(ci(l,Xe(n))||ci(u,Xe(n)))return ae([i]);var p=_e(),_=Di(i);p.load(_);var M=p.search(n);if(!M.features.length)return ae([i]);var x=ui(n,M),P=function(H,W,U){var tt=U;return be(H,function(nt,lt){tt=lt===0&&U===void 0?nt:W(tt,nt,lt)}),tt}(_,function(H,W,U){var tt=we(W)[1],nt=Xe(n);return U===x.id?(H.push(nt),o.push(fe(H)),ci(nt,tt)?[nt]:[nt,tt]):(H.push(tt),H)},[l]);return 1<P.length&&o.push(fe(P)),ae(o)}function ui(i,n){if(!n.features.length)throw new Error("lines must contain features");if(n.features.length===1)return n.features[0];var o,l=1/0;return be(n,function(u){var p=function(_,M,x){if(!$e(x=x||{}))throw new Error("options is invalid");var P=_.geometry?_.geometry.type:_.type;if(P!=="LineString"&&P!=="MultiLineString")throw new Error("lines must be LineString or MultiLineString");var H=Je([1/0,1/0],{dist:1/0}),W=0;return Re(_,function(U){for(var tt=Se(U),nt=0;nt<tt.length-1;nt++){var lt=Je(tt[nt]);lt.properties.dist=ge(M,lt,x);var ht=Je(tt[nt+1]);ht.properties.dist=ge(M,ht,x);var ct=ge(lt,ht,x),_t=Math.max(lt.properties.dist,ht.properties.dist),kt=Ri(lt,ht),jt=Ni(M,_t,kt+90,x),At=Ni(M,_t,kt-90,x),Vt=li(Pt([jt.geometry.coordinates,At.geometry.coordinates]),Pt([lt.geometry.coordinates,ht.geometry.coordinates])),Qt=null;0<Vt.features.length&&((Qt=Vt.features[0]).properties.dist=ge(M,Qt,x),Qt.properties.location=W+ge(lt,Qt,x)),lt.properties.dist<H.properties.dist&&((H=lt).properties.index=nt,H.properties.location=W),ht.properties.dist<H.properties.dist&&((H=ht).properties.index=nt+1,H.properties.location=W+ct),Qt&&Qt.properties.dist<H.properties.dist&&((H=Qt).properties.index=nt),W+=ct}}),H}(u,i).properties.dist;p<l&&(o=u,l=p)}),o}function ci(i,n){return i[0]===n[0]&&i[1]===n[1]}var Zi=function(i,n){if(!i)throw new Error("line is required");if(!n)throw new Error("splitter is required");var o=ke(i),l=ke(n);if(o!=="LineString")throw new Error("line must be LineString");if(l==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(l==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var u=$i(n,{precision:7});switch(l){case"Point":return hi(i,u);case"MultiPoint":return wi(i,u);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return wi(i,function(p,_){var M={},x=[];if(p.type==="LineString"&&(p=$t(p)),_.type==="LineString"&&(_=$t(_)),p.type==="Feature"&&_.type==="Feature"&&p.geometry.type==="LineString"&&_.geometry.type==="LineString"&&p.geometry.coordinates.length===2&&_.geometry.coordinates.length===2){var P=_i(p,_);return P&&x.push(P),ae(x)}var H=_e();return H.load(Di(_)),be(Di(p),function(W){be(H.search(W),function(U){var tt=_i(W,U);if(tt){var nt=we(tt).join(",");M[nt]||(M[nt]=!0,x.push(tt))}})}),ae(x)}(i,u))}},ki=s(64),rn=s.n(ki),ji=s(27),on=s.n(ji);function St(i){var n={type:"Feature"};return n.geometry=i,n}function ue(i){return i.type==="Feature"?i.geometry:i}function Kt(i){return i.geometry.coordinates}function Gi(i){return St({type:"Polygon",coordinates:i})}function xi(i){return St({type:"MultiPolygon",coordinates:i})}function fi(i,n){(n==null||n>i.length)&&(n=i.length);for(var o=0,l=new Array(n);o<n;o++)l[o]=i[o];return l}d.Cut=d.Polygon.extend({initialize:function(i){this._map=i,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_finishShape:function(){var i=this;if(this._editedLayers=[],this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),!this._doesSelfIntersect)){var n=this._layer.getLatLngs(),o=L.polygon(n,this.options.pathOptions);o._latlngInfos=this._layer._latlngInfo,this.cut(o),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this._editedLayers.forEach(function(l){var u=l.layer,p=l.originalLayer;$._fireEvent(p,"pm:cut",{shape:i._shape,layer:u,originalLayer:p}),$._fireEvent(i._map,"pm:cut",{shape:i._shape,layer:u,originalLayer:p}),$._fireEvent(p,"pm:edit",{layer:p,shape:p.pm.getShape()})}),this._editedLayers=[],this.disable(),this.options.continueDrawing&&this.enable()}},cut:function(i){var n=this,o=this._map._layers,l=i._latlngInfos||[];Object.keys(o).map(function(u){return o[u]}).filter(function(u){return u.pm}).filter(function(u){return u instanceof L.Polyline}).filter(function(u){return u!==i}).filter(function(u){return!n._layerGroup.hasLayer(u)}).filter(function(u){try{return 0<!!K()(i.toGeoJSON(15),u.toGeoJSON(15)).features.length||!!function(p,_){var M=ue(p),x=ue(_),P=on.a.intersection(M.coordinates,x.coordinates);return P.length===0?null:P.length===1?Gi(P[0]):xi(P)}(i.toGeoJSON(15),u.toGeoJSON(15))}catch(p){return console.error("You cant cut polygons with self-intersections"),!1}}).forEach(function(u){var p;if(u instanceof L.Polygon){var _=(p=L.polygon(u.getLatLngs())).getLatLngs();l.forEach(function(H){if(H&&H.snapInfo){var W=H.latlng,U=n._calcClosestLayer(W,[p]);if(U&&U.segment&&U.distance<n.options.snapDistance){var tt=U.segment;if(tt&&tt.length===2){var nt=$._getIndexFromSegment(_,tt),lt=nt.indexPath,ht=nt.parentPath,ct=nt.newIndex;(1<lt.length?B()(_,ht):_).splice(ct,0,W)}}}})}else p=u;var M=n._cutLayer(i,p),x=L.geoJSON(M,u.options);x.getLayers().length===1&&(x=function(H,W){return function(U){if(Array.isArray(U))return U}(H)||function(U,tt){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(U)){var nt=[],lt=!0,ht=!1,ct=void 0;try{for(var _t,kt=U[Symbol.iterator]();!(lt=(_t=kt.next()).done)&&(nt.push(_t.value),!tt||nt.length!==tt);lt=!0);}catch(jt){ht=!0,ct=jt}finally{try{lt||kt.return==null||kt.return()}finally{if(ht)throw ct}}return nt}}(H,W)||function(U,tt){if(U){if(typeof U=="string")return fi(U,tt);var nt=Object.prototype.toString.call(U).slice(8,-1);return nt==="Object"&&U.constructor&&(nt=U.constructor.name),nt==="Map"||nt==="Set"?Array.from(U):nt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(nt)?fi(U,tt):void 0}}(H,W)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}(x.getLayers(),1)[0]),n._setPane(x,"layerPane");var P=x.addTo(n._map.pm._getContainingLayer());P.pm.enable(n.options),P.pm.disable(),u._pmTempLayer=!0,i._pmTempLayer=!0,u.remove(),u.removeFrom(n._map.pm._getContainingLayer()),i.remove(),i.removeFrom(n._map.pm._getContainingLayer()),P.getLayers&&P.getLayers().length===0&&n._map.pm.removeLayer({target:P}),n._addDrawnLayerProp(P),n._editedLayers.push({layer:P,originalLayer:u})})},_cutLayer:function(i,n){var o,l=L.geoJSON();if(n instanceof L.Polygon)o=function(p,_){var M=ue(p),x=ue(_),P=on.a.difference(M.coordinates,x.coordinates);return P.length===0?null:P.length===1?Gi(P[0]):xi(P)}(n.toGeoJSON(15),i.toGeoJSON(15));else{var u=function(p){p instanceof L.Polyline&&(p=p.toGeoJSON(15));var _=Kt(p),M=function P(H){return Array.isArray(H)?1+P(H[0]):-1}(_),x=[];return 1<M?_.forEach(function(P){x.push(function(H){return St({type:"LineString",coordinates:H})}(P))}):x.push(p),x}(n);u.forEach(function(p){var _=Zi(p,i.toGeoJSON(15));(_&&0<_.features.length?L.geoJSON(_):L.geoJSON(p)).getLayers().forEach(function(M){rn()(i.toGeoJSON(15),M.toGeoJSON(15))||M.addTo(l)})}),o=1<u.length?function(p){var _=[];return p.eachLayer(function(M){_.push(Kt(M.toGeoJSON(15)))}),function(M){return St({type:"MultiLineString",coordinates:M})}(_)}(l):l.toGeoJSON(15)}return o}});var Fi={enableLayerDrag:function(){if(this.disable(),this._map||(this._map=this._layer._map),this._layer instanceof L.Marker)return this._layer.on("dragstart",this._fireDragStart,this),this._layer.on("drag",this._fireDrag,this),this._layer.on("dragend",this._fireDragEnd,this),this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),void(this._layer.dragging&&this._layer.dragging.enable());this._layer instanceof L.ImageOverlay&&(this._getDOMElem().ondragstart=function(){return!1}),this._tempDragCoord=null,this._layer._map.options.preferCanvas?(this._layer.on("mouseout",this.removeDraggingClass,this),this._layer.on("mouseover",this.addDraggingClass,this)):this.addDraggingClass(),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0,this._layer.on("mousedown",this._dragMixinOnMouseDown,this)},disableLayerDrag:function(){if(this._layer instanceof L.Marker)return this._layer.off("dragstart",this._fireDragStart,this),this._layer.off("drag",this._fireDrag,this),this._layer.off("dragend",this._fireDragEnd,this),void(this._layer.dragging&&this._layer.dragging.disable());this._layer._map.options.preferCanvas?(this._layer.off("mouseout",this.removeDraggingClass,this),this._layer.off("mouseover",this.addDraggingClass,this)):this.removeDraggingClass(),this._safeToCacheDragState=!1,this._layer.off("mousedown",this._dragMixinOnMouseDown,this)},dragging:function(){return this._dragging},_dragMixinOnMouseDown:function(i){0<i.originalEvent.button||(this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=i.latlng,this._layer._map.on("mouseup",this._dragMixinOnMouseUp,this),this._layer._map.on("mousemove",this._dragMixinOnMouseMove,this))},_dragMixinOnMouseMove:function(i){var n=this._getDOMElem();this._dragging||(this._dragging=!0,L.DomUtil.addClass(n,"leaflet-pm-dragging"),this._layer.bringToFront(),this._originalMapDragState&&this._layer._map.dragging.disable(),this._fireDragStart()),this._onLayerDrag(i)},_dragMixinOnMouseUp:function(){var i=this,n=this._getDOMElem();return this._originalMapDragState&&this._layer._map.dragging.enable(),this._safeToCacheDragState=!0,this._layer._map.off("mousemove",this._dragMixinOnMouseMove,this),this._layer._map.off("mouseup",this._dragMixinOnMouseUp,this),!!this._dragging&&(this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle(),window.setTimeout(function(){i._dragging=!1,L.DomUtil.removeClass(n,"leaflet-pm-dragging"),i._fireDragEnd(),i._fireEdit()},10),!0)},_onLayerDrag:function(i){var n=i.latlng,o=n.lat-this._tempDragCoord.lat,l=n.lng-this._tempDragCoord.lng,u=function H(W){return W.map(function(U){return Array.isArray(U)?H(U):{lat:U.lat+o,lng:U.lng+l}})};if(this._layer instanceof L.Circle||this._layer instanceof L.CircleMarker&&this._layer.options.editable){var p=u([this._layer.getLatLng()]);this._layer.setLatLng(p[0])}else if(this._layer instanceof L.CircleMarker){var _=this._layer.getLatLng();this._layer._snapped&&(_=this._layer._orgLatLng);var M=u([_]);this._layer.setLatLng(M[0])}else if(this._layer instanceof L.ImageOverlay){var x=u([this._layer.getBounds().getNorthWest(),this._layer.getBounds().getSouthEast()]);this._layer.setBounds(x)}else{var P=u(this._layer.getLatLngs());this._layer.setLatLngs(P)}this._tempDragCoord=n,i.layer=this._layer,this._fireDrag(i)},_fireDragStart:function(){$._fireEvent(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()})},_fireDrag:function(i){$._fireEvent(this._layer,"pm:drag",Object.assign({},i,{shape:this.getShape()}))},_fireDragEnd:function(){$._fireEvent(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()})},addDraggingClass:function(){var i=this._getDOMElem();i&&L.DomUtil.addClass(i,"leaflet-pm-draggable")},removeDraggingClass:function(){var i=this._getDOMElem();i&&L.DomUtil.removeClass(i,"leaflet-pm-draggable")},_getDOMElem:function(){var i=null;return this._layer._path?i=this._layer._path:this._layer._renderer&&this._layer._renderer._container?i=this._layer._renderer._container:this._layer._image&&(i=this._layer._image),i}},qt=L.Class.extend({includes:[Fi,q],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,allowSelfIntersectionEdit:!1,preventMarkerRemoval:!1,removeLayerBelowMinVertexCount:!0,limitMarkersToCount:-1,hideMiddleMarkers:!1,draggable:!0},setOptions:function(i){L.Util.setOptions(this,i)},applyOptions:function(){},isPolygon:function(){return this._layer instanceof L.Polygon},getShape:function(){return this._shape},_setPane:function(i,n){n==="layerPane"?i.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":n==="vertexPane"?i.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":n==="markerPane"&&(i.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")}});function ei(i){return function(n){if(Array.isArray(n))return Fe(n)}(i)||function(n){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(n))return Array.from(n)}(i)||function(n,o){if(n){if(typeof n=="string")return Fe(n,o);var l=Object.prototype.toString.call(n).slice(8,-1);return l==="Object"&&n.constructor&&(l=n.constructor.name),l==="Map"||l==="Set"?Array.from(n):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?Fe(n,o):void 0}}(i)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Fe(i,n){(n==null||n>i.length)&&(n=i.length);for(var o=0,l=new Array(n);o<n;o++)l[o]=i[o];return l}qt.LayerGroup=L.Class.extend({initialize:function(i){var n=this;this._layerGroup=i,this._layers=this.findLayers(),this._getMap(),this._layers.forEach(function(o){return n._initLayer(o)}),this._layerGroup.on("layeradd",L.Util.throttle(function(o){if(!o.target._pmTempLayer){n._layers=n.findLayers();var l=n._layers.filter(function(u){return!(u.pm._parentLayerGroup&&n._layerGroup._leaflet_id in u.pm._parentLayerGroup)});l.forEach(function(u){n._initLayer(u)}),0<l.length&&n._getMap()&&n._getMap().pm.globalEditModeEnabled()&&n.enabled()&&n.enable(n.getOptions())}},100,this),this),this._layerGroup.on("layerremove",function(o){n._removeLayerFromGroup(o.target)},this),this._layerGroup.on("layerremove",L.Util.throttle(function(o){o.target._pmTempLayer||(n._layers=n.findLayers())},100,this),this)},enable:function(i){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[];this._options=i,this._layers.forEach(function(o){o instanceof L.LayerGroup?n.indexOf(o._leaflet_id)===-1&&(n.push(o._leaflet_id),o.pm.enable(i,n)):o.pm.enable(i)})},disable:function(){var i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[];this._layers.forEach(function(n){n instanceof L.LayerGroup?i.indexOf(n._leaflet_id)===-1&&(i.push(n._leaflet_id),n.pm.disable(i)):n.pm.disable()})},enabled:function(){var i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],n=this._layers.find(function(o){return o instanceof L.LayerGroup?i.indexOf(o._leaflet_id)===-1&&(i.push(o._leaflet_id),o.pm.enabled(i)):o.pm.enabled()});return!!n},toggleEdit:function(i){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[];this._options=i,this._layers.forEach(function(o){o instanceof L.LayerGroup?n.indexOf(o._leaflet_id)===-1&&(n.push(o._leaflet_id),o.pm.toggleEdit(i,n)):o.pm.toggleEdit(i)})},_initLayer:function(i){var n=L.Util.stamp(this._layerGroup);i.pm._parentLayerGroup||(i.pm._parentLayerGroup={}),i.pm._parentLayerGroup[n]=this._layerGroup},_removeLayerFromGroup:function(i){if(i.pm&&i.pm._layerGroup){var n=L.Util.stamp(this._layerGroup);delete i.pm._layerGroup[n]}},findLayers:function(){var i=this._layerGroup.getLayers();return(i=i.filter(function(n){return!!n.pm})).filter(function(n){return!n._pmTempLayer})},dragging:function(){if(this._layers){var i=this._layers.find(function(n){return n.pm.dragging()});return!!i}return!1},getOptions:function(){return this._options},_getMap:function(){var i;return this._map||((i=this._layers.find(function(n){return!!n._map}))===null||i===void 0?void 0:i._map)||null}}),qt.Marker=qt.extend({_shape:"Marker",initialize:function(i){this._layer=i,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},enable:function(){var i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{draggable:!0};L.Util.setOptions(this,i),this._map=this._layer._map,this.enabled()||(this.applyOptions(),this._enabled=!0,$._fireEvent(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()}))},disable:function(){this._enabled=!1,this.disableLayerDrag(),this._layer.off("contextmenu",this._removeMarker,this),$._fireEvent(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()}),this._layerEdited&&$._fireEvent(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()}),this._layerEdited=!1},enabled:function(){return this._enabled},toggleEdit:function(i){this.enabled()?this.disable():this.enable(i)},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_removeMarker:function(i){var n=i.target;n.remove(),$._fireEvent(n,"pm:remove",{layer:n,shape:this.getShape()}),$._fireEvent(this._map,"pm:remove",{layer:n,shape:this.getShape()})},_onDragEnd:function(i){var n=i.target;$._fireEvent(n,"pm:edit",{layer:this._layer,shape:this.getShape()}),this._layerEdited=!0},_initSnappableMarkers:function(){var i=this._layer;this.options.snapDistance=this.options.snapDistance||30,i.off("drag",this._handleSnapping,this),i.on("drag",this._handleSnapping,this),i.off("dragend",this._cleanupSnapping,this),i.on("dragend",this._cleanupSnapping,this),i.off("pm:dragstart",this._unsnap,this),i.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){var i=this._layer;i.off("drag",this._handleSnapping,this),i.off("dragend",this._cleanupSnapping,this),i.off("pm:dragstart",this._unsnap,this)}});var ve={filterMarkerGroup:function(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),-1<this.options.limitMarkersToCount&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.applyLimitFilters,this))},_removeMarkerLimitEvents:function(){this._map.off("mousemove",this.applyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache:function(){var i=[].concat(ei(this._markerGroup.getLayers()),ei(this.markerCache));this.markerCache=i.filter(function(n,o,l){return l.indexOf(n)===o})},renderLimits:function(i){var n=this;this.markerCache.forEach(function(o){i.includes(o)?n._markerGroup.addLayer(o):n._markerGroup.removeLayer(o)})},applyLimitFilters:function(i){var n=i.latlng,o=n===void 0?{lat:0,lng:0}:n,l=ei(this._filterClosestMarkers(o));this.renderLimits(l)},_filterClosestMarkers:function(i){var n=ei(this.markerCache),o=this.options.limitMarkersToCount;return n.sort(function(l,u){return l._latlng.distanceTo(i)-u._latlng.distanceTo(i)}),n.filter(function(l,u){return!(-1<o)||u<o})}};function Te(i,n){(n==null||n>i.length)&&(n=i.length);for(var o=0,l=new Array(n);o<n;o++)l[o]=i[o];return l}qt.Line=qt.extend({includes:[ve],_shape:"Line",initialize:function(i){this._layer=i,this._enabled=!1},enable:function(i){L.Util.setOptions(this,i),this._map=this._layer._map,this._map&&(this.enabled()||this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this._onLayerRemove,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection?this.cachedColor=void 0:(this._layer.options.color!=="red"?(this.cachedColor=this._layer.options.color,this.isRed=!1):this.isRed=!0,this._handleLayerStyle()),$._fireEvent(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()}))},disable:function(){var i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._layer;if(!this.enabled()||i.pm._dragging)return!1;i.pm._enabled=!1,i.pm._markerGroup.clearLayers(),i.pm._markerGroup.removeFrom(this._map),this._layer.off("remove",this._onLayerRemove,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this);var n=i._path?i._path:this._layer._renderer._container;return L.DomUtil.removeClass(n,"leaflet-pm-draggable"),this.hasSelfIntersection()&&L.DomUtil.removeClass(n,"leaflet-pm-invalid"),this._layerEdited&&$._fireEvent(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()}),this._layerEdited=!1,$._fireEvent(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()}),!0},enabled:function(){return this._enabled},toggleEdit:function(i){return this.enabled()?this.disable():this.enable(i),this.enabled()},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_onLayerRemove:function(i){this.disable(i.target)},_initMarkers:function(){var i=this,n=this._map,o=this._layer.getLatLngs();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.LayerGroup,this._markerGroup._pmTempLayer=!0,this._markers=function l(u){if(Array.isArray(u[0]))return u.map(l,i);var p=u.map(i._createMarker,i);return i.options.hideMiddleMarkers!==!0&&u.map(function(_,M){var x=i.isPolygon()?(M+1)%u.length:M+1;return i._createMiddleMarker(p[M],p[x])}),p}(o),this.filterMarkerGroup(),n.addLayer(this._markerGroup)},_createMarker:function(i){var n=new L.Marker(i,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(n,"vertexPane"),n._pmTempLayer=!0,n.on("click",this._onVertexClick,this),n.on("dragstart",this._onMarkerDragStart,this),n.on("move",this._onMarkerDrag,this),n.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||n.on("contextmenu",this._removeMarker,this),this._markerGroup.addLayer(n),n},_createMiddleMarker:function(i,n){if(!i||!n)return!1;var o=$.calcMiddleLatLng(this._map,i.getLatLng(),n.getLatLng()),l=this._createMarker(o),u=L.divIcon({className:"marker-icon marker-icon-middle"});return l.setIcon(u),l.leftM=i,l.rightM=n,i._middleMarkerNext=l,(n._middleMarkerPrev=l).on("click",this._onMiddleMarkerClick,this),l.on("movestart",this._onMiddleMarkerMoveStart,this),l},_onMiddleMarkerClick:function(i){var n=i.target,o=L.divIcon({className:"marker-icon"});n.setIcon(o),this._addMarker(n,n.leftM,n.rightM)},_onMiddleMarkerMoveStart:function(i){var n=i.target;n.on("moveend",this._onMiddleMarkerMoveEnd,this),this._addMarker(n,n.leftM,n.rightM)},_onMiddleMarkerMoveEnd:function(i){var n=i.target,o=L.divIcon({className:"marker-icon"});n.setIcon(o),n.off("moveend",this._onMiddleMarkerMoveEnd,this)},_addMarker:function(i,n,o){i.off("movestart",this._onMiddleMarkerMoveStart,this),i.off("click",this._onMiddleMarkerClick,this),i.on("click",this._onVertexClick,this);var l=i.getLatLng(),u=this._layer._latlngs;delete i.leftM,delete i.rightM;var p=this.findDeepMarkerIndex(this._markers,n),_=p.indexPath,M=p.index,x=p.parentPath,P=1<_.length?B()(u,x):u,H=1<_.length?B()(this._markers,x):this._markers;P.splice(M+1,0,l),H.splice(M+1,0,i),this._layer.setLatLngs(u),this.options.hideMiddleMarkers!==!0&&(this._createMiddleMarker(n,i),this._createMiddleMarker(i,o)),this._fireEdit(),$._fireEvent(this._layer,"pm:vertexadded",{layer:this._layer,marker:i,indexPath:this.findDeepMarkerIndex(this._markers,i).indexPath,latlng:l,shape:this.getShape()}),this.options.snappable&&this._initSnappableMarkers()},hasSelfIntersection:function(){return 0<D()(this._layer.toGeoJSON(15)).features.length},_handleSelfIntersectionOnVertexRemoval:function(){this._handleLayerStyle(!0),this.hasSelfIntersection()&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle:function(i){var n=this._layer;if(this.hasSelfIntersection()){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!0),this.isRed)return;i?this._flashLayer():(n.setStyle({color:"red"}),this.isRed=!0),$._fireEvent(this._layer,"pm:intersect",{layer:this._layer,intersection:D()(this._layer.toGeoJSON(15)),shape:this.getShape()})}else n.setStyle({color:this.cachedColor}),this.isRed=!1,!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!1)},_flashLayer:function(){var i=this;this.cachedColor||(this.cachedColor=this._layer.options.color),this._layer.setStyle({color:"red"}),this.isRed=!0,window.setTimeout(function(){i._layer.setStyle({color:i.cachedColor}),i.isRed=!1},200)},_updateDisabledMarkerStyle:function(i,n){var o=this;i.forEach(function(l){if(Array.isArray(l))return o._updateDisabledMarkerStyle(l,n);l._icon&&(n&&!o._checkMarkerAllowedToDrag(l)?L.DomUtil.addClass(l._icon,"vertexmarker-disabled"):L.DomUtil.removeClass(l._icon,"vertexmarker-disabled"))})},_removeMarker:function(i){if(!this.options.allowSelfIntersection){var n=this._layer.getLatLngs();this._coordsBeforeEdit=JSON.parse(JSON.stringify(n))}var o=i.target,l=this._layer.getLatLngs(),u=this.findDeepMarkerIndex(this._markers,o),p=u.indexPath,_=u.index,M=u.parentPath;if(p){var x=1<p.length?B()(l,M):l,P=1<p.length?B()(this._markers,M):this._markers;if(this.options.removeLayerBelowMinVertexCount||!(x.length<=2||this.isPolygon()&&x.length<=3)){x.splice(_,1),this._layer.setLatLngs(l),this.isPolygon()&&x.length<=2&&x.splice(0,x.length);var H=!1;if(x.length<=1&&(x.splice(0,x.length),this._layer.setLatLngs(l),this.disable(),this.enable(this.options),H=!0),V(l)&&this._layer.remove(),l=J(l),this._layer.setLatLngs(l),this._markers=J(this._markers),!H&&(P=1<p.length?B()(this._markers,M):this._markers,o._middleMarkerPrev&&this._markerGroup.removeLayer(o._middleMarkerPrev),o._middleMarkerNext&&this._markerGroup.removeLayer(o._middleMarkerNext),this._markerGroup.removeLayer(o),P)){var W,U;if(this.isPolygon()?(W=(_+1)%P.length,U=(_+(P.length-1))%P.length):(U=_-1<0?void 0:_-1,W=_+1>=P.length?void 0:_+1),W!==U){var tt=P[U],nt=P[W];this.options.hideMiddleMarkers!==!0&&this._createMiddleMarker(tt,nt)}P.splice(_,1)}this._fireEdit(),$._fireEvent(this._layer,"pm:vertexremoved",{layer:this._layer,marker:o,indexPath:p,shape:this.getShape()})}else this._flashLayer()}},findDeepMarkerIndex:function(i,n){var o;i.some(function u(p){return function(_,M){var x=p.concat(M);return _._leaflet_id===n._leaflet_id?(o=x,!0):Array.isArray(_)&&_.some(u(x))}}([]));var l={};return o&&(l={indexPath:o,index:o[o.length-1],parentPath:o.slice(0,o.length-1)}),l},updatePolygonCoordsFromMarkerDrag:function(i){var n=this._layer.getLatLngs(),o=i.getLatLng(),l=this.findDeepMarkerIndex(this._markers,i),u=l.indexPath,p=l.index,_=l.parentPath;(1<u.length?B()(n,_):n).splice(p,1,o),this._layer.setLatLngs(n)},_getNeighborMarkers:function(i){var n=this.findDeepMarkerIndex(this._markers,i),o=n.indexPath,l=n.index,u=n.parentPath,p=1<o.length?B()(this._markers,u):this._markers,_=(l+1)%p.length;return{prevMarker:p[(l+(p.length-1))%p.length],nextMarker:p[_]}},_checkMarkerAllowedToDrag:function(i){var n=this._getNeighborMarkers(i),o=n.prevMarker,l=n.nextMarker,u=L.polyline([o.getLatLng(),i.getLatLng()]),p=L.polyline([i.getLatLng(),l.getLatLng()]),_=K()(this._layer.toGeoJSON(15),u.toGeoJSON(15)).features.length,M=K()(this._layer.toGeoJSON(15),p.toGeoJSON(15)).features.length;return i.getLatLng()===this._markers[0][0].getLatLng()?M+=1:i.getLatLng()===this._markers[0][this._markers[0].length-1].getLatLng()&&(_+=1),!(_<=2&&M<=2)},_onMarkerDragStart:function(i){var n=i.target,o=this.findDeepMarkerIndex(this._markers,n).indexPath;$._fireEvent(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:i,indexPath:o,shape:this.getShape()}),this.options.allowSelfIntersection||(this._coordsBeforeEdit=this._layer.getLatLngs()),this.cachedColor||(this.cachedColor=this._layer.options.color),!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()?this._markerAllowedToDrag=this._checkMarkerAllowedToDrag(n):this._markerAllowedToDrag=null},_onMarkerDrag:function(i){var n=i.target,o=this.findDeepMarkerIndex(this._markers,n),l=o.indexPath,u=o.index,p=o.parentPath;if(l){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()&&this._markerAllowedToDrag===!1)return this._layer.setLatLngs(this._coordsBeforeEdit),this._initMarkers(),void this._handleLayerStyle();this.updatePolygonCoordsFromMarkerDrag(n);var _=1<l.length?B()(this._markers,p):this._markers,M=(u+1)%_.length,x=(u+(_.length-1))%_.length,P=n.getLatLng(),H=_[x].getLatLng(),W=_[M].getLatLng();if(n._middleMarkerNext){var U=$.calcMiddleLatLng(this._map,P,W);n._middleMarkerNext.setLatLng(U)}if(n._middleMarkerPrev){var tt=$.calcMiddleLatLng(this._map,P,H);n._middleMarkerPrev.setLatLng(tt)}this.options.allowSelfIntersection||this._handleLayerStyle(),$._fireEvent(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:i,shape:this.getShape(),indexPath:l})}},_onMarkerDragEnd:function(i){var n=i.target,o=this.findDeepMarkerIndex(this._markers,n).indexPath;$._fireEvent(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:i,indexPath:o,shape:this.getShape()});var l=this.hasSelfIntersection();if(l&&this.options.allowSelfIntersectionEdit&&this._markerAllowedToDrag&&(l=!1),!this.options.allowSelfIntersection&&l)return this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),void this._handleLayerStyle();!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._handleLayerStyle(),this._fireEdit()},_onVertexClick:function(i){var n=i.target,o=this.findDeepMarkerIndex(this._markers,n).indexPath;$._fireEvent(this._layer,"pm:vertexclick",{layer:this._layer,markerEvent:i,indexPath:o,shape:this.getShape()})},_fireEdit:function(){this._layerEdited=!0,$._fireEvent(this._layer,"pm:edit",{layer:this._layer,shape:this.getShape()})}}),qt.Polygon=qt.Line.extend({_shape:"Polygon",_checkMarkerAllowedToDrag:function(i){var n=this._getNeighborMarkers(i),o=n.prevMarker,l=n.nextMarker,u=L.polyline([o.getLatLng(),i.getLatLng()]),p=L.polyline([i.getLatLng(),l.getLatLng()]),_=K()(this._layer.toGeoJSON(15),u.toGeoJSON(15)).features.length,M=K()(this._layer.toGeoJSON(15),p.toGeoJSON(15)).features.length;return!(_<=2&&M<=2)}}),qt.Rectangle=qt.Polygon.extend({_shape:"Rectangle",_initMarkers:function(){var i=this._map,n=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.LayerGroup,this._markerGroup._pmTempLayer=!0,i.addLayer(this._markerGroup),this._markers=[],this._markers[0]=n.map(this._createMarker,this);var o=function(l,u){return function(p){if(Array.isArray(p))return p}(l)||function(p,_){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(p)){var M=[],x=!0,P=!1,H=void 0;try{for(var W,U=p[Symbol.iterator]();!(x=(W=U.next()).done)&&(M.push(W.value),!_||M.length!==_);x=!0);}catch(tt){P=!0,H=tt}finally{try{x||U.return==null||U.return()}finally{if(P)throw H}}return M}}(l,u)||function(p,_){if(p){if(typeof p=="string")return Te(p,_);var M=Object.prototype.toString.call(p).slice(8,-1);return M==="Object"&&p.constructor&&(M=p.constructor.name),M==="Map"||M==="Set"?Array.from(p):M==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M)?Te(p,_):void 0}}(l,u)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}(this._markers,1);this._cornerMarkers=o[0]},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this._addMarkerEvents()},_createMarker:function(i,n){var o=new L.Marker(i,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(o,"vertexPane"),o._origLatLng=i,o._index=n,o._pmTempLayer=!0,this._markerGroup.addLayer(o),o},_addMarkerEvents:function(){var i=this;this._markers[0].forEach(function(n){n.on("dragstart",i._onMarkerDragStart,i),n.on("drag",i._onMarkerDrag,i),n.on("dragend",i._onMarkerDragEnd,i),n.on("pm:snap",i._adjustRectangleForMarkerSnap,i),i.options.preventMarkerRemoval||n.on("contextmenu",i._removeMarker,i)})},_removeMarker:function(){return null},_onMarkerDragStart:function(i){var n=i.target,o=this._findCorners();n._oppositeCornerLatLng=o[(n._index+2)%4],n._snapped=!1,$._fireEvent(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:i,shape:this.getShape(),indexPath:void 0})},_onMarkerDrag:function(i){var n=i.target;n._index!==void 0&&(n._snapped||this._adjustRectangleForMarkerMove(n),$._fireEvent(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:i,shape:this.getShape(),indexPath:void 0}))},_onMarkerDragEnd:function(i){var n=this._findCorners();this._adjustAllMarkers(n),this._cornerMarkers.forEach(function(o){delete o._oppositeCornerLatLng}),this._layer.setLatLngs(n),$._fireEvent(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:i,shape:this.getShape(),indexPath:void 0}),this._fireEdit()},_adjustRectangleForMarkerMove:function(i){L.extend(i._origLatLng,i._latlng);var n=i.getLatLng();this._layer.setBounds(L.latLngBounds(n,i._oppositeCornerLatLng)),this._adjustAdjacentMarkers(i),this._layer.redraw()},_adjustRectangleForMarkerSnap:function(i){if(this.options.snappable){var n=i.target;this._adjustRectangleForMarkerMove(n)}},_adjustAllMarkers:function(i){i.length&&i.length===4?this._cornerMarkers.forEach(function(n,o){n.setLatLng(i[o])}):console.error("_adjustAllMarkers() requires an array of EXACTLY 4 LatLng coordinates")},_adjustAdjacentMarkers:function(i){if(i&&i.getLatLng&&i._oppositeCornerLatLng){var n=i.getLatLng(),o=i._oppositeCornerLatLng,l=[];this._findCorners().forEach(function(p){p.equals(n)||p.equals(o)||l.push(p)});var u=0;l.length===2&&this._cornerMarkers.forEach(function(p){var _=p.getLatLng();_.equals(n)||_.equals(o)||(p.setLatLng(l[u]),u+=1)})}else console.error("_adjustAdjacentMarkers() requires a valid Marker object")},_findCorners:function(){var i=this._layer.getBounds();return[i.getNorthWest(),i.getNorthEast(),i.getSouthEast(),i.getSouthWest()]}}),qt.Circle=qt.extend({_shape:"Circle",initialize:function(i){this._layer=i,this._enabled=!1,this._updateHiddenPolyCircle()},enable:function(i){var n=this;L.Util.setOptions(this,i),this._map=this._layer._map,this.enabled()||this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",function(o){n.disable(o.target)}),this._updateHiddenPolyCircle(),$._fireEvent(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()})},disable:function(){var i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._layer;if(!this.enabled()||i.pm._dragging)return!1;this._centerMarker.off("dragstart",this._fireDragStart,this),this._centerMarker.off("drag",this._fireDrag,this),this._centerMarker.off("dragend",this._fireDragEnd,this),this._outerMarker.off("drag",this._handleOuterMarkerSnapping,this),i.pm._enabled=!1,i.pm._helperLayers.clearLayers();var n=i._path?i._path:this._layer._renderer._container;return L.DomUtil.removeClass(n,"leaflet-pm-draggable"),this._layerEdited&&$._fireEvent(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()}),this._layerEdited=!1,$._fireEvent(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()}),!0},enabled:function(){return this._enabled},toggleEdit:function(i){this.enabled()?this.disable():this.enable(i)},_initMarkers:function(){var i=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.LayerGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(i);var n=this._layer.getLatLng(),o=this._layer._radius,l=this._getLatLngOnCircle(n,o);this._centerMarker=this._createCenterMarker(n),this._outerMarker=this._createOuterMarker(l),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},applyOptions:function(){this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this),this._centerMarker.on("move",this._moveCircle,this)):this._disableSnapping()},_createHintLine:function(i,n){var o=i.getLatLng(),l=n.getLatLng();this._hintline=L.polyline([o,l],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker:function(i){var n=this._createMarker(i);return L.DomUtil.addClass(n._icon,"leaflet-pm-draggable"),n.on("drag",this._moveCircle,this),n.on("dragstart",this._fireDragStart,this),n.on("drag",this._fireDrag,this),n.on("dragend",this._fireDragEnd,this),n},_createOuterMarker:function(i){var n=this._createMarker(i);return n.on("drag",this._resizeCircle,this),n},_createMarker:function(i){var n=new L.Marker(i,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(n,"vertexPane"),n._origLatLng=i,n._pmTempLayer=!0,n.on("dragstart",this._onMarkerDragStart,this),n.on("drag",this._onMarkerDrag,this),n.on("dragend",this._onMarkerDragEnd,this),this._helperLayers.addLayer(n),n},_resizeCircle:function(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_moveCircle:function(i){var n=i.latlng;this._layer.setLatLng(n);var o=this._layer._radius,l=this._getLatLngOnCircle(n,o);this._outerMarker.setLatLng(l),this._syncHintLine(),this._updateHiddenPolyCircle(),$._fireEvent(this._layer,"pm:centerplaced",{layer:this._layer,latlng:n,shape:this.getShape()})},_syncCircleRadius:function(){var i=this._centerMarker.getLatLng(),n=this._outerMarker.getLatLng(),o=i.distanceTo(n);this.options.minRadiusCircle&&o<this.options.minRadiusCircle?this._layer.setRadius(this.options.minRadiusCircle):this.options.maxRadiusCircle&&o>this.options.maxRadiusCircle?this._layer.setRadius(this.options.maxRadiusCircle):this._layer.setRadius(o),this._updateHiddenPolyCircle()},_syncHintLine:function(){var i=this._centerMarker.getLatLng(),n=this._outerMarker.getLatLng();this._hintline.setLatLngs([i,n])},_disableSnapping:function(){var i=this;this._markers.forEach(function(n){n.off("move",i._syncHintLine,i),n.off("move",i._syncCircleRadius,i),n.off("drag",i._handleSnapping,i),n.off("dragend",i._cleanupSnapping,i)}),this._layer.off("pm:dragstart",this._unsnap,this)},_onMarkerDragStart:function(i){$._fireEvent(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:i,shape:this.getShape(),indexPath:void 0})},_onMarkerDrag:function(i){$._fireEvent(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:i,shape:this.getShape(),indexPath:void 0})},_onMarkerDragEnd:function(i){this._fireEdit(),$._fireEvent(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:i,shape:this.getShape(),indexPath:void 0})},_fireEdit:function(){$._fireEvent(this._layer,"pm:edit",{layer:this._layer,shape:this.getShape()}),this._layerEdited=!0},_fireDragStart:function(){$._fireEvent(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()})},_fireDrag:function(i){$._fireEvent(this._layer,"pm:drag",Object.assign({},i,{shape:this.getShape()}))},_fireDragEnd:function(){$._fireEvent(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()})},_updateHiddenPolyCircle:function(){this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs($.circleToPolygon(this._layer,200).getLatLngs()):this._hiddenPolyCircle=$.circleToPolygon(this._layer,200),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)},_getLatLngOnCircle:function(i,n){var o=this._map.project(i),l=L.point(o.x+n,o.y);return this._map.unproject(l)},_getNewDestinationOfOuterMarker:function(){var i=this._centerMarker.getLatLng(),n=this._outerMarker.getLatLng(),o=i.distanceTo(n);return this.options.minRadiusCircle&&o<this.options.minRadiusCircle?n=bt(this._map,i,n,this.options.minRadiusCircle):this.options.maxRadiusCircle&&o>this.options.maxRadiusCircle&&(n=bt(this._map,i,n,this.options.maxRadiusCircle)),n},_handleOuterMarkerSnapping:function(){if(this._outerMarker._snapped){var i=this._centerMarker.getLatLng(),n=this._outerMarker.getLatLng(),o=i.distanceTo(n);(this.options.minRadiusCircle&&o<this.options.minRadiusCircle||this.options.maxRadiusCircle&&o>this.options.maxRadiusCircle)&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())}}),qt.CircleMarker=qt.extend({_shape:"CircleMarker",initialize:function(i){this._layer=i,this._enabled=!1,this._updateHiddenPolyCircle()},enable:function(){var i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{draggable:!0,snappable:!0};L.Util.setOptions(this,i),this._map=this._layer._map,this._map&&(this.enabled()&&this.disable(),this.applyOptions(),this._enabled=!0,this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this),this._updateHiddenPolyCircle(),$._fireEvent(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()}))},disable:function(){var i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._layer;return!(i.pm._dragging||(i.pm._helperLayers&&i.pm._helperLayers.clearLayers(),this._map||(this._map=this._layer._map),this.options.editable?(this._map.off("move",this._syncMarkers,this),this._outerMarker&&this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this)):this._map.off("move",this._updateHiddenPolyCircle,this),this.disableLayerDrag(),this._layer.off("contextmenu",this._removeMarker,this),this.enabled()&&(this._layerEdited&&$._fireEvent(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()}),this._layerEdited=!1,$._fireEvent(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()})),i.pm._enabled=!1))},enabled:function(){return this._enabled},toggleEdit:function(i){this.enabled()?this.disable():this.enable(i)},applyOptions:function(){!this.options.editable&&this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.editable?(this._initMarkers(),this._map.on("move",this._syncMarkers,this)):this._map.on("move",this._updateHiddenPolyCircle,this),this.options.snappable?this.options.editable?(this._initSnappableMarkers(),this._centerMarker.on("drag",this._moveCircle,this),this.options.editable&&this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this)):this._initSnappableMarkersDrag():this.options.editable?this._disableSnapping():this._disableSnappingDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_initMarkers:function(){var i=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.LayerGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(i);var n=this._layer.getLatLng(),o=this._layer._radius,l=this._getLatLngOnCircle(n,o);this._centerMarker=this._createCenterMarker(n),this._outerMarker=this._createOuterMarker(l),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle:function(i,n){var o=this._map.project(i),l=L.point(o.x+n,o.y);return this._map.unproject(l)},_createHintLine:function(i,n){var o=i.getLatLng(),l=n.getLatLng();this._hintline=L.polyline([o,l],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker:function(i){var n=this._createMarker(i);return this.options.draggable?L.DomUtil.addClass(n._icon,"leaflet-pm-draggable"):n.dragging.disable(),n},_createOuterMarker:function(i){var n=this._createMarker(i);return n.on("drag",this._resizeCircle,this),n},_createMarker:function(i){var n=new L.Marker(i,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(n,"vertexPane"),n._origLatLng=i,n._pmTempLayer=!0,n.on("dragstart",this._onMarkerDragStart,this),n.on("drag",this._onMarkerDrag,this),n.on("dragend",this._onMarkerDragEnd,this),this._helperLayers.addLayer(n),n},_moveCircle:function(){var i=this._centerMarker.getLatLng();this._layer.setLatLng(i);var n=this._layer._radius,o=this._getLatLngOnCircle(i,n);this._outerMarker.setLatLng(o),this._syncHintLine(),this._updateHiddenPolyCircle(),$._fireEvent(this._layer,"pm:centerplaced",{layer:this._layer,latlng:i,shape:this.getShape()})},_syncMarkers:function(){var i=this._layer.getLatLng(),n=this._layer._radius,o=this._getLatLngOnCircle(i,n);this._outerMarker.setLatLng(o),this._centerMarker.setLatLng(i),this._syncHintLine(),this._updateHiddenPolyCircle()},_resizeCircle:function(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_syncCircleRadius:function(){var i=this._centerMarker.getLatLng(),n=this._outerMarker.getLatLng(),o=this._map.project(i).distanceTo(this._map.project(n));this.options.minRadiusCircleMarker&&o<this.options.minRadiusCircleMarker?this._layer.setRadius(this.options.minRadiusCircleMarker):this.options.maxRadiusCircleMarker&&o>this.options.maxRadiusCircleMarker?this._layer.setRadius(this.options.maxRadiusCircleMarker):this._layer.setRadius(o),this._updateHiddenPolyCircle()},_syncHintLine:function(){var i=this._centerMarker.getLatLng(),n=this._outerMarker.getLatLng();this._hintline.setLatLngs([i,n])},_removeMarker:function(){this.options.editable&&this.disable(),this._layer.remove(),$._fireEvent(this._layer,"pm:remove",{layer:this._layer,shape:this.getShape()}),$._fireEvent(this._map,"pm:remove",{layer:this._layer,shape:this.getShape()})},_onDragStart:function(){this._map.pm.Draw.CircleMarker._layerIsDragging=!0},_onMarkerDragStart:function(i){$._fireEvent(this._layer,"pm:markerdragstart",{markerEvent:i,layer:this._layer,shape:this.getShape(),indexPath:void 0})},_onMarkerDrag:function(i){$._fireEvent(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:i,shape:this.getShape(),indexPath:void 0})},_onMarkerDragEnd:function(i){this._map.pm.Draw.CircleMarker._layerIsDragging=!1,$._fireEvent(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:i,shape:this.getShape(),indexPath:void 0})},_fireEdit:function(){$._fireEvent(this._layer,"pm:edit",{layer:this._layer,shape:this.getShape()}),this._layerEdited=!0},_initSnappableMarkersDrag:function(){var i=this._layer;this.options.snapDistance=this.options.snapDistance||30,i.off("pm:drag",this._handleSnapping,this),i.on("pm:drag",this._handleSnapping,this),i.off("pm:dragend",this._cleanupSnapping,this),i.on("pm:dragend",this._cleanupSnapping,this),i.off("pm:dragstart",this._unsnap,this),i.on("pm:dragstart",this._unsnap,this)},_disableSnappingDrag:function(){var i=this._layer;i.off("pm:drag",this._handleSnapping,this),i.off("pm:dragend",this._cleanupSnapping,this),i.off("pm:dragstart",this._unsnap,this)},_updateHiddenPolyCircle:function(){var i=this._layer._map||this._map;if(i){var n=i.project(this._layer.getLatLng()),o=L.point(n.x+this._layer.getRadius(),n.y),l=this._layer.getLatLng().distanceTo(i.unproject(o)),u=L.circle(this._layer.getLatLng(),this._layer.options);u.setRadius(l),this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs($.circleToPolygon(u,200).getLatLngs()):this._hiddenPolyCircle=$.circleToPolygon(u,200),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}},_getNewDestinationOfOuterMarker:function(){var i=this._centerMarker.getLatLng(),n=this._outerMarker.getLatLng(),o=this._map.project(i).distanceTo(this._map.project(n));return this.options.minRadiusCircleMarker&&o<this.options.minRadiusCircleMarker?n=bt(this._map,i,n,this._pxRadiusToMeter(this.options.minRadiusCircleMarker)):this.options.maxRadiusCircleMarker&&o>this.options.maxRadiusCircleMarker&&(n=bt(this._map,i,n,this._pxRadiusToMeter(this.options.maxRadiusCircleMarker))),n},_handleOuterMarkerSnapping:function(){if(this._outerMarker._snapped){var i=this._centerMarker.getLatLng(),n=this._outerMarker.getLatLng(),o=this._map.project(i).distanceTo(this._map.project(n));(this.options.minRadiusCircleMarker&&o<this.options.minRadiusCircleMarker||this.options.maxRadiusCircleMarker&&o>this.options.maxRadiusCircleMarker)&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())},_pxRadiusToMeter:function(i){var n=this._centerMarker.getLatLng(),o=this._map.project(n),l=L.point(o.x+i,o.y);return this._map.unproject(l).distanceTo(n)}}),qt.ImageOverlay=qt.extend({_shape:"ImageOverlay",initialize:function(i){this._layer=i,this._enabled=!1},toggleEdit:function(i){this.enabled()?this.disable():this.enable(i)},enabled:function(){return this._enabled},enable:function(){var i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{draggable:!0,snappable:!0};L.Util.setOptions(this,i),this._map=this._layer._map,this._map&&(this.enabled()||this.disable(),this.enableLayerDrag(),this._enabled=!0,this._otherSnapLayers=L.PM.Edit.Rectangle.prototype._findCorners.apply(this),$._fireEvent(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()}))},disable:function(){var i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._layer;return!(i.pm._dragging||(this._map||(this._map=this._layer._map),this.disableLayerDrag(),this.enabled()||(this._layerEdited&&$._fireEvent(i,"pm:update",{layer:i,shape:this.getShape()}),this._layerEdited=!1,$._fireEvent(i,"pm:disable",{layer:i,shape:this.getShape()})),this._layer.off("contextmenu",this._removeMarker,this),i.pm._enabled=!1))},_fireEdit:function(){$._fireEvent(this._layer,"pm:edit",{layer:this._layer,shape:this.getShape()}),this._layerEdited=!0}}),s(150),s(151),L.PM=L.PM||{version:f.a,Map:oe,Toolbar:Et,Draw:d,Edit:qt,Utils:$,activeLang:"en",optIn:!1,initialize:function(i){this.addInitHooks(i)},setOptIn:function(i){this.optIn=!!i},addInitHooks:function(){L.Map.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Map(this)):this.options.pmIgnore||(this.pm=new L.PM.Map(this))}),L.LayerGroup.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.LayerGroup(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.LayerGroup(this))}),L.Marker.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Marker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Marker(this))}),L.CircleMarker.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.CircleMarker(this))}),L.Polyline.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))}),L.Polygon.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Polygon(this))}),L.Rectangle.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))}),L.Circle.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))}),L.ImageOverlay.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.ImageOverlay(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.ImageOverlay(this))})},reInitLayer:function(i){var n=this;i instanceof L.LayerGroup?i.eachLayer(function(o){n.reInitLayer(o)}):i.pm||L.PM.optIn&&i.options.pmIgnore!==!1||i.options.pmIgnore||(i instanceof L.Map?i.pm=new L.PM.Map(i):i instanceof L.Marker?i.pm=new L.PM.Edit.Marker(i):i instanceof L.Circle?i.pm=new L.PM.Edit.Circle(i):i instanceof L.CircleMarker?i.pm=new L.PM.Edit.CircleMarker(i):i instanceof L.Rectangle?i.pm=new L.PM.Edit.Rectangle(i):i instanceof L.Polygon?i.pm=new L.PM.Edit.Polygon(i):i instanceof L.Polyline&&(i.pm=new L.PM.Edit.Line(i)))}},L.PM.initialize()}])},15746:function(k,E,s){"use strict";var f=s(21584);E.Z=f.Z},89032:function(k,E,s){"use strict";var f=s(38663),c=s.n(f),v=s(6999)},71230:function(k,E,s){"use strict";var f=s(92820);E.Z=f.Z},13062:function(k,E,s){"use strict";var f=s(38663),c=s.n(f),v=s(6999)},45243:function(k,E){/* @preserve
 * Leaflet 1.7.1, a JS library for interactive maps. http://leafletjs.com
 * (c) 2010-2019 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(s,f){f(E)})(this,function(s){"use strict";var f="1.7.1";function c(t){var e,r,a,h;for(r=1,a=arguments.length;r<a;r++){h=arguments[r];for(e in h)t[e]=h[e]}return t}var v=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function m(t,e){var r=Array.prototype.slice;if(t.bind)return t.bind.apply(t,r.call(arguments,1));var a=r.call(arguments,2);return function(){return t.apply(e,a.length?a.concat(r.call(arguments)):arguments)}}var S=0;function Z(t){return t._leaflet_id=t._leaflet_id||++S,t._leaflet_id}function z(t,e,r){var a,h,y,N;return N=function(){a=!1,h&&(y.apply(r,h),h=!1)},y=function(){a?h=arguments:(t.apply(r,arguments),setTimeout(N,e),a=!0)},y}function X(t,e,r){var a=e[1],h=e[0],y=a-h;return t===a&&r?t:((t-h)%y+y)%y+h}function I(){return!1}function T(t,e){var r=Math.pow(10,e===void 0?6:e);return Math.round(t*r)/r}function j(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function F(t){return j(t).split(/\s+/)}function C(t,e){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?v(t.options):{});for(var r in e)t.options[r]=e[r];return t.options}function R(t,e,r){var a=[];for(var h in t)a.push(encodeURIComponent(r?h.toUpperCase():h)+"="+encodeURIComponent(t[h]));return(!e||e.indexOf("?")===-1?"?":"&")+a.join("&")}var g=/\{ *([\w_-]+) *\}/g;function b(t,e){return t.replace(g,function(r,a){var h=e[a];if(h===void 0)throw new Error("No value provided for variable "+r);return typeof h=="function"&&(h=h(e)),h})}var B=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function G(t,e){for(var r=0;r<t.length;r++)if(t[r]===e)return r;return-1}var O="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function A(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var V=0;function J(t){var e=+new Date,r=Math.max(0,16-(e-V));return V=e+r,window.setTimeout(t,r)}var it=window.requestAnimationFrame||A("RequestAnimationFrame")||J,dt=window.cancelAnimationFrame||A("CancelAnimationFrame")||A("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function bt(t,e,r){if(r&&it===J)t.call(e);else return it.call(window,m(t,e))}function $(t){t&&dt.call(window,t)}var xt={extend:c,create:v,bind:m,lastId:S,stamp:Z,throttle:z,wrapNum:X,falseFn:I,formatNum:T,trim:j,splitWords:F,setOptions:C,getParamString:R,template:b,isArray:B,indexOf:G,emptyImageUrl:O,requestFn:it,cancelFn:dt,requestAnimFrame:bt,cancelAnimFrame:$};function Bt(){}Bt.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},r=e.__super__=this.prototype,a=v(r);a.constructor=e,e.prototype=a;for(var h in this)Object.prototype.hasOwnProperty.call(this,h)&&h!=="prototype"&&h!=="__super__"&&(e[h]=this[h]);return t.statics&&(c(e,t.statics),delete t.statics),t.includes&&(Gt(t.includes),c.apply(null,[a].concat(t.includes)),delete t.includes),a.options&&(t.options=c(v(a.options),t.options)),c(a,t),a._initHooks=[],a.callInitHooks=function(){if(!this._initHooksCalled){r.callInitHooks&&r.callInitHooks.call(this),this._initHooksCalled=!0;for(var y=0,N=a._initHooks.length;y<N;y++)a._initHooks[y].call(this)}},e},Bt.include=function(t){return c(this.prototype,t),this},Bt.mergeOptions=function(t){return c(this.prototype.options,t),this},Bt.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),r=typeof t=="function"?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(r),this};function Gt(t){if(!(typeof L=="undefined"||!L||!L.Mixin)){t=B(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ot={on:function(t,e,r){if(typeof t=="object")for(var a in t)this._on(a,t[a],e);else{t=F(t);for(var h=0,y=t.length;h<y;h++)this._on(t[h],e,r)}return this},off:function(t,e,r){if(!t)delete this._events;else if(typeof t=="object")for(var a in t)this._off(a,t[a],e);else{t=F(t);for(var h=0,y=t.length;h<y;h++)this._off(t[h],e,r)}return this},_on:function(t,e,r){this._events=this._events||{};var a=this._events[t];a||(a=[],this._events[t]=a),r===this&&(r=void 0);for(var h={fn:e,ctx:r},y=a,N=0,Q=y.length;N<Q;N++)if(y[N].fn===e&&y[N].ctx===r)return;y.push(h)},_off:function(t,e,r){var a,h,y;if(!!this._events&&(a=this._events[t],!!a)){if(!e){for(h=0,y=a.length;h<y;h++)a[h].fn=I;delete this._events[t];return}if(r===this&&(r=void 0),a)for(h=0,y=a.length;h<y;h++){var N=a[h];if(N.ctx===r&&N.fn===e){N.fn=I,this._firingCount&&(this._events[t]=a=a.slice()),a.splice(h,1);return}}}},fire:function(t,e,r){if(!this.listens(t,r))return this;var a=c({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var h=this._events[t];if(h){this._firingCount=this._firingCount+1||1;for(var y=0,N=h.length;y<N;y++){var Q=h[y];Q.fn.call(Q.ctx||this,a)}this._firingCount--}}return r&&this._propagateEvent(a),this},listens:function(t,e){var r=this._events&&this._events[t];if(r&&r.length)return!0;if(e){for(var a in this._eventParents)if(this._eventParents[a].listens(t,e))return!0}return!1},once:function(t,e,r){if(typeof t=="object"){for(var a in t)this.once(a,t[a],e);return this}var h=m(function(){this.off(t,e,r).off(t,h,r)},this);return this.on(t,e,r).on(t,h,r)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[Z(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[Z(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,c({layer:t.target,propagatedFrom:t.target},t),!0)}};Ot.addEventListener=Ot.on,Ot.removeEventListener=Ot.clearAllEventListeners=Ot.off,Ot.addOneTimeEventListener=Ot.once,Ot.fireEvent=Ot.fire,Ot.hasEventListeners=Ot.listens;var ce=Bt.extend(Ot);function Lt(t,e,r){this.x=r?Math.round(t):t,this.y=r?Math.round(e):e}var Be=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};Lt.prototype={clone:function(){return new Lt(this.x,this.y)},add:function(t){return this.clone()._add(Tt(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(Tt(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new Lt(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new Lt(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Be(this.x),this.y=Be(this.y),this},distanceTo:function(t){t=Tt(t);var e=t.x-this.x,r=t.y-this.y;return Math.sqrt(e*e+r*r)},equals:function(t){return t=Tt(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=Tt(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+T(this.x)+", "+T(this.y)+")"}};function Tt(t,e,r){return t instanceof Lt?t:B(t)?new Lt(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new Lt(t.x,t.y):new Lt(t,e,r)}function Dt(t,e){if(!!t)for(var r=e?[t,e]:t,a=0,h=r.length;a<h;a++)this.extend(r[a])}Dt.prototype={extend:function(t){return t=Tt(t),!this.min&&!this.max?(this.min=t.clone(),this.max=t.clone()):(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)),this},getCenter:function(t){return new Lt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new Lt(this.min.x,this.max.y)},getTopRight:function(){return new Lt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,r;return typeof t[0]=="number"||t instanceof Lt?t=Tt(t):t=oe(t),t instanceof Dt?(e=t.min,r=t.max):e=r=t,e.x>=this.min.x&&r.x<=this.max.x&&e.y>=this.min.y&&r.y<=this.max.y},intersects:function(t){t=oe(t);var e=this.min,r=this.max,a=t.min,h=t.max,y=h.x>=e.x&&a.x<=r.x,N=h.y>=e.y&&a.y<=r.y;return y&&N},overlaps:function(t){t=oe(t);var e=this.min,r=this.max,a=t.min,h=t.max,y=h.x>e.x&&a.x<r.x,N=h.y>e.y&&a.y<r.y;return y&&N},isValid:function(){return!!(this.min&&this.max)}};function oe(t,e){return!t||t instanceof Dt?t:new Dt(t,e)}function Ut(t,e){if(!!t)for(var r=e?[t,e]:t,a=0,h=r.length;a<h;a++)this.extend(r[a])}Ut.prototype={extend:function(t){var e=this._southWest,r=this._northEast,a,h;if(t instanceof Et)a=t,h=t;else if(t instanceof Ut){if(a=t._southWest,h=t._northEast,!a||!h)return this}else return t?this.extend(q(t)||Nt(t)):this;return!e&&!r?(this._southWest=new Et(a.lat,a.lng),this._northEast=new Et(h.lat,h.lng)):(e.lat=Math.min(a.lat,e.lat),e.lng=Math.min(a.lng,e.lng),r.lat=Math.max(h.lat,r.lat),r.lng=Math.max(h.lng,r.lng)),this},pad:function(t){var e=this._southWest,r=this._northEast,a=Math.abs(e.lat-r.lat)*t,h=Math.abs(e.lng-r.lng)*t;return new Ut(new Et(e.lat-a,e.lng-h),new Et(r.lat+a,r.lng+h))},getCenter:function(){return new Et((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Et(this.getNorth(),this.getWest())},getSouthEast:function(){return new Et(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof Et||"lat"in t?t=q(t):t=Nt(t);var e=this._southWest,r=this._northEast,a,h;return t instanceof Ut?(a=t.getSouthWest(),h=t.getNorthEast()):a=h=t,a.lat>=e.lat&&h.lat<=r.lat&&a.lng>=e.lng&&h.lng<=r.lng},intersects:function(t){t=Nt(t);var e=this._southWest,r=this._northEast,a=t.getSouthWest(),h=t.getNorthEast(),y=h.lat>=e.lat&&a.lat<=r.lat,N=h.lng>=e.lng&&a.lng<=r.lng;return y&&N},overlaps:function(t){t=Nt(t);var e=this._southWest,r=this._northEast,a=t.getSouthWest(),h=t.getNorthEast(),y=h.lat>e.lat&&a.lat<r.lat,N=h.lng>e.lng&&a.lng<r.lng;return y&&N},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return t?(t=Nt(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Nt(t,e){return t instanceof Ut?t:new Ut(t,e)}function Et(t,e,r){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,r!==void 0&&(this.alt=+r)}Et.prototype={equals:function(t,e){if(!t)return!1;t=q(t);var r=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return r<=(e===void 0?1e-9:e)},toString:function(t){return"LatLng("+T(this.lat,t)+", "+T(this.lng,t)+")"},distanceTo:function(t){return w.distance(this,q(t))},wrap:function(){return w.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,r=e/Math.cos(Math.PI/180*this.lat);return Nt([this.lat-e,this.lng-r],[this.lat+e,this.lng+r])},clone:function(){return new Et(this.lat,this.lng,this.alt)}};function q(t,e,r){return t instanceof Et?t:B(t)&&typeof t[0]!="object"?t.length===3?new Et(t[0],t[1],t[2]):t.length===2?new Et(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new Et(t.lat,"lng"in t?t.lng:t.lon,t.alt):e===void 0?null:new Et(t,e,r)}var d={latLngToPoint:function(t,e){var r=this.projection.project(t),a=this.scale(e);return this.transformation._transform(r,a)},pointToLatLng:function(t,e){var r=this.scale(e),a=this.transformation.untransform(t,r);return this.projection.unproject(a)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,r=this.scale(t),a=this.transformation.transform(e.min,r),h=this.transformation.transform(e.max,r);return new Dt(a,h)},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?X(t.lng,this.wrapLng,!0):t.lng,r=this.wrapLat?X(t.lat,this.wrapLat,!0):t.lat,a=t.alt;return new Et(r,e,a)},wrapLatLngBounds:function(t){var e=t.getCenter(),r=this.wrapLatLng(e),a=e.lat-r.lat,h=e.lng-r.lng;if(a===0&&h===0)return t;var y=t.getSouthWest(),N=t.getNorthEast(),Q=new Et(y.lat-a,y.lng-h),et=new Et(N.lat-a,N.lng-h);return new Ut(Q,et)}},w=c({},d,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var r=Math.PI/180,a=t.lat*r,h=e.lat*r,y=Math.sin((e.lat-t.lat)*r/2),N=Math.sin((e.lng-t.lng)*r/2),Q=y*y+Math.cos(a)*Math.cos(h)*N*N,et=2*Math.atan2(Math.sqrt(Q),Math.sqrt(1-Q));return this.R*et}}),D=6378137,Y={R:D,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,r=this.MAX_LATITUDE,a=Math.max(Math.min(r,t.lat),-r),h=Math.sin(a*e);return new Lt(this.R*t.lng*e,this.R*Math.log((1+h)/(1-h))/2)},unproject:function(t){var e=180/Math.PI;return new Et((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=D*Math.PI;return new Dt([-t,-t],[t,t])}()};function K(t,e,r,a){if(B(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=e,this._c=r,this._d=a}K.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new Lt((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};function at(t,e,r,a){return new K(t,e,r,a)}var rt=c({},w,{code:"EPSG:3857",projection:Y,transformation:function(){var t=.5/(Math.PI*Y.R);return at(t,.5,-t,.5)}()}),ot=c({},rt,{code:"EPSG:900913"});function ut(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function gt(t,e){var r="",a,h,y,N,Q,et;for(a=0,y=t.length;a<y;a++){for(Q=t[a],h=0,N=Q.length;h<N;h++)et=Q[h],r+=(h?"L":"M")+et.x+" "+et.y;r+=e?Xe?"z":"x":""}return r||"M0 0"}var pt=document.documentElement.style,mt="ActiveXObject"in window,wt=mt&&!document.addEventListener,vt="msLaunchUri"in navigator&&!("documentMode"in document),Mt=ke("webkit"),Ct=ke("android"),Rt=ke("android 2")||ke("android 3"),te=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Wt=Ct&&ke("Google")&&te<537&&!("AudioNode"in window),Ft=!!window.opera,le=!vt&&ke("chrome"),ne=ke("gecko")&&!Mt&&!Ft&&!mt,$t=!le&&ke("safari"),fe=ke("phantom"),ae="OTransition"in pt,me=navigator.platform.indexOf("Win")===0,Oe=mt&&"transition"in pt,Le="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Rt,ze="MozPerspective"in pt,he=!window.L_DISABLE_3D&&(Oe||Le||ze)&&!ae&&!fe,be=typeof orientation!="undefined"||ke("mobile"),qi=be&&Mt,Ii=be&&Le,Ee=!window.PointerEvent&&window.MSPointerEvent,_e=!!(window.PointerEvent||Ee),Yt=!window.L_NO_TOUCH&&(_e||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),Ji=be&&Ft,mi=be&&ne,Ie=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ge=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",I,e),window.removeEventListener("testPassiveEventSupport",I,e)}catch(r){}return t}(),$i=function(){return!!document.createElement("canvas").getContext}(),Xe=!!(document.createElementNS&&ut("svg").createSVGRect),we=!Xe&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&typeof e.adj=="object"}catch(r){return!1}}();function ke(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Di={ie:mt,ielt9:wt,edge:vt,webkit:Mt,android:Ct,android23:Rt,androidStock:Wt,opera:Ft,chrome:le,gecko:ne,safari:$t,phantom:fe,opera12:ae,win:me,ie3d:Oe,webkit3d:Le,gecko3d:ze,any3d:he,mobile:be,mobileWebkit:qi,mobileWebkit3d:Ii,msPointer:Ee,pointer:_e,touch:Yt,mobileOpera:Ji,mobileGecko:mi,retina:Ie,passiveEvents:ge,canvas:$i,svg:Xe,vml:we},_i=Ee?"MSPointerDown":"pointerdown",Ke=Ee?"MSPointerMove":"pointermove",gi=Ee?"MSPointerUp":"pointerup",Ri=Ee?"MSPointerCancel":"pointercancel",ee={},Qi=!1;function _n(t,e,r,a){return e==="touchstart"?Ai(t,r,a):e==="touchmove"?gn(t,r,a):e==="touchend"&&vn(t,r,a),this}function tn(t,e,r){var a=t["_leaflet_"+e+r];return e==="touchstart"?t.removeEventListener(_i,a,!1):e==="touchmove"?t.removeEventListener(Ke,a,!1):e==="touchend"&&(t.removeEventListener(gi,a,!1),t.removeEventListener(Ri,a,!1)),this}function Ai(t,e,r){var a=m(function(h){h.MSPOINTER_TYPE_TOUCH&&h.pointerType===h.MSPOINTER_TYPE_TOUCH&&ve(h),Ne(h,e)});t["_leaflet_touchstart"+r]=a,t.addEventListener(_i,a,!1),Qi||(document.addEventListener(_i,zi,!0),document.addEventListener(Ke,en,!0),document.addEventListener(gi,Ni,!0),document.addEventListener(Ri,Ni,!0),Qi=!0)}function zi(t){ee[t.pointerId]=t}function en(t){ee[t.pointerId]&&(ee[t.pointerId]=t)}function Ni(t){delete ee[t.pointerId]}function Ne(t,e){t.touches=[];for(var r in ee)t.touches.push(ee[r]);t.changedTouches=[t],e(t)}function gn(t,e,r){var a=function(h){h.pointerType===(h.MSPOINTER_TYPE_MOUSE||"mouse")&&h.buttons===0||Ne(h,e)};t["_leaflet_touchmove"+r]=a,t.addEventListener(Ke,a,!1)}function vn(t,e,r){var a=function(h){Ne(h,e)};t["_leaflet_touchend"+r]=a,t.addEventListener(gi,a,!1),t.addEventListener(Ri,a,!1)}var Ze=Ee?"MSPointerDown":_e?"pointerdown":"touchstart",vi=Ee?"MSPointerUp":_e?"pointerup":"touchend",xe="_leaflet_";function ri(t,e,r){var a,h,y=!1,N=250;function Q(st){if(_e){if(!st.isPrimary||st.pointerType==="mouse")return}else if(st.touches.length>1)return;var ft=Date.now(),yt=ft-(a||ft);h=st.touches?st.touches[0]:st,y=yt>0&&yt<=N,a=ft}function et(st){if(y&&!h.cancelBubble){if(_e){if(st.pointerType==="mouse")return;var ft={},yt,zt;for(zt in h)yt=h[zt],ft[zt]=yt&&yt.bind?yt.bind(h):yt;h=ft}h.type="dblclick",h.button=0,e(h),a=null}}return t[xe+Ze+r]=Q,t[xe+vi+r]=et,t[xe+"dblclick"+r]=e,t.addEventListener(Ze,Q,ge?{passive:!1}:!1),t.addEventListener(vi,et,ge?{passive:!1}:!1),t.addEventListener("dblclick",e,!1),this}function oi(t,e){var r=t[xe+Ze+e],a=t[xe+vi+e],h=t[xe+"dblclick"+e];return t.removeEventListener(Ze,r,ge?{passive:!1}:!1),t.removeEventListener(vi,a,ge?{passive:!1}:!1),t.removeEventListener("dblclick",h,!1),this}var yi=Qe(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),qe=Qe(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Li=qe==="webkitTransition"||qe==="OTransition"?qe+"End":"transitionend";function ai(t){return typeof t=="string"?document.getElementById(t):t}function je(t,e){var r=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!r||r==="auto")&&document.defaultView){var a=document.defaultView.getComputedStyle(t,null);r=a?a[e]:null}return r==="auto"?null:r}function It(t,e,r){var a=document.createElement(t);return a.className=e||"",r&&r.appendChild(a),a}function Zt(t){var e=t.parentNode;e&&e.removeChild(t)}function si(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function se(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function Me(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function Je(t,e){if(t.classList!==void 0)return t.classList.contains(e);var r=$e(t);return r.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(r)}function Pt(t,e){if(t.classList!==void 0)for(var r=F(e),a=0,h=r.length;a<h;a++)t.classList.add(r[a]);else if(!Je(t,e)){var y=$e(t);Ge(t,(y?y+" ":"")+e)}}function Ht(t,e){t.classList!==void 0?t.classList.remove(e):Ge(t,j((" "+$e(t)+" ").replace(" "+e+" "," ")))}function Ge(t,e){t.className.baseVal===void 0?t.className=e:t.className.baseVal=e}function $e(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function de(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&nn(t,e)}function nn(t,e){var r=!1,a="DXImageTransform.Microsoft.Alpha";try{r=t.filters.item(a)}catch(h){if(e===1)return}e=Math.round(e*100),r?(r.Enabled=e!==100,r.Opacity=e):t.style.filter+=" progid:"+a+"(opacity="+e+")"}function Qe(t){for(var e=document.documentElement.style,r=0;r<t.length;r++)if(t[r]in e)return t[r];return!1}function Re(t,e,r){var a=e||new Lt(0,0);t.style[yi]=(Oe?"translate("+a.x+"px,"+a.y+"px)":"translate3d("+a.x+"px,"+a.y+"px,0)")+(r?" scale("+r+")":"")}function Xt(t,e){t._leaflet_pos=e,he?Re(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function Ce(t){return t._leaflet_pos||new Lt(0,0)}var Se,ti,bi;if("onselectstart"in document)Se=function(){St(window,"selectstart",ve)},ti=function(){Kt(window,"selectstart",ve)};else{var li=Qe(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Se=function(){if(li){var t=document.documentElement.style;bi=t[li],t[li]="none"}},ti=function(){li&&(document.documentElement.style[li]=bi,bi=void 0)}}function wi(){St(window,"dragstart",ve)}function hi(){Kt(window,"dragstart",ve)}var ui,ci;function Zi(t){for(;t.tabIndex===-1;)t=t.parentNode;!t.style||(ki(),ui=t,ci=t.style.outline,t.style.outline="none",St(window,"keydown",ki))}function ki(){!ui||(ui.style.outline=ci,ui=void 0,ci=void 0,Kt(window,"keydown",ki))}function rn(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function ji(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var on={TRANSFORM:yi,TRANSITION:qe,TRANSITION_END:Li,get:ai,getStyle:je,create:It,remove:Zt,empty:si,toFront:se,toBack:Me,hasClass:Je,addClass:Pt,removeClass:Ht,setClass:Ge,getClass:$e,setOpacity:de,testProp:Qe,setTransform:Re,setPosition:Xt,getPosition:Ce,disableTextSelection:Se,enableTextSelection:ti,disableImageDrag:wi,enableImageDrag:hi,preventOutline:Zi,restoreOutline:ki,getSizedParentNode:rn,getScale:ji};function St(t,e,r,a){if(typeof e=="object")for(var h in e)fi(t,h,e[h],r);else{e=F(e);for(var y=0,N=e.length;y<N;y++)fi(t,e[y],r,a)}return this}var ue="_leaflet_events";function Kt(t,e,r,a){if(typeof e=="object")for(var h in e)Fi(t,h,e[h],r);else if(e){e=F(e);for(var y=0,N=e.length;y<N;y++)Fi(t,e[y],r,a)}else{for(var Q in t[ue])Fi(t,Q,t[ue][Q]);delete t[ue]}return this}function Gi(){if(_e)return!(vt||$t)}var xi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function fi(t,e,r,a){var h=e+Z(r)+(a?"_"+Z(a):"");if(t[ue]&&t[ue][h])return this;var y=function(Q){return r.call(a||t,Q||window.event)},N=y;_e&&e.indexOf("touch")===0?_n(t,e,y,h):Yt&&e==="dblclick"&&!Gi()?ri(t,y,h):"addEventListener"in t?e==="touchstart"||e==="touchmove"||e==="wheel"||e==="mousewheel"?t.addEventListener(xi[e]||e,y,ge?{passive:!1}:!1):e==="mouseenter"||e==="mouseleave"?(y=function(Q){Q=Q||window.event,_(t,Q)&&N(Q)},t.addEventListener(xi[e],y,!1)):t.addEventListener(e,N,!1):"attachEvent"in t&&t.attachEvent("on"+e,y),t[ue]=t[ue]||{},t[ue][h]=y}function Fi(t,e,r,a){var h=e+Z(r)+(a?"_"+Z(a):""),y=t[ue]&&t[ue][h];if(!y)return this;_e&&e.indexOf("touch")===0?tn(t,e,h):Yt&&e==="dblclick"&&!Gi()?oi(t,h):"removeEventListener"in t?t.removeEventListener(xi[e]||e,y,!1):"detachEvent"in t&&t.detachEvent("on"+e,y),t[ue][h]=null}function qt(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,p(t),this}function ei(t){return fi(t,"wheel",qt),this}function Fe(t){return St(t,"mousedown touchstart dblclick",qt),fi(t,"click",u),this}function ve(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Te(t){return ve(t),qt(t),this}function i(t,e){if(!e)return new Lt(t.clientX,t.clientY);var r=ji(e),a=r.boundingClientRect;return new Lt((t.clientX-a.left)/r.x-e.clientLeft,(t.clientY-a.top)/r.y-e.clientTop)}var n=me&&le?2*window.devicePixelRatio:ne?window.devicePixelRatio:1;function o(t){return vt?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/n:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}var l={};function u(t){l[t.type]=!0}function p(t){var e=l[t.type];return l[t.type]=!1,e}function _(t,e){var r=e.relatedTarget;if(!r)return!0;try{for(;r&&r!==t;)r=r.parentNode}catch(a){return!1}return r!==t}var M={on:St,off:Kt,stopPropagation:qt,disableScrollPropagation:ei,disableClickPropagation:Fe,preventDefault:ve,stop:Te,getMousePosition:i,getWheelDelta:o,fakeStop:u,skipped:p,isExternalTarget:_,addListener:St,removeListener:Kt},x=ce.extend({run:function(t,e,r,a){this.stop(),this._el=t,this._inProgress=!0,this._duration=r||.25,this._easeOutPower=1/Math.max(a||.5,.2),this._startPos=Ce(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){!this._inProgress||(this._step(!0),this._complete())},_animate:function(){this._animId=bt(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,r=this._duration*1e3;e<r?this._runFrame(this._easeOut(e/r),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var r=this._startPos.add(this._offset.multiplyBy(t));e&&r._round(),Xt(this._el,r),this.fire("step")},_complete:function(){$(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),P=ce.extend({options:{crs:rt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=C(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=m(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.zoom!==void 0&&(this._zoom=this._limitZoom(e.zoom)),e.center&&e.zoom!==void 0&&this.setView(q(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=qe&&he&&!Ji&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),St(this._proxy,Li,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,r){if(e=e===void 0?this._zoom:this._limitZoom(e),t=this._limitCenter(q(t),e,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&r!==!0){r.animate!==void 0&&(r.zoom=c({animate:r.animate},r.zoom),r.pan=c({animate:r.animate,duration:r.duration},r.pan));var a=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,r.zoom):this._tryAnimatedPan(t,r.pan);if(a)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(he?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(he?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,r){var a=this.getZoomScale(e),h=this.getSize().divideBy(2),y=t instanceof Lt?t:this.latLngToContainerPoint(t),N=y.subtract(h).multiplyBy(1-1/a),Q=this.containerPointToLatLng(h.add(N));return this.setView(Q,e,{zoom:r})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():Nt(t);var r=Tt(e.paddingTopLeft||e.padding||[0,0]),a=Tt(e.paddingBottomRight||e.padding||[0,0]),h=this.getBoundsZoom(t,!1,r.add(a));if(h=typeof e.maxZoom=="number"?Math.min(e.maxZoom,h):h,h===Infinity)return{center:t.getCenter(),zoom:h};var y=a.subtract(r).divideBy(2),N=this.project(t.getSouthWest(),h),Q=this.project(t.getNorthEast(),h),et=this.unproject(N.add(Q).divideBy(2).add(y),h);return{center:et,zoom:h}},fitBounds:function(t,e){if(t=Nt(t),!t.isValid())throw new Error("Bounds are not valid.");var r=this._getBoundsCenterZoom(t,e);return this.setView(r.center,r.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(t=Tt(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(e.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new x,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),e.animate!==!1){Pt(this._mapPane,"leaflet-pan-anim");var r=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,r,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,r){if(r=r||{},r.animate===!1||!he)return this.setView(t,e,r);this._stop();var a=this.project(this.getCenter()),h=this.project(t),y=this.getSize(),N=this._zoom;t=q(t),e=e===void 0?N:e;var Q=Math.max(y.x,y.y),et=Q*this.getZoomScale(N,e),st=h.distanceTo(a)||1,ft=1.42,yt=ft*ft;function zt(re){var mn=re?-1:1,Ir=re?et:Q,Dr=et*et-Q*Q+mn*yt*yt*st*st,Rr=2*Ir*yt*st,Cn=Dr/Rr,er=Math.sqrt(Cn*Cn+1)-Cn,Ar=er<1e-9?-18:Math.log(er);return Ar}function Ye(re){return(Math.exp(re)-Math.exp(-re))/2}function pi(re){return(Math.exp(re)+Math.exp(-re))/2}function pn(re){return Ye(re)/pi(re)}var ni=zt(0);function En(re){return Q*(pi(ni)/pi(ni+ft*re))}function Sr(re){return Q*(pi(ni)*pn(ni+ft*re)-Ye(ni))/yt}function Tr(re){return 1-Math.pow(1-re,1.5)}var Br=Date.now(),Qn=(zt(1)-ni)/ft,Or=r.duration?1e3*r.duration:1e3*Qn*.8;function tr(){var re=(Date.now()-Br)/Or,mn=Tr(re)*Qn;re<=1?(this._flyToFrame=bt(tr,this),this._move(this.unproject(a.add(h.subtract(a).multiplyBy(Sr(mn)/st)),N),this.getScaleZoom(Q/En(mn),N),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}return this._moveStart(!0,r.noMoveStart),tr.call(this),this},flyToBounds:function(t,e){var r=this._getBoundsCenterZoom(t,e);return this.flyTo(r.center,r.zoom,e)},setMaxBounds:function(t){if(t=Nt(t),t.isValid())this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds);else return this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds);return this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var r=this.getCenter(),a=this._limitCenter(r,this._zoom,Nt(t));return r.equals(a)||this.panTo(a,e),this._enforcingBounds=!1,this},panInside:function(t,e){e=e||{};var r=Tt(e.paddingTopLeft||e.padding||[0,0]),a=Tt(e.paddingBottomRight||e.padding||[0,0]),h=this.getCenter(),y=this.project(h),N=this.project(t),Q=this.getPixelBounds(),et=Q.getSize().divideBy(2),st=oe([Q.min.add(r),Q.max.subtract(a)]);if(!st.contains(N)){this._enforcingBounds=!0;var ft=y.subtract(N),yt=Tt(N.x+ft.x,N.y+ft.y);(N.x<st.min.x||N.x>st.max.x)&&(yt.x=y.x-ft.x,ft.x>0?yt.x+=et.x-r.x:yt.x-=et.x-a.x),(N.y<st.min.y||N.y>st.max.y)&&(yt.y=y.y-ft.y,ft.y>0?yt.y+=et.y-r.y:yt.y-=et.y-a.y),this.panTo(this.unproject(yt),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=c({animate:!1,pan:!0},t===!0?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),a=e.divideBy(2).round(),h=r.divideBy(2).round(),y=a.subtract(h);return!y.x&&!y.y?this:(t.animate&&t.pan?this.panBy(y):(t.pan&&this._rawPanBy(y),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(m(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:r}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=c({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=m(this._handleGeolocationResponse,this),r=m(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,r,t):navigator.geolocation.getCurrentPosition(e,r,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,r=t.message||(e===1?"permission denied":e===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+r+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,r=t.coords.longitude,a=new Et(e,r),h=a.toBounds(t.coords.accuracy*2),y=this._locateOptions;if(y.setView){var N=this.getBoundsZoom(h);this.setView(a,y.maxZoom?Math.min(N,y.maxZoom):N)}var Q={latlng:a,bounds:h,timestamp:t.timestamp};for(var et in t.coords)typeof t.coords[et]=="number"&&(Q[et]=t.coords[et]);this.fire("locationfound",Q)},addHandler:function(t,e){if(!e)return this;var r=this[t]=new e(this);return this._handlers.push(r),this.options[t]&&r.enable(),this},remove:function(){if(this._initEvents(!0),this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(e){this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Zt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&($(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)Zt(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var r="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),a=It("div",r,e||this._mapPane);return t&&(this._panes[t]=a),a},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),r=this.unproject(t.getTopRight());return new Ut(e,r)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?Infinity:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,r){t=Nt(t),r=Tt(r||[0,0]);var a=this.getZoom()||0,h=this.getMinZoom(),y=this.getMaxZoom(),N=t.getNorthWest(),Q=t.getSouthEast(),et=this.getSize().subtract(r),st=oe(this.project(Q,a),this.project(N,a)).getSize(),ft=he?this.options.zoomSnap:1,yt=et.x/st.x,zt=et.y/st.y,Ye=e?Math.max(yt,zt):Math.min(yt,zt);return a=this.getScaleZoom(Ye,a),ft&&(a=Math.round(a/(ft/100))*(ft/100),a=e?Math.ceil(a/ft)*ft:Math.floor(a/ft)*ft),Math.max(h,Math.min(y,a))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Lt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var r=this._getTopLeftPoint(t,e);return new Dt(r,r.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var r=this.options.crs;return e=e===void 0?this._zoom:e,r.scale(t)/r.scale(e)},getScaleZoom:function(t,e){var r=this.options.crs;e=e===void 0?this._zoom:e;var a=r.zoom(t*r.scale(e));return isNaN(a)?Infinity:a},project:function(t,e){return e=e===void 0?this._zoom:e,this.options.crs.latLngToPoint(q(t),e)},unproject:function(t,e){return e=e===void 0?this._zoom:e,this.options.crs.pointToLatLng(Tt(t),e)},layerPointToLatLng:function(t){var e=Tt(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(q(t))._round();return e._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(q(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(Nt(t))},distance:function(t,e){return this.options.crs.distance(q(t),q(e))},containerPointToLayerPoint:function(t){return Tt(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return Tt(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(Tt(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(q(t)))},mouseEventToContainerPoint:function(t){return i(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=ai(t);if(e){if(e._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");St(e,"scroll",this._onScroll,this),this._containerId=Z(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&he,Pt(t,"leaflet-container"+(Yt?" leaflet-touch":"")+(Ie?" leaflet-retina":"")+(wt?" leaflet-oldie":"")+($t?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=je(t,"position");e!=="absolute"&&e!=="relative"&&e!=="fixed"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Xt(this._mapPane,new Lt(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Pt(t.markerPane,"leaflet-zoom-hide"),Pt(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){Xt(this._mapPane,new Lt(0,0));var r=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var a=this._zoom!==e;this._moveStart(a,!1)._move(t,e)._moveEnd(a),this.fire("viewreset"),r&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,r){e===void 0&&(e=this._zoom);var a=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(a||r&&r.pinch)&&this.fire("zoom",r),this.fire("move",r)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return $(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Xt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[Z(this._container)]=this;var e=t?Kt:St;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),he&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){$(this._resizeRequest),this._resizeRequest=bt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var r=[],a,h=e==="mouseout"||e==="mouseover",y=t.target||t.srcElement,N=!1;y;){if(a=this._targets[Z(y)],a&&(e==="click"||e==="preclick")&&!t._simulated&&this._draggableMoved(a)){N=!0;break}if(a&&a.listens(e,!0)&&(h&&!_(y,t)||(r.push(a),h))||y===this._container)break;y=y.parentNode}return!r.length&&!N&&!h&&_(y,t)&&(r=[this]),r},_handleDOMEvent:function(t){if(!(!this._loaded||p(t))){var e=t.type;(e==="mousedown"||e==="keypress"||e==="keyup"||e==="keydown")&&Zi(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,r){if(t.type==="click"){var a=c({},t);a.type="preclick",this._fireDOMEvent(a,a.type,r)}if(!t._stopped&&(r=(r||[]).concat(this._findEventTargets(t,e)),!!r.length)){var h=r[0];e==="contextmenu"&&h.listens(e,!0)&&ve(t);var y={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var N=h.getLatLng&&(!h._radius||h._radius<=10);y.containerPoint=N?this.latLngToContainerPoint(h.getLatLng()):this.mouseEventToContainerPoint(t),y.layerPoint=this.containerPointToLayerPoint(y.containerPoint),y.latlng=N?h.getLatLng():this.layerPointToLatLng(y.layerPoint)}for(var Q=0;Q<r.length;Q++)if(r[Q].fire(e,y,!0),y.originalEvent._stopped||r[Q].options.bubblingMouseEvents===!1&&G(this._mouseEvents,e)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return Ce(this._mapPane)||new Lt(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){var r=t&&e!==void 0?this._getNewPixelOrigin(t,e):this.getPixelOrigin();return r.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var r=this.getSize()._divideBy(2);return this.project(t,e)._subtract(r)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,r){var a=this._getNewPixelOrigin(r,e);return this.project(t,e)._subtract(a)},_latLngBoundsToNewLayerBounds:function(t,e,r){var a=this._getNewPixelOrigin(r,e);return oe([this.project(t.getSouthWest(),e)._subtract(a),this.project(t.getNorthWest(),e)._subtract(a),this.project(t.getSouthEast(),e)._subtract(a),this.project(t.getNorthEast(),e)._subtract(a)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,r){if(!r)return t;var a=this.project(t,e),h=this.getSize().divideBy(2),y=new Dt(a.subtract(h),a.add(h)),N=this._getBoundsOffset(y,r,e);return N.round().equals([0,0])?t:this.unproject(a.add(N),e)},_limitOffset:function(t,e){if(!e)return t;var r=this.getPixelBounds(),a=new Dt(r.min.add(t),r.max.add(t));return t.add(this._getBoundsOffset(a,e))},_getBoundsOffset:function(t,e,r){var a=oe(this.project(e.getNorthEast(),r),this.project(e.getSouthWest(),r)),h=a.min.subtract(t.min),y=a.max.subtract(t.max),N=this._rebound(h.x,-y.x),Q=this._rebound(h.y,-y.y);return new Lt(N,Q)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),r=this.getMaxZoom(),a=he?this.options.zoomSnap:1;return a&&(t=Math.round(t/a)*a),Math.max(e,Math.min(r,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ht(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var r=this._getCenterOffset(t)._trunc();return(e&&e.animate)!==!0&&!this.getSize().contains(r)?!1:(this.panBy(r,e),!0)},_createAnimProxy:function(){var t=this._proxy=It("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(e){var r=yi,a=this._proxy.style[r];Re(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),a===this._proxy.style[r]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Zt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();Re(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,r){if(this._animatingZoom)return!0;if(r=r||{},!this._zoomAnimated||r.animate===!1||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var a=this.getZoomScale(e),h=this._getCenterOffset(t)._divideBy(1-1/a);return r.animate!==!0&&!this.getSize().contains(h)?!1:(bt(function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)},this),!0)},_animateZoom:function(t,e,r,a){!this._mapPane||(r&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,Pt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:a}),setTimeout(m(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){!this._animatingZoom||(this._mapPane&&Ht(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),bt(function(){this._moveEnd(!0)},this))}});function H(t,e){return new P(t,e)}var W=Bt.extend({options:{position:"topright"},initialize:function(t){C(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),r=this.getPosition(),a=t._controlCorners[r];return Pt(e,"leaflet-control"),r.indexOf("bottom")!==-1?a.insertBefore(e,a.firstChild):a.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Zt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),U=function(t){return new W(t)};P.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",r=this._controlContainer=It("div",e+"control-container",this._container);function a(h,y){var N=e+h+" "+e+y;t[h+y]=It("div",N,r)}a("top","left"),a("top","right"),a("bottom","left"),a("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)Zt(this._controlCorners[t]);Zt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var tt=W.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,r,a){return r<a?-1:a<r?1:0}},initialize:function(t,e,r){C(this,r),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var a in t)this._addLayer(t[a],a);for(a in e)this._addLayer(e[a],a,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return W.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(Z(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){Pt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(Pt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):Ht(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ht(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=It("div",t),r=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Fe(e),ei(e);var a=this._section=It("section",t+"-list");r&&(this._map.on("click",this.collapse,this),Ct||St(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var h=this._layersLink=It("a",t+"-toggle",e);h.href="#",h.title="Layers",Yt?(St(h,"click",Te),St(h,"click",this.expand,this)):St(h,"focus",this.expand,this),r||this.expand(),this._baseLayersList=It("div",t+"-base",a),this._separator=It("div",t+"-separator",a),this._overlaysList=It("div",t+"-overlays",a),e.appendChild(a)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&Z(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,r){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:r}),this.options.sortLayers&&this._layers.sort(m(function(a,h){return this.options.sortFunction(a.layer,h.layer,a.name,h.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;si(this._baseLayersList),si(this._overlaysList),this._layerControlInputs=[];var t,e,r,a,h=0;for(r=0;r<this._layers.length;r++)a=this._layers[r],this._addItem(a),e=e||a.overlay,t=t||!a.overlay,h+=a.overlay?0:1;return this.options.hideSingleBase&&(t=t&&h>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(Z(t.target)),r=e.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;r&&this._map.fire(r,e)},_createRadioElement:function(t,e){var r='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",a=document.createElement("div");return a.innerHTML=r,a.firstChild},_addItem:function(t){var e=document.createElement("label"),r=this._map.hasLayer(t.layer),a;t.overlay?(a=document.createElement("input"),a.type="checkbox",a.className="leaflet-control-layers-selector",a.defaultChecked=r):a=this._createRadioElement("leaflet-base-layers_"+Z(this),r),this._layerControlInputs.push(a),a.layerId=Z(t.layer),St(a,"click",this._onInputClick,this);var h=document.createElement("span");h.innerHTML=" "+t.name;var y=document.createElement("div");e.appendChild(y),y.appendChild(a),y.appendChild(h);var N=t.overlay?this._overlaysList:this._baseLayersList;return N.appendChild(e),this._checkDisabledLayers(),e},_onInputClick:function(){var t=this._layerControlInputs,e,r,a=[],h=[];this._handlingClick=!0;for(var y=t.length-1;y>=0;y--)e=t[y],r=this._getLayer(e.layerId).layer,e.checked?a.push(r):e.checked||h.push(r);for(y=0;y<h.length;y++)this._map.hasLayer(h[y])&&this._map.removeLayer(h[y]);for(y=0;y<a.length;y++)this._map.hasLayer(a[y])||this._map.addLayer(a[y]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,e,r,a=this._map.getZoom(),h=t.length-1;h>=0;h--)e=t[h],r=this._getLayer(e.layerId).layer,e.disabled=r.options.minZoom!==void 0&&a<r.options.minZoom||r.options.maxZoom!==void 0&&a>r.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),nt=function(t,e,r){return new tt(t,e,r)},lt=W.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",r=It("div",e+" leaflet-bar"),a=this.options;return this._zoomInButton=this._createButton(a.zoomInText,a.zoomInTitle,e+"-in",r,this._zoomIn),this._zoomOutButton=this._createButton(a.zoomOutText,a.zoomOutTitle,e+"-out",r,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),r},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,r,a,h){var y=It("a",r,a);return y.innerHTML=t,y.href="#",y.title=e,y.setAttribute("role","button"),y.setAttribute("aria-label",e),Fe(y),St(y,"click",Te),St(y,"click",h,this),St(y,"click",this._refocusOnMap,this),y},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";Ht(this._zoomInButton,e),Ht(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&Pt(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&Pt(this._zoomInButton,e)}});P.mergeOptions({zoomControl:!0}),P.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new lt,this.addControl(this.zoomControl))});var ht=function(t){return new lt(t)},ct=W.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",r=It("div",e),a=this.options;return this._addScales(a,e+"-line",r),t.on(a.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),r},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,r){t.metric&&(this._mScale=It("div",e,r)),t.imperial&&(this._iScale=It("div",e,r))},_update:function(){var t=this._map,e=t.getSize().y/2,r=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(r)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),r=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,r,e/t)},_updateImperial:function(t){var e=t*3.2808399,r,a,h;e>5280?(r=e/5280,a=this._getRoundNum(r),this._updateScale(this._iScale,a+" mi",a/r)):(h=this._getRoundNum(e),this._updateScale(this._iScale,h+" ft",h/e))},_updateScale:function(t,e,r){t.style.width=Math.round(this.options.maxWidth*r)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),r=t/e;return r=r>=10?10:r>=5?5:r>=3?3:r>=2?2:1,e*r}}),_t=function(t){return new ct(t)},kt=W.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){C(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=It("div","leaflet-control-attribution"),Fe(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(!!this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var r=[];this.options.prefix&&r.push(this.options.prefix),t.length&&r.push(t.join(", ")),this._container.innerHTML=r.join(" | ")}}});P.mergeOptions({attributionControl:!0}),P.addInitHook(function(){this.options.attributionControl&&new kt().addTo(this)});var jt=function(t){return new kt(t)};W.Layers=tt,W.Zoom=lt,W.Scale=ct,W.Attribution=kt,U.layers=nt,U.zoom=ht,U.scale=_t,U.attribution=jt;var At=Bt.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});At.addTo=function(t,e){return t.addHandler(e,this),this};var Vt={Events:Ot},Qt=Yt?"touchstart mousedown":"mousedown",Jt={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},pe={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},ie=ce.extend({options:{clickTolerance:3},initialize:function(t,e,r,a){C(this,a),this._element=t,this._dragStartTarget=e||t,this._preventOutline=r},enable:function(){this._enabled||(St(this._dragStartTarget,Qt,this._onDown,this),this._enabled=!0)},disable:function(){!this._enabled||(ie._dragging===this&&this.finishDrag(),Kt(this._dragStartTarget,Qt,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!(t._simulated||!this._enabled)&&(this._moved=!1,!Je(this._element,"leaflet-zoom-anim")&&!(ie._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(ie._dragging=this,this._preventOutline&&Zi(this._element),wi(),Se(),!this._moving))){this.fire("down");var e=t.touches?t.touches[0]:t,r=rn(this._element);this._startPoint=new Lt(e.clientX,e.clientY),this._parentScale=ji(r),St(document,pe[t.type],this._onMove,this),St(document,Jt[t.type],this._onUp,this)}},_onMove:function(t){if(!(t._simulated||!this._enabled)){if(t.touches&&t.touches.length>1){this._moved=!0;return}var e=t.touches&&t.touches.length===1?t.touches[0]:t,r=new Lt(e.clientX,e.clientY)._subtract(this._startPoint);!r.x&&!r.y||Math.abs(r.x)+Math.abs(r.y)<this.options.clickTolerance||(r.x/=this._parentScale.x,r.y/=this._parentScale.y,ve(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=Ce(this._element).subtract(r),Pt(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Pt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(r),this._moving=!0,$(this._animRequest),this._lastEvent=t,this._animRequest=bt(this._updatePosition,this,!0))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Xt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){t._simulated||!this._enabled||this.finishDrag()},finishDrag:function(){Ht(document.body,"leaflet-dragging"),this._lastTarget&&(Ht(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var t in pe)Kt(document,pe[t],this._onMove,this),Kt(document,Jt[t],this._onUp,this);hi(),ti(),this._moved&&this._moving&&($(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,ie._dragging=!1}});function Pe(t,e){if(!e||!t.length)return t.slice();var r=e*e;return t=ir(t,r),t=yn(t,r),t}function ye(t,e,r){return Math.sqrt(Vi(t,e,r,!0))}function Ui(t,e,r){return Vi(t,e,r)}function yn(t,e){var r=t.length,a=typeof Uint8Array!=void 0+""?Uint8Array:Array,h=new a(r);h[0]=h[r-1]=1,Hi(t,h,e,0,r-1);var y,N=[];for(y=0;y<r;y++)h[y]&&N.push(t[y]);return N}function Hi(t,e,r,a,h){var y=0,N,Q,et;for(Q=a+1;Q<=h-1;Q++)et=Vi(t[Q],t[a],t[h],!0),et>y&&(N=Q,y=et);y>r&&(e[N]=1,Hi(t,e,r,a,N),Hi(t,e,r,N,h))}function ir(t,e){for(var r=[t[0]],a=1,h=0,y=t.length;a<y;a++)nr(t[a],t[h])>e&&(r.push(t[a]),h=a);return h<y-1&&r.push(t[y-1]),r}var Sn;function Tn(t,e,r,a,h){var y=a?Sn:di(t,r),N=di(e,r),Q,et,st;for(Sn=N;;){if(!(y|N))return[t,e];if(y&N)return!1;Q=y||N,et=an(t,e,Q,r,h),st=di(et,r),Q===y?(t=et,y=st):(e=et,N=st)}}function an(t,e,r,a,h){var y=e.x-t.x,N=e.y-t.y,Q=a.min,et=a.max,st,ft;return r&8?(st=t.x+y*(et.y-t.y)/N,ft=et.y):r&4?(st=t.x+y*(Q.y-t.y)/N,ft=Q.y):r&2?(st=et.x,ft=t.y+N*(et.x-t.x)/y):r&1&&(st=Q.x,ft=t.y+N*(Q.x-t.x)/y),new Lt(st,ft,h)}function di(t,e){var r=0;return t.x<e.min.x?r|=1:t.x>e.max.x&&(r|=2),t.y<e.min.y?r|=4:t.y>e.max.y&&(r|=8),r}function nr(t,e){var r=e.x-t.x,a=e.y-t.y;return r*r+a*a}function Vi(t,e,r,a){var h=e.x,y=e.y,N=r.x-h,Q=r.y-y,et=N*N+Q*Q,st;return et>0&&(st=((t.x-h)*N+(t.y-y)*Q)/et,st>1?(h=r.x,y=r.y):st>0&&(h+=N*st,y+=Q*st)),N=t.x-h,Q=t.y-y,a?N*N+Q*Q:new Lt(h,y)}function Ue(t){return!B(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]!="undefined"}function Bn(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ue(t)}var rr={simplify:Pe,pointToSegmentDistance:ye,closestPointOnSegment:Ui,clipSegment:Tn,_getEdgeIntersection:an,_getBitCode:di,_sqClosestPointOnSegment:Vi,isFlat:Ue,_flat:Bn};function On(t,e,r){var a,h=[1,4,2,8],y,N,Q,et,st,ft,yt,zt;for(y=0,ft=t.length;y<ft;y++)t[y]._code=di(t[y],e);for(Q=0;Q<4;Q++){for(yt=h[Q],a=[],y=0,ft=t.length,N=ft-1;y<ft;N=y++)et=t[y],st=t[N],et._code&yt?st._code&yt||(zt=an(st,et,yt,e,r),zt._code=di(zt,e),a.push(zt)):(st._code&yt&&(zt=an(st,et,yt,e,r),zt._code=di(zt,e),a.push(zt)),a.push(et));t=a}return t}var or={clipPolygon:On},Ln={project:function(t){return new Lt(t.lng,t.lat)},unproject:function(t){return new Et(t.y,t.x)},bounds:new Dt([-180,-90],[180,90])},bn={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Dt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var e=Math.PI/180,r=this.R,a=t.lat*e,h=this.R_MINOR/r,y=Math.sqrt(1-h*h),N=y*Math.sin(a),Q=Math.tan(Math.PI/4-a/2)/Math.pow((1-N)/(1+N),y/2);return a=-r*Math.log(Math.max(Q,1e-10)),new Lt(t.lng*e*r,a)},unproject:function(t){for(var e=180/Math.PI,r=this.R,a=this.R_MINOR/r,h=Math.sqrt(1-a*a),y=Math.exp(-t.y/r),N=Math.PI/2-2*Math.atan(y),Q=0,et=.1,st;Q<15&&Math.abs(et)>1e-7;Q++)st=h*Math.sin(N),st=Math.pow((1-st)/(1+st),h/2),et=Math.PI/2-2*Math.atan(y*st)-N,N+=et;return new Et(N*e,t.x*e/r)}},ar={LonLat:Ln,Mercator:bn,SphericalMercator:Y},sr=c({},w,{code:"EPSG:3395",projection:bn,transformation:function(){var t=.5/(Math.PI*bn.R);return at(t,.5,-t,.5)}()}),In=c({},w,{code:"EPSG:4326",projection:Ln,transformation:at(1/180,1,-1/180,.5)}),lr=c({},d,{projection:Ln,transformation:at(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var r=e.lng-t.lng,a=e.lat-t.lat;return Math.sqrt(r*r+a*a)},infinite:!0});d.Earth=w,d.EPSG3395=sr,d.EPSG3857=rt,d.EPSG900913=ot,d.EPSG4326=In,d.Simple=lr;var De=ce.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[Z(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[Z(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(!!e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var r=this.getEvents();e.on(r,this),this.once("remove",function(){e.off(r,this)},this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}});P.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=Z(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=Z(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&Z(t)in this._layers},eachLayer:function(t,e){for(var r in this._layers)t.call(e,this._layers[r]);return this},_addLayers:function(t){t=t?B(t)?t:[t]:[];for(var e=0,r=t.length;e<r;e++)this.addLayer(t[e])},_addZoomLimit:function(t){(isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[Z(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=Z(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=Infinity,e=-Infinity,r=this._getZoomSpan();for(var a in this._zoomBoundLayers){var h=this._zoomBoundLayers[a].options;t=h.minZoom===void 0?t:Math.min(t,h.minZoom),e=h.maxZoom===void 0?e:Math.max(e,h.maxZoom)}this._layersMaxZoom=e===-Infinity?void 0:e,this._layersMinZoom=t===Infinity?void 0:t,r!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Mi=De.extend({initialize:function(t,e){C(this,e),this._layers={};var r,a;if(t)for(r=0,a=t.length;r<a;r++)this.addLayer(t[r])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){if(!t)return!1;var e=typeof t=="number"?t:this.getLayerId(t);return e in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e=Array.prototype.slice.call(arguments,1),r,a;for(r in this._layers)a=this._layers[r],a[t]&&a[t].apply(a,e);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var r in this._layers)t.call(e,this._layers[r]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return Z(t)}}),hr=function(t,e){return new Mi(t,e)},Pi=Mi.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Mi.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Mi.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new Ut;for(var e in this._layers){var r=this._layers[e];t.extend(r.getBounds?r.getBounds():r.getLatLng())}return t}}),ur=function(t,e){return new Pi(t,e)},Ei=Bt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){C(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var r=this._getIconUrl(t);if(!r){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var a=this._createImg(r,e&&e.tagName==="IMG"?e:null);return this._setIconStyles(a,t),a},_setIconStyles:function(t,e){var r=this.options,a=r[e+"Size"];typeof a=="number"&&(a=[a,a]);var h=Tt(a),y=Tt(e==="shadow"&&r.shadowAnchor||r.iconAnchor||h&&h.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(r.className||""),y&&(t.style.marginLeft=-y.x+"px",t.style.marginTop=-y.y+"px"),h&&(t.style.width=h.x+"px",t.style.height=h.y+"px")},_createImg:function(t,e){return e=e||document.createElement("img"),e.src=t,e},_getIconUrl:function(t){return Ie&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function cr(t){return new Ei(t)}var Wi=Ei.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return Wi.imagePath||(Wi.imagePath=this._detectIconPath()),(this.options.imagePath||Wi.imagePath)+Ei.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=It("div","leaflet-default-icon-path",document.body),e=je(t,"background-image")||je(t,"backgroundImage");return document.body.removeChild(t),e===null||e.indexOf("url")!==0?e="":e=e.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,""),e}}),Dn=At.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new ie(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Pt(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ht(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,r=e._map,a=this._marker.options.autoPanSpeed,h=this._marker.options.autoPanPadding,y=Ce(e._icon),N=r.getPixelBounds(),Q=r.getPixelOrigin(),et=oe(N.min._subtract(Q).add(h),N.max._subtract(Q).subtract(h));if(!et.contains(y)){var st=Tt((Math.max(et.max.x,y.x)-et.max.x)/(N.max.x-et.max.x)-(Math.min(et.min.x,y.x)-et.min.x)/(N.min.x-et.min.x),(Math.max(et.max.y,y.y)-et.max.y)/(N.max.y-et.max.y)-(Math.min(et.min.y,y.y)-et.min.y)/(N.min.y-et.min.y)).multiplyBy(a);r.panBy(st,{animate:!1}),this._draggable._newPos._add(st),this._draggable._startPos._add(st),Xt(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=bt(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&($(this._panRequest),this._panRequest=bt(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,r=e._shadow,a=Ce(e._icon),h=e._map.layerPointToLatLng(a);r&&Xt(r,a),e._latlng=h,t.latlng=h,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){$(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),sn=De.extend({options:{icon:new Wi,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){C(this,e),this._latlng=q(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=q(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),r=t.icon.createIcon(this._icon),a=!1;r!==this._icon&&(this._icon&&this._removeIcon(),a=!0,t.title&&(r.title=t.title),r.tagName==="IMG"&&(r.alt=t.alt||"")),Pt(r,e),t.keyboard&&(r.tabIndex="0"),this._icon=r,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var h=t.icon.createShadow(this._shadow),y=!1;h!==this._shadow&&(this._removeShadow(),y=!0),h&&(Pt(h,e),h.alt=""),this._shadow=h,t.opacity<1&&this._updateOpacity(),a&&this.getPane().appendChild(this._icon),this._initInteraction(),h&&y&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),Zt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Zt(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Xt(this._icon,t),this._shadow&&Xt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(!!this.options.interactive&&(Pt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Dn)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Dn(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&de(this._icon,t),this._shadow&&de(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function fr(t,e){return new sn(t,e)}var ii=De.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return C(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),ln=ii.extend({options:{fill:!0,radius:10},initialize:function(t,e){C(this,e),this._latlng=q(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=q(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return ii.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,r=this._clickTolerance(),a=[t+r,e+r];this._pxBounds=new Dt(this._point.subtract(a),this._point.add(a))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function dr(t,e){return new ln(t,e)}var wn=ln.extend({initialize:function(t,e,r){if(typeof e=="number"&&(e=c({},r,{radius:e})),C(this,e),this._latlng=q(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new Ut(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:ii.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,r=this._map,a=r.options.crs;if(a.distance===w.distance){var h=Math.PI/180,y=this._mRadius/w.R/h,N=r.project([e+y,t]),Q=r.project([e-y,t]),et=N.add(Q).divideBy(2),st=r.unproject(et).lat,ft=Math.acos((Math.cos(y*h)-Math.sin(e*h)*Math.sin(st*h))/(Math.cos(e*h)*Math.cos(st*h)))/h;(isNaN(ft)||ft===0)&&(ft=y/Math.cos(Math.PI/180*e)),this._point=et.subtract(r.getPixelOrigin()),this._radius=isNaN(ft)?0:et.x-r.project([st,t-ft]).x,this._radiusY=et.y-N.y}else{var yt=a.unproject(a.project(this._latlng).subtract([this._mRadius,0]));this._point=r.latLngToLayerPoint(this._latlng),this._radius=this._point.x-r.latLngToLayerPoint(yt).x}this._updateBounds()}});function pr(t,e,r){return new wn(t,e,r)}var He=ii.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){C(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e=Infinity,r=null,a=Vi,h,y,N=0,Q=this._parts.length;N<Q;N++)for(var et=this._parts[N],st=1,ft=et.length;st<ft;st++){h=et[st-1],y=et[st];var yt=a(t,h,y,!0);yt<e&&(e=yt,r=a(t,h,y))}return r&&(r.distance=Math.sqrt(e)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,r,a,h,y,N,Q=this._rings[0],et=Q.length;if(!et)return null;for(t=0,e=0;t<et-1;t++)e+=Q[t].distanceTo(Q[t+1])/2;if(e===0)return this._map.layerPointToLatLng(Q[0]);for(t=0,a=0;t<et-1;t++)if(h=Q[t],y=Q[t+1],r=h.distanceTo(y),a+=r,a>e)return N=(a-e)/r,this._map.layerPointToLatLng([y.x-N*(y.x-h.x),y.y-N*(y.y-h.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=q(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new Ut,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Ue(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],r=Ue(t),a=0,h=t.length;a<h;a++)r?(e[a]=q(t[a]),this._bounds.extend(e[a])):e[a]=this._convertLatLngs(t[a]);return e},_project:function(){var t=new Dt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new Lt(t,t);this._pxBounds=new Dt([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)])},_projectLatlngs:function(t,e,r){var a=t[0]instanceof Et,h=t.length,y,N;if(a){for(N=[],y=0;y<h;y++)N[y]=this._map.latLngToLayerPoint(t[y]),r.extend(N[y]);e.push(N)}else for(y=0;y<h;y++)this._projectLatlngs(t[y],e,r)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var e=this._parts,r,a,h,y,N,Q,et;for(r=0,h=0,y=this._rings.length;r<y;r++)for(et=this._rings[r],a=0,N=et.length;a<N-1;a++)Q=Tn(et[a],et[a+1],t,a,!0),!!Q&&(e[h]=e[h]||[],e[h].push(Q[0]),(Q[1]!==et[a+1]||a===N-2)&&(e[h].push(Q[1]),h++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,r=0,a=t.length;r<a;r++)t[r]=Pe(t[r],e)},_update:function(){!this._map||(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var r,a,h,y,N,Q,et=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(r=0,y=this._parts.length;r<y;r++)for(Q=this._parts[r],a=0,N=Q.length,h=N-1;a<N;h=a++)if(!(!e&&a===0)&&ye(t,Q[h],Q[a])<=et)return!0;return!1}});function mr(t,e){return new He(t,e)}He._flat=Bn;var Ci=He.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,r,a,h,y,N,Q,et,st=this._rings[0],ft=st.length;if(!ft)return null;for(y=N=Q=0,t=0,e=ft-1;t<ft;e=t++)r=st[t],a=st[e],h=r.y*a.x-a.y*r.x,N+=(r.x+a.x)*h,Q+=(r.y+a.y)*h,y+=h*3;return y===0?et=st[0]:et=[N/y,Q/y],this._map.layerPointToLatLng(et)},_convertLatLngs:function(t){var e=He.prototype._convertLatLngs.call(this,t),r=e.length;return r>=2&&e[0]instanceof Et&&e[0].equals(e[r-1])&&e.pop(),e},_setLatLngs:function(t){He.prototype._setLatLngs.call(this,t),Ue(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ue(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,r=new Lt(e,e);if(t=new Dt(t.min.subtract(r),t.max.add(r)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var a=0,h=this._rings.length,y;a<h;a++)y=On(this._rings[a],t,!0),y.length&&this._parts.push(y)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e=!1,r,a,h,y,N,Q,et,st;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(y=0,et=this._parts.length;y<et;y++)for(r=this._parts[y],N=0,st=r.length,Q=st-1;N<st;Q=N++)a=r[N],h=r[Q],a.y>t.y!=h.y>t.y&&t.x<(h.x-a.x)*(t.y-a.y)/(h.y-a.y)+a.x&&(e=!e);return e||He.prototype._containsPoint.call(this,t,!0)}});function _r(t,e){return new Ci(t,e)}var Ve=Pi.extend({initialize:function(t,e){C(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e=B(t)?t:t.features,r,a,h;if(e){for(r=0,a=e.length;r<a;r++)h=e[r],(h.geometries||h.geometry||h.features||h.coordinates)&&this.addData(h);return this}var y=this.options;if(y.filter&&!y.filter(t))return this;var N=kn(t,y);return N?(N.feature=cn(t),N.defaultOptions=N.options,this.resetStyle(N),y.onEachFeature&&y.onEachFeature(t,N),this.addLayer(N)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=c({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){t.setStyle&&(typeof e=="function"&&(e=e(t.feature)),t.setStyle(e))}});function kn(t,e){var r=t.type==="Feature"?t.geometry:t,a=r?r.coordinates:null,h=[],y=e&&e.pointToLayer,N=e&&e.coordsToLatLng||xn,Q,et,st,ft;if(!a&&!r)return null;switch(r.type){case"Point":return Q=N(a),Rn(y,t,Q,e);case"MultiPoint":for(st=0,ft=a.length;st<ft;st++)Q=N(a[st]),h.push(Rn(y,t,Q,e));return new Pi(h);case"LineString":case"MultiLineString":return et=hn(a,r.type==="LineString"?0:1,N),new He(et,e);case"Polygon":case"MultiPolygon":return et=hn(a,r.type==="Polygon"?1:2,N),new Ci(et,e);case"GeometryCollection":for(st=0,ft=r.geometries.length;st<ft;st++){var yt=kn({geometry:r.geometries[st],type:"Feature",properties:t.properties},e);yt&&h.push(yt)}return new Pi(h);default:throw new Error("Invalid GeoJSON object.")}}function Rn(t,e,r,a){return t?t(e,r):new sn(r,a&&a.markersInheritOptions&&a)}function xn(t){return new Et(t[1],t[0],t[2])}function hn(t,e,r){for(var a=[],h=0,y=t.length,N;h<y;h++)N=e?hn(t[h],e-1,r):(r||xn)(t[h]),a.push(N);return a}function Mn(t,e){return e=typeof e=="number"?e:6,t.alt!==void 0?[T(t.lng,e),T(t.lat,e),T(t.alt,e)]:[T(t.lng,e),T(t.lat,e)]}function un(t,e,r,a){for(var h=[],y=0,N=t.length;y<N;y++)h.push(e?un(t[y],e-1,r,a):Mn(t[y],a));return!e&&r&&h.push(h[0]),h}function Si(t,e){return t.feature?c({},t.feature,{geometry:e}):cn(e)}function cn(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var Pn={toGeoJSON:function(t){return Si(this,{type:"Point",coordinates:Mn(this.getLatLng(),t)})}};sn.include(Pn),wn.include(Pn),ln.include(Pn),He.include({toGeoJSON:function(t){var e=!Ue(this._latlngs),r=un(this._latlngs,e?1:0,!1,t);return Si(this,{type:(e?"Multi":"")+"LineString",coordinates:r})}}),Ci.include({toGeoJSON:function(t){var e=!Ue(this._latlngs),r=e&&!Ue(this._latlngs[0]),a=un(this._latlngs,r?2:e?1:0,!0,t);return e||(a=[a]),Si(this,{type:(r?"Multi":"")+"Polygon",coordinates:a})}}),Mi.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(r){e.push(r.toGeoJSON(t).geometry.coordinates)}),Si(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(e==="MultiPoint")return this.toMultiPoint(t);var r=e==="GeometryCollection",a=[];return this.eachLayer(function(h){if(h.toGeoJSON){var y=h.toGeoJSON(t);if(r)a.push(y.geometry);else{var N=cn(y);N.type==="FeatureCollection"?a.push.apply(a,N.features):a.push(N)}}}),r?Si(this,{geometries:a,type:"GeometryCollection"}):{type:"FeatureCollection",features:a}}});function An(t,e){return new Ve(t,e)}var gr=An,fn=De.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,r){this._url=t,this._bounds=Nt(e),C(this,r)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Pt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Zt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&se(this._image),this},bringToBack:function(){return this._map&&Me(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=Nt(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",e=this._image=t?this._url:It("img");if(Pt(e,"leaflet-image-layer"),this._zoomAnimated&&Pt(e,"leaflet-zoom-animated"),this.options.className&&Pt(e,this.options.className),e.onselectstart=I,e.onmousemove=I,e.onload=m(this.fire,this,"load"),e.onerror=m(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(e.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=e.src;return}e.src=this._url,e.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),r=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Re(this._image,r,e)},_reset:function(){var t=this._image,e=new Dt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),r=e.getSize();Xt(t,e.min),t.style.width=r.x+"px",t.style.height=r.y+"px"},_updateOpacity:function(){de(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),vr=function(t,e,r){return new fn(t,e,r)},zn=fn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1},_initImage:function(){var t=this._url.tagName==="VIDEO",e=this._image=t?this._url:It("video");if(Pt(e,"leaflet-image-layer"),this._zoomAnimated&&Pt(e,"leaflet-zoom-animated"),this.options.className&&Pt(e,this.options.className),e.onselectstart=I,e.onmousemove=I,e.onloadeddata=m(this.fire,this,"load"),t){for(var r=e.getElementsByTagName("source"),a=[],h=0;h<r.length;h++)a.push(r[h].src);this._url=r.length>0?a:[e.src];return}B(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted;for(var y=0;y<this._url.length;y++){var N=It("source");N.src=this._url[y],e.appendChild(N)}}});function yr(t,e,r){return new zn(t,e,r)}var Nn=fn.extend({_initImage:function(){var t=this._image=this._url;Pt(t,"leaflet-image-layer"),this._zoomAnimated&&Pt(t,"leaflet-zoom-animated"),this.options.className&&Pt(t,this.options.className),t.onselectstart=I,t.onmousemove=I}});function Lr(t,e,r){return new Nn(t,e,r)}var We=De.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){C(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&de(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&de(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(de(this._container,0),this._removeTimeout=setTimeout(m(Zt,void 0,this._container),200)):Zt(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=q(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){!this._map||(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&se(this._container),this},bringToBack:function(){return this._map&&Me(this._container),this},_prepareOpen:function(t,e,r){if(e instanceof De||(r=e,e=t),e instanceof Pi)for(var a in t._layers){e=t._layers[a];break}if(!r)if(e.getCenter)r=e.getCenter();else if(e.getLatLng)r=e.getLatLng();else throw new Error("Unable to get source layer LatLng.");return this._source=e,this.update(),r},_updateContent:function(){if(!!this._content){var t=this._contentNode,e=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof e=="string")t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(!!this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=Tt(this.options.offset),r=this._getAnchor();this._zoomAnimated?Xt(this._container,t.add(r)):e=e.add(t).add(r);var a=this._containerBottom=-e.y,h=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=a+"px",this._container.style.left=h+"px"}},_getAnchor:function(){return[0,0]}}),Ti=We.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){We.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ii||this._source.on("preclick",qt))},onRemove:function(t){We.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ii||this._source.off("preclick",qt))},getEvents:function(){var t=We.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=It("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),r=this._wrapper=It("div",t+"-content-wrapper",e);if(this._contentNode=It("div",t+"-content",r),Fe(e),ei(this._contentNode),St(e,"contextmenu",qt),this._tipContainer=It("div",t+"-tip-container",e),this._tip=It("div",t+"-tip",this._tipContainer),this.options.closeButton){var a=this._closeButton=It("a",t+"-close-button",e);a.href="#close",a.innerHTML="&#215;",St(a,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var r=t.offsetWidth;r=Math.min(r,this.options.maxWidth),r=Math.max(r,this.options.minWidth),e.width=r+1+"px",e.whiteSpace="",e.height="";var a=t.offsetHeight,h=this.options.maxHeight,y="leaflet-popup-scrolled";h&&a>h?(e.height=h+"px",Pt(t,y)):Ht(t,y),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),r=this._getAnchor();Xt(this._container,e.add(r))},_adjustPan:function(){if(!!this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var t=this._map,e=parseInt(je(this._container,"marginBottom"),10)||0,r=this._container.offsetHeight+e,a=this._containerWidth,h=new Lt(this._containerLeft,-r-this._containerBottom);h._add(Ce(this._container));var y=t.layerPointToContainerPoint(h),N=Tt(this.options.autoPanPadding),Q=Tt(this.options.autoPanPaddingTopLeft||N),et=Tt(this.options.autoPanPaddingBottomRight||N),st=t.getSize(),ft=0,yt=0;y.x+a+et.x>st.x&&(ft=y.x+a-st.x+et.x),y.x-ft-Q.x<0&&(ft=y.x-Q.x),y.y+r+et.y>st.y&&(yt=y.y+r-st.y+et.y),y.y-yt-Q.y<0&&(yt=y.y-Q.y),(ft||yt)&&t.fire("autopanstart").panBy([ft,yt])}},_onCloseButtonClick:function(t){this._close(),Te(t)},_getAnchor:function(){return Tt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),br=function(t,e){return new Ti(t,e)};P.mergeOptions({closePopupOnClick:!0}),P.include({openPopup:function(t,e,r){return t instanceof Ti||(t=new Ti(r).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return(!t||t===this._popup)&&(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),De.include({bindPopup:function(t,e){return t instanceof Ti?(C(t,e),this._popup=t,t._source=this):((!this._popup||e)&&(this._popup=new Ti(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){return this._popup&&this._map&&(e=this._popup._prepareOpen(this,t,e),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;if(!!this._popup&&!!this._map){if(Te(t),e instanceof ii){this.openPopup(t.layer||t.target,t.latlng);return}this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var Bi=We.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){We.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){We.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=We.prototype.getEvents.call(this);return Yt&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip",e=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=It("div",e)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,r,a=this._map,h=this._container,y=a.latLngToContainerPoint(a.getCenter()),N=a.layerPointToContainerPoint(t),Q=this.options.direction,et=h.offsetWidth,st=h.offsetHeight,ft=Tt(this.options.offset),yt=this._getAnchor();Q==="top"?(e=et/2,r=st):Q==="bottom"?(e=et/2,r=0):Q==="center"?(e=et/2,r=st/2):Q==="right"?(e=0,r=st/2):Q==="left"?(e=et,r=st/2):N.x<y.x?(Q="right",e=0,r=st/2):(Q="left",e=et+(ft.x+yt.x)*2,r=st/2),t=t.subtract(Tt(e,r,!0)).add(ft).add(yt),Ht(h,"leaflet-tooltip-right"),Ht(h,"leaflet-tooltip-left"),Ht(h,"leaflet-tooltip-top"),Ht(h,"leaflet-tooltip-bottom"),Pt(h,"leaflet-tooltip-"+Q),Xt(h,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&de(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return Tt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),wr=function(t,e){return new Bi(t,e)};P.include({openTooltip:function(t,e,r){return t instanceof Bi||(t=new Bi(r).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),De.include({bindTooltip:function(t,e){return t instanceof Bi?(C(t,e),this._tooltip=t,t._source=this):((!this._tooltip||e)&&(this._tooltip=new Bi(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var e=t?"off":"on",r={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?r.add=this._openTooltip:(r.mouseover=this._openTooltip,r.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(r.mousemove=this._moveTooltip),Yt&&(r.click=this._openTooltip)),this[e](r),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){return this._tooltip&&this._map&&(e=this._tooltip._prepareOpen(this,t,e),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(Pt(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(Ht(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;!this._tooltip||!this._map||this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e=t.latlng,r,a;this._tooltip.options.sticky&&t.originalEvent&&(r=this._map.mouseEventToContainerPoint(t.originalEvent),a=this._map.containerPointToLayerPoint(r),e=this._map.layerPointToLatLng(a)),this._tooltip.setLatLng(e)}});var Zn=Ei.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&t.tagName==="DIV"?t:document.createElement("div"),r=this.options;if(r.html instanceof Element?(si(e),e.appendChild(r.html)):e.innerHTML=r.html!==!1?r.html:"",r.bgPos){var a=Tt(r.bgPos);e.style.backgroundPosition=-a.x+"px "+-a.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});function kr(t){return new Zn(t)}Ei.Default=Wi;var Yi=De.extend({options:{tileSize:256,opacity:1,updateWhenIdle:be,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){C(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),Zt(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(se(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Me(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=z(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof Lt?t:new Lt(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e=this.getPane().children,r=-t(-Infinity,Infinity),a=0,h=e.length,y;a<h;a++)y=e[a].style.zIndex,e[a]!==this._container&&y&&(r=t(r,+y));isFinite(r)&&(this.options.zIndex=r+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(!!this._map&&!wt){de(this._container,this.options.opacity);var t=+new Date,e=!1,r=!1;for(var a in this._tiles){var h=this._tiles[a];if(!(!h.current||!h.loaded)){var y=Math.min(1,(t-h.loaded)/200);de(h.el,y),y<1?e=!0:(h.active?r=!0:this._onOpaqueTile(h),h.active=!0)}}r&&!this._noPrune&&this._pruneTiles(),e&&($(this._fadeFrame),this._fadeFrame=bt(this._updateOpacity,this))}},_onOpaqueTile:I,_initContainer:function(){this._container||(this._container=It("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(t!==void 0){for(var r in this._levels)r=Number(r),this._levels[r].el.children.length||r===t?(this._levels[r].el.style.zIndex=e-Math.abs(t-r),this._onUpdateLevel(r)):(Zt(this._levels[r].el),this._removeTilesAtZoom(r),this._onRemoveLevel(r),delete this._levels[r]);var a=this._levels[t],h=this._map;return a||(a=this._levels[t]={},a.el=It("div","leaflet-tile-container leaflet-zoom-animated",this._container),a.el.style.zIndex=e,a.origin=h.project(h.unproject(h.getPixelOrigin()),t).round(),a.zoom=t,this._setZoomTransform(a,h.getCenter(),h.getZoom()),I(a.el.offsetWidth),this._onCreateLevel(a)),this._level=a,a}},_onUpdateLevel:I,_onRemoveLevel:I,_onCreateLevel:I,_pruneTiles:function(){if(!!this._map){var t,e,r=this._map.getZoom();if(r>this.options.maxZoom||r<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)e=this._tiles[t],e.retain=e.current;for(t in this._tiles)if(e=this._tiles[t],e.current&&!e.active){var a=e.coords;this._retainParent(a.x,a.y,a.z,a.z-5)||this._retainChildren(a.x,a.y,a.z,a.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)Zt(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,r,a){var h=Math.floor(t/2),y=Math.floor(e/2),N=r-1,Q=new Lt(+h,+y);Q.z=+N;var et=this._tileCoordsToKey(Q),st=this._tiles[et];return st&&st.active?(st.retain=!0,!0):(st&&st.loaded&&(st.retain=!0),N>a?this._retainParent(h,y,N,a):!1)},_retainChildren:function(t,e,r,a){for(var h=2*t;h<2*t+2;h++)for(var y=2*e;y<2*e+2;y++){var N=new Lt(h,y);N.z=r+1;var Q=this._tileCoordsToKey(N),et=this._tiles[Q];if(et&&et.active){et.retain=!0;continue}else et&&et.loaded&&(et.retain=!0);r+1<a&&this._retainChildren(h,y,r+1,a)}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return e.minNativeZoom!==void 0&&t<e.minNativeZoom?e.minNativeZoom:e.maxNativeZoom!==void 0&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,r,a){var h=Math.round(e);this.options.maxZoom!==void 0&&h>this.options.maxZoom||this.options.minZoom!==void 0&&h<this.options.minZoom?h=void 0:h=this._clampZoom(h);var y=this.options.updateWhenZooming&&h!==this._tileZoom;(!a||y)&&(this._tileZoom=h,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),h!==void 0&&this._update(t),r||this._pruneTiles(),this._noPrune=!!r),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var r in this._levels)this._setZoomTransform(this._levels[r],t,e)},_setZoomTransform:function(t,e,r){var a=this._map.getZoomScale(r,t.zoom),h=t.origin.multiplyBy(a).subtract(this._map._getNewPixelOrigin(e,r)).round();he?Re(t.el,h,a):Xt(t.el,h)},_resetGrid:function(){var t=this._map,e=t.options.crs,r=this._tileSize=this.getTileSize(),a=this._tileZoom,h=this._map.getPixelWorldBounds(this._tileZoom);h&&(this._globalTileRange=this._pxBoundsToTileRange(h)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],a).x/r.x),Math.ceil(t.project([0,e.wrapLng[1]],a).x/r.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],a).y/r.x),Math.ceil(t.project([e.wrapLat[1],0],a).y/r.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var e=this._map,r=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),a=e.getZoomScale(r,this._tileZoom),h=e.project(t,this._tileZoom).floor(),y=e.getSize().divideBy(a*2);return new Dt(h.subtract(y),h.add(y))},_update:function(t){var e=this._map;if(!!e){var r=this._clampZoom(e.getZoom());if(t===void 0&&(t=e.getCenter()),this._tileZoom!==void 0){var a=this._getTiledPixelBounds(t),h=this._pxBoundsToTileRange(a),y=h.getCenter(),N=[],Q=this.options.keepBuffer,et=new Dt(h.getBottomLeft().subtract([Q,-Q]),h.getTopRight().add([Q,-Q]));if(!(isFinite(h.min.x)&&isFinite(h.min.y)&&isFinite(h.max.x)&&isFinite(h.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var st in this._tiles){var ft=this._tiles[st].coords;(ft.z!==this._tileZoom||!et.contains(new Lt(ft.x,ft.y)))&&(this._tiles[st].current=!1)}if(Math.abs(r-this._tileZoom)>1){this._setView(t,r);return}for(var yt=h.min.y;yt<=h.max.y;yt++)for(var zt=h.min.x;zt<=h.max.x;zt++){var Ye=new Lt(zt,yt);if(Ye.z=this._tileZoom,!!this._isValidTile(Ye)){var pi=this._tiles[this._tileCoordsToKey(Ye)];pi?pi.current=!0:N.push(Ye)}}if(N.sort(function(ni,En){return ni.distanceTo(y)-En.distanceTo(y)}),N.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var pn=document.createDocumentFragment();for(zt=0;zt<N.length;zt++)this._addTile(N[zt],pn);this._level.el.appendChild(pn)}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var r=this._globalTileRange;if(!e.wrapLng&&(t.x<r.min.x||t.x>r.max.x)||!e.wrapLat&&(t.y<r.min.y||t.y>r.max.y))return!1}if(!this.options.bounds)return!0;var a=this._tileCoordsToBounds(t);return Nt(this.options.bounds).overlaps(a)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,r=this.getTileSize(),a=t.scaleBy(r),h=a.add(r),y=e.unproject(a,t.z),N=e.unproject(h,t.z);return[y,N]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),r=new Ut(e[0],e[1]);return this.options.noWrap||(r=this._map.wrapLatLngBounds(r)),r},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),r=new Lt(+e[0],+e[1]);return r.z=+e[2],r},_removeTile:function(t){var e=this._tiles[t];!e||(Zt(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){Pt(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=I,t.onmousemove=I,wt&&this.options.opacity<1&&de(t,this.options.opacity),Ct&&!Rt&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var r=this._getTilePos(t),a=this._tileCoordsToKey(t),h=this.createTile(this._wrapCoords(t),m(this._tileReady,this,t));this._initTile(h),this.createTile.length<2&&bt(m(this._tileReady,this,t,null,h)),Xt(h,r),this._tiles[a]={el:h,coords:t,current:!0},e.appendChild(h),this.fire("tileloadstart",{tile:h,coords:t})},_tileReady:function(t,e,r){e&&this.fire("tileerror",{error:e,tile:r,coords:t});var a=this._tileCoordsToKey(t);r=this._tiles[a],!!r&&(r.loaded=+new Date,this._map._fadeAnimated?(de(r.el,0),$(this._fadeFrame),this._fadeFrame=bt(this._updateOpacity,this)):(r.active=!0,this._pruneTiles()),e||(Pt(r.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:r.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),wt||!this._map._fadeAnimated?bt(this._pruneTiles,this):setTimeout(m(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new Lt(this._wrapX?X(t.x,this._wrapX):t.x,this._wrapY?X(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new Dt(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function xr(t){return new Yi(t)}var Oi=Yi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,e=C(this,e),e.detectRetina&&Ie&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),typeof e.subdomains=="string"&&(e.subdomains=e.subdomains.split("")),Ct||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&e===void 0&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var r=document.createElement("img");return St(r,"load",m(this._tileOnLoad,this,e,r)),St(r,"error",m(this._tileOnError,this,e,r)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),r.alt="",r.setAttribute("role","presentation"),r.src=this.getTileUrl(t),r},getTileUrl:function(t){var e={r:Ie?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=r),e["-y"]=r}return b(this._url,c(e,this.options))},_tileOnLoad:function(t,e){wt?setTimeout(m(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,r){var a=this.options.errorTileUrl;a&&e.getAttribute("src")!==a&&(e.src=a),t(r,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,r=this.options.zoomReverse,a=this.options.zoomOffset;return r&&(t=e-t),t+a},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&(e=this._tiles[t].el,e.onload=I,e.onerror=I,e.complete||(e.src=O,Zt(e),delete this._tiles[t]))},_removeTile:function(t){var e=this._tiles[t];if(!!e)return Wt||e.el.setAttribute("src",O),Yi.prototype._removeTile.call(this,t)},_tileReady:function(t,e,r){if(!(!this._map||r&&r.getAttribute("src")===O))return Yi.prototype._tileReady.call(this,t,e,r)}});function jn(t,e){return new Oi(t,e)}var Gn=Oi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var r=c({},this.defaultWmsParams);for(var a in e)a in this.options||(r[a]=e[a]);e=C(this,e);var h=e.detectRetina&&Ie?2:1,y=this.getTileSize();r.width=y.x*h,r.height=y.y*h,this.wmsParams=r},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,Oi.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),r=this._crs,a=oe(r.project(e[0]),r.project(e[1])),h=a.min,y=a.max,N=(this._wmsVersion>=1.3&&this._crs===In?[h.y,h.x,y.y,y.x]:[h.x,h.y,y.x,y.y]).join(","),Q=Oi.prototype.getTileUrl.call(this,t);return Q+R(this.wmsParams,Q,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+N},setParams:function(t,e){return c(this.wmsParams,t),e||this.redraw(),this}});function Mr(t,e){return new Gn(t,e)}Oi.WMS=Gn,jn.wms=Mr;var Ae=De.extend({options:{padding:.1,tolerance:0},initialize:function(t){C(this,t),Z(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&Pt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var r=this._map.getZoomScale(e,this._zoom),a=Ce(this._container),h=this._map.getSize().multiplyBy(.5+this.options.padding),y=this._map.project(this._center,e),N=this._map.project(t,e),Q=N.subtract(y),et=h.multiplyBy(-r).add(a).add(h).subtract(Q);he?Re(this._container,et,r):Xt(this._container,et)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),r=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new Dt(r,r.add(e.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Fn=Ae.extend({getEvents:function(){var t=Ae.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ae.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");St(t,"mousemove",this._onMouseMove,this),St(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),St(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){$(this._redrawRequest),delete this._ctx,Zt(this._container),Kt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var e in this._layers)t=this._layers[e],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ae.prototype._update.call(this);var t=this._bounds,e=this._container,r=t.getSize(),a=Ie?2:1;Xt(e,t.min),e.width=a*r.x,e.height=a*r.y,e.style.width=r.x+"px",e.style.height=r.y+"px",Ie&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Ae.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[Z(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,r=e.next,a=e.prev;r?r.prev=a:this._drawLast=a,a?a.next=r:this._drawFirst=r,delete t._order,delete this._layers[Z(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var e=t.options.dashArray.split(/[, ]+/),r=[],a,h;for(h=0;h<e.length;h++){if(a=Number(e[h]),isNaN(a))return;r.push(a)}t.options._dashArray=r}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){!this._map||(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||bt(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Dt,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var r=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,r.x,r.y),this._ctx.clip()}this._drawing=!0;for(var a=this._drawFirst;a;a=a.next)t=a.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(!!this._drawing){var r,a,h,y,N=t._parts,Q=N.length,et=this._ctx;if(!!Q){for(et.beginPath(),r=0;r<Q;r++){for(a=0,h=N[r].length;a<h;a++)y=N[r][a],et[a?"lineTo":"moveTo"](y.x,y.y);e&&et.closePath()}this._fillStroke(et,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var e=t._point,r=this._ctx,a=Math.max(Math.round(t._radius),1),h=(Math.max(Math.round(t._radiusY),1)||a)/a;h!==1&&(r.save(),r.scale(1,h)),r.beginPath(),r.arc(e.x,e.y/h,a,0,Math.PI*2,!1),h!==1&&r.restore(),this._fillStroke(r,t)}},_fillStroke:function(t,e){var r=e.options;r.fill&&(t.globalAlpha=r.fillOpacity,t.fillStyle=r.fillColor||r.color,t.fill(r.fillRule||"evenodd")),r.stroke&&r.weight!==0&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=r.opacity,t.lineWidth=r.weight,t.strokeStyle=r.color,t.lineCap=r.lineCap,t.lineJoin=r.lineJoin,t.stroke())},_onClick:function(t){for(var e=this._map.mouseEventToLayerPoint(t),r,a,h=this._drawFirst;h;h=h.next)r=h.layer,r.options.interactive&&r._containsPoint(e)&&(!(t.type==="click"||t.type!=="preclick")||!this._map._draggableMoved(r))&&(a=r);a&&(u(t),this._fireEvent([a],t))},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(Ht(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var r,a,h=this._drawFirst;h;h=h.next)r=h.layer,r.options.interactive&&r._containsPoint(e)&&(a=r);a!==this._hoveredLayer&&(this._handleMouseOut(t),a&&(Pt(this._container,"leaflet-interactive"),this._fireEvent([a],t,"mouseover"),this._hoveredLayer=a)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(m(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,e,r){this._map._fireDOMEvent(e,r||e.type,t)},_bringToFront:function(t){var e=t._order;if(!!e){var r=e.next,a=e.prev;if(r)r.prev=a;else return;a?a.next=r:r&&(this._drawFirst=r),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t)}},_bringToBack:function(t){var e=t._order;if(!!e){var r=e.next,a=e.prev;if(a)a.next=r;else return;r?r.prev=a:a&&(this._drawLast=a),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t)}}});function Un(t){return $i?new Fn(t):null}var Xi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),Pr={_initContainer:function(){this._container=It("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ae.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=Xi("shape");Pt(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=Xi("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[Z(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;Zt(e),t.removeInteractiveTarget(e),delete this._layers[Z(t)]},_updateStyle:function(t){var e=t._stroke,r=t._fill,a=t.options,h=t._container;h.stroked=!!a.stroke,h.filled=!!a.fill,a.stroke?(e||(e=t._stroke=Xi("stroke")),h.appendChild(e),e.weight=a.weight+"px",e.color=a.color,e.opacity=a.opacity,a.dashArray?e.dashStyle=B(a.dashArray)?a.dashArray.join(" "):a.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=a.lineCap.replace("butt","flat"),e.joinstyle=a.lineJoin):e&&(h.removeChild(e),t._stroke=null),a.fill?(r||(r=t._fill=Xi("fill")),h.appendChild(r),r.color=a.fillColor||a.color,r.opacity=a.fillOpacity):r&&(h.removeChild(r),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),r=Math.round(t._radius),a=Math.round(t._radiusY||r);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+r+","+a+" 0,"+65535*360)},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){se(t._container)},_bringToBack:function(t){Me(t._container)}},dn=we?Xi:ut,Ki=Ae.extend({getEvents:function(){var t=Ae.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=dn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=dn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Zt(this._container),Kt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ae.prototype._update.call(this);var t=this._bounds,e=t.getSize(),r=this._container;(!this._svgSize||!this._svgSize.equals(e))&&(this._svgSize=e,r.setAttribute("width",e.x),r.setAttribute("height",e.y)),Xt(r,t.min),r.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=dn("path");t.options.className&&Pt(e,t.options.className),t.options.interactive&&Pt(e,"leaflet-interactive"),this._updateStyle(t),this._layers[Z(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){Zt(t._path),t.removeInteractiveTarget(t._path),delete this._layers[Z(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,r=t.options;!e||(r.stroke?(e.setAttribute("stroke",r.color),e.setAttribute("stroke-opacity",r.opacity),e.setAttribute("stroke-width",r.weight),e.setAttribute("stroke-linecap",r.lineCap),e.setAttribute("stroke-linejoin",r.lineJoin),r.dashArray?e.setAttribute("stroke-dasharray",r.dashArray):e.removeAttribute("stroke-dasharray"),r.dashOffset?e.setAttribute("stroke-dashoffset",r.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),r.fill?(e.setAttribute("fill",r.fillColor||r.color),e.setAttribute("fill-opacity",r.fillOpacity),e.setAttribute("fill-rule",r.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,gt(t._parts,e))},_updateCircle:function(t){var e=t._point,r=Math.max(Math.round(t._radius),1),a=Math.max(Math.round(t._radiusY),1)||r,h="a"+r+","+a+" 0 1,0 ",y=t._empty()?"M0 0":"M"+(e.x-r)+","+e.y+h+r*2+",0 "+h+-r*2+",0 ";this._setPath(t,y)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){se(t._path)},_bringToBack:function(t){Me(t._path)}});we&&Ki.include(Pr);function Hn(t){return Xe||we?new Ki(t):null}P.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var e=this._paneRenderers[t];return e===void 0&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&Un(t)||Hn(t)}});var Vn=Ci.extend({initialize:function(t,e){Ci.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=Nt(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Er(t,e){return new Vn(t,e)}Ki.create=dn,Ki.pointsToPath=gt,Ve.geometryToLayer=kn,Ve.coordsToLatLng=xn,Ve.coordsToLatLngs=hn,Ve.latLngToCoords=Mn,Ve.latLngsToCoords=un,Ve.getFeature=Si,Ve.asFeature=cn,P.mergeOptions({boxZoom:!0});var Wn=At.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){St(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Kt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Zt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Se(),wi(),this._startPoint=this._map.mouseEventToContainerPoint(t),St(document,{contextmenu:Te,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=It("div","leaflet-zoom-box",this._container),Pt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new Dt(this._point,this._startPoint),r=e.getSize();Xt(this._box,e.min),this._box.style.width=r.x+"px",this._box.style.height=r.y+"px"},_finish:function(){this._moved&&(Zt(this._box),Ht(this._container,"leaflet-crosshair")),ti(),hi(),Kt(document,{contextmenu:Te,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(m(this._resetState,this),0);var e=new Ut(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){t.keyCode===27&&this._finish()}});P.addInitHook("addHandler","boxZoom",Wn),P.mergeOptions({doubleClickZoom:!0});var Yn=At.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,r=e.getZoom(),a=e.options.zoomDelta,h=t.originalEvent.shiftKey?r-a:r+a;e.options.doubleClickZoom==="center"?e.setZoom(h):e.setZoomAround(t.containerPoint,h)}});P.addInitHook("addHandler","doubleClickZoom",Yn),P.mergeOptions({dragging:!0,inertia:!Rt,inertiaDeceleration:3400,inertiaMaxSpeed:Infinity,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Xn=At.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new ie(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}Pt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ht(this._map._container,"leaflet-grab"),Ht(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=Nt(this._map.options.maxBounds);this._offsetLimit=oe(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,r=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(r),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),r=this._initialWorldOffset,a=this._draggable._newPos.x,h=(a-e+r)%t+e-r,y=(a+e+r)%t-e-r,N=Math.abs(h+r)<Math.abs(y+r)?h:y;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=N},_onDragEnd:function(t){var e=this._map,r=e.options,a=!r.inertia||this._times.length<2;if(e.fire("dragend",t),a)e.fire("moveend");else{this._prunePositions(+new Date);var h=this._lastPos.subtract(this._positions[0]),y=(this._lastTime-this._times[0])/1e3,N=r.easeLinearity,Q=h.multiplyBy(N/y),et=Q.distanceTo([0,0]),st=Math.min(r.inertiaMaxSpeed,et),ft=Q.multiplyBy(st/et),yt=st/(r.inertiaDeceleration*N),zt=ft.multiplyBy(-yt/2).round();!zt.x&&!zt.y?e.fire("moveend"):(zt=e._limitOffset(zt,e.options.maxBounds),bt(function(){e.panBy(zt,{duration:yt,easeLinearity:N,noMoveStart:!0,animate:!0})}))}}});P.addInitHook("addHandler","dragging",Xn),P.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Kn=At.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),St(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Kt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,r=t.scrollTop||e.scrollTop,a=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(a,r)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e=this._panKeys={},r=this.keyCodes,a,h;for(a=0,h=r.left.length;a<h;a++)e[r.left[a]]=[-1*t,0];for(a=0,h=r.right.length;a<h;a++)e[r.right[a]]=[t,0];for(a=0,h=r.down.length;a<h;a++)e[r.down[a]]=[0,t];for(a=0,h=r.up.length;a<h;a++)e[r.up[a]]=[0,-1*t]},_setZoomDelta:function(t){var e=this._zoomKeys={},r=this.keyCodes,a,h;for(a=0,h=r.zoomIn.length;a<h;a++)e[r.zoomIn[a]]=t;for(a=0,h=r.zoomOut.length;a<h;a++)e[r.zoomOut[a]]=-t},_addHooks:function(){St(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Kt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=t.keyCode,r=this._map,a;if(e in this._panKeys)(!r._panAnim||!r._panAnim._inProgress)&&(a=this._panKeys[e],t.shiftKey&&(a=Tt(a).multiplyBy(3)),r.panBy(a),r.options.maxBounds&&r.panInsideBounds(r.options.maxBounds));else if(e in this._zoomKeys)r.setZoom(r.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[e]);else if(e===27&&r._popup&&r._popup.options.closeOnEscapeKey)r.closePopup();else return;Te(t)}}});P.addInitHook("addHandler","keyboard",Kn),P.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var qn=At.extend({addHooks:function(){St(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Kt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=o(t),r=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var a=Math.max(r-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(m(this._performZoom,this),a),Te(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),r=this._map.options.zoomSnap||0;t._stop();var a=this._delta/(this._map.options.wheelPxPerZoomLevel*4),h=4*Math.log(2/(1+Math.exp(-Math.abs(a))))/Math.LN2,y=r?Math.ceil(h/r)*r:h,N=t._limitZoom(e+(this._delta>0?y:-y))-e;this._delta=0,this._startTime=null,!!N&&(t.options.scrollWheelZoom==="center"?t.setZoom(e+N):t.setZoomAround(this._lastMousePos,e+N))}});P.addInitHook("addHandler","scrollWheelZoom",qn),P.mergeOptions({tap:!0,tapTolerance:15});var Jn=At.extend({addHooks:function(){St(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Kt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(!!t.touches){if(ve(t),this._fireClick=!0,t.touches.length>1){this._fireClick=!1,clearTimeout(this._holdTimeout);return}var e=t.touches[0],r=e.target;this._startPos=this._newPos=new Lt(e.clientX,e.clientY),r.tagName&&r.tagName.toLowerCase()==="a"&&Pt(r,"leaflet-active"),this._holdTimeout=setTimeout(m(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),this._simulateEvent("mousedown",e),St(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),Kt(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],r=e.target;r&&r.tagName&&r.tagName.toLowerCase()==="a"&&Ht(r,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new Lt(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var r=document.createEvent("MouseEvents");r._simulated=!0,e.target._simulatedClick=!0,r.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(r)}});Yt&&(!_e||$t)&&P.addInitHook("addHandler","tap",Jn),P.mergeOptions({touchZoom:Yt&&!Rt,bounceAtZoomLimits:!0});var $n=At.extend({addHooks:function(){Pt(this._map._container,"leaflet-touch-zoom"),St(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ht(this._map._container,"leaflet-touch-zoom"),Kt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(!(!t.touches||t.touches.length!==2||e._animatingZoom||this._zooming)){var r=e.mouseEventToContainerPoint(t.touches[0]),a=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),e.options.touchZoom!=="center"&&(this._pinchStartLatLng=e.containerPointToLatLng(r.add(a)._divideBy(2))),this._startDist=r.distanceTo(a),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),St(document,"touchmove",this._onTouchMove,this),St(document,"touchend",this._onTouchEnd,this),ve(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var e=this._map,r=e.mouseEventToContainerPoint(t.touches[0]),a=e.mouseEventToContainerPoint(t.touches[1]),h=r.distanceTo(a)/this._startDist;if(this._zoom=e.getScaleZoom(h,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&h<1||this._zoom>e.getMaxZoom()&&h>1)&&(this._zoom=e._limitZoom(this._zoom)),e.options.touchZoom==="center"){if(this._center=this._startLatLng,h===1)return}else{var y=r._add(a)._divideBy(2)._subtract(this._centerPoint);if(h===1&&y.x===0&&y.y===0)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(y),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),$(this._animRequest);var N=m(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=bt(N,this,!0),ve(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,$(this._animRequest),Kt(document,"touchmove",this._onTouchMove,this),Kt(document,"touchend",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});P.addInitHook("addHandler","touchZoom",$n),P.BoxZoom=Wn,P.DoubleClickZoom=Yn,P.Drag=Xn,P.Keyboard=Kn,P.ScrollWheelZoom=qn,P.Tap=Jn,P.TouchZoom=$n,s.version=f,s.Control=W,s.control=U,s.Browser=Di,s.Evented=ce,s.Mixin=Vt,s.Util=xt,s.Class=Bt,s.Handler=At,s.extend=c,s.bind=m,s.stamp=Z,s.setOptions=C,s.DomEvent=M,s.DomUtil=on,s.PosAnimation=x,s.Draggable=ie,s.LineUtil=rr,s.PolyUtil=or,s.Point=Lt,s.point=Tt,s.Bounds=Dt,s.bounds=oe,s.Transformation=K,s.transformation=at,s.Projection=ar,s.LatLng=Et,s.latLng=q,s.LatLngBounds=Ut,s.latLngBounds=Nt,s.CRS=d,s.GeoJSON=Ve,s.geoJSON=An,s.geoJson=gr,s.Layer=De,s.LayerGroup=Mi,s.layerGroup=hr,s.FeatureGroup=Pi,s.featureGroup=ur,s.ImageOverlay=fn,s.imageOverlay=vr,s.VideoOverlay=zn,s.videoOverlay=yr,s.SVGOverlay=Nn,s.svgOverlay=Lr,s.DivOverlay=We,s.Popup=Ti,s.popup=br,s.Tooltip=Bi,s.tooltip=wr,s.Icon=Ei,s.icon=cr,s.DivIcon=Zn,s.divIcon=kr,s.Marker=sn,s.marker=fr,s.TileLayer=Oi,s.tileLayer=jn,s.GridLayer=Yi,s.gridLayer=xr,s.SVG=Ki,s.svg=Hn,s.Renderer=Ae,s.Canvas=Fn,s.canvas=Un,s.Path=ii,s.CircleMarker=ln,s.circleMarker=dr,s.Circle=wn,s.circle=pr,s.Polyline=He,s.polyline=mr,s.Polygon=Ci,s.polygon=_r,s.Rectangle=Vn,s.rectangle=Er,s.Map=P,s.map=H;var Cr=window.L;s.noConflict=function(){return window.L=Cr,this},window.L=s})},88014:function(k,E,s){"use strict";s.d(E,{Z:function(){return g}});var f=s(19756),c=s(22122),v=s(63349),m=s(41788),S=s(96156),Z=s(45243),z=s(67294),X=s(51299),I=function(b){(0,m.Z)(B,b);function B(O){var A;return A=b.call(this,O)||this,(0,S.Z)((0,v.Z)(A),"leafletElement",void 0),A.leafletElement=A.createLeafletElement(A.props),A}var G=B.prototype;return G.createLeafletElement=function(A){throw new Error("createLeafletElement() must be implemented")},G.updateLeafletElement=function(A,V){V.position!==A.position&&this.leafletElement.setPosition(V.position)},G.componentDidMount=function(){this.leafletElement.addTo(this.props.leaflet.map)},G.componentDidUpdate=function(A){this.updateLeafletElement(A,this.props)},G.componentWillUnmount=function(){this.leafletElement.remove()},G.render=function(){return null},B}(z.Component),T=function(b){(0,m.Z)(B,b);function B(){for(var O,A=arguments.length,V=new Array(A),J=0;J<A;J++)V[J]=arguments[J];return O=b.call.apply(b,[this].concat(V))||this,(0,S.Z)((0,v.Z)(O),"contextValue",void 0),(0,S.Z)((0,v.Z)(O),"layer",void 0),O}var G=B.prototype;return G.componentDidUpdate=function(A){var V=A.checked;this.props.leaflet.map!=null&&(this.props.checked===!0&&(V==null||V===!1)?this.props.leaflet.map.addLayer(this.layer):V===!0&&(this.props.checked==null||this.props.checked===!1)&&this.props.leaflet.map.removeLayer(this.layer))},G.componentWillUnmount=function(){this.props.removeLayerControl(this.layer)},G.addLayer=function(){throw new Error("Must be implemented in extending class")},G.removeLayer=function(A){this.props.removeLayer(A)},G.render=function(){var A=this.props.children;return A?z.createElement(X.UO,{value:this.contextValue},A):null},B}(z.Component),j=function(b){(0,m.Z)(B,b);function B(G){var O;return O=b.call(this,G)||this,(0,S.Z)((0,v.Z)(O),"addLayer",function(A){O.layer=A;var V=O.props,J=V.addBaseLayer,it=V.checked,dt=V.name;J(A,dt,it)}),O.contextValue=(0,c.Z)((0,c.Z)({},G.leaflet),{},{layerContainer:{addLayer:O.addLayer.bind((0,v.Z)(O)),removeLayer:O.removeLayer.bind((0,v.Z)(O))}}),O}return B}(T),F=function(b){(0,m.Z)(B,b);function B(G){var O;return O=b.call(this,G)||this,(0,S.Z)((0,v.Z)(O),"addLayer",function(A){O.layer=A;var V=O.props,J=V.addOverlay,it=V.checked,dt=V.name;J(A,dt,it)}),O.contextValue=(0,c.Z)((0,c.Z)({},G.leaflet),{},{layerContainer:{addLayer:O.addLayer.bind((0,v.Z)(O)),removeLayer:O.removeLayer.bind((0,v.Z)(O))}}),O}return B}(T),C=function(b){(0,m.Z)(B,b);function B(O){var A;return A=b.call(this,O)||this,(0,S.Z)((0,v.Z)(A),"controlProps",void 0),A.controlProps={addBaseLayer:A.addBaseLayer.bind((0,v.Z)(A)),addOverlay:A.addOverlay.bind((0,v.Z)(A)),leaflet:O.leaflet,removeLayer:A.removeLayer.bind((0,v.Z)(A)),removeLayerControl:A.removeLayerControl.bind((0,v.Z)(A))},A}var G=B.prototype;return G.createLeafletElement=function(A){var V=A.children,J=(0,f.Z)(A,["children"]);return new Z.Control.Layers(void 0,void 0,J)},G.updateLeafletElement=function(A,V){b.prototype.updateLeafletElement.call(this,A,V),V.collapsed!==A.collapsed&&(V.collapsed===!0?this.leafletElement.collapse():this.leafletElement.expand())},G.componentWillUnmount=function(){var A=this;setTimeout(function(){b.prototype.componentWillUnmount.call(A)},0)},G.addBaseLayer=function(A,V,J){J===void 0&&(J=!1),J&&this.props.leaflet.map!=null&&this.props.leaflet.map.addLayer(A),this.leafletElement.addBaseLayer(A,V)},G.addOverlay=function(A,V,J){J===void 0&&(J=!1),J&&this.props.leaflet.map!=null&&this.props.leaflet.map.addLayer(A),this.leafletElement.addOverlay(A,V)},G.removeLayer=function(A){this.props.leaflet.map!=null&&this.props.leaflet.map.removeLayer(A)},G.removeLayerControl=function(A){this.leafletElement.removeLayer(A)},G.render=function(){var A=this,V=z.Children.map(this.props.children,function(J){return J?(0,z.cloneElement)(J,A.controlProps):null});return z.createElement(z.Fragment,null,V)},B}(I),R=(0,X.K5)(C);R.BaseLayer=j,R.Overlay=F;var g=R},41004:function(k,E,s){"use strict";s.d(E,{Z:function(){return B}});var f=s(22122),c=s(19756),v=s(63349),m=s(41788),S=s(96156),Z=s(45243),z=s(67294),X=s(51299),I=s(59827),T=function(O){return O===void 0&&(O=""),O.split(" ").filter(Boolean)},j=function(O,A){T(A).forEach(function(V){Z.DomUtil.addClass(O,V)})},F=function(O,A){T(A).forEach(function(V){Z.DomUtil.removeClass(O,V)})},C=function(G,O,A){G!=null&&A!==O&&(O!=null&&O.length>0&&F(G,O),A!=null&&A.length>0&&j(G,A))};function R(G){for(var O=arguments.length,A=new Array(O>1?O-1:0),V=1;V<O;V++)A[V-1]=arguments[V];return Object.keys(G).reduce(function(J,it){return A.indexOf(it)===-1&&(J[it]=G[it]),J},{})}var g=["children","className","id","style","useFlyTo","whenReady"],b=function(O){return Array.isArray(O)?[O[0],O[1]]:[O.lat,O.lon?O.lon:O.lng]},B=function(G){(0,m.Z)(O,G);function O(V){var J;return J=G.call(this,V)||this,(0,S.Z)((0,v.Z)(J),"className",void 0),(0,S.Z)((0,v.Z)(J),"contextValue",void 0),(0,S.Z)((0,v.Z)(J),"container",void 0),(0,S.Z)((0,v.Z)(J),"viewport",{center:void 0,zoom:void 0}),(0,S.Z)((0,v.Z)(J),"_ready",!1),(0,S.Z)((0,v.Z)(J),"_updating",!1),(0,S.Z)((0,v.Z)(J),"onViewportChange",function(){var it=J.leafletElement.getCenter();J.viewport={center:it?[it.lat,it.lng]:void 0,zoom:J.leafletElement.getZoom()},J.props.onViewportChange&&!J._updating&&J.props.onViewportChange(J.viewport)}),(0,S.Z)((0,v.Z)(J),"onViewportChanged",function(){J.props.onViewportChanged&&!J._updating&&J.props.onViewportChanged(J.viewport)}),(0,S.Z)((0,v.Z)(J),"bindContainer",function(it){J.container=it}),J.className=V.className,J}var A=O.prototype;return A.createLeafletElement=function(J){var it=J.viewport,dt=(0,c.Z)(J,["viewport"]);return it&&(it.center&&(dt.center=it.center),typeof it.zoom=="number"&&(dt.zoom=it.zoom)),new Z.Map(this.container,dt)},A.updateLeafletElement=function(J,it){this._updating=!0;var dt=it.bounds,bt=it.boundsOptions,$=it.boxZoom,xt=it.center,Bt=it.className,Gt=it.doubleClickZoom,Ot=it.dragging,ce=it.keyboard,Lt=it.maxBounds,Be=it.scrollWheelZoom,Tt=it.tap,Dt=it.touchZoom,oe=it.useFlyTo,Ut=it.viewport,Nt=it.zoom;if(C(this.container,J.className,Bt),Ut&&Ut!==J.viewport){var Et=Ut.center?Ut.center:xt,q=Ut.zoom==null?Nt:Ut.zoom;oe===!0?this.leafletElement.flyTo(Et,q,this.getZoomPanOptions(it)):this.leafletElement.setView(Et,q,this.getZoomPanOptions(it))}else xt&&this.shouldUpdateCenter(xt,J.center)?oe===!0?this.leafletElement.flyTo(xt,Nt,this.getZoomPanOptions(it)):this.leafletElement.setView(xt,Nt,this.getZoomPanOptions(it)):typeof Nt=="number"&&Nt!==J.zoom&&(J.zoom==null?this.leafletElement.setView(xt,Nt,this.getZoomPanOptions(it)):this.leafletElement.setZoom(Nt,this.getZoomPanOptions(it)));Lt&&this.shouldUpdateBounds(Lt,J.maxBounds)&&this.leafletElement.setMaxBounds(Lt),dt&&(this.shouldUpdateBounds(dt,J.bounds)||bt!==J.boundsOptions)&&(oe===!0?this.leafletElement.flyToBounds(dt,this.getFitBoundsOptions(it)):this.leafletElement.fitBounds(dt,this.getFitBoundsOptions(it))),$!==J.boxZoom&&($===!0?this.leafletElement.boxZoom.enable():this.leafletElement.boxZoom.disable()),Gt!==J.doubleClickZoom&&(Gt===!0||typeof Gt=="string"?(this.leafletElement.options.doubleClickZoom=Gt,this.leafletElement.doubleClickZoom.enable()):this.leafletElement.doubleClickZoom.disable()),Ot!==J.dragging&&(Ot===!0?this.leafletElement.dragging.enable():this.leafletElement.dragging.disable()),ce!==J.keyboard&&(ce===!0?this.leafletElement.keyboard.enable():this.leafletElement.keyboard.disable()),Be!==J.scrollWheelZoom&&(Be===!0||typeof Be=="string"?(this.leafletElement.options.scrollWheelZoom=Be,this.leafletElement.scrollWheelZoom.enable()):this.leafletElement.scrollWheelZoom.disable()),Tt!==J.tap&&(Tt===!0?this.leafletElement.tap.enable():this.leafletElement.tap.disable()),Dt!==J.touchZoom&&(Dt===!0||typeof Dt=="string"?(this.leafletElement.options.touchZoom=Dt,this.leafletElement.touchZoom.enable()):this.leafletElement.touchZoom.disable()),this._updating=!1},A.getZoomPanOptions=function(J){var it=J.animate,dt=J.duration,bt=J.easeLinearity,$=J.noMoveStart;return{animate:it,duration:dt,easeLinearity:bt,noMoveStart:$}},A.getFitBoundsOptions=function(J){var it=this.getZoomPanOptions(J);return(0,f.Z)((0,f.Z)({},it),J.boundsOptions)},A.componentDidMount=function(){var J=R.apply(void 0,[this.props].concat(g));this.leafletElement=this.createLeafletElement(J),this.leafletElement.on("move",this.onViewportChange),this.leafletElement.on("moveend",this.onViewportChanged),J.bounds!=null&&this.leafletElement.fitBounds(J.bounds,this.getFitBoundsOptions(J)),this.contextValue={layerContainer:this.leafletElement,map:this.leafletElement},G.prototype.componentDidMount.call(this),this.forceUpdate()},A.componentDidUpdate=function(J){this._ready===!1&&(this._ready=!0,this.props.whenReady&&this.leafletElement.whenReady(this.props.whenReady)),G.prototype.componentDidUpdate.call(this,J),this.updateLeafletElement(J,this.props)},A.componentWillUnmount=function(){G.prototype.componentWillUnmount.call(this),this.leafletElement.off("move",this.onViewportChange),this.leafletElement.off("moveend",this.onViewportChanged),this.props.preferCanvas===!0?(this.leafletElement._initEvents(!0),this.leafletElement._stop()):this.leafletElement.remove()},A.shouldUpdateCenter=function(J,it){return it?(J=b(J),it=b(it),J[0]!==it[0]||J[1]!==it[1]):!0},A.shouldUpdateBounds=function(J,it){return it?!(0,Z.latLngBounds)(J).equals((0,Z.latLngBounds)(it)):!0},A.render=function(){return z.createElement("div",{className:this.className,id:this.props.id,ref:this.bindContainer,style:this.props.style},this.contextValue?z.createElement(X.UO,{value:this.contextValue},this.props.children):null)},O}(I.Z)},59827:function(k,E,s){"use strict";s.d(E,{Z:function(){return z}});var f=s(22122),c=s(63349),v=s(41788),m=s(96156),S=s(67294),Z=/^on(.+)$/i,z=function(X){(0,v.Z)(I,X);function I(j){var F;return F=X.call(this,j)||this,(0,m.Z)((0,c.Z)(F),"_leafletEvents",void 0),(0,m.Z)((0,c.Z)(F),"leafletElement",void 0),F._leafletEvents=F.extractLeafletEvents(j),F}var T=I.prototype;return T.componentDidMount=function(){this.bindLeafletEvents(this._leafletEvents)},T.componentDidUpdate=function(F){this._leafletEvents=this.bindLeafletEvents(this.extractLeafletEvents(this.props),this._leafletEvents)},T.componentWillUnmount=function(){var F=this,C=this.leafletElement;!C||Object.keys(this._leafletEvents).forEach(function(R){C.off(R,F._leafletEvents[R])})},T.extractLeafletEvents=function(F){return Object.keys(F).reduce(function(C,R){if(Z.test(R)&&F[R]!=null){var g=R.replace(Z,function(b,B){return B.toLowerCase()});C[g]=F[R]}return C},{})},T.bindLeafletEvents=function(F,C){F===void 0&&(F={}),C===void 0&&(C={});var R=this.leafletElement;if(R==null||R.on==null)return{};var g=(0,f.Z)({},C);return Object.keys(C).forEach(function(b){(F[b]==null||C[b]!==F[b])&&(delete g[b],R.off(b,C[b]))}),Object.keys(F).forEach(function(b){(C[b]==null||F[b]!==C[b])&&(g[b]=F[b],R.on(b,F[b]))}),g},T.fireLeafletEvent=function(F,C){var R=this.leafletElement;R&&R.fire(F,C)},I}(S.Component)},3263:function(k,E,s){"use strict";s.d(E,{Z:function(){return R}});var f=s(41788),c=s(45243),v=s(51299),m=s(22122),S=s(5991),Z=s(63349),z=s(96156),X=s(67294),I=s(59827),T=function(g){(0,f.Z)(b,g);function b(){return g.apply(this,arguments)||this}var B=b.prototype;return B.getOptions=function(O){return O.pane!=null?O:O.leaflet!=null&&O.leaflet.pane!=null?(0,m.Z)((0,m.Z)({},O),{},{pane:O.leaflet.pane}):O},b}(I.Z),j=function(g){(0,f.Z)(b,g);function b(G){var O;return O=g.call(this,G)||this,(0,z.Z)((0,Z.Z)(O),"contextValue",void 0),(0,z.Z)((0,Z.Z)(O),"leafletElement",void 0),O.leafletElement=O.createLeafletElement(G),O}var B=b.prototype;return B.createLeafletElement=function(O){throw new Error("createLeafletElement() must be implemented")},B.updateLeafletElement=function(O,A){},B.componentDidMount=function(){g.prototype.componentDidMount.call(this),this.layerContainer.addLayer(this.leafletElement)},B.componentDidUpdate=function(O){if(g.prototype.componentDidUpdate.call(this,O),this.props.attribution!==O.attribution){var A=this.props.leaflet.map;A!=null&&A.attributionControl!=null&&(A.attributionControl.removeAttribution(O.attribution),A.attributionControl.addAttribution(this.props.attribution))}this.updateLeafletElement(O,this.props)},B.componentWillUnmount=function(){g.prototype.componentWillUnmount.call(this),this.layerContainer.removeLayer(this.leafletElement)},B.render=function(){var O=this.props.children;return O==null?null:this.contextValue==null?X.createElement(X.Fragment,null,O):X.createElement(v.UO,{value:this.contextValue},O)},(0,S.Z)(b,[{key:"layerContainer",get:function(){return this.props.leaflet.layerContainer||this.props.leaflet.map}}]),b}(T),F=function(g){(0,f.Z)(b,g);function b(){return g.apply(this,arguments)||this}var B=b.prototype;return B.createLeafletElement=function(O){return new c.GridLayer(this.getOptions(O))},B.updateLeafletElement=function(O,A){var V=A.opacity,J=A.zIndex;V!==O.opacity&&this.leafletElement.setOpacity(V),J!==O.zIndex&&this.leafletElement.setZIndex(J)},B.getOptions=function(O){var A=(0,m.Z)({},g.prototype.getOptions.call(this,O)),V=O.leaflet.map;return V!=null&&(A.maxZoom==null&&V.options.maxZoom!=null&&(A.maxZoom=V.options.maxZoom),A.minZoom==null&&V.options.minZoom!=null&&(A.minZoom=V.options.minZoom)),A},B.render=function(){return null},b}(j),C=function(g){(0,f.Z)(b,g);function b(){return g.apply(this,arguments)||this}var B=b.prototype;return B.createLeafletElement=function(O){return new c.TileLayer(O.url,this.getOptions(O))},B.updateLeafletElement=function(O,A){g.prototype.updateLeafletElement.call(this,O,A),A.url!==O.url&&this.leafletElement.setUrl(A.url)},b}(F),R=(0,v.K5)(C)},51299:function(k,E,s){"use strict";s.d(E,{UO:function(){return X},K5:function(){return I}});var f=s(22122),c=s(8679),v=s.n(c),m=s(67294),S=(0,m.createContext)({}),Z=function(){return useContext(S)},z=S.Consumer,X=S.Provider,I=function(j){var F=function(b,B){return m.createElement(z,null,function(G){return m.createElement(j,(0,f.Z)({},b,{leaflet:G,ref:B}))})},C=j.displayName||j.name||"Component";F.displayName="Leaflet("+C+")";var R=(0,m.forwardRef)(F);return v()(R,j),R}}}]);
