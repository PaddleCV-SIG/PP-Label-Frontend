(self.webpackChunkpp_labeling_frontend=self.webpackChunkpp_labeling_frontend||[]).push([[43],{57719:function(){},41412:function(){},86743:function(At,sr,U){"use strict";var qe=U(22122),N=U(28481),I=U(67294),Je=U(71577),Y=U(32413),H=U(73577);function D(vt){return!!(vt&&!!vt.then)}var st=function(Ae){var Xe=I.useRef(!1),Et=I.useRef(),Jt=(0,H.Z)(),Gt=I.useState(!1),Rr=(0,N.Z)(Gt,2),or=Rr[0],bt=Rr[1];I.useEffect(function(){var P;if(Ae.autoFocus){var _e=Et.current;P=setTimeout(function(){return _e.focus()})}return function(){P&&clearTimeout(P)}},[]);var lr=function(_e){var se=Ae.close;!D(_e)||(bt(!0),_e.then(function(){Jt()||bt(!1),se.apply(void 0,arguments),Xe.current=!1},function(de){console.error(de),Jt()||bt(!1),Xe.current=!1}))},ur=function(_e){var se=Ae.actionFn,de=Ae.close;if(!Xe.current){if(Xe.current=!0,!se){de();return}var L;if(Ae.emitEvent){if(L=se(_e),Ae.quitOnNullishReturnValue&&!D(L)){Xe.current=!1,de(_e);return}}else if(se.length)L=se(de),Xe.current=!1;else if(L=se(),!L){de();return}lr(L)}},hr=Ae.type,Yr=Ae.children,zt=Ae.prefixCls,$r=Ae.buttonProps;return I.createElement(Je.Z,(0,qe.Z)({},(0,Y.n)(hr),{onClick:ur,loading:or,prefixCls:zt},$r,{ref:Et}),Yr)};sr.Z=st},73577:function(At,sr,U){"use strict";U.d(sr,{Z:function(){return N}});var qe=U(67294);function N(){var I=qe.useRef(!0);return qe.useEffect(function(){return function(){I.current=!1}},[]),function(){return!I.current}}},38272:function(At,sr,U){"use strict";U.d(sr,{ZM:function(){return zt},ZP:function(){return _e}});var qe=U(85061),N=U(22122),I=U(96156),Je=U(28481),Y=U(90484),H=U(67294),D=U(94184),st=U.n(D),vt=U(11382),Ae=U(25378),Xe=U(24308),Et=U(65632),Jt=U(40308),Gt=U(92820),Rr=U(21584),or=U(96159),bt=function(se,de){var L={};for(var he in se)Object.prototype.hasOwnProperty.call(se,he)&&de.indexOf(he)<0&&(L[he]=se[he]);if(se!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Me=0,he=Object.getOwnPropertySymbols(se);Me<he.length;Me++)de.indexOf(he[Me])<0&&Object.prototype.propertyIsEnumerable.call(se,he[Me])&&(L[he[Me]]=se[he[Me]]);return L},lr=function(de){var L=de.prefixCls,he=de.className,Me=de.avatar,ze=de.title,$t=de.description,Ar=bt(de,["prefixCls","className","avatar","title","description"]),Mr=H.useContext(Et.E_),Fe=Mr.getPrefixCls,Pt=Fe("list",L),St=st()("".concat(Pt,"-item-meta"),he),Mt=H.createElement("div",{className:"".concat(Pt,"-item-meta-content")},ze&&H.createElement("h4",{className:"".concat(Pt,"-item-meta-title")},ze),$t&&H.createElement("div",{className:"".concat(Pt,"-item-meta-description")},$t));return H.createElement("div",(0,N.Z)({},Ar,{className:St}),Me&&H.createElement("div",{className:"".concat(Pt,"-item-meta-avatar")},Me),(ze||$t)&&Mt)},ur=function(de){var L=de.prefixCls,he=de.children,Me=de.actions,ze=de.extra,$t=de.className,Ar=de.colStyle,Mr=bt(de,["prefixCls","children","actions","extra","className","colStyle"]),Fe=H.useContext(zt),Pt=Fe.grid,St=Fe.itemLayout,Mt=H.useContext(Et.E_),_=Mt.getPrefixCls,Xr=function(){var Bt;return H.Children.forEach(he,function(pr){typeof pr=="string"&&(Bt=!0)}),Bt&&H.Children.count(he)>1},er=function(){return St==="vertical"?!!ze:!Xr()},Ct=_("list",L),Ft=Me&&Me.length>0&&H.createElement("ul",{className:"".concat(Ct,"-item-action"),key:"actions"},Me.map(function(Ir,Bt){return H.createElement("li",{key:"".concat(Ct,"-item-action-").concat(Bt)},Ir,Bt!==Me.length-1&&H.createElement("em",{className:"".concat(Ct,"-item-action-split")}))})),vr=Pt?"div":"li",Lr=H.createElement(vr,(0,N.Z)({},Mr,{className:st()("".concat(Ct,"-item"),(0,I.Z)({},"".concat(Ct,"-item-no-flex"),!er()),$t)}),St==="vertical"&&ze?[H.createElement("div",{className:"".concat(Ct,"-item-main"),key:"content"},he,Ft),H.createElement("div",{className:"".concat(Ct,"-item-extra"),key:"extra"},ze)]:[he,Ft,(0,or.Tm)(ze,{key:"extra"})]);return Pt?H.createElement(Rr.Z,{flex:1,style:Ar},Lr):Lr};ur.Meta=lr;var hr=ur,Yr=function(se,de){var L={};for(var he in se)Object.prototype.hasOwnProperty.call(se,he)&&de.indexOf(he)<0&&(L[he]=se[he]);if(se!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Me=0,he=Object.getOwnPropertySymbols(se);Me<he.length;Me++)de.indexOf(he[Me])<0&&Object.prototype.propertyIsEnumerable.call(se,he[Me])&&(L[he[Me]]=se[he[Me]]);return L},zt=H.createContext({}),$r=zt.Consumer;function P(se){var de,L=se.pagination,he=L===void 0?!1:L,Me=se.prefixCls,ze=se.bordered,$t=ze===void 0?!1:ze,Ar=se.split,Mr=Ar===void 0?!0:Ar,Fe=se.className,Pt=se.children,St=se.itemLayout,Mt=se.loadMore,_=se.grid,Xr=se.dataSource,er=Xr===void 0?[]:Xr,Ct=se.size,Ft=se.header,vr=se.footer,Lr=se.loading,Ir=Lr===void 0?!1:Lr,Bt=se.rowKey,pr=se.renderItem,tr=se.locale,Lt=Yr(se,["pagination","prefixCls","bordered","split","className","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),mr=he&&(0,Y.Z)(he)==="object"?he:{},Ge=H.useState(mr.defaultCurrent||1),Rn=(0,Je.Z)(Ge,2),$=Rn[0],O=Rn[1],ve=H.useState(mr.defaultPageSize||10),ue=(0,Je.Z)(ve,2),pe=ue[0],we=ue[1],oe=H.useContext(Et.E_),Pe=oe.getPrefixCls,je=oe.renderEmpty,Te=oe.direction,Ve={current:1,total:0},Ce={},ht=function(nt){return function(Tt,dr){O(Tt),we(dr),he&&he[nt]&&he[nt](Tt,dr)}},pt=ht("onChange"),Ht=ht("onShowSizeChange"),ot=function(nt,Tt){if(!pr)return null;var dr;return typeof Bt=="function"?dr=Bt(nt):Bt?dr=nt[Bt]:dr=nt.key,dr||(dr="list-item-".concat(Tt)),Ce[Tt]=dr,pr(nt,Tt)},$e=function(){return!!(Mt||he||vr)},lt=function(nt,Tt){return H.createElement("div",{className:"".concat(nt,"-empty-text")},tr&&tr.emptyText||Tt("List"))},He=Pe("list",Me),dt=Ir;typeof dt=="boolean"&&(dt={spinning:dt});var Qe=dt&&dt.spinning,ft="";switch(Ct){case"large":ft="lg";break;case"small":ft="sm";break;default:break}var Ut=st()(He,(de={},(0,I.Z)(de,"".concat(He,"-vertical"),St==="vertical"),(0,I.Z)(de,"".concat(He,"-").concat(ft),ft),(0,I.Z)(de,"".concat(He,"-split"),Mr),(0,I.Z)(de,"".concat(He,"-bordered"),$t),(0,I.Z)(de,"".concat(He,"-loading"),Qe),(0,I.Z)(de,"".concat(He,"-grid"),!!_),(0,I.Z)(de,"".concat(He,"-something-after-last-item"),$e()),(0,I.Z)(de,"".concat(He,"-rtl"),Te==="rtl"),de),Fe),be=(0,N.Z)((0,N.Z)((0,N.Z)({},Ve),{total:er.length,current:$,pageSize:pe}),he||{}),yr=Math.ceil(be.total/be.pageSize);be.current>yr&&(be.current=yr);var _r=he?H.createElement("div",{className:"".concat(He,"-pagination")},H.createElement(Jt.Z,(0,N.Z)({},be,{onChange:pt,onShowSizeChange:Ht}))):null,Wt=(0,qe.Z)(er);he&&er.length>(be.current-1)*be.pageSize&&(Wt=(0,qe.Z)(er).splice((be.current-1)*be.pageSize,be.pageSize));var mt=(0,Ae.Z)(),b=H.useMemo(function(){for(var rt=0;rt<Xe.c4.length;rt+=1){var nt=Xe.c4[rt];if(mt[nt])return nt}},[mt]),ge=H.useMemo(function(){if(!!_){var rt=b&&_[b]?_[b]:_.column;if(rt)return{width:"".concat(100/rt,"%"),maxWidth:"".concat(100/rt,"%")}}},[_==null?void 0:_.column,b]),et=Qe&&H.createElement("div",{style:{minHeight:53}});if(Wt.length>0){var Or=Wt.map(function(rt,nt){return ot(rt,nt)}),vn=H.Children.map(Or,function(rt,nt){return H.createElement("div",{key:Ce[nt],style:ge},rt)});et=_?H.createElement(Gt.Z,{gutter:_.gutter},vn):H.createElement("ul",{className:"".concat(He,"-items")},Or)}else!Pt&&!Qe&&(et=lt(He,je));var Sr=be.position||"bottom",en=H.useMemo(function(){return{grid:_,itemLayout:St}},[JSON.stringify(_),St]);return H.createElement(zt.Provider,{value:en},H.createElement("div",(0,N.Z)({className:Ut},Lt),(Sr==="top"||Sr==="both")&&_r,Ft&&H.createElement("div",{className:"".concat(He,"-header")},Ft),H.createElement(vt.Z,dt,et,Pt),vr&&H.createElement("div",{className:"".concat(He,"-footer")},vr),Mt||(Sr==="bottom"||Sr==="both")&&_r))}P.Item=hr;var _e=P},54421:function(At,sr,U){"use strict";var qe=U(38663),N=U.n(qe),I=U(57719),Je=U.n(I),Y=U(13254),H=U(20228),D=U(14781),st=U(6999)},50146:function(At,sr,U){"use strict";U.d(sr,{Z:function(){return Rn}});var qe=U(96156),N=U(22122),I=U(67294),Je=U(83230),Y=U(94184),H=U.n(Y),D=U(54549),st=U(83008),vt=U(71577),Ae=U(32413),Xe=U(42051),Et=U(65632),Jt=U(31808),Gt=U(33603),Rr=function($,O){var ve={};for(var ue in $)Object.prototype.hasOwnProperty.call($,ue)&&O.indexOf(ue)<0&&(ve[ue]=$[ue]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pe=0,ue=Object.getOwnPropertySymbols($);pe<ue.length;pe++)O.indexOf(ue[pe])<0&&Object.prototype.propertyIsEnumerable.call($,ue[pe])&&(ve[ue[pe]]=$[ue[pe]]);return ve},or,bt=function(O){or={x:O.pageX,y:O.pageY},setTimeout(function(){or=null},100)};(0,Jt.jD)()&&document.documentElement.addEventListener("click",bt,!0);var lr=function(O){var ve,ue=I.useContext(Et.E_),pe=ue.getPopupContainer,we=ue.getPrefixCls,oe=ue.direction,Pe=function(Wt){var mt=O.onCancel;mt==null||mt(Wt)},je=function(Wt){var mt=O.onOk;mt==null||mt(Wt)},Te=function(Wt){var mt=O.okText,b=O.okType,ge=O.cancelText,et=O.confirmLoading;return I.createElement(I.Fragment,null,I.createElement(vt.Z,(0,N.Z)({onClick:Pe},O.cancelButtonProps),ge||Wt.cancelText),I.createElement(vt.Z,(0,N.Z)({},(0,Ae.n)(b),{loading:et,onClick:je},O.okButtonProps),mt||Wt.okText))},Ve=O.prefixCls,Ce=O.footer,ht=O.visible,pt=O.wrapClassName,Ht=O.centered,ot=O.getContainer,$e=O.closeIcon,lt=O.focusTriggerAfterClose,He=lt===void 0?!0:lt,dt=Rr(O,["prefixCls","footer","visible","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose"]),Qe=we("modal",Ve),ft=we(),Ut=I.createElement(Xe.Z,{componentName:"Modal",defaultLocale:(0,st.A)()},Te),be=I.createElement("span",{className:"".concat(Qe,"-close-x")},$e||I.createElement(D.Z,{className:"".concat(Qe,"-close-icon")})),yr=H()(pt,(ve={},(0,qe.Z)(ve,"".concat(Qe,"-centered"),!!Ht),(0,qe.Z)(ve,"".concat(Qe,"-wrap-rtl"),oe==="rtl"),ve));return I.createElement(Je.Z,(0,N.Z)({},dt,{getContainer:ot===void 0?pe:ot,prefixCls:Qe,wrapClassName:yr,footer:Ce===void 0?Ut:Ce,visible:ht,mousePosition:or,onClose:Pe,closeIcon:be,focusTriggerAfterClose:He,transitionName:(0,Gt.m)(ft,"zoom",O.transitionName),maskTransitionName:(0,Gt.m)(ft,"fade",O.maskTransitionName)}))};lr.defaultProps={width:520,confirmLoading:!1,visible:!1,okType:"primary"};var ur=lr,hr=U(73935),Yr=U(68628),zt=U(15873),$r=U(73218),P=U(57119),_e=U(86743),se=U(21687),de=U(88182),L=function(O){var ve=O.icon,ue=O.onCancel,pe=O.onOk,we=O.close,oe=O.zIndex,Pe=O.afterClose,je=O.visible,Te=O.keyboard,Ve=O.centered,Ce=O.getContainer,ht=O.maskStyle,pt=O.okText,Ht=O.okButtonProps,ot=O.cancelText,$e=O.cancelButtonProps,lt=O.direction,He=O.prefixCls,dt=O.wrapClassName,Qe=O.rootPrefixCls,ft=O.iconPrefixCls,Ut=O.bodyStyle,be=O.closable,yr=be===void 0?!1:be,_r=O.closeIcon,Wt=O.modalRender,mt=O.focusTriggerAfterClose;(0,se.Z)(!(typeof ve=="string"&&ve.length>2),"Modal","`icon` is using ReactNode instead of string naming in v4. Please check `".concat(ve,"` at https://ant.design/components/icon"));var b=O.okType||"primary",ge="".concat(He,"-confirm"),et="okCancel"in O?O.okCancel:!0,Or=O.width||416,vn=O.style||{},Sr=O.mask===void 0?!0:O.mask,en=O.maskClosable===void 0?!1:O.maskClosable,rt=O.autoFocusButton===null?!1:O.autoFocusButton||"ok",nt=H()(ge,"".concat(ge,"-").concat(O.type),(0,qe.Z)({},"".concat(ge,"-rtl"),lt==="rtl"),O.className),Tt=et&&I.createElement(_e.Z,{actionFn:ue,close:we,autoFocus:rt==="cancel",buttonProps:$e,prefixCls:"".concat(Qe,"-btn")},ot);return I.createElement(de.ZP,{prefixCls:Qe,iconPrefixCls:ft,direction:lt},I.createElement(ur,{prefixCls:He,className:nt,wrapClassName:H()((0,qe.Z)({},"".concat(ge,"-centered"),!!O.centered),dt),onCancel:function(){return we({triggerCancel:!0})},visible:je,title:"",footer:"",transitionName:(0,Gt.m)(Qe,"zoom",O.transitionName),maskTransitionName:(0,Gt.m)(Qe,"fade",O.maskTransitionName),mask:Sr,maskClosable:en,maskStyle:ht,style:vn,bodyStyle:Ut,width:Or,zIndex:oe,afterClose:Pe,keyboard:Te,centered:Ve,getContainer:Ce,closable:yr,closeIcon:_r,modalRender:Wt,focusTriggerAfterClose:mt},I.createElement("div",{className:"".concat(ge,"-body-wrapper")},I.createElement("div",{className:"".concat(ge,"-body")},ve,O.title===void 0?null:I.createElement("span",{className:"".concat(ge,"-title")},O.title),I.createElement("div",{className:"".concat(ge,"-content")},O.content)),I.createElement("div",{className:"".concat(ge,"-btns")},Tt,I.createElement(_e.Z,{type:b,actionFn:pe,close:we,autoFocus:rt==="ok",buttonProps:Ht,prefixCls:"".concat(Qe,"-btn")},pt)))))},he=L,Me=[],ze=Me,$t=function($,O){var ve={};for(var ue in $)Object.prototype.hasOwnProperty.call($,ue)&&O.indexOf(ue)<0&&(ve[ue]=$[ue]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pe=0,ue=Object.getOwnPropertySymbols($);pe<ue.length;pe++)O.indexOf(ue[pe])<0&&Object.prototype.propertyIsEnumerable.call($,ue[pe])&&(ve[ue[pe]]=$[ue[pe]]);return ve},Ar="";function Mr(){return Ar}function Fe($){var O=document.createDocumentFragment(),ve=(0,N.Z)((0,N.Z)({},$),{close:we,visible:!0});function ue(){hr.unmountComponentAtNode(O);for(var Pe=arguments.length,je=new Array(Pe),Te=0;Te<Pe;Te++)je[Te]=arguments[Te];var Ve=je.some(function(pt){return pt&&pt.triggerCancel});$.onCancel&&Ve&&$.onCancel.apply($,je);for(var Ce=0;Ce<ze.length;Ce++){var ht=ze[Ce];if(ht===we){ze.splice(Ce,1);break}}}function pe(Pe){var je=Pe.okText,Te=Pe.cancelText,Ve=Pe.prefixCls,Ce=$t(Pe,["okText","cancelText","prefixCls"]);setTimeout(function(){var ht=(0,st.A)(),pt=(0,de.w6)(),Ht=pt.getPrefixCls,ot=pt.getIconPrefixCls,$e=Ht(void 0,Mr()),lt=Ve||"".concat($e,"-modal"),He=ot();hr.render(I.createElement(he,(0,N.Z)({},Ce,{prefixCls:lt,rootPrefixCls:$e,iconPrefixCls:He,okText:je||(Ce.okCancel?ht.okText:ht.justOkText),cancelText:Te||ht.cancelText})),O)})}function we(){for(var Pe=this,je=arguments.length,Te=new Array(je),Ve=0;Ve<je;Ve++)Te[Ve]=arguments[Ve];ve=(0,N.Z)((0,N.Z)({},ve),{visible:!1,afterClose:function(){typeof $.afterClose=="function"&&$.afterClose(),ue.apply(Pe,Te)}}),pe(ve)}function oe(Pe){typeof Pe=="function"?ve=Pe(ve):ve=(0,N.Z)((0,N.Z)({},ve),Pe),pe(ve)}return pe(ve),ze.push(we),{destroy:we,update:oe}}function Pt($){return(0,N.Z)((0,N.Z)({icon:I.createElement(P.Z,null),okCancel:!1},$),{type:"warning"})}function St($){return(0,N.Z)((0,N.Z)({icon:I.createElement(Yr.Z,null),okCancel:!1},$),{type:"info"})}function Mt($){return(0,N.Z)((0,N.Z)({icon:I.createElement(zt.Z,null),okCancel:!1},$),{type:"success"})}function _($){return(0,N.Z)((0,N.Z)({icon:I.createElement($r.Z,null),okCancel:!1},$),{type:"error"})}function Xr($){return(0,N.Z)((0,N.Z)({icon:I.createElement(P.Z,null),okCancel:!0},$),{type:"confirm"})}function er($){var O=$.rootPrefixCls;(0,se.Z)(!1,"Modal","Modal.config is deprecated. Please use ConfigProvider.config instead."),Ar=O}var Ct=U(85061),Ft=U(28481);function vr(){var $=I.useState([]),O=(0,Ft.Z)($,2),ve=O[0],ue=O[1],pe=I.useCallback(function(we){return ue(function(oe){return[].concat((0,Ct.Z)(oe),[we])}),function(){ue(function(oe){return oe.filter(function(Pe){return Pe!==we})})}},[]);return[ve,pe]}var Lr=U(85636),Ir=function(O,ve){var ue=O.afterClose,pe=O.config,we=I.useState(!0),oe=(0,Ft.Z)(we,2),Pe=oe[0],je=oe[1],Te=I.useState(pe),Ve=(0,Ft.Z)(Te,2),Ce=Ve[0],ht=Ve[1],pt=I.useContext(Et.E_),Ht=pt.direction,ot=pt.getPrefixCls,$e=ot("modal"),lt=ot(),He=function(){je(!1);for(var Qe=arguments.length,ft=new Array(Qe),Ut=0;Ut<Qe;Ut++)ft[Ut]=arguments[Ut];var be=ft.some(function(yr){return yr&&yr.triggerCancel});Ce.onCancel&&be&&Ce.onCancel()};return I.useImperativeHandle(ve,function(){return{destroy:He,update:function(Qe){ht(function(ft){return(0,N.Z)((0,N.Z)({},ft),Qe)})}}}),I.createElement(Xe.Z,{componentName:"Modal",defaultLocale:Lr.Z.Modal},function(dt){return I.createElement(he,(0,N.Z)({prefixCls:$e,rootPrefixCls:lt},Ce,{close:He,visible:Pe,afterClose:ue,okText:Ce.okText||(Ce.okCancel?dt.okText:dt.justOkText),direction:Ht,cancelText:Ce.cancelText||dt.cancelText}))})},Bt=I.forwardRef(Ir),pr=0,tr=I.memo(I.forwardRef(function($,O){var ve=vr(),ue=(0,Ft.Z)(ve,2),pe=ue[0],we=ue[1];return I.useImperativeHandle(O,function(){return{patchElement:we}},[]),I.createElement(I.Fragment,null,pe)}));function Lt(){var $=I.useRef(null),O=I.useState([]),ve=(0,Ft.Z)(O,2),ue=ve[0],pe=ve[1];I.useEffect(function(){if(ue.length){var Pe=(0,Ct.Z)(ue);Pe.forEach(function(je){je()}),pe([])}},[ue]);var we=I.useCallback(function(Pe){return function(Te){var Ve;pr+=1;var Ce=I.createRef(),ht,pt=I.createElement(Bt,{key:"modal-".concat(pr),config:Pe(Te),ref:Ce,afterClose:function(){ht()}});return ht=(Ve=$.current)===null||Ve===void 0?void 0:Ve.patchElement(pt),{destroy:function(){function ot(){var $e;($e=Ce.current)===null||$e===void 0||$e.destroy()}Ce.current?ot():pe(function($e){return[].concat((0,Ct.Z)($e),[ot])})},update:function(ot){function $e(){var lt;(lt=Ce.current)===null||lt===void 0||lt.update(ot)}Ce.current?$e():pe(function(lt){return[].concat((0,Ct.Z)(lt),[$e])})}}}},[]),oe=I.useMemo(function(){return{info:we(St),success:we(Mt),error:we(_),warning:we(Pt),confirm:we(Xr)}},[]);return[oe,I.createElement(tr,{ref:$})]}function mr($){return Fe(Pt($))}var Ge=ur;Ge.useModal=Lt,Ge.info=function(O){return Fe(St(O))},Ge.success=function(O){return Fe(Mt(O))},Ge.error=function(O){return Fe(_(O))},Ge.warning=mr,Ge.warn=mr,Ge.confirm=function(O){return Fe(Xr(O))},Ge.destroyAll=function(){for(;ze.length;){var O=ze.pop();O&&O()}},Ge.config=er;var Rn=Ge},71194:function(At,sr,U){"use strict";var qe=U(38663),N=U.n(qe),I=U(41412),Je=U.n(I),Y=U(57663)},65031:function(At,sr,U){"use strict";U.d(sr,{Cd:function(){return Ra},ZA:function(){return gt},Ee:function(){return jn},mh:function(){return le},x1:function(){return Xn},UL:function(){return Pn},Hf:function(){return La}});var qe={};U.r(qe),U.d(qe,{appendChild:function(){return Gi},appendChildToContainer:function(){return bi},appendInitialChild:function(){return cs},cancelTimeout:function(){return Sa},clearContainer:function(){return to},commitMount:function(){return wa},commitTextUpdate:function(){return xa},commitUpdate:function(){return Ea},createInstance:function(){return gs},createTextInstance:function(){return Qs},finalizeInitialChildren:function(){return vs},getChildHostContext:function(){return xs},getPublicInstance:function(){return qs},getRootHostContext:function(){return Cs},hideInstance:function(){return Ps},hideTextInstance:function(){return Pa},idlePriority:function(){return di.unstable_IdlePriority},insertBefore:function(){return fi},insertInContainerBefore:function(){return zi},isPrimaryRenderer:function(){return Es},noTimeout:function(){return ws},now:function(){return di.unstable_now},prepareForCommit:function(){return ps},preparePortalMount:function(){return Js},prepareUpdate:function(){return ms},removeChild:function(){return Fi},removeChildFromContainer:function(){return ci},resetAfterCommit:function(){return ys},resetTextContent:function(){return _s},run:function(){return di.unstable_runWithPriority},scheduleTimeout:function(){return _a},shouldDeprioritizeSubtree:function(){return Ss},shouldSetTextContent:function(){return Ca},supportsMutation:function(){return $s},unhideInstance:function(){return Bi},unhideTextInstance:function(){return eo},warnsIfNotActing:function(){return Di}});var N=Math.PI/180;function I(){return typeof window!="undefined"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const Je=typeof global!="undefined"?global:typeof window!="undefined"?window:typeof WorkerGlobalScope!="undefined"?self:{},Y={_global:Je,version:"8.3.2",isBrowser:I(),isUnminified:/param/.test(function(l){}.toString()),dblClickWindow:400,getAngle(l){return Y.angleDeg?l*N:l},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window!="undefined"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return Y.DD.isDragging},isDragReady(){return!!Y.DD.node},document:Je.document,_injectGlobal(l){Je.Konva=l}},H=l=>{Y[l.prototype.getClassName()]=l};Y._injectGlobal(Y);class D{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new D(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){var n=this.m;return{x:n[0]*e.x+n[2]*e.y+n[4],y:n[1]*e.x+n[3]*e.y+n[5]}}translate(e,n){return this.m[4]+=this.m[0]*e+this.m[2]*n,this.m[5]+=this.m[1]*e+this.m[3]*n,this}scale(e,n){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=n,this.m[3]*=n,this}rotate(e){var n=Math.cos(e),a=Math.sin(e),s=this.m[0]*n+this.m[2]*a,o=this.m[1]*n+this.m[3]*a,u=this.m[0]*-a+this.m[2]*n,f=this.m[1]*-a+this.m[3]*n;return this.m[0]=s,this.m[1]=o,this.m[2]=u,this.m[3]=f,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,n){var a=this.m[0]+this.m[2]*n,s=this.m[1]+this.m[3]*n,o=this.m[2]+this.m[0]*e,u=this.m[3]+this.m[1]*e;return this.m[0]=a,this.m[1]=s,this.m[2]=o,this.m[3]=u,this}multiply(e){var n=this.m[0]*e.m[0]+this.m[2]*e.m[1],a=this.m[1]*e.m[0]+this.m[3]*e.m[1],s=this.m[0]*e.m[2]+this.m[2]*e.m[3],o=this.m[1]*e.m[2]+this.m[3]*e.m[3],u=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],f=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=n,this.m[1]=a,this.m[2]=s,this.m[3]=o,this.m[4]=u,this.m[5]=f,this}invert(){var e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),n=this.m[3]*e,a=-this.m[1]*e,s=-this.m[2]*e,o=this.m[0]*e,u=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),f=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=n,this.m[1]=a,this.m[2]=s,this.m[3]=o,this.m[4]=u,this.m[5]=f,this}getMatrix(){return this.m}setAbsolutePosition(e,n){var a=this.m[0],s=this.m[1],o=this.m[2],u=this.m[3],f=this.m[4],c=this.m[5],g=(a*(n-c)-s*(e-f))/(a*u-s*o),p=(e-f-o*g)/a;return this.translate(p,g)}decompose(){var e=this.m[0],n=this.m[1],a=this.m[2],s=this.m[3],o=this.m[4],u=this.m[5],f=e*s-n*a;let c={x:o,y:u,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!=0||n!=0){var g=Math.sqrt(e*e+n*n);c.rotation=n>0?Math.acos(e/g):-Math.acos(e/g),c.scaleX=g,c.scaleY=f/g,c.skewX=(e*a+n*s)/f,c.skewY=0}else if(a!=0||s!=0){var p=Math.sqrt(a*a+s*s);c.rotation=Math.PI/2-(s>0?Math.acos(-a/p):-Math.acos(a/p)),c.scaleX=f/p,c.scaleY=p,c.skewX=0,c.skewY=(e*a+n*s)/f}return c.rotation=P._getRotation(c.rotation),c}}var st="[object Array]",vt="[object Number]",Ae="[object String]",Xe="[object Boolean]",Et=Math.PI/180,Jt=180/Math.PI,Gt="#",Rr="",or="0",bt="Konva warning: ",lr="Konva error: ",ur="rgb(",hr={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},Yr=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,zt=[];const $r=typeof requestAnimationFrame!="undefined"&&requestAnimationFrame||function(l){setTimeout(l,60)},P={_isElement(l){return!!(l&&l.nodeType==1)},_isFunction(l){return!!(l&&l.constructor&&l.call&&l.apply)},_isPlainObject(l){return!!l&&l.constructor===Object},_isArray(l){return Object.prototype.toString.call(l)===st},_isNumber(l){return Object.prototype.toString.call(l)===vt&&!isNaN(l)&&isFinite(l)},_isString(l){return Object.prototype.toString.call(l)===Ae},_isBoolean(l){return Object.prototype.toString.call(l)===Xe},isObject(l){return l instanceof Object},isValidSelector(l){if(typeof l!="string")return!1;var e=l[0];return e==="#"||e==="."||e===e.toUpperCase()},_sign(l){return l===0||l>0?1:-1},requestAnimFrame(l){zt.push(l),zt.length===1&&$r(function(){const e=zt;zt=[],e.forEach(function(n){n()})})},createCanvasElement(){var l=document.createElement("canvas");try{l.style=l.style||{}}catch(e){}return l},createImageElement(){return document.createElement("img")},_isInDocument(l){for(;l=l.parentNode;)if(l==document)return!0;return!1},_urlToImage(l,e){var n=P.createImageElement();n.onload=function(){e(n)},n.src=l},_rgbToHex(l,e,n){return((1<<24)+(l<<16)+(e<<8)+n).toString(16).slice(1)},_hexToRgb(l){l=l.replace(Gt,Rr);var e=parseInt(l,16);return{r:e>>16&255,g:e>>8&255,b:e&255}},getRandomColor(){for(var l=(Math.random()*16777215<<0).toString(16);l.length<6;)l=or+l;return Gt+l},getRGB(l){var e;return l in hr?(e=hr[l],{r:e[0],g:e[1],b:e[2]}):l[0]===Gt?this._hexToRgb(l.substring(1)):l.substr(0,4)===ur?(e=Yr.exec(l.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(l){return l=l||"black",P._namedColorToRBA(l)||P._hex3ColorToRGBA(l)||P._hex6ColorToRGBA(l)||P._rgbColorToRGBA(l)||P._rgbaColorToRGBA(l)||P._hslColorToRGBA(l)},_namedColorToRBA(l){var e=hr[l.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(l){if(l.indexOf("rgb(")===0){l=l.match(/rgb\(([^)]+)\)/)[1];var e=l.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(l){if(l.indexOf("rgba(")===0){l=l.match(/rgba\(([^)]+)\)/)[1];var e=l.split(/ *, */).map((n,a)=>n.slice(-1)==="%"?a===3?parseInt(n)/100:parseInt(n)/100*255:Number(n));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex6ColorToRGBA(l){if(l[0]==="#"&&l.length===7)return{r:parseInt(l.slice(1,3),16),g:parseInt(l.slice(3,5),16),b:parseInt(l.slice(5,7),16),a:1}},_hex3ColorToRGBA(l){if(l[0]==="#"&&l.length===4)return{r:parseInt(l[1]+l[1],16),g:parseInt(l[2]+l[2],16),b:parseInt(l[3]+l[3],16),a:1}},_hslColorToRGBA(l){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(l)){const[e,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(l),a=Number(n[0])/360,s=Number(n[1])/100,o=Number(n[2])/100;let u,f,c;if(s===0)return c=o*255,{r:Math.round(c),g:Math.round(c),b:Math.round(c),a:1};o<.5?u=o*(1+s):u=o+s-o*s;const g=2*o-u,p=[0,0,0];for(let S=0;S<3;S++)f=a+1/3*-(S-1),f<0&&f++,f>1&&f--,6*f<1?c=g+(u-g)*6*f:2*f<1?c=u:3*f<2?c=g+(u-g)*(2/3-f)*6:c=g,p[S]=c*255;return{r:Math.round(p[0]),g:Math.round(p[1]),b:Math.round(p[2]),a:1}}},haveIntersection(l,e){return!(e.x>l.x+l.width||e.x+e.width<l.x||e.y>l.y+l.height||e.y+e.height<l.y)},cloneObject(l){var e={};for(var n in l)this._isPlainObject(l[n])?e[n]=this.cloneObject(l[n]):this._isArray(l[n])?e[n]=this.cloneArray(l[n]):e[n]=l[n];return e},cloneArray(l){return l.slice(0)},degToRad(l){return l*Et},radToDeg(l){return l*Jt},_degToRad(l){return P.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),P.degToRad(l)},_radToDeg(l){return P.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),P.radToDeg(l)},_getRotation(l){return Y.angleDeg?P.radToDeg(l):l},_capitalize(l){return l.charAt(0).toUpperCase()+l.slice(1)},throw(l){throw new Error(lr+l)},error(l){console.error(lr+l)},warn(l){!Y.showWarnings||console.warn(bt+l)},each(l,e){for(var n in l)e(n,l[n])},_inRange(l,e,n){return e<=l&&l<n},_getProjectionToSegment(l,e,n,a,s,o){var u,f,c,g=(l-n)*(l-n)+(e-a)*(e-a);if(g==0)u=l,f=e,c=(s-n)*(s-n)+(o-a)*(o-a);else{var p=((s-l)*(n-l)+(o-e)*(a-e))/g;p<0?(u=l,f=e,c=(l-s)*(l-s)+(e-o)*(e-o)):p>1?(u=n,f=a,c=(n-s)*(n-s)+(a-o)*(a-o)):(u=l+p*(n-l),f=e+p*(a-e),c=(u-s)*(u-s)+(f-o)*(f-o))}return[u,f,c]},_getProjectionToLine(l,e,n){var a=P.cloneObject(l),s=Number.MAX_VALUE;return e.forEach(function(o,u){if(!(!n&&u===e.length-1)){var f=e[(u+1)%e.length],c=P._getProjectionToSegment(o.x,o.y,f.x,f.y,l.x,l.y),g=c[0],p=c[1],S=c[2];S<s&&(a.x=g,a.y=p,s=S)}}),a},_prepareArrayForTween(l,e,n){var a,s=[],o=[];if(l.length>e.length){var u=e;e=l,l=u}for(a=0;a<l.length;a+=2)s.push({x:l[a],y:l[a+1]});for(a=0;a<e.length;a+=2)o.push({x:e[a],y:e[a+1]});var f=[];return o.forEach(function(c){var g=P._getProjectionToLine(c,s,n);f.push(g.x),f.push(g.y)}),f},_prepareToStringify(l){var e;l.visitedByCircularReferenceRemoval=!0;for(var n in l)if(!!(l.hasOwnProperty(n)&&l[n]&&typeof l[n]=="object")){if(e=Object.getOwnPropertyDescriptor(l,n),l[n].visitedByCircularReferenceRemoval||P._isElement(l[n]))if(e.configurable)delete l[n];else return null;else if(P._prepareToStringify(l[n])===null)if(e.configurable)delete l[n];else return null}return delete l.visitedByCircularReferenceRemoval,l},_assign(l,e){for(var n in e)l[n]=e[n];return l},_getFirstPointerId(l){return l.touches?l.changedTouches[0].identifier:l.pointerId||999}};function _e(l){return P._isString(l)?'"'+l+'"':Object.prototype.toString.call(l)==="[object Number]"||P._isBoolean(l)?l:Object.prototype.toString.call(l)}function se(l){return l>255?255:l<0?0:Math.round(l)}function de(l){return l>1?1:l<1e-4?1e-4:l}function L(){if(Y.isUnminified)return function(l,e){return P._isNumber(l)||P.warn(_e(l)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),l}}function he(l){if(Y.isUnminified)return function(e,n){let a=P._isNumber(e),s=P._isArray(e)&&e.length==l;return!a&&!s&&P.warn(_e(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+l+")"),e}}function Me(){if(Y.isUnminified)return function(l,e){var n=P._isNumber(l),a=l==="auto";return n||a||P.warn(_e(l)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),l}}function ze(){if(Y.isUnminified)return function(l,e){return P._isString(l)||P.warn(_e(l)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),l}}function $t(){if(Y.isUnminified)return function(l,e){const n=P._isString(l),a=Object.prototype.toString.call(l)==="[object CanvasGradient]"||l&&l.addColorStop;return n||a||P.warn(_e(l)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),l}}function Ar(){if(Konva.isUnminified)return function(l,e){return Util._isFunction(l)||Util.warn(_e(l)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),l}}function Mr(){if(Y.isUnminified)return function(l,e){return P._isArray(l)?l.forEach(function(n){P._isNumber(n)||P.warn('"'+e+'" attribute has non numeric element '+n+". Make sure that all elements are numbers.")}):P.warn(_e(l)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.'),l}}function Fe(){if(Y.isUnminified)return function(l,e){var n=l===!0||l===!1;return n||P.warn(_e(l)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),l}}function Pt(l){if(Y.isUnminified)return function(e,n){return P.isObject(e)||P.warn(_e(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+l),e}}var St="get",Mt="set";const _={addGetterSetter(l,e,n,a,s){_.addGetter(l,e,n),_.addSetter(l,e,a,s),_.addOverloadedGetterSetter(l,e)},addGetter(l,e,n){var a=St+P._capitalize(e);l.prototype[a]=l.prototype[a]||function(){var s=this.attrs[e];return s===void 0?n:s}},addSetter(l,e,n,a){var s=Mt+P._capitalize(e);l.prototype[s]||_.overWriteSetter(l,e,n,a)},overWriteSetter(l,e,n,a){var s=Mt+P._capitalize(e);l.prototype[s]=function(o){return n&&o!==void 0&&o!==null&&(o=n.call(this,o,e)),this._setAttr(e,o),a&&a.call(this),this}},addComponentsGetterSetter(l,e,n,a,s){var o=n.length,u=P._capitalize,f=St+u(e),c=Mt+u(e),g,p;l.prototype[f]=function(){var m={};for(g=0;g<o;g++)p=n[g],m[p]=this.getAttr(e+u(p));return m};var S=Pt(n);l.prototype[c]=function(m){var w=this.attrs[e],C;a&&(m=a.call(this,m)),S&&S.call(this,m,e);for(C in m)!m.hasOwnProperty(C)||this._setAttr(e+u(C),m[C]);return this._fireChangeEvent(e,w,m),s&&s.call(this),this},_.addOverloadedGetterSetter(l,e)},addOverloadedGetterSetter(l,e){var n=P._capitalize(e),a=Mt+n,s=St+n;l.prototype[e]=function(){return arguments.length?(this[a](arguments[0]),this):this[s]()}},addDeprecatedGetterSetter(l,e,n,a){P.error("Adding deprecated "+e);var s=St+P._capitalize(e),o=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";l.prototype[s]=function(){P.error(o);var u=this.attrs[e];return u===void 0?n:u},_.addSetter(l,e,a,function(){P.error(o)}),_.addOverloadedGetterSetter(l,e)},backCompat(l,e){P.each(e,function(n,a){var s=l.prototype[a],o=St+P._capitalize(n),u=Mt+P._capitalize(n);function f(){s.apply(this,arguments),P.error('"'+n+'" method is deprecated and will be removed soon. Use ""'+a+'" instead.')}l.prototype[n]=f,l.prototype[o]=f,l.prototype[u]=f})},afterSetFilter(){this._filterUpToDate=!1}};function Xr(l){var e=[],n=l.length,a=P,s,o;for(s=0;s<n;s++)o=l[s],a._isNumber(o)?o=Math.round(o*1e3)/1e3:a._isString(o)||(o=o+""),e.push(o);return e}var er=",",Ct="(",Ft=")",vr="([",Lr="])",Ir=";",Bt="()",pr="=",tr=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],Lt=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"];const mr=100;class Ge{constructor(e){this.canvas=e,this._context=e._canvas.getContext("2d"),Y.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,n){var a=this.traceArr,s=a.length,o="",u,f,c,g;for(u=0;u<s;u++)f=a[u],c=f.method,c?(g=f.args,o+=c,e?o+=Bt:P._isArray(g[0])?o+=vr+g.join(er)+Lr:(n&&(g=g.map(p=>typeof p=="number"?Math.floor(p):p)),o+=Ct+g.join(er)+Ft)):(o+=f.property,e||(o+=pr+f.val)),o+=Ir;return o}clearTrace(){this.traceArr=[]}_trace(e){var n=this.traceArr,a;n.push(e),a=n.length,a>=mr&&n.shift()}reset(){var e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){var n=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(e){var n=e.getLineCap();n&&this.setAttr("lineCap",n)}_applyOpacity(e){var n=e.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(e){var n=e.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}setAttr(e,n){this._context[e]=n}arc(e,n,a,s,o,u){this._context.arc(e,n,a,s,o,u)}arcTo(e,n,a,s,o){this._context.arcTo(e,n,a,s,o)}beginPath(){this._context.beginPath()}bezierCurveTo(e,n,a,s,o,u){this._context.bezierCurveTo(e,n,a,s,o,u)}clearRect(e,n,a,s){this._context.clearRect(e,n,a,s)}clip(){this._context.clip()}closePath(){this._context.closePath()}createImageData(e,n){var a=arguments;if(a.length===2)return this._context.createImageData(e,n);if(a.length===1)return this._context.createImageData(e)}createLinearGradient(e,n,a,s){return this._context.createLinearGradient(e,n,a,s)}createPattern(e,n){return this._context.createPattern(e,n)}createRadialGradient(e,n,a,s,o,u){return this._context.createRadialGradient(e,n,a,s,o,u)}drawImage(e,n,a,s,o,u,f,c,g){var p=arguments,S=this._context;p.length===3?S.drawImage(e,n,a):p.length===5?S.drawImage(e,n,a,s,o):p.length===9&&S.drawImage(e,n,a,s,o,u,f,c,g)}ellipse(e,n,a,s,o,u,f,c){this._context.ellipse(e,n,a,s,o,u,f,c)}isPointInPath(e,n){return this._context.isPointInPath(e,n)}fill(e){e?this._context.fill(e):this._context.fill()}fillRect(e,n,a,s){this._context.fillRect(e,n,a,s)}strokeRect(e,n,a,s){this._context.strokeRect(e,n,a,s)}fillText(e,n,a,s){s?this._context.fillText(e,n,a,s):this._context.fillText(e,n,a)}measureText(e){return this._context.measureText(e)}getImageData(e,n,a,s){return this._context.getImageData(e,n,a,s)}lineTo(e,n){this._context.lineTo(e,n)}moveTo(e,n){this._context.moveTo(e,n)}rect(e,n,a,s){this._context.rect(e,n,a,s)}putImageData(e,n,a){this._context.putImageData(e,n,a)}quadraticCurveTo(e,n,a,s){this._context.quadraticCurveTo(e,n,a,s)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,n){this._context.scale(e,n)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,n,a,s,o,u){this._context.setTransform(e,n,a,s,o,u)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,n,a,s){this._context.strokeText(e,n,a,s)}transform(e,n,a,s,o,u){this._context.transform(e,n,a,s,o,u)}translate(e,n){this._context.translate(e,n)}_enableTrace(){var e=this,n=tr.length,a=this.setAttr,s,o,u=function(f){var c=e[f],g;e[f]=function(){return o=Xr(Array.prototype.slice.call(arguments,0)),g=c.apply(e,arguments),e._trace({method:f,args:o}),g}};for(s=0;s<n;s++)u(tr[s]);e.setAttr=function(){a.apply(e,arguments);var f=arguments[0],c=arguments[1];(f==="shadowOffsetX"||f==="shadowOffsetY"||f==="shadowBlur")&&(c=c/this.canvas.getPixelRatio()),e._trace({property:f,val:c})}}_applyGlobalCompositeOperation(e){const n=e.attrs.globalCompositeOperation;var a=!n||n==="source-over";a||this.setAttr("globalCompositeOperation",n)}}Lt.forEach(function(l){Object.defineProperty(Ge.prototype,l,{get(){return this._context[l]},set(e){this._context[l]=e}})});class Rn extends Ge{_fillColor(e){var n=e.fill();this.setAttr("fillStyle",n),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){var n=e._getLinearGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fillRadialGradient(e){var n=e._getRadialGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fill(e){var n=e.fill(),a=e.getFillPriority();if(n&&a==="color"){this._fillColor(e);return}var s=e.getFillPatternImage();if(s&&a==="pattern"){this._fillPattern(e);return}var o=e.getFillLinearGradientColorStops();if(o&&a==="linear-gradient"){this._fillLinearGradient(e);return}var u=e.getFillRadialGradientColorStops();if(u&&a==="radial-gradient"){this._fillRadialGradient(e);return}n?this._fillColor(e):s?this._fillPattern(e):o?this._fillLinearGradient(e):u&&this._fillRadialGradient(e)}_strokeLinearGradient(e){var n=e.getStrokeLinearGradientStartPoint(),a=e.getStrokeLinearGradientEndPoint(),s=e.getStrokeLinearGradientColorStops(),o=this.createLinearGradient(n.x,n.y,a.x,a.y);if(s){for(var u=0;u<s.length;u+=2)o.addColorStop(s[u],s[u+1]);this.setAttr("strokeStyle",o)}}_stroke(e){var n=e.dash(),a=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!a){this.save();var s=this.getCanvas().getPixelRatio();this.setTransform(s,0,0,s,0,0)}this._applyLineCap(e),n&&e.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");var o=e.getStrokeLinearGradientColorStops();o?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),a||this.restore()}}_applyShadow(e){var n,a,s,o=(n=e.getShadowRGBA())!==null&&n!==void 0?n:"black",u=(a=e.getShadowBlur())!==null&&a!==void 0?a:5,f=(s=e.getShadowOffset())!==null&&s!==void 0?s:{x:0,y:0},c=e.getAbsoluteScale(),g=this.canvas.getPixelRatio(),p=c.x*g,S=c.y*g;this.setAttr("shadowColor",o),this.setAttr("shadowBlur",u*Math.min(Math.abs(p),Math.abs(S))),this.setAttr("shadowOffsetX",f.x*p),this.setAttr("shadowOffsetY",f.y*S)}}class $ extends Ge{_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){var n=e.getStrokeScaleEnabled();if(!n){this.save();var a=this.getCanvas().getPixelRatio();this.setTransform(a,0,0,a,0,0)}this._applyLineCap(e);var s=e.hitStrokeWidth(),o=s==="auto"?e.strokeWidth():s;this.setAttr("lineWidth",o),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),n||this.restore()}}}var O;function ve(){if(O)return O;var l=P.createCanvasElement(),e=l.getContext("2d");return O=function(){var n=Y._global.devicePixelRatio||1,a=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return n/a}(),O}class ue{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var n=e||{},a=n.pixelRatio||Y.pixelRatio||ve();this.pixelRatio=a,this._canvas=P.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){var n=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";var n=this.pixelRatio,a=this.getContext()._context;a.scale(n,n)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";var n=this.pixelRatio,a=this.getContext()._context;a.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,n){this.setWidth(e||0),this.setHeight(n||0)}toDataURL(e,n){try{return this._canvas.toDataURL(e,n)}catch(a){try{return this._canvas.toDataURL()}catch(s){return P.error("Unable to get data URL. "+s.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}_.addGetterSetter(ue,"pixelRatio",void 0,L());class pe extends ue{constructor(e={width:0,height:0}){super(e);this.context=new Rn(this),this.setSize(e.width,e.height)}}class we extends ue{constructor(e={width:0,height:0}){super(e);this.hitCanvas=!0,this.context=new $(this),this.setSize(e.width,e.height)}}const oe={get isDragging(){var l=!1;return oe._dragElements.forEach(e=>{e.dragStatus==="dragging"&&(l=!0)}),l},justDragged:!1,get node(){var l;return oe._dragElements.forEach(e=>{l=e.node}),l},_dragElements:new Map,_drag(l){const e=[];oe._dragElements.forEach((n,a)=>{const{node:s}=n,o=s.getStage();o.setPointersPositions(l),n.pointerId===void 0&&(n.pointerId=P._getFirstPointerId(l));const u=o._changedPointerPositions.find(g=>g.id===n.pointerId);if(!!u){if(n.dragStatus!=="dragging"){var f=s.dragDistance(),c=Math.max(Math.abs(u.x-n.startPointerPos.x),Math.abs(u.y-n.startPointerPos.y));if(c<f||(s.startDrag({evt:l}),!s.isDragging()))return}s._setDragPosition(l,n),e.push(s)}}),e.forEach(n=>{n.fire("dragmove",{type:"dragmove",target:n,evt:l},!0)})},_endDragBefore(l){oe._dragElements.forEach(e=>{const{node:n}=e,a=n.getStage();if(l&&a.setPointersPositions(l),!a._changedPointerPositions.find(u=>u.id===e.pointerId))return;(e.dragStatus==="dragging"||e.dragStatus==="stopped")&&(oe.justDragged=!0,Y._mouseListenClick=!1,Y._touchListenClick=!1,Y._pointerListenClick=!1,e.dragStatus="stopped");const o=e.node.getLayer()||e.node instanceof Y.Stage&&e.node;o&&o.batchDraw()})},_endDragAfter(l){oe._dragElements.forEach((e,n)=>{e.dragStatus==="stopped"&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:l},!0),e.dragStatus!=="dragging"&&oe._dragElements.delete(n)})}};Y.isBrowser&&(window.addEventListener("mouseup",oe._endDragBefore,!0),window.addEventListener("touchend",oe._endDragBefore,!0),window.addEventListener("mousemove",oe._drag),window.addEventListener("touchmove",oe._drag),window.addEventListener("mouseup",oe._endDragAfter,!1),window.addEventListener("touchend",oe._endDragAfter,!1));var Pe="absoluteOpacity",je="allEventListeners",Te="absoluteTransform",Ve="absoluteScale",Ce="canvas",ht="Change",pt="children",Ht="konva",ot="listening",$e="mouseenter",lt="mouseleave",He="name",dt="set",Qe="Shape",ft=" ",Ut="stage",be="transform",yr="Stage",_r="visible",Wt=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(ft);let mt=1;class b{constructor(e){this._id=mt++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===be||e===Te)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,n){var a=this._cache.get(e),s=e===be||e===Te,o=a===void 0||s&&a.dirty===!0;return o&&(a=n.call(this),this._cache.set(e,a)),a}_calculate(e,n,a){if(!this._attachedDepsListeners.get(e)){const s=n.map(o=>o+"Change.konva").join(ft);this.on(s,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,a)}_getCanvasCache(){return this._cache.get(Ce)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===Te&&this.fire("absoluteTransformChange")}clearCache(){return this._cache.delete(Ce),this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){var n=e||{},a={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(a=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var s=Math.ceil(n.width||a.width),o=Math.ceil(n.height||a.height),u=n.pixelRatio,f=n.x===void 0?a.x:n.x,c=n.y===void 0?a.y:n.y,g=n.offset||0,p=n.drawBorder||!1,S=n.hitCanvasPixelRatio||1;if(!s||!o){P.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}s+=g*2,o+=g*2,f-=g,c-=g;var m=new pe({pixelRatio:u,width:s,height:o}),w=new pe({pixelRatio:u,width:0,height:0}),C=new we({pixelRatio:S,width:s,height:o}),R=m.getContext(),T=C.getContext();return C.isCache=!0,m.isCache=!0,this._cache.delete(Ce),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(m.getContext()._context.imageSmoothingEnabled=!1,w.getContext()._context.imageSmoothingEnabled=!1),R.save(),T.save(),R.translate(-f,-c),T.translate(-f,-c),this._isUnderCache=!0,this._clearSelfAndDescendantCache(Pe),this._clearSelfAndDescendantCache(Ve),this.drawScene(m,this),this.drawHit(C,this),this._isUnderCache=!1,R.restore(),T.restore(),p&&(R.save(),R.beginPath(),R.rect(0,0,s,o),R.closePath(),R.setAttr("strokeStyle","red"),R.setAttr("lineWidth",5),R.stroke(),R.restore()),this._cache.set(Ce,{scene:m,filter:w,hit:C,x:f,y:c}),this._requestDraw(),this}isCached(){return this._cache.has(Ce)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,n){var a=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],s,o,u,f,c=this.getAbsoluteTransform(n);return a.forEach(function(g){var p=c.point(g);s===void 0&&(s=u=p.x,o=f=p.y),s=Math.min(s,p.x),o=Math.min(o,p.y),u=Math.max(u,p.x),f=Math.max(f,p.y)}),{x:s,y:o,width:u-s,height:f-o}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();e.translate(n.x,n.y);var a=this._getCachedSceneCanvas(),s=a.pixelRatio;e.drawImage(a._canvas,0,0,a.width/s,a.height/s),e.restore()}_drawCachedHitCanvas(e){var n=this._getCanvasCache(),a=n.hit;e.save(),e.translate(n.x,n.y),e.drawImage(a._canvas,0,0,a.width/a.pixelRatio,a.height/a.pixelRatio),e.restore()}_getCachedSceneCanvas(){var e=this.filters(),n=this._getCanvasCache(),a=n.scene,s=n.filter,o=s.getContext(),u,f,c,g;if(e){if(!this._filterUpToDate){var p=a.pixelRatio;s.setSize(a.width/a.pixelRatio,a.height/a.pixelRatio);try{for(u=e.length,o.clear(),o.drawImage(a._canvas,0,0,a.getWidth()/p,a.getHeight()/p),f=o.getImageData(0,0,s.getWidth(),s.getHeight()),c=0;c<u;c++){if(g=e[c],typeof g!="function"){P.error("Filter should be type of function, but got "+typeof g+" instead. Please check correct filters");continue}g.call(this,f),o.putImageData(f,0,0)}}catch(S){P.error("Unable to apply filter. "+S.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return s}return a}on(e,n){if(this._cache&&this._cache.delete(je),arguments.length===3)return this._delegate.apply(this,arguments);var a=e.split(ft),s=a.length,o,u,f,c,g;for(o=0;o<s;o++)u=a[o],f=u.split("."),c=f[0],g=f[1]||"",this.eventListeners[c]||(this.eventListeners[c]=[]),this.eventListeners[c].push({name:g,handler:n});return this}off(e,n){var a=(e||"").split(ft),s=a.length,o,u,f,c,g,p;if(this._cache&&this._cache.delete(je),!e)for(u in this.eventListeners)this._off(u);for(o=0;o<s;o++)if(f=a[o],c=f.split("."),g=c[0],p=c[1],g)this.eventListeners[g]&&this._off(g,p,n);else for(u in this.eventListeners)this._off(u,p,n);return this}dispatchEvent(e){var n={target:this,type:e.type,evt:e};return this.fire(e.type,n),this}addEventListener(e,n){return this.on(e,function(a){n.call(this,a.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,n,a){var s=this;this.on(e,function(o){for(var u=o.target.findAncestors(n,!0,s),f=0;f<u.length;f++)o=P.cloneObject(o),o.currentTarget=u[f],a.call(u[f],o)})}remove(){return this.isDragging()&&this.stopDrag(),oe._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Te),this._clearSelfAndDescendantCache(Pe),this._clearSelfAndDescendantCache(Ve),this._clearSelfAndDescendantCache(Ut),this._clearSelfAndDescendantCache(_r),this._clearSelfAndDescendantCache(ot)}_remove(){this._clearCaches();var e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this}getAttr(e){var n="get"+P._capitalize(e);return P._isFunction(this[n])?this[n]():this.attrs[e]}getAncestors(){for(var e=this.getParent(),n=[];e;)n.push(e),e=e.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{var n,a;if(!e)return this;for(n in e)n!==pt&&(a=dt+P._capitalize(n),P._isFunction(this[a])?this[a](e[n]):this._setAttr(n,e[n]))}),this}isListening(){return this._getCache(ot,this._isListening)}_isListening(e){if(!this.listening())return!1;const a=this.getParent();return a&&a!==e&&this!==e?a._isListening(e):!0}isVisible(){return this._getCache(_r,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const a=this.getParent();return a&&a!==e&&this!==e?a._isVisible(e):!0}shouldDrawHit(e,n=!1){if(e)return this._isVisible(e)&&this._isListening(e);var a=this.getLayer(),s=!1;oe._dragElements.forEach(u=>{u.dragStatus==="dragging"&&(u.node.nodeType==="Stage"||u.node.getLayer()===a)&&(s=!0)});var o=!n&&!Y.hitOnDragEnabled&&s;return this.isListening()&&this.isVisible()&&!o}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var e=this.getDepth(),n=this,a=0,s,o,u,f;function c(g){for(s=[],o=g.length,u=0;u<o;u++)f=g[u],a++,f.nodeType!==Qe&&(s=s.concat(f.getChildren().slice())),f._id===n._id&&(u=o);s.length>0&&s[0].getDepth()<=e&&c(s)}return n.nodeType!==yr&&c(n.getStage().getChildren()),a}getDepth(){for(var e=0,n=this.parent;n;)e++,n=n.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(be),this._clearSelfAndDescendantCache(Te)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){if(!this.getStage())return null;var e=this.getStage().getPointerPosition();if(!e)return null;var n=this.getAbsoluteTransform().copy();return n.invert(),n.point(e)}getAbsolutePosition(e){let n=!1,a=this.parent;for(;a;){if(a.isCached()){n=!0;break}a=a.parent}n&&!e&&(e=!0);var s=this.getAbsoluteTransform(e).getMatrix(),o=new D,u=this.offset();return o.m=s.slice(),o.translate(u.x,u.y),o.getTranslation()}setAbsolutePosition(e){var n=this._clearTransform();this.attrs.x=n.x,this.attrs.y=n.y,delete n.x,delete n.y,this._clearCache(be);var a=this._getAbsoluteTransform().copy();return a.invert(),a.translate(e.x,e.y),e={x:this.attrs.x+a.getTranslation().x,y:this.attrs.y+a.getTranslation().y},this._setTransform(n),this.setPosition({x:e.x,y:e.y}),this._clearCache(be),this._clearSelfAndDescendantCache(Te),this}_setTransform(e){var n;for(n in e)this.attrs[n]=e[n]}_clearTransform(){var e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){var n=e.x,a=e.y,s=this.x(),o=this.y();return n!==void 0&&(s+=n),a!==void 0&&(o+=a),this.setPosition({x:s,y:o}),this}_eachAncestorReverse(e,n){var a=[],s=this.getParent(),o,u;if(!(n&&n._id===this._id)){for(a.unshift(this);s&&(!n||s._id!==n._id);)a.unshift(s),s=s.parent;for(o=a.length,u=0;u<o;u++)e(a[u])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return P.warn("Node has no parent. moveToTop function is ignored."),!1;var e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return P.warn("Node has no parent. moveUp function is ignored."),!1;var e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return P.warn("Node has no parent. moveDown function is ignored."),!1;var e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return P.warn("Node has no parent. moveToBottom function is ignored."),!1;var e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return P.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&P.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(Pe,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var e=this.opacity(),n=this.getParent();return n&&!n._isUnderCache&&(e*=n.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){var e={},n=this.getAttrs(),a,s,o,u,f;e.attrs={};for(a in n)s=n[a],f=P.isObject(s)&&!P._isPlainObject(s)&&!P._isArray(s),!f&&(o=typeof this[a]=="function"&&this[a],delete n[a],u=o?o.call(this):null,n[a]=s,u!==s&&(e.attrs[a]=s));return e.className=this.getClassName(),P._prepareToStringify(e)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,n,a){var s=[];n&&this._isMatch(e)&&s.push(this);for(var o=this.parent;o;){if(o===a)return s;o._isMatch(e)&&s.push(o),o=o.parent}return s}isAncestorOf(e){return!1}findAncestor(e,n,a){return this.findAncestors(e,n,a)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);var n=e.replace(/ /g,"").split(","),a=n.length,s,o;for(s=0;s<a;s++)if(o=n[s],P.isValidSelector(o)||(P.warn('Selector "'+o+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),P.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),P.warn("Konva is awesome, right?")),o.charAt(0)==="#"){if(this.id()===o.slice(1))return!0}else if(o.charAt(0)==="."){if(this.hasName(o.slice(1)))return!0}else if(this.className===o||this.nodeType===o)return!0;return!1}getLayer(){var e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(Ut,this._getStage)}_getStage(){var e=this.getParent();if(e)return e.getStage()}fire(e,n={},a){return n.target=n.target||this,a?this._fireAndBubble(e,n):this._fire(e,n),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(Te,this._getAbsoluteTransform)}_getAbsoluteTransform(e){var n;if(e)return n=new D,this._eachAncestorReverse(function(s){var o=s.transformsEnabled();o==="all"?n.multiply(s.getTransform()):o==="position"&&n.translate(s.x()-s.offsetX(),s.y()-s.offsetY())},e),n;n=this._cache.get(Te)||new D,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();var a=this.transformsEnabled();if(a==="all")n.multiply(this.getTransform());else if(a==="position"){const s=this.attrs.x||0,o=this.attrs.y||0,u=this.attrs.offsetX||0,f=this.attrs.offsetY||0;n.translate(s-u,o-f)}return n.dirty=!1,n}getAbsoluteScale(e){for(var n=this;n;)n._isUnderCache&&(e=n),n=n.getParent();const s=this.getAbsoluteTransform(e).decompose();return{x:s.scaleX,y:s.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(be,this._getTransform)}_getTransform(){var e,n,a=this._cache.get(be)||new D;a.reset();var s=this.x(),o=this.y(),u=Y.getAngle(this.rotation()),f=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,c=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,g=this.attrs.skewX||0,p=this.attrs.skewY||0,S=this.attrs.offsetX||0,m=this.attrs.offsetY||0;return(s!==0||o!==0)&&a.translate(s,o),u!==0&&a.rotate(u),(g!==0||p!==0)&&a.skew(g,p),(f!==1||c!==1)&&a.scale(f,c),(S!==0||m!==0)&&a.translate(-1*S,-1*m),a.dirty=!1,a}clone(e){var n=P.cloneObject(this.attrs),a,s,o,u,f;for(a in e)n[a]=e[a];var c=new this.constructor(n);for(a in this.eventListeners)for(s=this.eventListeners[a],o=s.length,u=0;u<o;u++)f=s[u],f.name.indexOf(Ht)<0&&(c.eventListeners[a]||(c.eventListeners[a]=[]),c.eventListeners[a].push(f));return c}_toKonvaCanvas(e){e=e||{};var n=this.getClientRect(),a=this.getStage(),s=e.x!==void 0?e.x:n.x,o=e.y!==void 0?e.y:n.y,u=e.pixelRatio||1,f=new pe({width:e.width||n.width||(a?a.width():0),height:e.height||n.height||(a?a.height():0),pixelRatio:u}),c=f.getContext();return c.save(),(s||o)&&c.translate(-1*s,-1*o),this.drawScene(f),c.restore(),f}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};var n=e.mimeType||null,a=e.quality||null,s=this._toKonvaCanvas(e).toDataURL(n,a);return e.callback&&e.callback(s),s}toImage(e){if(!e||!e.callback)throw"callback required for toImage method config argument";var n=e.callback;delete e.callback,P._urlToImage(this.toDataURL(e),function(a){n(a)})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Y.dragDistance}_off(e,n,a){var s=this.eventListeners[e],o,u,f;for(o=0;o<s.length;o++)if(u=s[o].name,f=s[o].handler,(u!=="konva"||n==="konva")&&(!n||u===n)&&(!a||a===f)){if(s.splice(o,1),s.length===0){delete this.eventListeners[e];break}o--}}_fireChangeEvent(e,n,a){this._fire(e+ht,{oldVal:n,newVal:a})}addName(e){if(!this.hasName(e)){var n=this.name(),a=n?n+" "+e:e;this.name(a)}return this}hasName(e){if(!e)return!1;const n=this.name();if(!n)return!1;var a=(n||"").split(/\s/g);return a.indexOf(e)!==-1}removeName(e){var n=(this.name()||"").split(/\s/g),a=n.indexOf(e);return a!==-1&&(n.splice(a,1),this.name(n.join(" "))),this}setAttr(e,n){var a=this[dt+P._capitalize(e)];return P._isFunction(a)?a.call(this,n):this._setAttr(e,n),this}_requestDraw(){if(Y.autoDrawEnabled){const e=this.getLayer()||this.getStage();e==null||e.batchDraw()}}_setAttr(e,n){var a=this.attrs[e];a===n&&!P.isObject(n)||(n==null?delete this.attrs[e]:this.attrs[e]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(e,a,n),this._requestDraw())}_setComponentAttr(e,n,a){var s;a!==void 0&&(s=this.attrs[e],s||(this.attrs[e]=this.getAttr(e)),this.attrs[e][n]=a,this._fireChangeEvent(e,s,a))}_fireAndBubble(e,n,a){n&&this.nodeType===Qe&&(n.target=this);var s=(e===$e||e===lt)&&(a&&(this===a||this.isAncestorOf&&this.isAncestorOf(a))||this.nodeType==="Stage"&&!a);if(!s){this._fire(e,n);var o=(e===$e||e===lt)&&a&&a.isAncestorOf&&a.isAncestorOf(this)&&!a.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!o&&(a&&a.parent?this._fireAndBubble.call(this.parent,e,n,a):this._fireAndBubble.call(this.parent,e,n))}}_getProtoListeners(e){let n=this._cache.get(je);if(!n){n={};let s=Object.getPrototypeOf(this);for(;s;){if(!s.eventListeners){s=Object.getPrototypeOf(s);continue}for(var a in s.eventListeners){const o=s.eventListeners[a],u=n[a]||[];n[a]=o.concat(u)}s=Object.getPrototypeOf(s)}this._cache.set(je,n)}return n[e]}_fire(e,n){n=n||{},n.currentTarget=this,n.type=e;const a=this._getProtoListeners(e);if(a)for(var s=0;s<a.length;s++)a[s].handler.call(this,n);const o=this.eventListeners[e];if(o)for(var s=0;s<o.length;s++)o[s].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){var n=e?e.pointerId:void 0,a=this.getStage(),s=this.getAbsolutePosition(),o=a._getPointerById(n)||a._changedPointerPositions[0]||s;oe._dragElements.set(this._id,{node:this,startPointerPos:o,offset:{x:o.x-s.x,y:o.y-s.y},dragStatus:"ready",pointerId:n})}startDrag(e,n=!0){oe._dragElements.has(this._id)||this._createDragElement(e);const a=oe._dragElements.get(this._id);a.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},n)}_setDragPosition(e,n){const a=this.getStage()._getPointerById(n.pointerId);if(!!a){var s={x:a.x-n.offset.x,y:a.y-n.offset.y},o=this.dragBoundFunc();if(o!==void 0){const u=o.call(this,s,e);u?s=u:P.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==s.x||this._lastPos.y!==s.y)&&(this.setAbsolutePosition(s),this._requestDraw()),this._lastPos=s}}stopDrag(e){const n=oe._dragElements.get(this._id);n&&(n.dragStatus="stopped"),oe._endDragBefore(e),oe._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=oe._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){var n=e.evt.button!==void 0,a=!n||Y.dragButtons.indexOf(e.evt.button)>=0;if(!!a&&!this.isDragging()){var s=!1;oe._dragElements.forEach(o=>{this.isAncestorOf(o.node)&&(s=!0)}),s||this._createDragElement(e)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var e=this.getStage();if(!e)return;const n=oe._dragElements.get(this._id),a=n&&n.dragStatus==="dragging",s=n&&n.dragStatus==="ready";a?this.stopDrag():s&&oe._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const n=this.getStage();if(!n)return!1;const a={x:-e.x,y:-e.y,width:n.width()+e.x,height:n.height()+e.y};return P.haveIntersection(a,this.getClientRect())}static create(e,n){return P._isString(e)&&(e=JSON.parse(e)),this._createNode(e,n)}static _createNode(e,n){var a=b.prototype.getClassName.call(e),s=e.children,o,u,f;n&&(e.attrs.container=n),Y[a]||(P.warn('Can not find a node with class name "'+a+'". Fallback to "Shape".'),a="Shape");const c=Y[a];if(o=new c(e.attrs),s)for(u=s.length,f=0;f<u;f++)o.add(b._createNode(s[f]));return o}}b.prototype.nodeType="Node",b.prototype._attrsAffectingSize=[],b.prototype.eventListeners={},b.prototype.on.call(b.prototype,Wt,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(be),this._clearSelfAndDescendantCache(Te)}),b.prototype.on.call(b.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(_r)}),b.prototype.on.call(b.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(ot)}),b.prototype.on.call(b.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(Pe)});const ge=_.addGetterSetter;ge(b,"zIndex"),ge(b,"absolutePosition"),ge(b,"position"),ge(b,"x",0,L()),ge(b,"y",0,L()),ge(b,"globalCompositeOperation","source-over",ze()),ge(b,"opacity",1,L()),ge(b,"name","",ze()),ge(b,"id","",ze()),ge(b,"rotation",0,L()),_.addComponentsGetterSetter(b,"scale",["x","y"]),ge(b,"scaleX",1,L()),ge(b,"scaleY",1,L()),_.addComponentsGetterSetter(b,"skew",["x","y"]),ge(b,"skewX",0,L()),ge(b,"skewY",0,L()),_.addComponentsGetterSetter(b,"offset",["x","y"]),ge(b,"offsetX",0,L()),ge(b,"offsetY",0,L()),ge(b,"dragDistance",null,L()),ge(b,"width",0,L()),ge(b,"height",0,L()),ge(b,"listening",!0,Fe()),ge(b,"preventDefault",!0,Fe()),ge(b,"filters",null,function(l){return this._filterUpToDate=!1,l}),ge(b,"visible",!0,Fe()),ge(b,"transformsEnabled","all",ze()),ge(b,"size"),ge(b,"dragBoundFunc"),ge(b,"draggable",!1,Fe()),_.backCompat(b,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class et extends b{constructor(){super(...arguments);this.children=[]}getChildren(e){if(!e)return this.children||[];const n=this.children||[];var a=[];return n.forEach(function(s){e(s)&&a.push(s)}),a}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(arguments.length>1){for(var n=0;n<arguments.length;n++)this.add(arguments[n]);return this}var a=e[0];return a.getParent()?(a.moveTo(this),this):(this._validateAdd(a),a.index=this.getChildren().length,a.parent=this,a._clearCaches(),this.getChildren().push(a),this._fire("add",{child:a}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){var n=this._generalFind(e,!0);return n.length>0?n[0]:void 0}_generalFind(e,n){var a=[];return this._descendants(s=>{const o=s._isMatch(e);return o&&a.push(s),!!(o&&n)}),a}_descendants(e){let n=!1;const a=this.getChildren();for(const s of a){if(n=e(s),n)return!0;if(!!s.hasChildren()&&(n=s._descendants(e),n))return!0}return!1}toObject(){var e=b.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(n=>{e.children.push(n.toObject())}),e}isAncestorOf(e){for(var n=e.getParent();n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(e){var n=b.prototype.clone.call(this,e);return this.getChildren().forEach(function(a){n.add(a.clone())}),n}getAllIntersections(e){var n=[];return this.find("Shape").forEach(function(a){a.isVisible()&&a.intersects(e)&&n.push(a)}),n}_clearSelfAndDescendantCache(e){var n;super._clearSelfAndDescendantCache(e),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(a){a._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(n,a){n.index=a}),this._requestDraw()}drawScene(e,n){var a=this.getLayer(),s=e||a&&a.getCanvas(),o=s&&s.getContext(),u=this._getCanvasCache(),f=u&&u.scene,c=s&&s.isCache;if(!this.isVisible()&&!c)return this;if(f){o.save();var g=this.getAbsoluteTransform(n).getMatrix();o.transform(g[0],g[1],g[2],g[3],g[4],g[5]),this._drawCachedSceneCanvas(o),o.restore()}else this._drawChildren("drawScene",s,n);return this}drawHit(e,n){if(!this.shouldDrawHit(n))return this;var a=this.getLayer(),s=e||a&&a.hitCanvas,o=s&&s.getContext(),u=this._getCanvasCache(),f=u&&u.hit;if(f){o.save();var c=this.getAbsoluteTransform(n).getMatrix();o.transform(c[0],c[1],c[2],c[3],c[4],c[5]),this._drawCachedHitCanvas(o),o.restore()}else this._drawChildren("drawHit",s,n);return this}_drawChildren(e,n,a){var s,o=n&&n.getContext(),u=this.clipWidth(),f=this.clipHeight(),c=this.clipFunc(),g=u&&f||c;const p=a===this;if(g){o.save();var S=this.getAbsoluteTransform(a),m=S.getMatrix();if(o.transform(m[0],m[1],m[2],m[3],m[4],m[5]),o.beginPath(),c)c.call(this,o,this);else{var w=this.clipX(),C=this.clipY();o.rect(w,C,u,f)}o.clip(),m=S.copy().invert().getMatrix(),o.transform(m[0],m[1],m[2],m[3],m[4],m[5])}var R=!p&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";R&&(o.save(),o._applyGlobalCompositeOperation(this)),(s=this.children)===null||s===void 0||s.forEach(function(T){T[e](n,a)}),R&&o.restore(),g&&o.restore()}getClientRect(e){var n;e=e||{};var a=e.skipTransform,s=e.relativeTo,o,u,f,c,g={x:Infinity,y:Infinity,width:0,height:0},p=this;(n=this.children)===null||n===void 0||n.forEach(function(R){if(!!R.visible()){var T=R.getClientRect({relativeTo:p,skipShadow:e.skipShadow,skipStroke:e.skipStroke});T.width===0&&T.height===0||(o===void 0?(o=T.x,u=T.y,f=T.x+T.width,c=T.y+T.height):(o=Math.min(o,T.x),u=Math.min(u,T.y),f=Math.max(f,T.x+T.width),c=Math.max(c,T.y+T.height)))}});for(var S=this.find("Shape"),m=!1,w=0;w<S.length;w++){var C=S[w];if(C._isVisible(this)){m=!0;break}}return m&&o!==void 0?g={x:o,y:u,width:f-o,height:c-u}:g={x:0,y:0,width:0,height:0},a?g:this._transformedRect(g,s)}}_.addComponentsGetterSetter(et,"clip",["x","y","width","height"]),_.addGetterSetter(et,"clipX",void 0,L()),_.addGetterSetter(et,"clipY",void 0,L()),_.addGetterSetter(et,"clipWidth",void 0,L()),_.addGetterSetter(et,"clipHeight",void 0,L()),_.addGetterSetter(et,"clipFunc");const Or=new Map,vn=Y._global.PointerEvent!==void 0;function Sr(l){return Or.get(l)}function en(l){return{evt:l,pointerId:l.pointerId}}function rt(l,e){return Or.get(l)===e}function nt(l,e){Tt(l),!!e.getStage()&&(Or.set(l,e),vn&&e._fire("gotpointercapture",en(new PointerEvent("gotpointercapture"))))}function Tt(l,e){const n=Or.get(l);if(!n)return;const a=n.getStage();a&&a.content,Or.delete(l),vn&&n._fire("lostpointercapture",en(new PointerEvent("lostpointercapture")))}var dr="Stage",Xi="string",ji="px",Gs="mouseout",Ia="mouseleave",Oa="mouseover",Vi="mouseenter",Na="mousemove",gi="mousedown",An="mouseup",pn="pointermove",tn="pointerdown",rn="pointerup",Nr="pointercancel",nn="lostpointercapture",Ne="pointerout",Ue="pointerleave",Cr="pointerover",ct="pointerenter",kt="contextmenu",an="touchstart",mn="touchend",It="touchmove",Zn="touchcancel",vi="wheel",Da=5,pi=[[Vi,"_pointerenter"],[gi,"_pointerdown"],[Na,"_pointermove"],[An,"_pointerup"],[Ia,"_pointerleave"],[an,"_pointerdown"],[It,"_pointermove"],[mn,"_pointerup"],[Zn,"_pointercancel"],[Oa,"_pointerover"],[vi,"_wheel"],[kt,"_contextmenu"],[tn,"_pointerdown"],[pn,"_pointermove"],[rn,"_pointerup"],[Nr,"_pointercancel"],[nn,"_lostpointercapture"]];const mi={mouse:{[Ne]:Gs,[Ue]:Ia,[Cr]:Oa,[ct]:Vi,[pn]:Na,[tn]:gi,[rn]:An,[Nr]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[Ne]:"touchout",[Ue]:"touchleave",[Cr]:"touchover",[ct]:"touchenter",[pn]:It,[tn]:an,[rn]:mn,[Nr]:Zn,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[Ne]:Ne,[Ue]:Ue,[Cr]:Cr,[ct]:ct,[pn]:pn,[tn]:tn,[rn]:rn,[Nr]:Nr,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},yn=l=>l.indexOf("pointer")>=0?"pointer":l.indexOf("touch")>=0?"touch":"mouse",fr=l=>{const e=yn(l);if(e==="pointer")return Y.pointerEventsEnabled&&mi.pointer;if(e==="touch")return mi.touch;if(e==="mouse")return mi.mouse};function Ga(l={}){return(l.clipFunc||l.clipWidth||l.clipHeight)&&P.warn("Stage does not support clipping. Please use clip for Layers or Groups."),l}const yi="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);",Ie=[];class Dr extends et{constructor(e){super(Ga(e));this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),Ie.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{Ga(this.attrs)}),this._checkVisibility()}_validateAdd(e){const n=e.getType()==="Layer",a=e.getType()==="FastLayer";n||a||P.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if(typeof e===Xi){if(e.charAt(0)==="."){var n=e.slice(1);e=document.getElementsByClassName(n)[0]}else{var a;e.charAt(0)!=="#"?a=e:a=e.slice(1),e=document.getElementById(a)}if(!e)throw"Can not find container in document with id "+a}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var e=this.children,n=e.length,a;for(a=0;a<n;a++)e[a].clear();return this}clone(e){return e||(e={}),e.container=typeof document!="undefined"&&document.createElement("div"),et.prototype.clone.call(this,e)}destroy(){super.destroy();var e=this.content;e&&P._isInDocument(e)&&this.container().removeChild(e);var n=Ie.indexOf(this);return n>-1&&Ie.splice(n,1),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(P.warn(yi),null)}_getPointerById(e){return this._pointerPositions.find(n=>n.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){e=e||{},e.x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();var n=new pe({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),a=n.getContext()._context,s=this.children;return(e.x||e.y)&&a.translate(-1*e.x,-1*e.y),s.forEach(function(o){if(!!o.isVisible()){var u=o._toKonvaCanvas(e);a.drawImage(u._canvas,e.x,e.y,u.getWidth()/u.getPixelRatio(),u.getHeight()/u.getPixelRatio())}}),n}getIntersection(e){if(!e)return null;var n=this.children,a=n.length,s=a-1,o;for(o=s;o>=0;o--){const u=n[o].getIntersection(e);if(u)return u}return null}_resizeDOM(){var e=this.width(),n=this.height();this.content&&(this.content.style.width=e+ji,this.content.style.height=n+ji),this.bufferCanvas.setSize(e,n),this.bufferHitCanvas.setSize(e,n),this.children.forEach(a=>{a.setSize({width:e,height:n}),a.draw()})}add(e,...n){if(arguments.length>1){for(var a=0;a<arguments.length;a++)this.add(arguments[a]);return this}super.add(e);var s=this.children.length;return s>Da&&P.warn("The stage has "+s+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),Y.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return rt(e,this)}setPointerCapture(e){nt(e,this)}releaseCapture(e){Tt(e,this)}getLayers(){return this.children}_bindContentEvents(){!Y.isBrowser||pi.forEach(([e,n])=>{this.content.addEventListener(e,a=>{this[n](a)})})}_pointerenter(e){this.setPointersPositions(e);const n=fr(e.type);this._fire(n.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const n=fr(e.type);this._fire(n.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let n=this[e+"targetShape"];return n&&!n.getStage()&&(n=null),n}_pointerleave(e){const n=fr(e.type),a=yn(e.type);if(!!n){this.setPointersPositions(e);var s=this._getTargetShape(a),o=!oe.isDragging||Y.hitOnDragEnabled;s&&o?(s._fireAndBubble(n.pointerout,{evt:e}),s._fireAndBubble(n.pointerleave,{evt:e}),this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this[a+"targetShape"]=null):o&&(this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(n.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[]}}_pointerdown(e){const n=fr(e.type),a=yn(e.type);if(!!n){this.setPointersPositions(e);var s=!1;this._changedPointerPositions.forEach(o=>{var u=this.getIntersection(o);if(oe.justDragged=!1,Y["_"+a+"ListenClick"]=!0,!(u&&u.isListening()))return;Y.capturePointerEventsEnabled&&u.setPointerCapture(o.id),this[a+"ClickStartShape"]=u,u._fireAndBubble(n.pointerdown,{evt:e,pointerId:o.id}),s=!0;const c=e.type.indexOf("touch")>=0;u.preventDefault()&&e.cancelable&&c&&e.preventDefault()}),s||this._fire(n.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(e){const n=fr(e.type),a=yn(e.type);if(!n)return;oe.isDragging&&oe.node.preventDefault()&&e.cancelable&&e.preventDefault(),this.setPointersPositions(e);var s=!oe.isDragging||Y.hitOnDragEnabled;if(!s)return;var o={};let u=!1;var f=this._getTargetShape(a);this._changedPointerPositions.forEach(c=>{const g=Sr(c.id)||this.getIntersection(c),p=c.id,S={evt:e,pointerId:p};var m=f!==g;if(m&&f&&(f._fireAndBubble(n.pointerout,Object.assign({},S),g),f._fireAndBubble(n.pointerleave,Object.assign({},S),g)),g){if(o[g._id])return;o[g._id]=!0}g&&g.isListening()?(u=!0,m&&(g._fireAndBubble(n.pointerover,Object.assign({},S),f),g._fireAndBubble(n.pointerenter,Object.assign({},S),f),this[a+"targetShape"]=g),g._fireAndBubble(n.pointermove,Object.assign({},S))):f&&(this._fire(n.pointerover,{evt:e,target:this,currentTarget:this,pointerId:p}),this[a+"targetShape"]=null)}),u||this._fire(n.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const n=fr(e.type),a=yn(e.type);if(!n)return;this.setPointersPositions(e);const s=this[a+"ClickStartShape"],o=this[a+"ClickEndShape"];var u={};let f=!1;this._changedPointerPositions.forEach(c=>{const g=Sr(c.id)||this.getIntersection(c);if(g){if(g.releaseCapture(c.id),u[g._id])return;u[g._id]=!0}const p=c.id,S={evt:e,pointerId:p};let m=!1;Y["_"+a+"InDblClickWindow"]?(m=!0,clearTimeout(this[a+"DblTimeout"])):oe.justDragged||(Y["_"+a+"InDblClickWindow"]=!0,clearTimeout(this[a+"DblTimeout"])),this[a+"DblTimeout"]=setTimeout(function(){Y["_"+a+"InDblClickWindow"]=!1},Y.dblClickWindow),g&&g.isListening()?(f=!0,this[a+"ClickEndShape"]=g,g._fireAndBubble(n.pointerup,Object.assign({},S)),Y["_"+a+"ListenClick"]&&s&&s===g&&(g._fireAndBubble(n.pointerclick,Object.assign({},S)),m&&o&&o===g&&g._fireAndBubble(n.pointerdblclick,Object.assign({},S)))):(this[a+"ClickEndShape"]=null,Y["_"+a+"ListenClick"]&&this._fire(n.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:p}),m&&this._fire(n.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:p}))}),f||this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),Y["_"+a+"ListenClick"]=!1,e.cancelable&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);var n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(kt,{evt:e}):this._fire(kt,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);var n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(vi,{evt:e}):this._fire(vi,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const n=Sr(e.pointerId)||this.getIntersection(this.getPointerPosition());n&&n._fireAndBubble(rn,en(e)),Tt(e.pointerId)}_lostpointercapture(e){Tt(e.pointerId)}setPointersPositions(e){var n=this._getContentPosition(),a=null,s=null;e=e||window.event,e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,o=>{this._pointerPositions.push({id:o.identifier,x:(o.clientX-n.left)/n.scaleX,y:(o.clientY-n.top)/n.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,o=>{this._changedPointerPositions.push({id:o.identifier,x:(o.clientX-n.left)/n.scaleX,y:(o.clientY-n.top)/n.scaleY})})):(a=(e.clientX-n.left)/n.scaleX,s=(e.clientY-n.top)/n.scaleY,this.pointerPos={x:a,y:s},this._pointerPositions=[{x:a,y:s,id:P._getFirstPointerId(e)}],this._changedPointerPositions=[{x:a,y:s,id:P._getFirstPointerId(e)}])}_setPointerPosition(e){P.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new pe({width:this.width(),height:this.height()}),this.bufferHitCanvas=new we({pixelRatio:1,width:this.width(),height:this.height()}),!!Y.isBrowser){var e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}}cache(){return P.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}}Dr.prototype.nodeType=dr,H(Dr),_.addGetterSetter(Dr,"container");var ba="hasShadow",za="shadowRGBA",Mn="patternImage",Ki="linearGradient",Qn="radialGradient";let jr;function qn(){return jr||(jr=P.createCanvasElement().getContext("2d"),jr)}const sn={};function on(l){l.fill()}function bs(l){l.stroke()}function zs(l){l.fill()}function Fs(l){l.stroke()}function Bs(){this._clearCache(ba)}function Zi(){this._clearCache(za)}function Qi(){this._clearCache(Mn)}function Hs(){this._clearCache(Ki)}function Fa(){this._clearCache(Qn)}class G extends b{constructor(e){super(e);let n;for(;n=P.getRandomColor(),!(n&&!(n in sn)););this.colorKey=n,sn[n]=this}getContext(){return P.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return P.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(ba,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(Mn,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){var e=qn();const n=e.createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(n&&n.setTransform){const a=new D;a.translate(this.fillPatternX(),this.fillPatternY()),a.rotate(Y.getAngle(this.fillPatternRotation())),a.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),a.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const s=a.getMatrix();n.setTransform({a:s[0],b:s[1],c:s[2],d:s[3],e:s[4],f:s[5]})}return n}}_getLinearGradient(){return this._getCache(Ki,this.__getLinearGradient)}__getLinearGradient(){var e=this.fillLinearGradientColorStops();if(e){for(var n=qn(),a=this.fillLinearGradientStartPoint(),s=this.fillLinearGradientEndPoint(),o=n.createLinearGradient(a.x,a.y,s.x,s.y),u=0;u<e.length;u+=2)o.addColorStop(e[u],e[u+1]);return o}}_getRadialGradient(){return this._getCache(Qn,this.__getRadialGradient)}__getRadialGradient(){var e=this.fillRadialGradientColorStops();if(e){for(var n=qn(),a=this.fillRadialGradientStartPoint(),s=this.fillRadialGradientEndPoint(),o=n.createRadialGradient(a.x,a.y,this.fillRadialGradientStartRadius(),s.x,s.y,this.fillRadialGradientEndRadius()),u=0;u<e.length;u+=2)o.addColorStop(e[u],e[u+1]);return o}}getShadowRGBA(){return this._getCache(za,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var e=P.colorToRGBA(this.shadowColor());return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const e=this.hitStrokeWidth();return e==="auto"?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){var n=this.getStage(),a=n.bufferHitCanvas,s;return a.getContext().clear(),this.drawHit(a,null,!0),s=a.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data,s[3]>0}destroy(){return b.prototype.destroy.call(this),delete sn[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var n;if(!this.getStage()||!((n=this.attrs.perfectDrawEnabled)!==null&&n!==void 0?n:!0))return!1;const s=e||this.hasFill(),o=this.hasStroke(),u=this.getAbsoluteOpacity()!==1;if(s&&o&&u)return!0;const f=this.hasShadow(),c=this.shadowForStrokeEnabled();return!!(s&&o&&f&&c)}setStrokeHitEnabled(e){P.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){const n=e.skipTransform,a=e.relativeTo,s=this.getSelfRect(),u=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,f=s.width+u,c=s.height+u,g=!e.skipShadow&&this.hasShadow(),p=g?this.shadowOffsetX():0,S=g?this.shadowOffsetY():0,m=f+Math.abs(p),w=c+Math.abs(S),C=g&&this.shadowBlur()||0,R=m+C*2,T=w+C*2;let B=0;Math.round(u/2)!==u/2&&(B=1);const F={width:R+B,height:T+B,x:-Math.round(u/2+C)+Math.min(p,0)+s.x,y:-Math.round(u/2+C)+Math.min(S,0)+s.y};return n?F:this._transformedRect(F,a)}drawScene(e,n){var a=this.getLayer(),s=e||a.getCanvas(),o=s.getContext(),u=this._getCanvasCache(),f=this.getSceneFunc(),c=this.hasShadow(),g,p,S,m=s.isCache,w=n===this;if(!this.isVisible()&&!w)return this;if(u){o.save();var C=this.getAbsoluteTransform(n).getMatrix();return o.transform(C[0],C[1],C[2],C[3],C[4],C[5]),this._drawCachedSceneCanvas(o),o.restore(),this}if(!f)return this;if(o.save(),this._useBufferCanvas()&&!m){g=this.getStage(),p=g.bufferCanvas,S=p.getContext(),S.clear(),S.save(),S._applyLineJoin(this);var R=this.getAbsoluteTransform(n).getMatrix();S.transform(R[0],R[1],R[2],R[3],R[4],R[5]),f.call(this,S,this),S.restore();var T=p.pixelRatio;c&&o._applyShadow(this),o._applyOpacity(this),o._applyGlobalCompositeOperation(this),o.drawImage(p._canvas,0,0,p.width/T,p.height/T)}else{if(o._applyLineJoin(this),!w){var R=this.getAbsoluteTransform(n).getMatrix();o.transform(R[0],R[1],R[2],R[3],R[4],R[5]),o._applyOpacity(this),o._applyGlobalCompositeOperation(this)}c&&o._applyShadow(this),f.call(this,o,this)}return o.restore(),this}drawHit(e,n,a=!1){if(!this.shouldDrawHit(n,a))return this;var s=this.getLayer(),o=e||s.hitCanvas,u=o&&o.getContext(),f=this.hitFunc()||this.sceneFunc(),c=this._getCanvasCache(),g=c&&c.hit;if(this.colorKey||P.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),g){u.save();var p=this.getAbsoluteTransform(n).getMatrix();return u.transform(p[0],p[1],p[2],p[3],p[4],p[5]),this._drawCachedHitCanvas(u),u.restore(),this}if(!f)return this;if(u.save(),u._applyLineJoin(this),!(this===n)){var m=this.getAbsoluteTransform(n).getMatrix();u.transform(m[0],m[1],m[2],m[3],m[4],m[5])}return f.call(this,u,this),u.restore(),this}drawHitFromCache(e=0){var n=this._getCanvasCache(),a=this._getCachedSceneCanvas(),s=n.hit,o=s.getContext(),u=s.getWidth(),f=s.getHeight(),c,g,p,S,m,w;o.clear(),o.drawImage(a._canvas,0,0,u,f);try{for(c=o.getImageData(0,0,u,f),g=c.data,p=g.length,S=P._hexToRgb(this.colorKey),m=0;m<p;m+=4)w=g[m+3],w>e?(g[m]=S.r,g[m+1]=S.g,g[m+2]=S.b,g[m+3]=255):g[m+3]=0;o.putImageData(c,0,0)}catch(C){P.error("Unable to draw hit graph from cached scene canvas. "+C.message)}return this}hasPointerCapture(e){return rt(e,this)}setPointerCapture(e){nt(e,this)}releaseCapture(e){Tt(e,this)}}G.prototype._fillFunc=on,G.prototype._strokeFunc=bs,G.prototype._fillFuncHit=zs,G.prototype._strokeFuncHit=Fs,G.prototype._centroid=!1,G.prototype.nodeType="Shape",H(G),G.prototype.eventListeners={},G.prototype.on.call(G.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",Bs),G.prototype.on.call(G.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",Zi),G.prototype.on.call(G.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",Qi),G.prototype.on.call(G.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",Hs),G.prototype.on.call(G.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",Fa),_.addGetterSetter(G,"stroke",void 0,$t()),_.addGetterSetter(G,"strokeWidth",2,L()),_.addGetterSetter(G,"fillAfterStrokeEnabled",!1),_.addGetterSetter(G,"hitStrokeWidth","auto",Me()),_.addGetterSetter(G,"strokeHitEnabled",!0,Fe()),_.addGetterSetter(G,"perfectDrawEnabled",!0,Fe()),_.addGetterSetter(G,"shadowForStrokeEnabled",!0,Fe()),_.addGetterSetter(G,"lineJoin"),_.addGetterSetter(G,"lineCap"),_.addGetterSetter(G,"sceneFunc"),_.addGetterSetter(G,"hitFunc"),_.addGetterSetter(G,"dash"),_.addGetterSetter(G,"dashOffset",0,L()),_.addGetterSetter(G,"shadowColor",void 0,ze()),_.addGetterSetter(G,"shadowBlur",0,L()),_.addGetterSetter(G,"shadowOpacity",1,L()),_.addComponentsGetterSetter(G,"shadowOffset",["x","y"]),_.addGetterSetter(G,"shadowOffsetX",0,L()),_.addGetterSetter(G,"shadowOffsetY",0,L()),_.addGetterSetter(G,"fillPatternImage"),_.addGetterSetter(G,"fill",void 0,$t()),_.addGetterSetter(G,"fillPatternX",0,L()),_.addGetterSetter(G,"fillPatternY",0,L()),_.addGetterSetter(G,"fillLinearGradientColorStops"),_.addGetterSetter(G,"strokeLinearGradientColorStops"),_.addGetterSetter(G,"fillRadialGradientStartRadius",0),_.addGetterSetter(G,"fillRadialGradientEndRadius",0),_.addGetterSetter(G,"fillRadialGradientColorStops"),_.addGetterSetter(G,"fillPatternRepeat","repeat"),_.addGetterSetter(G,"fillEnabled",!0),_.addGetterSetter(G,"strokeEnabled",!0),_.addGetterSetter(G,"shadowEnabled",!0),_.addGetterSetter(G,"dashEnabled",!0),_.addGetterSetter(G,"strokeScaleEnabled",!0),_.addGetterSetter(G,"fillPriority","color"),_.addComponentsGetterSetter(G,"fillPatternOffset",["x","y"]),_.addGetterSetter(G,"fillPatternOffsetX",0,L()),_.addGetterSetter(G,"fillPatternOffsetY",0,L()),_.addComponentsGetterSetter(G,"fillPatternScale",["x","y"]),_.addGetterSetter(G,"fillPatternScaleX",1,L()),_.addGetterSetter(G,"fillPatternScaleY",1,L()),_.addComponentsGetterSetter(G,"fillLinearGradientStartPoint",["x","y"]),_.addComponentsGetterSetter(G,"strokeLinearGradientStartPoint",["x","y"]),_.addGetterSetter(G,"fillLinearGradientStartPointX",0),_.addGetterSetter(G,"strokeLinearGradientStartPointX",0),_.addGetterSetter(G,"fillLinearGradientStartPointY",0),_.addGetterSetter(G,"strokeLinearGradientStartPointY",0),_.addComponentsGetterSetter(G,"fillLinearGradientEndPoint",["x","y"]),_.addComponentsGetterSetter(G,"strokeLinearGradientEndPoint",["x","y"]),_.addGetterSetter(G,"fillLinearGradientEndPointX",0),_.addGetterSetter(G,"strokeLinearGradientEndPointX",0),_.addGetterSetter(G,"fillLinearGradientEndPointY",0),_.addGetterSetter(G,"strokeLinearGradientEndPointY",0),_.addComponentsGetterSetter(G,"fillRadialGradientStartPoint",["x","y"]),_.addGetterSetter(G,"fillRadialGradientStartPointX",0),_.addGetterSetter(G,"fillRadialGradientStartPointY",0),_.addComponentsGetterSetter(G,"fillRadialGradientEndPoint",["x","y"]),_.addGetterSetter(G,"fillRadialGradientEndPointX",0),_.addGetterSetter(G,"fillRadialGradientEndPointY",0),_.addGetterSetter(G,"fillPatternRotation",0),_.backCompat(G,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});var Us="#",_i="beforeDraw",Ba="draw",qi=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],Ha=qi.length;class ln extends et{constructor(e){super(e);this.canvas=new pe,this.hitCanvas=new we({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);var n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),e<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){b.prototype.moveToTop.call(this);var e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){var e=b.prototype.moveUp.call(this);if(!e)return!1;var n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(b.prototype.moveDown.call(this)){var e=this.getStage();if(e){var n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(b.prototype.moveToBottom.call(this)){var e=this.getStage();if(e){var n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var e=this.getNativeCanvasElement();return b.prototype.remove.call(this),e&&e.parentNode&&P._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:n}){return this.canvas.setSize(e,n),this.hitCanvas.setSize(e,n),this._setSmoothEnabled(),this}_validateAdd(e){var n=e.getType();n!=="Group"&&n!=="Shape"&&P.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e=e||{},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),b.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){P.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){P.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,P.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;for(var n=1,a=!1;;){for(let s=0;s<Ha;s++){const o=qi[s],u=this._getIntersection({x:e.x+o.x*n,y:e.y+o.y*n}),f=u.shape;if(f)return f;if(a=!!u.antialiased,!u.antialiased)break}if(a)n+=1;else return null}}_getIntersection(e){const n=this.hitCanvas.pixelRatio,a=this.hitCanvas.context.getImageData(Math.round(e.x*n),Math.round(e.y*n),1,1).data,s=a[3];if(s===255){const o=P._rgbToHex(a[0],a[1],a[2]),u=sn[Us+o];return u?{shape:u}:{antialiased:!0}}else if(s>0)return{antialiased:!0};return{}}drawScene(e,n){var a=this.getLayer(),s=e||a&&a.getCanvas();return this._fire(_i,{node:this}),this.clearBeforeDraw()&&s.getContext().clear(),et.prototype.drawScene.call(this,s,n),this._fire(Ba,{node:this}),this}drawHit(e,n){var a=this.getLayer(),s=e||a&&a.hitCanvas;return a&&a.clearBeforeDraw()&&a.getHitCanvas().getContext().clear(),et.prototype.drawHit.call(this,s,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){P.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return P.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!(!this.parent||!this.parent.content)){var e=this.parent,n=!!this.hitCanvas._canvas.parentNode;n?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}}}ln.prototype.nodeType="Layer",H(ln),_.addGetterSetter(ln,"imageSmoothingEnabled",!0),_.addGetterSetter(ln,"clearBeforeDraw",!0),_.addGetterSetter(ln,"hitGraphEnabled",!0,Fe());class Jn extends ln{constructor(e){super(e);this.listening(!1),P.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}Jn.prototype.nodeType="FastLayer",H(Jn);class Ln extends et{_validateAdd(e){var n=e.getType();n!=="Group"&&n!=="Shape"&&P.throw("You may only add groups and shapes to groups.")}}Ln.prototype.nodeType="Group",H(Ln);var xr=function(){return Je.performance&&Je.performance.now?function(){return Je.performance.now()}:function(){return new Date().getTime()}}();class Ot{constructor(e,n){this.id=Ot.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:xr(),frameRate:0},this.func=e,this.setLayers(n)}setLayers(e){var n=[];return e?e.length>0?n=e:n=[e]:n=[],this.layers=n,this}getLayers(){return this.layers}addLayer(e){var n=this.layers,a=n.length,s;for(s=0;s<a;s++)if(n[s]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){var e=Ot,n=e.animations,a=n.length,s;for(s=0;s<a;s++)if(n[s].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=xr(),Ot._addAnimation(this),this}stop(){return Ot._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){var n=e.id,a=this.animations,s=a.length,o;for(o=0;o<s;o++)if(a[o].id===n){this.animations.splice(o,1);break}}static _runFrames(){var e={},n=this.animations,a,s,o,u,f,c,g,p,S;for(u=0;u<n.length;u++)if(a=n[u],s=a.layers,o=a.func,a._updateFrameObject(xr()),c=s.length,o?S=o.call(a,a.frame)!==!1:S=!0,!!S)for(f=0;f<c;f++)g=s[f],g._id!==void 0&&(e[g._id]=g);for(p in e)!e.hasOwnProperty(p)||e[p].batchDraw()}static _animationLoop(){var e=Ot;e.animations.length?(e._runFrames(),P.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,P.requestAnimFrame(this._animationLoop))}}Ot.animations=[],Ot.animIdCounter=0,Ot.animRunning=!1;var Ji={node:1,duration:1,easing:1,onFinish:1,yoyo:1},Ua=1,yt=2,_n=3,Wa=0,Gr=["fill","stroke","shadowColor"];class $n{constructor(e,n,a,s,o,u,f){this.prop=e,this.propFunc=n,this.begin=s,this._pos=s,this.duration=u,this._change=0,this.prevPos=0,this.yoyo=f,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=a,this._change=o-this.begin,this.pause()}fire(e){var n=this[e];n&&n()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return e===void 0&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=yt,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=_n,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var e=this.getTimer()-this._startTime;this.state===yt?this.setTime(e):this.state===_n&&this.setTime(this.duration-e)}pause(){this.state=Ua,this.fire("onPause")}getTimer(){return new Date().getTime()}}class ke{constructor(e){var n=this,a=e.node,s=a._id,o,u=e.easing||In.Linear,f=!!e.yoyo,c;typeof e.duration=="undefined"?o=.3:e.duration===0?o=.001:o=e.duration,this.node=a,this._id=Wa++;var g=a.getLayer()||(a instanceof Y.Stage?a.getLayers():null);g||P.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new Ot(function(){n.tween.onEnterFrame()},g),this.tween=new $n(c,function(p){n._tweenFunc(p)},u,0,1,o*1e3,f),this._addListeners(),ke.attrs[s]||(ke.attrs[s]={}),ke.attrs[s][this._id]||(ke.attrs[s][this._id]={}),ke.tweens[s]||(ke.tweens[s]={});for(c in e)Ji[c]===void 0&&this._addAttr(c,e[c]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,n){var a=this.node,s=a._id,o,u,f,c,g,p,S,m;if(f=ke.tweens[s][e],f&&delete ke.attrs[s][f][e],o=a.getAttr(e),P._isArray(n))if(u=[],g=Math.max(n.length,o.length),e==="points"&&n.length!==o.length&&(n.length>o.length?(S=o,o=P._prepareArrayForTween(o,n,a.closed())):(p=n,n=P._prepareArrayForTween(n,o,a.closed()))),e.indexOf("fill")===0)for(c=0;c<g;c++)if(c%2==0)u.push(n[c]-o[c]);else{var w=P.colorToRGBA(o[c]);m=P.colorToRGBA(n[c]),o[c]=w,u.push({r:m.r-w.r,g:m.g-w.g,b:m.b-w.b,a:m.a-w.a})}else for(c=0;c<g;c++)u.push(n[c]-o[c]);else Gr.indexOf(e)!==-1?(o=P.colorToRGBA(o),m=P.colorToRGBA(n),u={r:m.r-o.r,g:m.g-o.g,b:m.b-o.b,a:m.a-o.a}):u=n-o;ke.attrs[s][this._id][e]={start:o,diff:u,end:n,trueEnd:p,trueStart:S},ke.tweens[s][e]=this._id}_tweenFunc(e){var n=this.node,a=ke.attrs[n._id][this._id],s,o,u,f,c,g,p,S;for(s in a){if(o=a[s],u=o.start,f=o.diff,S=o.end,P._isArray(u))if(c=[],p=Math.max(u.length,S.length),s.indexOf("fill")===0)for(g=0;g<p;g++)g%2==0?c.push((u[g]||0)+f[g]*e):c.push("rgba("+Math.round(u[g].r+f[g].r*e)+","+Math.round(u[g].g+f[g].g*e)+","+Math.round(u[g].b+f[g].b*e)+","+(u[g].a+f[g].a*e)+")");else for(g=0;g<p;g++)c.push((u[g]||0)+f[g]*e);else Gr.indexOf(s)!==-1?c="rgba("+Math.round(u.r+f.r*e)+","+Math.round(u.g+f.g*e)+","+Math.round(u.b+f.b*e)+","+(u.a+f.a*e)+")":c=u+f*e;n.setAttr(s,c)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var e=this.node,n=ke.attrs[e._id][this._id];n.points&&n.points.trueEnd&&e.setAttr("points",n.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var e=this.node,n=ke.attrs[e._id][this._id];n.points&&n.points.trueStart&&e.points(n.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var e=this.node._id,n=this._id,a=ke.tweens[e],s;this.pause();for(s in a)delete ke.tweens[e][s];delete ke.attrs[e][n]}}ke.attrs={},ke.tweens={},b.prototype.to=function(l){var e=l.onFinish;l.node=this,l.onFinish=function(){this.destroy(),e&&e()};var n=new ke(l);n.play()};const In={BackEaseIn(l,e,n,a){var s=1.70158;return n*(l/=a)*l*((s+1)*l-s)+e},BackEaseOut(l,e,n,a){var s=1.70158;return n*((l=l/a-1)*l*((s+1)*l+s)+1)+e},BackEaseInOut(l,e,n,a){var s=1.70158;return(l/=a/2)<1?n/2*(l*l*(((s*=1.525)+1)*l-s))+e:n/2*((l-=2)*l*(((s*=1.525)+1)*l+s)+2)+e},ElasticEaseIn(l,e,n,a,s,o){var u=0;return l===0?e:(l/=a)===1?e+n:(o||(o=a*.3),!s||s<Math.abs(n)?(s=n,u=o/4):u=o/(2*Math.PI)*Math.asin(n/s),-(s*Math.pow(2,10*(l-=1))*Math.sin((l*a-u)*(2*Math.PI)/o))+e)},ElasticEaseOut(l,e,n,a,s,o){var u=0;return l===0?e:(l/=a)===1?e+n:(o||(o=a*.3),!s||s<Math.abs(n)?(s=n,u=o/4):u=o/(2*Math.PI)*Math.asin(n/s),s*Math.pow(2,-10*l)*Math.sin((l*a-u)*(2*Math.PI)/o)+n+e)},ElasticEaseInOut(l,e,n,a,s,o){var u=0;return l===0?e:(l/=a/2)===2?e+n:(o||(o=a*(.3*1.5)),!s||s<Math.abs(n)?(s=n,u=o/4):u=o/(2*Math.PI)*Math.asin(n/s),l<1?-.5*(s*Math.pow(2,10*(l-=1))*Math.sin((l*a-u)*(2*Math.PI)/o))+e:s*Math.pow(2,-10*(l-=1))*Math.sin((l*a-u)*(2*Math.PI)/o)*.5+n+e)},BounceEaseOut(l,e,n,a){return(l/=a)<1/2.75?n*(7.5625*l*l)+e:l<2/2.75?n*(7.5625*(l-=1.5/2.75)*l+.75)+e:l<2.5/2.75?n*(7.5625*(l-=2.25/2.75)*l+.9375)+e:n*(7.5625*(l-=2.625/2.75)*l+.984375)+e},BounceEaseIn(l,e,n,a){return n-In.BounceEaseOut(a-l,0,n,a)+e},BounceEaseInOut(l,e,n,a){return l<a/2?In.BounceEaseIn(l*2,0,n,a)*.5+e:In.BounceEaseOut(l*2-a,0,n,a)*.5+n*.5+e},EaseIn(l,e,n,a){return n*(l/=a)*l+e},EaseOut(l,e,n,a){return-n*(l/=a)*(l-2)+e},EaseInOut(l,e,n,a){return(l/=a/2)<1?n/2*l*l+e:-n/2*(--l*(l-2)-1)+e},StrongEaseIn(l,e,n,a){return n*(l/=a)*l*l*l*l+e},StrongEaseOut(l,e,n,a){return n*((l=l/a-1)*l*l*l*l+1)+e},StrongEaseInOut(l,e,n,a){return(l/=a/2)<1?n/2*l*l*l*l*l+e:n/2*((l-=2)*l*l*l*l+2)+e},Linear(l,e,n,a){return n*l/a+e}},$i=P._assign(Y,{Util:P,Transform:D,Node:b,Container:et,Stage:Dr,stages:Ie,Layer:ln,FastLayer:Jn,Group:Ln,DD:oe,Shape:G,shapes:sn,Animation:Ot,Tween:ke,Easings:In,Context:Ge,Canvas:ue});var lo=null;class ut extends G{_sceneFunc(e){var n=Y.getAngle(this.angle()),a=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,n,a),e.arc(0,0,this.innerRadius(),n,0,!a),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),n=this.outerRadius(),a=this.clockwise(),s=Y.getAngle(a?360-this.angle():this.angle()),o=Math.cos(Math.min(s,Math.PI)),u=1,f=Math.sin(Math.min(Math.max(Math.PI,s),3*Math.PI/2)),c=Math.sin(Math.min(s,Math.PI/2)),g=o*(o>0?e:n),p=u*(u>0?n:e),S=f*(f>0?e:n),m=c*(c>0?n:e);return{x:Math.round(g),y:Math.round(a?-1*m:S),width:Math.round(p-g),height:Math.round(m-S)}}}ut.prototype._centroid=!0,ut.prototype.className="Arc",ut.prototype._attrsAffectingSize=["innerRadius","outerRadius"],H(ut),_.addGetterSetter(ut,"innerRadius",0,L()),_.addGetterSetter(ut,"outerRadius",0,L()),_.addGetterSetter(ut,"angle",0,L()),_.addGetterSetter(ut,"clockwise",!1,Fe());function ea(l,e,n,a,s,o,u){var f=Math.sqrt(Math.pow(n-l,2)+Math.pow(a-e,2)),c=Math.sqrt(Math.pow(s-n,2)+Math.pow(o-a,2)),g=u*f/(f+c),p=u*c/(f+c),S=n-g*(s-l),m=a-g*(o-e),w=n+p*(s-l),C=a+p*(o-e);return[S,m,w,C]}function ei(l,e){var n=l.length,a=[],s,o;for(s=2;s<n-2;s+=2)o=ea(l[s-2],l[s-1],l[s],l[s+1],l[s+2],l[s+3],e),!isNaN(o[0])&&(a.push(o[0]),a.push(o[1]),a.push(l[s]),a.push(l[s+1]),a.push(o[2]),a.push(o[3]));return a}class Vr extends G{constructor(e){super(e);this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){var n=this.points(),a=n.length,s=this.tension(),o=this.closed(),u=this.bezier(),f,c,g;if(!!a){if(e.beginPath(),e.moveTo(n[0],n[1]),s!==0&&a>4){for(f=this.getTensionPoints(),c=f.length,g=o?0:4,o||e.quadraticCurveTo(f[0],f[1],f[2],f[3]);g<c-2;)e.bezierCurveTo(f[g++],f[g++],f[g++],f[g++],f[g++],f[g++]);o||e.quadraticCurveTo(f[c-2],f[c-1],n[a-2],n[a-1])}else if(u)for(g=2;g<a;)e.bezierCurveTo(n[g++],n[g++],n[g++],n[g++],n[g++],n[g++]);else for(g=2;g<a;g+=2)e.lineTo(n[g],n[g+1]);o?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():ei(this.points(),this.tension())}_getTensionPointsClosed(){var e=this.points(),n=e.length,a=this.tension(),s=ea(e[n-2],e[n-1],e[0],e[1],e[2],e[3],a),o=ea(e[n-4],e[n-3],e[n-2],e[n-1],e[0],e[1],a),u=ei(e,a),f=[s[2],s[3]].concat(u).concat([o[0],o[1],e[n-2],e[n-1],o[2],o[3],s[0],s[1],e[0],e[1]]);return f}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();for(var n=e[0],a=e[0],s=e[1],o=e[1],u,f,c=0;c<e.length/2;c++)u=e[c*2],f=e[c*2+1],n=Math.min(n,u),a=Math.max(a,u),s=Math.min(s,f),o=Math.max(o,f);return{x:n,y:s,width:a-n,height:o-s}}}Vr.prototype.className="Line",Vr.prototype._attrsAffectingSize=["points","bezier","tension"],H(Vr),_.addGetterSetter(Vr,"closed",!1),_.addGetterSetter(Vr,"bezier",!1),_.addGetterSetter(Vr,"tension",0,L()),_.addGetterSetter(Vr,"points",[],Mr());class Se extends G{constructor(e){super(e);this.dataArray=[],this.pathLength=0,this.dataArray=Se.parsePathData(this.data()),this.pathLength=0;for(var n=0;n<this.dataArray.length;++n)this.pathLength+=this.dataArray[n].pathLength;this.on("dataChange.konva",function(){this.dataArray=Se.parsePathData(this.data()),this.pathLength=0;for(var a=0;a<this.dataArray.length;++a)this.pathLength+=this.dataArray[a].pathLength})}_sceneFunc(e){var n=this.dataArray;e.beginPath();for(var a=!1,s=0;s<n.length;s++){var o=n[s].command,u=n[s].points;switch(o){case"L":e.lineTo(u[0],u[1]);break;case"M":e.moveTo(u[0],u[1]);break;case"C":e.bezierCurveTo(u[0],u[1],u[2],u[3],u[4],u[5]);break;case"Q":e.quadraticCurveTo(u[0],u[1],u[2],u[3]);break;case"A":var f=u[0],c=u[1],g=u[2],p=u[3],S=u[4],m=u[5],w=u[6],C=u[7],R=g>p?g:p,T=g>p?1:g/p,B=g>p?p/g:1;e.translate(f,c),e.rotate(w),e.scale(T,B),e.arc(0,0,R,S,S+m,1-C),e.scale(1/T,1/B),e.rotate(-w),e.translate(-f,-c);break;case"z":a=!0,e.closePath();break}}!a&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){var e=[];this.dataArray.forEach(function(g){if(g.command==="A"){var p=g.points[4],S=g.points[5],m=g.points[4]+S,w=Math.PI/180;if(Math.abs(p-m)<w&&(w=Math.abs(p-m)),S<0)for(let C=p-w;C>m;C-=w){const R=Se.getPointOnEllipticalArc(g.points[0],g.points[1],g.points[2],g.points[3],C,0);e.push(R.x,R.y)}else for(let C=p+w;C<m;C+=w){const R=Se.getPointOnEllipticalArc(g.points[0],g.points[1],g.points[2],g.points[3],C,0);e.push(R.x,R.y)}}else if(g.command==="C")for(let C=0;C<=1;C+=.01){const R=Se.getPointOnCubicBezier(C,g.start.x,g.start.y,g.points[0],g.points[1],g.points[2],g.points[3],g.points[4],g.points[5]);e.push(R.x,R.y)}else e=e.concat(g.points)});for(var n=e[0],a=e[0],s=e[1],o=e[1],u,f,c=0;c<e.length/2;c++)u=e[c*2],f=e[c*2+1],isNaN(u)||(n=Math.min(n,u),a=Math.max(a,u)),isNaN(f)||(s=Math.min(s,f),o=Math.max(o,f));return{x:Math.round(n),y:Math.round(s),width:Math.round(a-n),height:Math.round(o-s)}}getLength(){return this.pathLength}getPointAtLength(e){var n,a=0,s=this.dataArray.length;if(!s)return null;for(;a<s&&e>this.dataArray[a].pathLength;)e-=this.dataArray[a].pathLength,++a;if(a===s)return n=this.dataArray[a-1].points.slice(-2),{x:n[0],y:n[1]};if(e<.01)return n=this.dataArray[a].points.slice(0,2),{x:n[0],y:n[1]};var o=this.dataArray[a],u=o.points;switch(o.command){case"L":return Se.getPointOnLine(e,o.start.x,o.start.y,u[0],u[1]);case"C":return Se.getPointOnCubicBezier(e/o.pathLength,o.start.x,o.start.y,u[0],u[1],u[2],u[3],u[4],u[5]);case"Q":return Se.getPointOnQuadraticBezier(e/o.pathLength,o.start.x,o.start.y,u[0],u[1],u[2],u[3]);case"A":var f=u[0],c=u[1],g=u[2],p=u[3],S=u[4],m=u[5],w=u[6];return S+=m*e/o.pathLength,Se.getPointOnEllipticalArc(f,c,g,p,S,w)}return null}static getLineLength(e,n,a,s){return Math.sqrt((a-e)*(a-e)+(s-n)*(s-n))}static getPointOnLine(e,n,a,s,o,u,f){u===void 0&&(u=n),f===void 0&&(f=a);var c=(o-a)/(s-n+1e-8),g=Math.sqrt(e*e/(1+c*c));s<n&&(g*=-1);var p=c*g,S;if(s===n)S={x:u,y:f+p};else if((f-a)/(u-n+1e-8)===c)S={x:u+g,y:f+p};else{var m,w,C=this.getLineLength(n,a,s,o),R=(u-n)*(s-n)+(f-a)*(o-a);R=R/(C*C),m=n+R*(s-n),w=a+R*(o-a);var T=this.getLineLength(u,f,m,w),B=Math.sqrt(e*e-T*T);g=Math.sqrt(B*B/(1+c*c)),s<n&&(g*=-1),p=c*g,S={x:m+g,y:w+p}}return S}static getPointOnCubicBezier(e,n,a,s,o,u,f,c,g){function p(T){return T*T*T}function S(T){return 3*T*T*(1-T)}function m(T){return 3*T*(1-T)*(1-T)}function w(T){return(1-T)*(1-T)*(1-T)}var C=c*p(e)+u*S(e)+s*m(e)+n*w(e),R=g*p(e)+f*S(e)+o*m(e)+a*w(e);return{x:C,y:R}}static getPointOnQuadraticBezier(e,n,a,s,o,u,f){function c(w){return w*w}function g(w){return 2*w*(1-w)}function p(w){return(1-w)*(1-w)}var S=u*c(e)+s*g(e)+n*p(e),m=f*c(e)+o*g(e)+a*p(e);return{x:S,y:m}}static getPointOnEllipticalArc(e,n,a,s,o,u){var f=Math.cos(u),c=Math.sin(u),g={x:a*Math.cos(o),y:s*Math.sin(o)};return{x:e+(g.x*f-g.y*c),y:n+(g.x*c+g.y*f)}}static parsePathData(e){if(!e)return[];var n=e,a=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(var s=0;s<a.length;s++)n=n.replace(new RegExp(a[s],"g"),"|"+a[s]);var o=n.split("|"),u=[],f=[],c=0,g=0,p=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,S;for(s=1;s<o.length;s++){var m=o[s],w=m.charAt(0);for(m=m.slice(1),f.length=0;S=p.exec(m);)f.push(S[0]);for(var C=[],R=0,T=f.length;R<T;R++){if(f[R]==="00"){C.push(0,0);continue}var B=parseFloat(f[R]);isNaN(B)?C.push(0):C.push(B)}for(;C.length>0&&!isNaN(C[0]);){var F=null,z=[],W=c,Q=g,j,te,Z,re,ne,J,ye,ee,We,Qt;switch(w){case"l":c+=C.shift(),g+=C.shift(),F="L",z.push(c,g);break;case"L":c=C.shift(),g=C.shift(),z.push(c,g);break;case"m":var me=C.shift(),at=C.shift();if(c+=me,g+=at,F="M",u.length>2&&u[u.length-1].command==="z"){for(var Dt=u.length-2;Dt>=0;Dt--)if(u[Dt].command==="M"){c=u[Dt].points[0]+me,g=u[Dt].points[1]+at;break}}z.push(c,g),w="l";break;case"M":c=C.shift(),g=C.shift(),F="M",z.push(c,g),w="L";break;case"h":c+=C.shift(),F="L",z.push(c,g);break;case"H":c=C.shift(),F="L",z.push(c,g);break;case"v":g+=C.shift(),F="L",z.push(c,g);break;case"V":g=C.shift(),F="L",z.push(c,g);break;case"C":z.push(C.shift(),C.shift(),C.shift(),C.shift()),c=C.shift(),g=C.shift(),z.push(c,g);break;case"c":z.push(c+C.shift(),g+C.shift(),c+C.shift(),g+C.shift()),c+=C.shift(),g+=C.shift(),F="C",z.push(c,g);break;case"S":te=c,Z=g,j=u[u.length-1],j.command==="C"&&(te=c+(c-j.points[2]),Z=g+(g-j.points[3])),z.push(te,Z,C.shift(),C.shift()),c=C.shift(),g=C.shift(),F="C",z.push(c,g);break;case"s":te=c,Z=g,j=u[u.length-1],j.command==="C"&&(te=c+(c-j.points[2]),Z=g+(g-j.points[3])),z.push(te,Z,c+C.shift(),g+C.shift()),c+=C.shift(),g+=C.shift(),F="C",z.push(c,g);break;case"Q":z.push(C.shift(),C.shift()),c=C.shift(),g=C.shift(),z.push(c,g);break;case"q":z.push(c+C.shift(),g+C.shift()),c+=C.shift(),g+=C.shift(),F="Q",z.push(c,g);break;case"T":te=c,Z=g,j=u[u.length-1],j.command==="Q"&&(te=c+(c-j.points[0]),Z=g+(g-j.points[1])),c=C.shift(),g=C.shift(),F="Q",z.push(te,Z,c,g);break;case"t":te=c,Z=g,j=u[u.length-1],j.command==="Q"&&(te=c+(c-j.points[0]),Z=g+(g-j.points[1])),c+=C.shift(),g+=C.shift(),F="Q",z.push(te,Z,c,g);break;case"A":re=C.shift(),ne=C.shift(),J=C.shift(),ye=C.shift(),ee=C.shift(),We=c,Qt=g,c=C.shift(),g=C.shift(),F="A",z=this.convertEndpointToCenterParameterization(We,Qt,c,g,ye,ee,re,ne,J);break;case"a":re=C.shift(),ne=C.shift(),J=C.shift(),ye=C.shift(),ee=C.shift(),We=c,Qt=g,c+=C.shift(),g+=C.shift(),F="A",z=this.convertEndpointToCenterParameterization(We,Qt,c,g,ye,ee,re,ne,J);break}u.push({command:F||w,points:z,start:{x:W,y:Q},pathLength:this.calcLength(W,Q,F||w,z)})}(w==="z"||w==="Z")&&u.push({command:"z",points:[],start:void 0,pathLength:0})}return u}static calcLength(e,n,a,s){var o,u,f,c,g=Se;switch(a){case"L":return g.getLineLength(e,n,s[0],s[1]);case"C":for(o=0,u=g.getPointOnCubicBezier(0,e,n,s[0],s[1],s[2],s[3],s[4],s[5]),c=.01;c<=1;c+=.01)f=g.getPointOnCubicBezier(c,e,n,s[0],s[1],s[2],s[3],s[4],s[5]),o+=g.getLineLength(u.x,u.y,f.x,f.y),u=f;return o;case"Q":for(o=0,u=g.getPointOnQuadraticBezier(0,e,n,s[0],s[1],s[2],s[3]),c=.01;c<=1;c+=.01)f=g.getPointOnQuadraticBezier(c,e,n,s[0],s[1],s[2],s[3]),o+=g.getLineLength(u.x,u.y,f.x,f.y),u=f;return o;case"A":o=0;var p=s[4],S=s[5],m=s[4]+S,w=Math.PI/180;if(Math.abs(p-m)<w&&(w=Math.abs(p-m)),u=g.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],p,0),S<0)for(c=p-w;c>m;c-=w)f=g.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],c,0),o+=g.getLineLength(u.x,u.y,f.x,f.y),u=f;else for(c=p+w;c<m;c+=w)f=g.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],c,0),o+=g.getLineLength(u.x,u.y,f.x,f.y),u=f;return f=g.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],m,0),o+=g.getLineLength(u.x,u.y,f.x,f.y),o}return 0}static convertEndpointToCenterParameterization(e,n,a,s,o,u,f,c,g){var p=g*(Math.PI/180),S=Math.cos(p)*(e-a)/2+Math.sin(p)*(n-s)/2,m=-1*Math.sin(p)*(e-a)/2+Math.cos(p)*(n-s)/2,w=S*S/(f*f)+m*m/(c*c);w>1&&(f*=Math.sqrt(w),c*=Math.sqrt(w));var C=Math.sqrt((f*f*(c*c)-f*f*(m*m)-c*c*(S*S))/(f*f*(m*m)+c*c*(S*S)));o===u&&(C*=-1),isNaN(C)&&(C=0);var R=C*f*m/c,T=C*-c*S/f,B=(e+a)/2+Math.cos(p)*R-Math.sin(p)*T,F=(n+s)/2+Math.sin(p)*R+Math.cos(p)*T,z=function(ne){return Math.sqrt(ne[0]*ne[0]+ne[1]*ne[1])},W=function(ne,J){return(ne[0]*J[0]+ne[1]*J[1])/(z(ne)*z(J))},Q=function(ne,J){return(ne[0]*J[1]<ne[1]*J[0]?-1:1)*Math.acos(W(ne,J))},j=Q([1,0],[(S-R)/f,(m-T)/c]),te=[(S-R)/f,(m-T)/c],Z=[(-1*S-R)/f,(-1*m-T)/c],re=Q(te,Z);return W(te,Z)<=-1&&(re=Math.PI),W(te,Z)>=1&&(re=0),u===0&&re>0&&(re=re-2*Math.PI),u===1&&re<0&&(re=re+2*Math.PI),[B,F,f,c,j,re,p,u]}}Se.prototype.className="Path",Se.prototype._attrsAffectingSize=["data"],H(Se),_.addGetterSetter(Se,"data");class br extends Vr{_sceneFunc(e){super._sceneFunc(e);var n=Math.PI*2,a=this.points(),s=a,o=this.tension()!==0&&a.length>4;o&&(s=this.getTensionPoints());var u=this.pointerLength(),f=a.length,c,g;if(o){const m=[s[s.length-4],s[s.length-3],s[s.length-2],s[s.length-1],a[f-2],a[f-1]],w=Se.calcLength(s[s.length-4],s[s.length-3],"C",m),C=Se.getPointOnQuadraticBezier(Math.min(1,1-u/w),m[0],m[1],m[2],m[3],m[4],m[5]);c=a[f-2]-C.x,g=a[f-1]-C.y}else c=a[f-2]-a[f-4],g=a[f-1]-a[f-3];var p=(Math.atan2(g,c)+n)%n,S=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(a[f-2],a[f-1]),e.rotate(p),e.moveTo(0,0),e.lineTo(-u,S/2),e.lineTo(-u,-S/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(a[0],a[1]),o?(c=(s[0]+s[2])/2-a[0],g=(s[1]+s[3])/2-a[1]):(c=a[2]-a[0],g=a[3]-a[1]),e.rotate((Math.atan2(-g,-c)+n)%n),e.moveTo(0,0),e.lineTo(-u,S/2),e.lineTo(-u,-S/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){var n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),n=this.pointerWidth()/2;return{x:e.x-n,y:e.y-n,width:e.width+n*2,height:e.height+n*2}}}br.prototype.className="Arrow",H(br),_.addGetterSetter(br,"pointerLength",10,L()),_.addGetterSetter(br,"pointerWidth",10,L()),_.addGetterSetter(br,"pointerAtBeginning",!1),_.addGetterSetter(br,"pointerAtEnding",!0);class Kr extends G{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}}Kr.prototype._centroid=!0,Kr.prototype.className="Circle",Kr.prototype._attrsAffectingSize=["radius"],H(Kr),_.addGetterSetter(Kr,"radius",0,L());class rr extends G{_sceneFunc(e){var n=this.radiusX(),a=this.radiusY();e.beginPath(),e.save(),n!==a&&e.scale(1,a/n),e.arc(0,0,n,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}rr.prototype.className="Ellipse",rr.prototype._centroid=!0,rr.prototype._attrsAffectingSize=["radiusX","radiusY"],H(rr),_.addComponentsGetterSetter(rr,"radius",["x","y"]),_.addGetterSetter(rr,"radiusX",0,L()),_.addGetterSetter(rr,"radiusY",0,L());class Yt extends G{constructor(e){super(e);this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(e){const n=this.getWidth(),a=this.getHeight(),s=this.attrs.image;let o;if(s){const u=this.attrs.cropWidth,f=this.attrs.cropHeight;u&&f?o=[s,this.cropX(),this.cropY(),u,f,0,0,n,a]:o=[s,0,0,n,a]}(this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,n,a),e.closePath(),e.fillStrokeShape(this)),s&&e.drawImage.apply(e,o)}_hitFunc(e){var n=this.width(),a=this.height();e.beginPath(),e.rect(0,0,n,a),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,n;return(e=this.attrs.width)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.width}getHeight(){var e,n;return(e=this.attrs.height)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.height}static fromURL(e,n,a=null){var s=P.createImageElement();s.onload=function(){var o=new Yt({image:s});n(o)},s.onerror=a,s.crossOrigin="Anonymous",s.src=e}}Yt.prototype.className="Image",H(Yt),_.addGetterSetter(Yt,"image"),_.addComponentsGetterSetter(Yt,"crop",["x","y","width","height"]),_.addGetterSetter(Yt,"cropX",0,L()),_.addGetterSetter(Yt,"cropY",0,L()),_.addGetterSetter(Yt,"cropWidth",0,L()),_.addGetterSetter(Yt,"cropHeight",0,L());var Si=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height"],Ya="Change.konva",ta="none",Ci="up",un="right",Xt="down",zr="left",ra=Si.length;class xi extends Ln{constructor(e){super(e);this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){var n=this,a,s=function(){n._sync()};for(a=0;a<ra;a++)e.on(Si[a]+Ya,s)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var e=this.getText(),n=this.getTag(),a,s,o,u,f,c,g;if(e&&n){switch(a=e.width(),s=e.height(),o=n.pointerDirection(),u=n.pointerWidth(),g=n.pointerHeight(),f=0,c=0,o){case Ci:f=a/2,c=-1*g;break;case un:f=a+u,c=s/2;break;case Xt:f=a/2,c=s+g;break;case zr:f=-1*u,c=s/2;break}n.setAttrs({x:-1*f,y:-1*c,width:a,height:s}),e.setAttrs({x:-1*f,y:-1*c})}}}xi.prototype.className="Label",H(xi);class jt extends G{_sceneFunc(e){var n=this.width(),a=this.height(),s=this.pointerDirection(),o=this.pointerWidth(),u=this.pointerHeight(),f=this.cornerRadius();let c=0,g=0,p=0,S=0;typeof f=="number"?c=g=p=S=Math.min(f,n/2,a/2):(c=Math.min(f[0]||0,n/2,a/2),g=Math.min(f[1]||0,n/2,a/2),S=Math.min(f[2]||0,n/2,a/2),p=Math.min(f[3]||0,n/2,a/2)),e.beginPath(),e.moveTo(c,0),s===Ci&&(e.lineTo((n-o)/2,0),e.lineTo(n/2,-1*u),e.lineTo((n+o)/2,0)),e.lineTo(n-g,0),e.arc(n-g,g,g,Math.PI*3/2,0,!1),s===un&&(e.lineTo(n,(a-u)/2),e.lineTo(n+o,a/2),e.lineTo(n,(a+u)/2)),e.lineTo(n,a-S),e.arc(n-S,a-S,S,0,Math.PI/2,!1),s===Xt&&(e.lineTo((n+o)/2,a),e.lineTo(n/2,a+u),e.lineTo((n-o)/2,a)),e.lineTo(p,a),e.arc(p,a-p,p,Math.PI/2,Math.PI,!1),s===zr&&(e.lineTo(0,(a+u)/2),e.lineTo(-1*o,a/2),e.lineTo(0,(a-u)/2)),e.lineTo(0,c),e.arc(c,c,c,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){var e=0,n=0,a=this.pointerWidth(),s=this.pointerHeight(),o=this.pointerDirection(),u=this.width(),f=this.height();return o===Ci?(n-=s,f+=s):o===Xt?f+=s:o===zr?(e-=a*1.5,u+=a):o===un&&(u+=a*1.5),{x:e,y:n,width:u,height:f}}}jt.prototype.className="Tag",H(jt),_.addGetterSetter(jt,"pointerDirection",ta),_.addGetterSetter(jt,"pointerWidth",0,L()),_.addGetterSetter(jt,"pointerHeight",0,L()),_.addGetterSetter(jt,"cornerRadius",0,he(4));class cr extends G{_sceneFunc(e){var n=this.cornerRadius(),a=this.width(),s=this.height();if(e.beginPath(),!n)e.rect(0,0,a,s);else{let o=0,u=0,f=0,c=0;typeof n=="number"?o=u=f=c=Math.min(n,a/2,s/2):(o=Math.min(n[0]||0,a/2,s/2),u=Math.min(n[1]||0,a/2,s/2),c=Math.min(n[2]||0,a/2,s/2),f=Math.min(n[3]||0,a/2,s/2)),e.moveTo(o,0),e.lineTo(a-u,0),e.arc(a-u,u,u,Math.PI*3/2,0,!1),e.lineTo(a,s-c),e.arc(a-c,s-c,c,0,Math.PI/2,!1),e.lineTo(f,s),e.arc(f,s-f,f,Math.PI/2,Math.PI,!1),e.lineTo(0,o),e.arc(o,o,o,Math.PI,Math.PI*3/2,!1)}e.closePath(),e.fillStrokeShape(this)}}cr.prototype.className="Rect",H(cr),_.addGetterSetter(cr,"cornerRadius",0,he(4));class hn extends G{_sceneFunc(e){const n=this._getPoints();e.beginPath(),e.moveTo(n[0].x,n[0].y);for(var a=1;a<n.length;a++)e.lineTo(n[a].x,n[a].y);e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,n=this.attrs.radius||0,a=[];for(var s=0;s<e;s++)a.push({x:n*Math.sin(s*2*Math.PI/e),y:-1*n*Math.cos(s*2*Math.PI/e)});return a}getSelfRect(){const e=this._getPoints();var n=e[0].x,a=e[0].y,s=e[0].x,o=e[0].y;return e.forEach(u=>{n=Math.min(n,u.x),a=Math.max(a,u.x),s=Math.min(s,u.y),o=Math.max(o,u.y)}),{x:n,y:s,width:a-n,height:o-s}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}hn.prototype.className="RegularPolygon",hn.prototype._centroid=!0,hn.prototype._attrsAffectingSize=["radius"],H(hn),_.addGetterSetter(hn,"radius",0,L()),_.addGetterSetter(hn,"sides",0,L());var On=Math.PI*2;class dn extends G{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,On,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),On,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}dn.prototype.className="Ring",dn.prototype._centroid=!0,dn.prototype._attrsAffectingSize=["innerRadius","outerRadius"],H(dn),_.addGetterSetter(dn,"innerRadius",0,L()),_.addGetterSetter(dn,"outerRadius",0,L());class wr extends G{constructor(e){super(e);this._updated=!0,this.anim=new Ot(()=>{var n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){!this.anim.isRunning()||(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){var n=this.animation(),a=this.frameIndex(),s=a*4,o=this.animations()[n],u=this.frameOffsets(),f=o[s+0],c=o[s+1],g=o[s+2],p=o[s+3],S=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,g,p),e.closePath(),e.fillStrokeShape(this)),S)if(u){var m=u[n],w=a*2;e.drawImage(S,f,c,g,p,m[w+0],m[w+1],g,p)}else e.drawImage(S,f,c,g,p,0,0,g,p)}_hitFunc(e){var n=this.animation(),a=this.frameIndex(),s=a*4,o=this.animations()[n],u=this.frameOffsets(),f=o[s+2],c=o[s+3];if(e.beginPath(),u){var g=u[n],p=a*2;e.rect(g[p+0],g[p+1],f,c)}else e.rect(0,0,f,c);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var e=this.frameIndex(),n=this.animation(),a=this.animations(),s=a[n],o=s.length/4;e<o-1?this.frameIndex(e+1):this.frameIndex(0)}}wr.prototype.className="Sprite",H(wr),_.addGetterSetter(wr,"animation"),_.addGetterSetter(wr,"animations"),_.addGetterSetter(wr,"frameOffsets"),_.addGetterSetter(wr,"image"),_.addGetterSetter(wr,"frameIndex",0,L()),_.addGetterSetter(wr,"frameRate",17,L()),_.backCompat(wr,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class Er extends G{_sceneFunc(e){var n=this.innerRadius(),a=this.outerRadius(),s=this.numPoints();e.beginPath(),e.moveTo(0,0-a);for(var o=1;o<s*2;o++){var u=o%2==0?a:n,f=u*Math.sin(o*Math.PI/s),c=-1*u*Math.cos(o*Math.PI/s);e.lineTo(f,c)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Er.prototype.className="Star",Er.prototype._centroid=!0,Er.prototype._attrsAffectingSize=["innerRadius","outerRadius"],H(Er),_.addGetterSetter(Er,"numPoints",5,L()),_.addGetterSetter(Er,"innerRadius",0,L()),_.addGetterSetter(Er,"outerRadius",0,L());function ti(l){return Array.from(l)}var ri="auto",Xa="center",Nn="justify",na="Change.konva",wi="2d",Dn="-",ni="left",ja="text",Ei="Text",Va="top",ii="bottom",nr="middle",Gn="normal",bn="px ",ir=" ",ia="right",zn="word",Ka="char",aa="none",Ke="\u2026",ai=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],Zr=ai.length;function Sn(l){return l.split(",").map(e=>{e=e.trim();const n=e.indexOf(" ")>=0,a=e.indexOf('"')>=0||e.indexOf("'")>=0;return n&&!a&&(e=`"${e}"`),e}).join(", ")}var ar;function Pi(){return ar||(ar=P.createCanvasElement().getContext(wi),ar)}function Za(l){l.fillText(this._partialText,this._partialTextX,this._partialTextY)}function sa(l){l.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function Qa(l){return l=l||{},!l.fillLinearGradientColorStops&&!l.fillRadialGradientColorStops&&!l.fillPatternImage&&(l.fill=l.fill||"black"),l}class Be extends G{constructor(e){super(Qa(e));this._partialTextX=0,this._partialTextY=0;for(var n=0;n<Zr;n++)this.on(ai[n]+na,this._setTextData);this._setTextData()}_sceneFunc(e){var n=this.textArr,a=n.length;if(!!this.text()){var s=this.padding(),o=this.fontSize(),u=this.lineHeight()*o,f=this.verticalAlign(),c=0,g=this.align(),p=this.getWidth(),S=this.letterSpacing(),m=this.fill(),w=this.textDecoration(),C=w.indexOf("underline")!==-1,R=w.indexOf("line-through")!==-1,T,B=0,B=u/2,F=0,z=0;for(e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",nr),e.setAttr("textAlign",ni),f===nr?c=(this.getHeight()-a*u-s*2)/2:f===ii&&(c=this.getHeight()-a*u-s*2),e.translate(s,c+s),T=0;T<a;T++){var F=0,z=0,W=n[T],Q=W.text,j=W.width,te=T!==a-1,Z,re,ne;if(e.save(),g===ia?F+=p-j-s*2:g===Xa&&(F+=(p-j-s*2)/2),C&&(e.save(),e.beginPath(),e.moveTo(F,B+z+Math.round(o/2)),Z=Q.split(" ").length-1,re=Z===0,ne=g===Nn&&te&&!re?p-s*2:j,e.lineTo(F+Math.round(ne),B+z+Math.round(o/2)),e.lineWidth=o/15,e.strokeStyle=m,e.stroke(),e.restore()),R&&(e.save(),e.beginPath(),e.moveTo(F,B+z),Z=Q.split(" ").length-1,re=Z===0,ne=g===Nn&&te&&!re?p-s*2:j,e.lineTo(F+Math.round(ne),B+z),e.lineWidth=o/15,e.strokeStyle=m,e.stroke(),e.restore()),S!==0||g===Nn){Z=Q.split(" ").length-1;for(var J=ti(Q),ye=0;ye<J.length;ye++){var ee=J[ye];ee===" "&&T!==a-1&&g===Nn&&(F+=(p-s*2-j)/Z),this._partialTextX=F,this._partialTextY=B+z,this._partialText=ee,e.fillStrokeShape(this),F+=this.measureSize(ee).width+S}}else this._partialTextX=F,this._partialTextY=B+z,this._partialText=Q,e.fillStrokeShape(this);e.restore(),a>1&&(B+=u)}}}_hitFunc(e){var n=this.getWidth(),a=this.getHeight();e.beginPath(),e.rect(0,0,n,a),e.closePath(),e.fillStrokeShape(this)}setText(e){var n=P._isString(e)?e:e==null?"":e+"";return this._setAttr(ja,n),this}getWidth(){var e=this.attrs.width===ri||this.attrs.width===void 0;return e?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){var e=this.attrs.height===ri||this.attrs.height===void 0;return e?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return P.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var n=Pi(),a=this.fontSize(),s;return n.save(),n.font=this._getContextFont(),s=n.measureText(e),n.restore(),{width:s.width,height:a}}_getContextFont(){return this.fontStyle()+ir+this.fontVariant()+ir+(this.fontSize()+bn)+Sn(this.fontFamily())}_addTextLine(e){this.align()===Nn&&(e=e.trim());var n=this._getTextWidth(e);return this.textArr.push({text:e,width:n})}_getTextWidth(e){var n=this.letterSpacing(),a=e.length;return Pi().measureText(e).width+(a?n*(a-1):0)}_setTextData(){var e=this.text().split(`
`),n=+this.fontSize(),a=0,s=this.lineHeight()*n,o=this.attrs.width,u=this.attrs.height,f=o!==ri&&o!==void 0,c=u!==ri&&u!==void 0,g=this.padding(),p=o-g*2,S=u-g*2,m=0,w=this.wrap(),C=w!==aa,R=w!==Ka&&C,T=this.ellipsis();this.textArr=[],Pi().font=this._getContextFont();for(var B=T?this._getTextWidth(Ke):0,F=0,z=e.length;F<z;++F){var W=e[F],Q=this._getTextWidth(W);if(f&&Q>p)for(;W.length>0;){for(var j=0,te=W.length,Z="",re=0;j<te;){var ne=j+te>>>1,J=W.slice(0,ne+1),ye=this._getTextWidth(J)+B;ye<=p?(j=ne+1,Z=J,re=ye):te=ne}if(Z){if(R){var ee,We=W[Z.length],Qt=We===ir||We===Dn;Qt&&re<=p?ee=Z.length:ee=Math.max(Z.lastIndexOf(ir),Z.lastIndexOf(Dn))+1,ee>0&&(j=ee,Z=Z.slice(0,j),re=this._getTextWidth(Z))}if(Z=Z.trimRight(),this._addTextLine(Z),a=Math.max(a,re),m+=s,!C||c&&m+s>S){var me=this.textArr[this.textArr.length-1];if(me&&T){var at=this._getTextWidth(me.text+Ke)<p;at||(me.text=me.text.slice(0,me.text.length-3)),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(me.text+Ke)}break}if(W=W.slice(j),W=W.trimLeft(),W.length>0&&(Q=this._getTextWidth(W),Q<=p)){this._addTextLine(W),m+=s,a=Math.max(a,Q);break}}else break}else this._addTextLine(W),m+=s,a=Math.max(a,Q);if(c&&m+s>S)break}this.textHeight=n,this.textWidth=a}getStrokeScaleEnabled(){return!0}}Be.prototype._fillFunc=Za,Be.prototype._strokeFunc=sa,Be.prototype.className=Ei,Be.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],H(Be),_.overWriteSetter(Be,"width",Me()),_.overWriteSetter(Be,"height",Me()),_.addGetterSetter(Be,"fontFamily","Arial"),_.addGetterSetter(Be,"fontSize",12,L()),_.addGetterSetter(Be,"fontStyle",Gn),_.addGetterSetter(Be,"fontVariant",Gn),_.addGetterSetter(Be,"padding",0,L()),_.addGetterSetter(Be,"align",ni),_.addGetterSetter(Be,"verticalAlign",Va),_.addGetterSetter(Be,"lineHeight",1,L()),_.addGetterSetter(Be,"wrap",zn),_.addGetterSetter(Be,"ellipsis",!1,Fe()),_.addGetterSetter(Be,"letterSpacing",0,L()),_.addGetterSetter(Be,"text","",ze()),_.addGetterSetter(Be,"textDecoration","");var oa="",Cn="normal";function Ti(l){l.fillText(this.partialText,0,0)}function Fn(l){l.strokeText(this.partialText,0,0)}class Le extends G{constructor(e){super(e);this.dummyCanvas=P.createCanvasElement(),this.dataArray=[],this.dataArray=Se.parsePathData(this.attrs.data),this.on("dataChange.konva",function(){this.dataArray=Se.parsePathData(this.attrs.data),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva",this._setTextData),this._setTextData()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();var n=this.textDecoration(),a=this.fill(),s=this.fontSize(),o=this.glyphInfo;n==="underline"&&e.beginPath();for(var u=0;u<o.length;u++){e.save();var f=o[u].p0;e.translate(f.x,f.y),e.rotate(o[u].rotation),this.partialText=o[u].text,e.fillStrokeShape(this),n==="underline"&&(u===0&&e.moveTo(0,s/2+1),e.lineTo(s,s/2+1)),e.restore()}n==="underline"&&(e.strokeStyle=a,e.lineWidth=s/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();var n=this.glyphInfo;if(n.length>=1){var a=n[0].p0;e.moveTo(a.x,a.y)}for(var s=0;s<n.length;s++){var o=n[s].p1;e.lineTo(o.x,o.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return P.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return Be.prototype.setText.call(this,e)}_getContextFont(){return Be.prototype._getContextFont.call(this)}_getTextSize(e){var n=this.dummyCanvas,a=n.getContext("2d");a.save(),a.font=this._getContextFont();var s=a.measureText(e);return a.restore(),{width:s.width,height:parseInt(this.attrs.fontSize,10)}}_setTextData(){var e=this,n=this._getTextSize(this.attrs.text),a=this.letterSpacing(),s=this.align(),o=this.kerningFunc();this.textWidth=n.width,this.textHeight=n.height;var u=Math.max(this.textWidth+((this.attrs.text||"").length-1)*a,0);this.glyphInfo=[];for(var f=0,c=0;c<e.dataArray.length;c++)e.dataArray[c].pathLength>0&&(f+=e.dataArray[c].pathLength);var g=0;s==="center"&&(g=Math.max(0,f/2-u/2)),s==="right"&&(g=Math.max(0,f-u));for(var p=ti(this.text()),S=this.text().split(" ").length-1,m,w,C,R=-1,T=0,B=function(){T=0;for(var ye=e.dataArray,ee=R+1;ee<ye.length;ee++){if(ye[ee].pathLength>0)return R=ee,ye[ee];ye[ee].command==="M"&&(m={x:ye[ee].points[0],y:ye[ee].points[1]})}return{}},F=function(ye){var ee=e._getTextSize(ye).width+a;ye===" "&&s==="justify"&&(ee+=(f-u)/S);var We=0,Qt=0;for(w=void 0;Math.abs(ee-We)/ee>.01&&Qt<20;){Qt++;for(var me=We;C===void 0;)C=B(),C&&me+C.pathLength<ee&&(me+=C.pathLength,C=void 0);if(C==={}||m===void 0)return;var at=!1;switch(C.command){case"L":Se.getLineLength(m.x,m.y,C.points[0],C.points[1])>ee?w=Se.getPointOnLine(ee,m.x,m.y,C.points[0],C.points[1],m.x,m.y):C=void 0;break;case"A":var Dt=C.points[4],kr=C.points[5],xe=C.points[4]+kr;T===0?T=Dt+1e-8:ee>We?T+=Math.PI/180*kr/Math.abs(kr):T-=Math.PI/360*kr/Math.abs(kr),(kr<0&&T<xe||kr>=0&&T>xe)&&(T=xe,at=!0),w=Se.getPointOnEllipticalArc(C.points[0],C.points[1],C.points[2],C.points[3],T,C.points[6]);break;case"C":T===0?ee>C.pathLength?T=1e-8:T=ee/C.pathLength:ee>We?T+=(ee-We)/C.pathLength/2:T=Math.max(T-(We-ee)/C.pathLength/2,0),T>1&&(T=1,at=!0),w=Se.getPointOnCubicBezier(T,C.start.x,C.start.y,C.points[0],C.points[1],C.points[2],C.points[3],C.points[4],C.points[5]);break;case"Q":T===0?T=ee/C.pathLength:ee>We?T+=(ee-We)/C.pathLength:T-=(We-ee)/C.pathLength,T>1&&(T=1,at=!0),w=Se.getPointOnQuadraticBezier(T,C.start.x,C.start.y,C.points[0],C.points[1],C.points[2],C.points[3]);break}w!==void 0&&(We=Se.getLineLength(m.x,m.y,w.x,w.y)),at&&(at=!1,C=void 0)}},z="C",W=e._getTextSize(z).width+a,Q=g/W-1,j=0;j<Q&&(F(z),!(m===void 0||w===void 0));j++)m=w;for(var te=0;te<p.length&&(F(p[te]),!(m===void 0||w===void 0));te++){var Z=Se.getLineLength(m.x,m.y,w.x,w.y),re=0;if(o)try{re=o(p[te-1],p[te])*this.fontSize()}catch(ye){re=0}m.x+=re,w.x+=re,this.textWidth+=re;var ne=Se.getPointOnLine(re+Z/2,m.x,m.y,w.x,w.y),J=Math.atan2(w.y-m.y,w.x-m.x);this.glyphInfo.push({transposeX:ne.x,transposeY:ne.y,text:p[te],rotation:J,p0:m,p1:w}),m=w}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var e=[];this.glyphInfo.forEach(function(p){e.push(p.p0.x),e.push(p.p0.y),e.push(p.p1.x),e.push(p.p1.y)});for(var n=e[0]||0,a=e[0]||0,s=e[1]||0,o=e[1]||0,u,f,c=0;c<e.length/2;c++)u=e[c*2],f=e[c*2+1],n=Math.min(n,u),a=Math.max(a,u),s=Math.min(s,f),o=Math.max(o,f);var g=this.fontSize();return{x:n-g/2,y:s-g/2,width:a-n+g,height:o-s+g}}}Le.prototype._fillFunc=Ti,Le.prototype._strokeFunc=Fn,Le.prototype._fillFuncHit=Ti,Le.prototype._strokeFuncHit=Fn,Le.prototype.className="TextPath",Le.prototype._attrsAffectingSize=["text","fontSize","data"],H(Le),_.addGetterSetter(Le,"data"),_.addGetterSetter(Le,"fontFamily","Arial"),_.addGetterSetter(Le,"fontSize",12,L()),_.addGetterSetter(Le,"fontStyle",Cn),_.addGetterSetter(Le,"align","left"),_.addGetterSetter(Le,"letterSpacing",0,L()),_.addGetterSetter(Le,"textBaseline","middle"),_.addGetterSetter(Le,"fontVariant",Cn),_.addGetterSetter(Le,"text",oa),_.addGetterSetter(Le,"textDecoration",null),_.addGetterSetter(Le,"kerningFunc",null);var Bn="tr-konva",it=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map(l=>l+`.${Bn}`).join(" "),xt="nodesRect",wt=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],ki={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const si="ontouchstart"in Y._global;function Vt(l,e){if(l==="rotater")return"crosshair";e+=P.degToRad(ki[l]||0);var n=(P.radToDeg(e)%360+360)%360;return P._inRange(n,315+22.5,360)||P._inRange(n,0,22.5)?"ns-resize":P._inRange(n,45-22.5,45+22.5)?"nesw-resize":P._inRange(n,90-22.5,90+22.5)?"ew-resize":P._inRange(n,135-22.5,135+22.5)?"nwse-resize":P._inRange(n,180-22.5,180+22.5)?"ns-resize":P._inRange(n,225-22.5,225+22.5)?"nesw-resize":P._inRange(n,270-22.5,270+22.5)?"ew-resize":P._inRange(n,315-22.5,315+22.5)?"nwse-resize":(P.error("Transformer has unknown angle for cursor detection: "+n),"pointer")}var Hn=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],Ri=1e8;function xn(l){return{x:l.x+l.width/2*Math.cos(l.rotation)+l.height/2*Math.sin(-l.rotation),y:l.y+l.height/2*Math.cos(l.rotation)+l.width/2*Math.sin(l.rotation)}}function fn(l,e,n){const a=n.x+(l.x-n.x)*Math.cos(e)-(l.y-n.y)*Math.sin(e),s=n.y+(l.x-n.x)*Math.sin(e)+(l.y-n.y)*Math.cos(e);return Object.assign(Object.assign({},l),{rotation:l.rotation+e,x:a,y:s})}function Fr(l,e){const n=xn(l);return fn(l,e,n)}function oi(l,e,n){let a=e;for(let s=0;s<l.length;s++){const o=Y.getAngle(l[s]),u=Math.abs(o-e)%(Math.PI*2);Math.min(u,Math.PI*2-u)<n&&(a=o)}return a}class Ee extends Ln{constructor(e){super(e);this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(it,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return P.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return Bn+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach(),this._nodes=e,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(a=>{const s=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},o=a._attrsAffectingSize.map(u=>u+"Change."+this._getEventNamespace()).join(" ");a.on(o,s),a.on(wt.map(u=>u+`.${this._getEventNamespace()}`).join(" "),s),a.on(`absoluteTransformChange.${this._getEventNamespace()}`,s),this._proxyDrag(a)}),this._resetTransformCache();var n=!!this.findOne(".top-left");return n&&this.update(),this}_proxyDrag(e){let n;e.on(`dragstart.${this._getEventNamespace()}`,a=>{n=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(a,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,a=>{if(!n)return;const s=e.getAbsolutePosition(),o=s.x-n.x,u=s.y-n.y;this.nodes().forEach(f=>{if(f===e||f.isDragging())return;const c=f.getAbsolutePosition();f.setAbsolutePosition({x:c.x+o,y:c.y+u}),f.startDrag(a)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(xt),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(xt,this.__getNodeRect)}__getNodeShape(e,n=this.rotation(),a){var s=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),o=e.getAbsoluteScale(a),u=e.getAbsolutePosition(a),f=s.x*o.x-e.offsetX()*o.x,c=s.y*o.y-e.offsetY()*o.y;const g=(Y.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),p={x:u.x+f*Math.cos(g)+c*Math.sin(-g),y:u.y+c*Math.cos(g)+f*Math.sin(g),width:s.width*o.x,height:s.height*o.y,rotation:g};return fn(p,-Y.getAngle(n),{x:0,y:0})}__getNodeRect(){var e=this.getNode();if(!e)return{x:-Ri,y:-Ri,width:0,height:0,rotation:0};const n=[];this.nodes().map(g=>{const p=g.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var S=[{x:p.x,y:p.y},{x:p.x+p.width,y:p.y},{x:p.x+p.width,y:p.y+p.height},{x:p.x,y:p.y+p.height}],m=g.getAbsoluteTransform();S.forEach(function(w){var C=m.point(w);n.push(C)})});const a=new D;a.rotate(-Y.getAngle(this.rotation()));var s,o,u,f;n.forEach(function(g){var p=a.point(g);s===void 0&&(s=u=p.x,o=f=p.y),s=Math.min(s,p.x),o=Math.min(o,p.y),u=Math.max(u,p.x),f=Math.max(f,p.y)}),a.invert();const c=a.point({x:s,y:o});return{x:c.x,y:c.y,width:u-s,height:f-o,rotation:Y.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),Hn.forEach(function(e){this._createAnchor(e)}.bind(this)),this._createAnchor("rotater")}_createAnchor(e){var n=new cr({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:si?10:"auto"}),a=this;n.on("mousedown touchstart",function(s){a._handleMouseDown(s)}),n.on("dragstart",s=>{n.stopDrag(),s.cancelBubble=!0}),n.on("dragend",s=>{s.cancelBubble=!0}),n.on("mouseenter",()=>{var s=Y.getAngle(this.rotation()),o=Vt(e,s);n.getStage().content&&(n.getStage().content.style.cursor=o),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){var e=new G({name:"back",width:0,height:0,draggable:!0,sceneFunc(n){var a=this.getParent(),s=a.padding();n.beginPath(),n.rect(-s,-s,this.width()+s*2,this.height()+s*2),n.moveTo(this.width()/2,-s),a.rotateEnabled()&&n.lineTo(this.width()/2,-a.rotateAnchorOffset()*P._sign(this.height())-s),n.fillStrokeShape(this)},hitFunc:(n,a)=>{if(!!this.shouldOverdrawWholeArea()){var s=this.padding();n.beginPath(),n.rect(-s,-s,a.width()+s*2,a.height()+s*2),n.fillStrokeShape(a)}}});this.add(e),this._proxyDrag(e),e.on("dragstart",n=>{n.cancelBubble=!0}),e.on("dragmove",n=>{n.cancelBubble=!0}),e.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(e){this._movingAnchorName=e.target.name().split(" ")[0];var n=this._getNodeRect(),a=n.width,s=n.height,o=Math.sqrt(Math.pow(a,2)+Math.pow(s,2));this.sin=Math.abs(s/o),this.cos=Math.abs(a/o),typeof window!="undefined"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var u=e.target.getAbsolutePosition(),f=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:f.x-u.x,y:f.y-u.y},this._fire("transformstart",{evt:e,target:this.getNode()}),this._nodes.forEach(c=>{c._fire("transformstart",{evt:e,target:c})})}_handleMouseMove(e){var n,a,s,o=this.findOne("."+this._movingAnchorName),u=o.getStage();u.setPointersPositions(e);const f=u.getPointerPosition();let c={x:f.x-this._anchorDragOffset.x,y:f.y-this._anchorDragOffset.y};const g=o.getAbsolutePosition();this.anchorDragBoundFunc()&&(c=this.anchorDragBoundFunc()(g,c,e)),o.setAbsolutePosition(c);const p=o.getAbsolutePosition();if(!(g.x===p.x&&g.y===p.y)){if(this._movingAnchorName==="rotater"){var S=this._getNodeRect();n=o.x()-S.width/2,a=-o.y()+S.height/2;let ye=Math.atan2(-a,n)+Math.PI/2;S.height<0&&(ye-=Math.PI);var m=Y.getAngle(this.rotation());const ee=m+ye,We=Y.getAngle(this.rotationSnapTolerance()),me=oi(this.rotationSnaps(),ee,We)-S.rotation,at=Fr(S,me);this._fitNodesInto(at,e);return}var w=this.keepRatio()||e.shiftKey,C=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(w){var R=C?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};s=Math.sqrt(Math.pow(R.x-o.x(),2)+Math.pow(R.y-o.y(),2));var T=this.findOne(".top-left").x()>R.x?-1:1,B=this.findOne(".top-left").y()>R.y?-1:1;n=s*this.cos*T,a=s*this.sin*B,this.findOne(".top-left").x(R.x-n),this.findOne(".top-left").y(R.y-a)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(o.y());else if(this._movingAnchorName==="top-right"){if(w){var R=C?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};s=Math.sqrt(Math.pow(o.x()-R.x,2)+Math.pow(R.y-o.y(),2));var T=this.findOne(".top-right").x()<R.x?-1:1,B=this.findOne(".top-right").y()>R.y?-1:1;n=s*this.cos*T,a=s*this.sin*B,this.findOne(".top-right").x(R.x+n),this.findOne(".top-right").y(R.y-a)}var F=o.position();this.findOne(".top-left").y(F.y),this.findOne(".bottom-right").x(F.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(o.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(o.x());else if(this._movingAnchorName==="bottom-left"){if(w){var R=C?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};s=Math.sqrt(Math.pow(R.x-o.x(),2)+Math.pow(o.y()-R.y,2));var T=R.x<o.x()?-1:1,B=o.y()<R.y?-1:1;n=s*this.cos*T,a=s*this.sin*B,o.x(R.x-n),o.y(R.y+a)}F=o.position(),this.findOne(".top-left").x(F.x),this.findOne(".bottom-right").y(F.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(o.y());else if(this._movingAnchorName==="bottom-right"){if(w){var R=C?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};s=Math.sqrt(Math.pow(o.x()-R.x,2)+Math.pow(o.y()-R.y,2));var T=this.findOne(".bottom-right").x()<R.x?-1:1,B=this.findOne(".bottom-right").y()<R.y?-1:1;n=s*this.cos*T,a=s*this.sin*B,this.findOne(".bottom-right").x(R.x+n),this.findOne(".bottom-right").y(R.y+a)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var C=this.centeredScaling()||e.altKey;if(C){var z=this.findOne(".top-left"),W=this.findOne(".bottom-right"),Q=z.x(),j=z.y(),te=this.getWidth()-W.x(),Z=this.getHeight()-W.y();W.move({x:-Q,y:-j}),z.move({x:te,y:Z})}var re=this.findOne(".top-left").getAbsolutePosition();n=re.x,a=re.y;var ne=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),J=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:a,width:ne,height:J,rotation:Y.getAngle(this.rotation())},e)}}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){if(this._transforming){this._transforming=!1,typeof window!="undefined"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var n=this.getNode();this._fire("transformend",{evt:e,target:n}),n&&this._nodes.forEach(a=>{a._fire("transformend",{evt:e,target:a})}),this._movingAnchorName=null}}_fitNodesInto(e,n){var a=this._getNodeRect();const s=1;if(P._inRange(e.width,-this.padding()*2-s,s)){this.update();return}if(P._inRange(e.height,-this.padding()*2-s,s)){this.update();return}const o=this.flipEnabled();var u=new D;if(u.rotate(Y.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const S=u.point({x:-this.padding()*2,y:0});if(e.x+=S.x,e.y+=S.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=S.x,this._anchorDragOffset.y-=S.y,!o){this.update();return}}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const S=u.point({x:this.padding()*2,y:0});if(this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=S.x,this._anchorDragOffset.y-=S.y,e.width+=this.padding()*2,!o){this.update();return}}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const S=u.point({x:0,y:-this.padding()*2});if(e.x+=S.x,e.y+=S.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=S.x,this._anchorDragOffset.y-=S.y,e.height+=this.padding()*2,!o){this.update();return}}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const S=u.point({x:0,y:this.padding()*2});if(this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=S.x,this._anchorDragOffset.y-=S.y,e.height+=this.padding()*2,!o){this.update();return}}if(this.boundBoxFunc()){const S=this.boundBoxFunc()(a,e);S?e=S:P.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const f=1e7,c=new D;c.translate(a.x,a.y),c.rotate(a.rotation),c.scale(a.width/f,a.height/f);const g=new D;g.translate(e.x,e.y),g.rotate(e.rotation),g.scale(e.width/f,e.height/f);const p=g.multiply(c.invert());this._nodes.forEach(S=>{var m;const w=S.getParent().getAbsoluteTransform(),C=S.getTransform().copy();C.translate(S.offsetX(),S.offsetY());const R=new D;R.multiply(w.copy().invert()).multiply(p).multiply(w).multiply(C);const T=R.decompose();S.setAttrs(T),this._fire("transform",{evt:n,target:S}),S._fire("transform",{evt:n,target:S}),(m=S.getLayer())===null||m===void 0||m.batchDraw()}),this.rotation(P._getRotation(e.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,n){this.findOne(e).setAttrs(n)}update(){var e,n=this._getNodeRect();this.rotation(P._getRotation(n.rotation));var a=n.width,s=n.height,o=this.enabledAnchors(),u=this.resizeEnabled(),f=this.padding(),c=this.anchorSize();this.find("._anchor").forEach(g=>{g.setAttrs({width:c,height:c,offsetX:c/2,offsetY:c/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:c/2+f,offsetY:c/2+f,visible:u&&o.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:a/2,y:0,offsetY:c/2+f,visible:u&&o.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:a,y:0,offsetX:c/2-f,offsetY:c/2+f,visible:u&&o.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:s/2,offsetX:c/2+f,visible:u&&o.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:a,y:s/2,offsetX:c/2-f,visible:u&&o.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:s,offsetX:c/2+f,offsetY:c/2-f,visible:u&&o.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:a/2,y:s,offsetY:c/2-f,visible:u&&o.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:a,y:s,offsetX:c/2-f,offsetY:c/2-f,visible:u&&o.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:a/2,y:-this.rotateAnchorOffset()*P._sign(s)-f,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:a,height:s,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),Ln.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return b.prototype.toObject.call(this)}}function qa(l){return l instanceof Array||P.warn("enabledAnchors value should be an array"),l instanceof Array&&l.forEach(function(e){Hn.indexOf(e)===-1&&P.warn("Unknown anchor name: "+e+". Available names are: "+Hn.join(", "))}),l||[]}Ee.prototype.className="Transformer",H(Ee),_.addGetterSetter(Ee,"enabledAnchors",Hn,qa),_.addGetterSetter(Ee,"flipEnabled",!0,Fe()),_.addGetterSetter(Ee,"resizeEnabled",!0),_.addGetterSetter(Ee,"anchorSize",10,L()),_.addGetterSetter(Ee,"rotateEnabled",!0),_.addGetterSetter(Ee,"rotationSnaps",[]),_.addGetterSetter(Ee,"rotateAnchorOffset",50,L()),_.addGetterSetter(Ee,"rotationSnapTolerance",5,L()),_.addGetterSetter(Ee,"borderEnabled",!0),_.addGetterSetter(Ee,"anchorStroke","rgb(0, 161, 255)"),_.addGetterSetter(Ee,"anchorStrokeWidth",1,L()),_.addGetterSetter(Ee,"anchorFill","white"),_.addGetterSetter(Ee,"anchorCornerRadius",0,L()),_.addGetterSetter(Ee,"borderStroke","rgb(0, 161, 255)"),_.addGetterSetter(Ee,"borderStrokeWidth",1,L()),_.addGetterSetter(Ee,"borderDash"),_.addGetterSetter(Ee,"keepRatio",!0),_.addGetterSetter(Ee,"centeredScaling",!1),_.addGetterSetter(Ee,"ignoreStroke",!1),_.addGetterSetter(Ee,"padding",0,L()),_.addGetterSetter(Ee,"node"),_.addGetterSetter(Ee,"nodes"),_.addGetterSetter(Ee,"boundBoxFunc"),_.addGetterSetter(Ee,"anchorDragBoundFunc"),_.addGetterSetter(Ee,"shouldOverdrawWholeArea",!1),_.addGetterSetter(Ee,"useSingleNodeRotation",!0),_.backCompat(Ee,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class Br extends G{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,Y.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Br.prototype.className="Wedge",Br.prototype._centroid=!0,Br.prototype._attrsAffectingSize=["radius"],H(Br),_.addGetterSetter(Br,"radius",0,L()),_.addGetterSetter(Br,"angle",0,L()),_.addGetterSetter(Br,"clockwise",!1),_.backCompat(Br,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});function la(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var li=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],Ai=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function Ja(l,e){var n=l.data,a=l.width,s=l.height,o,u,f,c,g,p,S,m,w,C,R,T,B,F,z,W,Q,j,te,Z,re,ne,J,ye,ee=e+e+1,We=a-1,Qt=s-1,me=e+1,at=me*(me+1)/2,Dt=new la,kr=null,xe=Dt,Oe=null,qt=null,gn=li[e],Jr=Ai[e];for(f=1;f<ee;f++)xe=xe.next=new la,f===me&&(kr=xe);for(xe.next=Dt,S=p=0,u=0;u<s;u++){for(W=Q=j=te=m=w=C=R=0,T=me*(Z=n[p]),B=me*(re=n[p+1]),F=me*(ne=n[p+2]),z=me*(J=n[p+3]),m+=at*Z,w+=at*re,C+=at*ne,R+=at*J,xe=Dt,f=0;f<me;f++)xe.r=Z,xe.g=re,xe.b=ne,xe.a=J,xe=xe.next;for(f=1;f<me;f++)c=p+((We<f?We:f)<<2),m+=(xe.r=Z=n[c])*(ye=me-f),w+=(xe.g=re=n[c+1])*ye,C+=(xe.b=ne=n[c+2])*ye,R+=(xe.a=J=n[c+3])*ye,W+=Z,Q+=re,j+=ne,te+=J,xe=xe.next;for(Oe=Dt,qt=kr,o=0;o<a;o++)n[p+3]=J=R*gn>>Jr,J!==0?(J=255/J,n[p]=(m*gn>>Jr)*J,n[p+1]=(w*gn>>Jr)*J,n[p+2]=(C*gn>>Jr)*J):n[p]=n[p+1]=n[p+2]=0,m-=T,w-=B,C-=F,R-=z,T-=Oe.r,B-=Oe.g,F-=Oe.b,z-=Oe.a,c=S+((c=o+e+1)<We?c:We)<<2,W+=Oe.r=n[c],Q+=Oe.g=n[c+1],j+=Oe.b=n[c+2],te+=Oe.a=n[c+3],m+=W,w+=Q,C+=j,R+=te,Oe=Oe.next,T+=Z=qt.r,B+=re=qt.g,F+=ne=qt.b,z+=J=qt.a,W-=Z,Q-=re,j-=ne,te-=J,qt=qt.next,p+=4;S+=a}for(o=0;o<a;o++){for(Q=j=te=W=w=C=R=m=0,p=o<<2,T=me*(Z=n[p]),B=me*(re=n[p+1]),F=me*(ne=n[p+2]),z=me*(J=n[p+3]),m+=at*Z,w+=at*re,C+=at*ne,R+=at*J,xe=Dt,f=0;f<me;f++)xe.r=Z,xe.g=re,xe.b=ne,xe.a=J,xe=xe.next;for(g=a,f=1;f<=e;f++)p=g+o<<2,m+=(xe.r=Z=n[p])*(ye=me-f),w+=(xe.g=re=n[p+1])*ye,C+=(xe.b=ne=n[p+2])*ye,R+=(xe.a=J=n[p+3])*ye,W+=Z,Q+=re,j+=ne,te+=J,xe=xe.next,f<Qt&&(g+=a);for(p=o,Oe=Dt,qt=kr,u=0;u<s;u++)c=p<<2,n[c+3]=J=R*gn>>Jr,J>0?(J=255/J,n[c]=(m*gn>>Jr)*J,n[c+1]=(w*gn>>Jr)*J,n[c+2]=(C*gn>>Jr)*J):n[c]=n[c+1]=n[c+2]=0,m-=T,w-=B,C-=F,R-=z,T-=Oe.r,B-=Oe.g,F-=Oe.b,z-=Oe.a,c=o+((c=u+me)<Qt?c:Qt)*a<<2,m+=W+=Oe.r=n[c],w+=Q+=Oe.g=n[c+1],C+=j+=Oe.b=n[c+2],R+=te+=Oe.a=n[c+3],Oe=Oe.next,T+=Z=qt.r,B+=re=qt.g,F+=ne=qt.b,z+=J=qt.a,W-=Z,Q-=re,j-=ne,te-=J,qt=qt.next,p+=a}}const Mi=function(e){var n=Math.round(this.blurRadius());n>0&&Ja(e,n)};_.addGetterSetter(b,"blurRadius",0,L(),_.afterSetFilter);const ua=function(l){var e=this.brightness()*255,n=l.data,a=n.length,s;for(s=0;s<a;s+=4)n[s]+=e,n[s+1]+=e,n[s+2]+=e};_.addGetterSetter(b,"brightness",0,L(),_.afterSetFilter);const ha=function(l){var e=Math.pow((this.contrast()+100)/100,2),n=l.data,a=n.length,s=150,o=150,u=150,f;for(f=0;f<a;f+=4)s=n[f],o=n[f+1],u=n[f+2],s/=255,s-=.5,s*=e,s+=.5,s*=255,o/=255,o-=.5,o*=e,o+=.5,o*=255,u/=255,u-=.5,u*=e,u+=.5,u*=255,s=s<0?0:s>255?255:s,o=o<0?0:o>255?255:o,u=u<0?0:u>255?255:u,n[f]=s,n[f+1]=o,n[f+2]=u};_.addGetterSetter(b,"contrast",0,L(),_.afterSetFilter);const $a=function(l){var e=this.embossStrength()*10,n=this.embossWhiteLevel()*255,a=this.embossDirection(),s=this.embossBlend(),o=0,u=0,f=l.data,c=l.width,g=l.height,p=c*4,S=g;switch(a){case"top-left":o=-1,u=-1;break;case"top":o=-1,u=0;break;case"top-right":o=-1,u=1;break;case"right":o=0,u=1;break;case"bottom-right":o=1,u=1;break;case"bottom":o=1,u=0;break;case"bottom-left":o=1,u=-1;break;case"left":o=0,u=-1;break;default:P.error("Unknown emboss direction: "+a)}do{var m=(S-1)*p,w=o;S+w<1&&(w=0),S+w>g&&(w=0);var C=(S-1+w)*c*4,R=c;do{var T=m+(R-1)*4,B=u;R+B<1&&(B=0),R+B>c&&(B=0);var F=C+(R-1+B)*4,z=f[T]-f[F],W=f[T+1]-f[F+1],Q=f[T+2]-f[F+2],j=z,te=j>0?j:-j,Z=W>0?W:-W,re=Q>0?Q:-Q;if(Z>te&&(j=W),re>te&&(j=Q),j*=e,s){var ne=f[T]+j,J=f[T+1]+j,ye=f[T+2]+j;f[T]=ne>255?255:ne<0?0:ne,f[T+1]=J>255?255:J<0?0:J,f[T+2]=ye>255?255:ye<0?0:ye}else{var ee=n-j;ee<0?ee=0:ee>255&&(ee=255),f[T]=f[T+1]=f[T+2]=ee}}while(--R)}while(--S)};_.addGetterSetter(b,"embossStrength",.5,L(),_.afterSetFilter),_.addGetterSetter(b,"embossWhiteLevel",.5,L(),_.afterSetFilter),_.addGetterSetter(b,"embossDirection","top-left",null,_.afterSetFilter),_.addGetterSetter(b,"embossBlend",!1,null,_.afterSetFilter);function Un(l,e,n,a,s){var o=n-e,u=s-a,f;return o===0?a+u/2:u===0?a:(f=(l-e)/o,f=u*f+a,f)}const es=function(l){var e=l.data,n=e.length,a=e[0],s=a,o,u=e[1],f=u,c,g=e[2],p=g,S,m,w=this.enhance();if(w!==0){for(m=0;m<n;m+=4)o=e[m+0],o<a?a=o:o>s&&(s=o),c=e[m+1],c<u?u=c:c>f&&(f=c),S=e[m+2],S<g?g=S:S>p&&(p=S);s===a&&(s=255,a=0),f===u&&(f=255,u=0),p===g&&(p=255,g=0);var C,R,T,B,F,z,W,Q,j;for(w>0?(R=s+w*(255-s),T=a-w*(a-0),F=f+w*(255-f),z=u-w*(u-0),Q=p+w*(255-p),j=g-w*(g-0)):(C=(s+a)*.5,R=s+w*(s-C),T=a+w*(a-C),B=(f+u)*.5,F=f+w*(f-B),z=u+w*(u-B),W=(p+g)*.5,Q=p+w*(p-W),j=g+w*(g-W)),m=0;m<n;m+=4)e[m+0]=Un(e[m+0],a,s,T,R),e[m+1]=Un(e[m+1],u,f,z,F),e[m+2]=Un(e[m+2],g,p,j,Q)}};_.addGetterSetter(b,"enhance",0,L(),_.afterSetFilter);const ts=function(l){var e=l.data,n=e.length,a,s;for(a=0;a<n;a+=4)s=.34*e[a]+.5*e[a+1]+.16*e[a+2],e[a]=s,e[a+1]=s,e[a+2]=s};_.addGetterSetter(b,"hue",0,L(),_.afterSetFilter),_.addGetterSetter(b,"saturation",0,L(),_.afterSetFilter),_.addGetterSetter(b,"luminance",0,L(),_.afterSetFilter);const rs=function(l){var e=l.data,n=e.length,a=1,s=Math.pow(2,this.saturation()),o=Math.abs(this.hue()+360)%360,u=this.luminance()*127,f,c=a*s*Math.cos(o*Math.PI/180),g=a*s*Math.sin(o*Math.PI/180),p=.299*a+.701*c+.167*g,S=.587*a-.587*c+.33*g,m=.114*a-.114*c-.497*g,w=.299*a-.299*c-.328*g,C=.587*a+.413*c+.035*g,R=.114*a-.114*c+.293*g,T=.299*a-.3*c+1.25*g,B=.587*a-.586*c-1.05*g,F=.114*a+.886*c-.2*g,z,W,Q,j;for(f=0;f<n;f+=4)z=e[f+0],W=e[f+1],Q=e[f+2],j=e[f+3],e[f+0]=p*z+S*W+m*Q+u,e[f+1]=w*z+C*W+R*Q+u,e[f+2]=T*z+B*W+F*Q+u,e[f+3]=j},da=function(l){var e=l.data,n=e.length,a=Math.pow(2,this.value()),s=Math.pow(2,this.saturation()),o=Math.abs(this.hue()+360)%360,u,f=a*s*Math.cos(o*Math.PI/180),c=a*s*Math.sin(o*Math.PI/180),g=.299*a+.701*f+.167*c,p=.587*a-.587*f+.33*c,S=.114*a-.114*f-.497*c,m=.299*a-.299*f-.328*c,w=.587*a+.413*f+.035*c,C=.114*a-.114*f+.293*c,R=.299*a-.3*f+1.25*c,T=.587*a-.586*f-1.05*c,B=.114*a+.886*f-.2*c,F,z,W,Q;for(u=0;u<n;u+=4)F=e[u+0],z=e[u+1],W=e[u+2],Q=e[u+3],e[u+0]=g*F+p*z+S*W,e[u+1]=m*F+w*z+C*W,e[u+2]=R*F+T*z+B*W,e[u+3]=Q};_.addGetterSetter(b,"hue",0,L(),_.afterSetFilter),_.addGetterSetter(b,"saturation",0,L(),_.afterSetFilter),_.addGetterSetter(b,"value",0,L(),_.afterSetFilter);const ns=function(l){var e=l.data,n=e.length,a;for(a=0;a<n;a+=4)e[a]=255-e[a],e[a+1]=255-e[a+1],e[a+2]=255-e[a+2]};var is=function(l,e,n){var a=l.data,s=e.data,o=l.width,u=l.height,f=n.polarCenterX||o/2,c=n.polarCenterY||u/2,g,p,S,m=0,w=0,C=0,R=0,T,B=Math.sqrt(f*f+c*c);p=o-f,S=u-c,T=Math.sqrt(p*p+S*S),B=T>B?T:B;var F=u,z=o,W,Q,j=360/z*Math.PI/180,te,Z;for(Q=0;Q<z;Q+=1)for(te=Math.sin(Q*j),Z=Math.cos(Q*j),W=0;W<F;W+=1)p=Math.floor(f+B*W/F*Z),S=Math.floor(c+B*W/F*te),g=(S*o+p)*4,m=a[g+0],w=a[g+1],C=a[g+2],R=a[g+3],g=(Q+W*o)*4,s[g+0]=m,s[g+1]=w,s[g+2]=C,s[g+3]=R},Ws=function(l,e,n){var a=l.data,s=e.data,o=l.width,u=l.height,f=n.polarCenterX||o/2,c=n.polarCenterY||u/2,g,p,S,m,w,C=0,R=0,T=0,B=0,F,z=Math.sqrt(f*f+c*c);p=o-f,S=u-c,F=Math.sqrt(p*p+S*S),z=F>z?F:z;var W=u,Q=o,j,te,Z=n.polarRotation||0,re,ne;for(p=0;p<o;p+=1)for(S=0;S<u;S+=1)m=p-f,w=S-c,j=Math.sqrt(m*m+w*w)*W/z,te=(Math.atan2(w,m)*180/Math.PI+360+Z)%360,te=te*Q/360,re=Math.floor(te),ne=Math.floor(j),g=(ne*o+re)*4,C=a[g+0],R=a[g+1],T=a[g+2],B=a[g+3],g=(S*o+p)*4,s[g+0]=C,s[g+1]=R,s[g+2]=T,s[g+3]=B};const fa=function(l){var e=l.width,n=l.height,a,s,o,u,f,c,g,p,S,m,w=Math.round(this.kaleidoscopePower()),C=Math.round(this.kaleidoscopeAngle()),R=Math.floor(e*(C%360)/360);if(!(w<1)){var T=P.createCanvasElement();T.width=e,T.height=n;var B=T.getContext("2d").getImageData(0,0,e,n);is(l,B,{polarCenterX:e/2,polarCenterY:n/2});for(var F=e/Math.pow(2,w);F<=8;)F=F*2,w-=1;F=Math.ceil(F);var z=F,W=0,Q=z,j=1;for(R+F>e&&(W=z,Q=0,j=-1),s=0;s<n;s+=1)for(a=W;a!==Q;a+=j)o=Math.round(a+R)%e,S=(e*s+o)*4,f=B.data[S+0],c=B.data[S+1],g=B.data[S+2],p=B.data[S+3],m=(e*s+a)*4,B.data[m+0]=f,B.data[m+1]=c,B.data[m+2]=g,B.data[m+3]=p;for(s=0;s<n;s+=1)for(z=Math.floor(F),u=0;u<w;u+=1){for(a=0;a<z+1;a+=1)S=(e*s+a)*4,f=B.data[S+0],c=B.data[S+1],g=B.data[S+2],p=B.data[S+3],m=(e*s+z*2-a-1)*4,B.data[m+0]=f,B.data[m+1]=c,B.data[m+2]=g,B.data[m+3]=p;z*=2}Ws(B,l,{polarRotation:0})}};_.addGetterSetter(b,"kaleidoscopePower",2,L(),_.afterSetFilter),_.addGetterSetter(b,"kaleidoscopeAngle",0,L(),_.afterSetFilter);function wn(l,e,n){var a=(n*l.width+e)*4,s=[];return s.push(l.data[a++],l.data[a++],l.data[a++],l.data[a++]),s}function ui(l,e){return Math.sqrt(Math.pow(l[0]-e[0],2)+Math.pow(l[1]-e[1],2)+Math.pow(l[2]-e[2],2))}function Ys(l){for(var e=[0,0,0],n=0;n<l.length;n++)e[0]+=l[n][0],e[1]+=l[n][1],e[2]+=l[n][2];return e[0]/=l.length,e[1]/=l.length,e[2]/=l.length,e}function Xs(l,e){var n=wn(l,0,0),a=wn(l,l.width-1,0),s=wn(l,0,l.height-1),o=wn(l,l.width-1,l.height-1),u=e||10;if(ui(n,a)<u&&ui(a,o)<u&&ui(o,s)<u&&ui(s,n)<u){for(var f=Ys([a,n,o,s]),c=[],g=0;g<l.width*l.height;g++){var p=ui(f,[l.data[g*4],l.data[g*4+1],l.data[g*4+2]]);c[g]=p<u?0:255}return c}}function js(l,e){for(var n=0;n<l.width*l.height;n++)l.data[4*n+3]=e[n]}function Pr(l,e,n){for(var a=[1,1,1,1,0,1,1,1,1],s=Math.round(Math.sqrt(a.length)),o=Math.floor(s/2),u=[],f=0;f<n;f++)for(var c=0;c<e;c++){for(var g=f*e+c,p=0,S=0;S<s;S++)for(var m=0;m<s;m++){var w=f+S-o,C=c+m-o;if(w>=0&&w<n&&C>=0&&C<e){var R=w*e+C,T=a[S*s+m];p+=l[R]*T}}u[g]=p===255*8?255:0}return u}function Kt(l,e,n){for(var a=[1,1,1,1,1,1,1,1,1],s=Math.round(Math.sqrt(a.length)),o=Math.floor(s/2),u=[],f=0;f<n;f++)for(var c=0;c<e;c++){for(var g=f*e+c,p=0,S=0;S<s;S++)for(var m=0;m<s;m++){var w=f+S-o,C=c+m-o;if(w>=0&&w<n&&C>=0&&C<e){var R=w*e+C,T=a[S*s+m];p+=l[R]*T}}u[g]=p>=255*4?255:0}return u}function as(l,e,n){for(var a=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],s=Math.round(Math.sqrt(a.length)),o=Math.floor(s/2),u=[],f=0;f<n;f++)for(var c=0;c<e;c++){for(var g=f*e+c,p=0,S=0;S<s;S++)for(var m=0;m<s;m++){var w=f+S-o,C=c+m-o;if(w>=0&&w<n&&C>=0&&C<e){var R=w*e+C,T=a[S*s+m];p+=l[R]*T}}u[g]=p}return u}const ss=function(l){var e=this.threshold(),n=Xs(l,e);return n&&(n=Pr(n,l.width,l.height),n=Kt(n,l.width,l.height),n=as(n,l.width,l.height),js(l,n)),l};_.addGetterSetter(b,"threshold",0,L(),_.afterSetFilter);const os=function(l){var e=this.noise()*255,n=l.data,a=n.length,s=e/2,o;for(o=0;o<a;o+=4)n[o+0]+=s-2*s*Math.random(),n[o+1]+=s-2*s*Math.random(),n[o+2]+=s-2*s*Math.random()};_.addGetterSetter(b,"noise",.2,L(),_.afterSetFilter);const ca=function(l){var e=Math.ceil(this.pixelSize()),n=l.width,a=l.height,s,o,u,f,c,g,p,S=Math.ceil(n/e),m=Math.ceil(a/e),w,C,R,T,B,F,z,W=l.data;if(e<=0){P.error("pixelSize value can not be <= 0");return}for(B=0;B<S;B+=1)for(F=0;F<m;F+=1){for(f=0,c=0,g=0,p=0,w=B*e,C=w+e,R=F*e,T=R+e,z=0,s=w;s<C;s+=1)if(!(s>=n))for(o=R;o<T;o+=1)o>=a||(u=(n*o+s)*4,f+=W[u+0],c+=W[u+1],g+=W[u+2],p+=W[u+3],z+=1);for(f=f/z,c=c/z,g=g/z,p=p/z,s=w;s<C;s+=1)if(!(s>=n))for(o=R;o<T;o+=1)o>=a||(u=(n*o+s)*4,W[u+0]=f,W[u+1]=c,W[u+2]=g,W[u+3]=p)}};_.addGetterSetter(b,"pixelSize",8,L(),_.afterSetFilter);const ls=function(l){var e=Math.round(this.levels()*254)+1,n=l.data,a=n.length,s=255/e,o;for(o=0;o<a;o+=1)n[o]=Math.floor(n[o]/s)*s};_.addGetterSetter(b,"levels",.5,L(),_.afterSetFilter);const ga=function(l){var e=l.data,n=e.length,a=this.red(),s=this.green(),o=this.blue(),u,f;for(u=0;u<n;u+=4)f=(.34*e[u]+.5*e[u+1]+.16*e[u+2])/255,e[u]=f*a,e[u+1]=f*s,e[u+2]=f*o,e[u+3]=e[u+3]};_.addGetterSetter(b,"red",0,function(l){return this._filterUpToDate=!1,l>255?255:l<0?0:Math.round(l)}),_.addGetterSetter(b,"green",0,function(l){return this._filterUpToDate=!1,l>255?255:l<0?0:Math.round(l)}),_.addGetterSetter(b,"blue",0,se,_.afterSetFilter);const us=function(l){var e=l.data,n=e.length,a=this.red(),s=this.green(),o=this.blue(),u=this.alpha(),f,c;for(f=0;f<n;f+=4)c=1-u,e[f]=a*u+e[f]*c,e[f+1]=s*u+e[f+1]*c,e[f+2]=o*u+e[f+2]*c};_.addGetterSetter(b,"red",0,function(l){return this._filterUpToDate=!1,l>255?255:l<0?0:Math.round(l)}),_.addGetterSetter(b,"green",0,function(l){return this._filterUpToDate=!1,l>255?255:l<0?0:Math.round(l)}),_.addGetterSetter(b,"blue",0,se,_.afterSetFilter),_.addGetterSetter(b,"alpha",1,function(l){return this._filterUpToDate=!1,l>1?1:l<0?0:l});const va=function(l){var e=l.data,n=e.length,a,s,o,u;for(a=0;a<n;a+=4)s=e[a+0],o=e[a+1],u=e[a+2],e[a+0]=Math.min(255,s*.393+o*.769+u*.189),e[a+1]=Math.min(255,s*.349+o*.686+u*.168),e[a+2]=Math.min(255,s*.272+o*.534+u*.131)},hs=function(l){var e=l.data,n=l.width,a=l.height,s=n*4,o=a;do{var u=(o-1)*s,f=n;do{var c=u+(f-1)*4,g=e[c],p=e[c+1],S=e[c+2];g>127&&(g=255-g),p>127&&(p=255-p),S>127&&(S=255-S),e[c]=g,e[c+1]=p,e[c+2]=S}while(--f)}while(--o)},Li=function(l){var e=this.threshold()*255,n=l.data,a=n.length,s;for(s=0;s<a;s+=1)n[s]=n[s]<e?0:255};_.addGetterSetter(b,"threshold",.5,L(),_.afterSetFilter);const Vs=$i.Util._assign($i,{Arc:ut,Arrow:br,Circle:Kr,Ellipse:rr,Image:Yt,Label:xi,Tag:jt,Line:Vr,Path:Se,Rect:cr,RegularPolygon:hn,Ring:dn,Sprite:wr,Star:Er,Text:Be,TextPath:Le,Transformer:Ee,Wedge:Br,Filters:{Blur:Mi,Brighten:ua,Contrast:ha,Emboss:$a,Enhance:es,Grayscale:ts,HSL:rs,HSV:da,Invert:ns,Kaleidoscope:fa,Mask:ss,Noise:os,Pixelate:ca,Posterize:ls,RGB:ga,RGBA:us,Sepia:va,Solarize:hs,Threshold:Li}});var Ks=null,gr=U(67294),Wn=$i,ds=U(76525),pa=U.n(ds),ma={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0},Hr=!1,Tr=!1,En=".react-konva-event",Yn=!1;function ya(l){Yn=l}var Ii=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,fs=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,hi={};function Oi(l,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:hi;if(e===n&&console.error("same props"),!Hr&&"zIndex"in e&&(console.warn(fs),Hr=!0),!Tr&&e.draggable){var a=e.x!==void 0||e.y!==void 0,s=e.onDragEnd||e.onDragMove;a&&!s&&(console.warn(Ii),Tr=!0)}for(var o in n)if(!ma[o]){var u=o.slice(0,2)==="on",f=n[o]!==e[o];if(u&&f){var c=o.substr(2).toLowerCase();c.substr(0,7)==="content"&&(c="content"+c.substr(7,1).toUpperCase()+c.substr(8)),l.off(c,n[o])}var g=!e.hasOwnProperty(o);g&&l.setAttr(o,void 0)}var p=Yn||e._useStrictMode,S={},m=!1,w={};for(var o in e)if(!ma[o]){var u=o.slice(0,2)==="on",C=n[o]!==e[o];if(u&&C){var c=o.substr(2).toLowerCase();c.substr(0,7)==="content"&&(c="content"+c.substr(7,1).toUpperCase()+c.substr(8)),e[o]&&(w[c]=e[o])}!u&&(e[o]!==n[o]||p&&e[o]!==l.getAttr(o))&&(m=!0,S[o]=e[o])}m&&(l.setAttrs(S),cn(l));for(var c in w)l.on(c+En,w[c])}function cn(l){if(!Y.autoDrawEnabled){var e=l.getLayer()||l.getStage();e&&e.batchDraw()}}var di=U(63840),Ni={},Zs={};Wn.Node.prototype._applyProps=Oi;function cs(l,e){if(typeof e=="string"){console.error("Do not use plain text as child of Konva.Node. You are using text: "+e);return}l.add(e),cn(l)}function gs(l,e,n){var a=Wn[l];a||(console.error("Konva has no node with the type "+l+'. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/'+l+'"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html'),a=Wn.Group);var s={},o={};for(var u in e){var f=u.slice(0,2)==="on";f?o[u]=e[u]:s[u]=e[u]}var c=new a(s);return Oi(c,o),c}function Qs(l,e,n){console.error('Text components are not supported for now in ReactKonva. Your text is: "'+l+'"')}function vs(l,e,n){return!1}function qs(l){return l}function ps(){return null}function Js(){return null}function ms(l,e,n,a){return Zs}function ys(){}function _s(l){}function Ss(l,e){return!1}function Cs(){return Ni}function xs(){return Ni}var _a=setTimeout,Sa=clearTimeout,ws=-1;function Ca(l,e){return!1}var Es=!1,Di=!0,$s=!0;function Gi(l,e){e.parent===l?e.moveToTop():l.add(e),cn(l)}function bi(l,e){e.parent===l?e.moveToTop():l.add(e),cn(l)}function fi(l,e,n){e._remove(),l.add(e),e.setZIndex(n.getZIndex()),cn(l)}function zi(l,e,n){fi(l,e,n)}function Fi(l,e){e.destroy(),e.off(En),cn(l)}function ci(l,e){e.destroy(),e.off(En),cn(l)}function xa(l,e,n){console.error('Text components are not yet supported in ReactKonva. You text is: "'+n+'"')}function wa(l,e,n){}function Ea(l,e,n,a,s){Oi(l,s,a)}function Ps(l){l.hide(),cn(l)}function Pa(l){}function Bi(l,e){(e.visible==null||e.visible)&&l.show()}function eo(l,e){}function to(l){}var Hi=Object.assign||function(l){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(l[a]=n[a])}return l};function Ta(l){var e=gr.useRef();return gr.useLayoutEffect(function(){e.current=l}),e.current}var ka=function(e){var n=gr.useRef(),a=gr.useRef(),s=gr.useRef(),o=Ta(e),u=function(c){var g=e.forwardedRef;!g||(typeof g=="function"?g(c):g.current=c)};return gr.useLayoutEffect(function(){return a.current=new Wn.Stage({width:e.width,height:e.height,container:n.current}),u(a.current),s.current=qr.createContainer(a.current),qr.updateContainer(e.children,s.current),function(){!Wn.isBrowser||(u(null),qr.updateContainer(null,s.current,null),a.current.destroy())}},[]),gr.useLayoutEffect(function(){u(a.current),Oi(a.current,e,o),qr.updateContainer(e.children,s.current,null)}),gr.createElement("div",{ref:n,accessKey:e.accessKey,className:e.className,role:e.role,style:e.style,tabIndex:e.tabIndex,title:e.title})},le="Layer",Zt="FastLayer",gt="Group",Nt="Label",Pn="Rect",Ra="Circle",Rt="Ellipse",Aa="Wedge",Xn="Line",Ui="Sprite",jn="Image",Ts="Text",ks="TextPath",Rs="Star",As="Ring",Tn="Arc",q="Tag",Ma="Path",Ms="RegularPolygon",Qr="Arrow",kn="Shape",Wi="Transformer",qr=pa()(qe);qr.injectIntoDevTools({findHostInstanceByFiber:function(){return null},bundleType:0,version:gr.version,rendererPackageName:"react-konva"});var La=gr.forwardRef(function(l,e){return gr.createElement(ka,Hi({},l,{forwardedRef:e}))}),Ls=null},67287:function(At,sr,U){At=U.nmd(At);/** @license React v0.26.2
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */At.exports=function(N){var I={},Je=U(27418),Y=U(67294),H=U(63840);function D(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)r+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var st=Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vt=60103,Ae=60106,Xe=60107,Et=60108,Jt=60114,Gt=60109,Rr=60110,or=60112,bt=60113,lr=60120,ur=60115,hr=60116,Yr=60121,zt=60129,$r=60130,P=60131;if(typeof Symbol=="function"&&Symbol.for){var _e=Symbol.for;vt=_e("react.element"),Ae=_e("react.portal"),Xe=_e("react.fragment"),Et=_e("react.strict_mode"),Jt=_e("react.profiler"),Gt=_e("react.provider"),Rr=_e("react.context"),or=_e("react.forward_ref"),bt=_e("react.suspense"),lr=_e("react.suspense_list"),ur=_e("react.memo"),hr=_e("react.lazy"),Yr=_e("react.block"),_e("react.scope"),zt=_e("react.debug_trace_mode"),$r=_e("react.offscreen"),P=_e("react.legacy_hidden")}var se=typeof Symbol=="function"&&Symbol.iterator;function de(t){return t===null||typeof t!="object"?null:(t=se&&t[se]||t["@@iterator"],typeof t=="function"?t:null)}function L(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xe:return"Fragment";case Ae:return"Portal";case Jt:return"Profiler";case Et:return"StrictMode";case bt:return"Suspense";case lr:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Rr:return(t.displayName||"Context")+".Consumer";case Gt:return(t._context.displayName||"Context")+".Provider";case or:var r=t.render;return r=r.displayName||r.name||"",t.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case ur:return L(t.type);case Yr:return L(t._render);case hr:r=t._payload,t=t._init;try{return L(t(r))}catch(i){}}return null}function he(t){var r=t,i=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&1026)!=0&&(i=r.return),t=r.return;while(t)}return r.tag===3?i:null}function Me(t){if(he(t)!==t)throw Error(D(188))}function ze(t){var r=t.alternate;if(!r){if(r=he(t),r===null)throw Error(D(188));return r!==t?null:t}for(var i=t,h=r;;){var d=i.return;if(d===null)break;var v=d.alternate;if(v===null){if(h=d.return,h!==null){i=h;continue}break}if(d.child===v.child){for(v=d.child;v;){if(v===i)return Me(d),t;if(v===h)return Me(d),r;v=v.sibling}throw Error(D(188))}if(i.return!==h.return)i=d,h=v;else{for(var y=!1,x=d.child;x;){if(x===i){y=!0,i=d,h=v;break}if(x===h){y=!0,h=d,i=v;break}x=x.sibling}if(!y){for(x=v.child;x;){if(x===i){y=!0,i=v,h=d;break}if(x===h){y=!0,h=v,i=d;break}x=x.sibling}if(!y)throw Error(D(189))}}if(i.alternate!==h)throw Error(D(190))}if(i.tag!==3)throw Error(D(188));return i.stateNode.current===i?t:r}function $t(t){if(t=ze(t),!t)return null;for(var r=t;;){if(r.tag===5||r.tag===6)return r;if(r.child)r.child.return=r,r=r.child;else{if(r===t)break;for(;!r.sibling;){if(!r.return||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}}return null}function Ar(t){if(t=ze(t),!t)return null;for(var r=t;;){if(r.tag===5||r.tag===6)return r;if(r.child&&r.tag!==4)r.child.return=r,r=r.child;else{if(r===t)break;for(;!r.sibling;){if(!r.return||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}}return null}function Mr(t,r){for(var i=t.alternate;r!==null;){if(r===t||r===i)return!0;r=r.return}return!1}var Fe=N.getPublicInstance,Pt=N.getRootHostContext,St=N.getChildHostContext,Mt=N.prepareForCommit,_=N.resetAfterCommit,Xr=N.createInstance,er=N.appendInitialChild,Ct=N.finalizeInitialChildren,Ft=N.prepareUpdate,vr=N.shouldSetTextContent,Lr=N.createTextInstance,Ir=N.scheduleTimeout,Bt=N.cancelTimeout,pr=N.noTimeout,tr=N.isPrimaryRenderer,Lt=N.supportsMutation,mr=N.supportsPersistence,Ge=N.supportsHydration,Rn=N.getInstanceFromNode,$=N.makeOpaqueHydratingObject,O=N.makeClientId,ve=N.beforeActiveInstanceBlur,ue=N.afterActiveInstanceBlur,pe=N.preparePortalMount,we=N.supportsTestSelectors,oe=N.findFiberRoot,Pe=N.getBoundingRect,je=N.getTextContent,Te=N.isHiddenSubtree,Ve=N.matchAccessibilityRole,Ce=N.setFocusIfFocusable,ht=N.setupIntersectionObserver,pt=N.appendChild,Ht=N.appendChildToContainer,ot=N.commitTextUpdate,$e=N.commitMount,lt=N.commitUpdate,He=N.insertBefore,dt=N.insertInContainerBefore,Qe=N.removeChild,ft=N.removeChildFromContainer,Ut=N.resetTextContent,be=N.hideInstance,yr=N.hideTextInstance,_r=N.unhideInstance,Wt=N.unhideTextInstance,mt=N.clearContainer,b=N.cloneInstance,ge=N.createContainerChildSet,et=N.appendChildToContainerChildSet,Or=N.finalizeContainerChildren,vn=N.replaceContainerChildren,Sr=N.cloneHiddenInstance,en=N.cloneHiddenTextInstance,rt=N.canHydrateInstance,nt=N.canHydrateTextInstance,Tt=N.isSuspenseInstancePending,dr=N.isSuspenseInstanceFallback,Xi=N.getNextHydratableSibling,ji=N.getFirstHydratableChild,Gs=N.hydrateInstance,Ia=N.hydrateTextInstance,Oa=N.getNextHydratableInstanceAfterSuspenseInstance,Vi=N.commitHydratedContainer,Na=N.commitHydratedSuspenseInstance,gi;function An(t){if(gi===void 0)try{throw Error()}catch(i){var r=i.stack.trim().match(/\n( *(at )?)/);gi=r&&r[1]||""}return`
`+gi+t}var pn=!1;function tn(t,r){if(!t||pn)return"";pn=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(A){var h=A}Reflect.construct(t,[],r)}else{try{r.call()}catch(A){h=A}t.call(r.prototype)}else{try{throw Error()}catch(A){h=A}t()}}catch(A){if(A&&h&&typeof A.stack=="string"){for(var d=A.stack.split(`
`),v=h.stack.split(`
`),y=d.length-1,x=v.length-1;1<=y&&0<=x&&d[y]!==v[x];)x--;for(;1<=y&&0<=x;y--,x--)if(d[y]!==v[x]){if(y!==1||x!==1)do if(y--,x--,0>x||d[y]!==v[x])return`
`+d[y].replace(" at new "," at ");while(1<=y&&0<=x);break}}}finally{pn=!1,Error.prepareStackTrace=i}return(t=t?t.displayName||t.name:"")?An(t):""}var rn=[],Nr=-1;function nn(t){return{current:t}}function Ne(t){0>Nr||(t.current=rn[Nr],rn[Nr]=null,Nr--)}function Ue(t,r){Nr++,rn[Nr]=t.current,t.current=r}var Cr={},ct=nn(Cr),kt=nn(!1),an=Cr;function mn(t,r){var i=t.type.contextTypes;if(!i)return Cr;var h=t.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===r)return h.__reactInternalMemoizedMaskedChildContext;var d={},v;for(v in i)d[v]=r[v];return h&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=d),d}function It(t){return t=t.childContextTypes,t!=null}function Zn(){Ne(kt),Ne(ct)}function vi(t,r,i){if(ct.current!==Cr)throw Error(D(168));Ue(ct,r),Ue(kt,i)}function Da(t,r,i){var h=t.stateNode;if(t=r.childContextTypes,typeof h.getChildContext!="function")return i;h=h.getChildContext();for(var d in h)if(!(d in t))throw Error(D(108,L(r)||"Unknown",d));return Je({},i,h)}function pi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Cr,an=ct.current,Ue(ct,t),Ue(kt,kt.current),!0}function mi(t,r,i){var h=t.stateNode;if(!h)throw Error(D(169));i?(t=Da(t,r,an),h.__reactInternalMemoizedMergedChildContext=t,Ne(kt),Ne(ct),Ue(ct,t)):Ne(kt),Ue(kt,i)}var yn=null,fr=null,Ga=H.unstable_now;Ga();var yi=0,Ie=8;function Dr(t){if((1&t)!=0)return Ie=15,1;if((2&t)!=0)return Ie=14,2;if((4&t)!=0)return Ie=13,4;var r=24&t;return r!==0?(Ie=12,r):(t&32)!=0?(Ie=11,32):(r=192&t,r!==0?(Ie=10,r):(t&256)!=0?(Ie=9,256):(r=3584&t,r!==0?(Ie=8,r):(t&4096)!=0?(Ie=7,4096):(r=4186112&t,r!==0?(Ie=6,r):(r=62914560&t,r!==0?(Ie=5,r):t&67108864?(Ie=4,67108864):(t&134217728)!=0?(Ie=3,134217728):(r=805306368&t,r!==0?(Ie=2,r):(1073741824&t)!=0?(Ie=1,1073741824):(Ie=8,t))))))}function ba(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function za(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(D(358,t))}}function Mn(t,r){var i=t.pendingLanes;if(i===0)return Ie=0;var h=0,d=0,v=t.expiredLanes,y=t.suspendedLanes,x=t.pingedLanes;if(v!==0)h=v,d=Ie=15;else if(v=i&134217727,v!==0){var A=v&~y;A!==0?(h=Dr(A),d=Ie):(x&=v,x!==0&&(h=Dr(x),d=Ie))}else v=i&~y,v!==0?(h=Dr(v),d=Ie):x!==0&&(h=Dr(x),d=Ie);if(h===0)return 0;if(h=31-on(h),h=i&((0>h?0:1<<h)<<1)-1,r!==0&&r!==h&&(r&y)==0){if(Dr(r),d<=Ie)return r;Ie=d}if(r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=h;0<r;)i=31-on(r),d=1<<i,h|=t[i],r&=~d;return h}function Ki(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Qn(t,r){switch(t){case 15:return 1;case 14:return 2;case 12:return t=jr(24&~r),t===0?Qn(10,r):t;case 10:return t=jr(192&~r),t===0?Qn(8,r):t;case 8:return t=jr(3584&~r),t===0&&(t=jr(4186112&~r),t===0&&(t=512)),t;case 2:return r=jr(805306368&~r),r===0&&(r=268435456),r}throw Error(D(358,t))}function jr(t){return t&-t}function qn(t){for(var r=[],i=0;31>i;i++)r.push(t);return r}function sn(t,r,i){t.pendingLanes|=r;var h=r-1;t.suspendedLanes&=h,t.pingedLanes&=h,t=t.eventTimes,r=31-on(r),t[r]=i}var on=Math.clz32?Math.clz32:Fs,bs=Math.log,zs=Math.LN2;function Fs(t){return t===0?32:31-(bs(t)/zs|0)|0}var Bs=H.unstable_runWithPriority,Zi=H.unstable_scheduleCallback,Qi=H.unstable_cancelCallback,Hs=H.unstable_shouldYield,Fa=H.unstable_requestPaint,G=H.unstable_now,Us=H.unstable_getCurrentPriorityLevel,_i=H.unstable_ImmediatePriority,Ba=H.unstable_UserBlockingPriority,qi=H.unstable_NormalPriority,Ha=H.unstable_LowPriority,ln=H.unstable_IdlePriority,Jn={},Ln=Fa!==void 0?Fa:function(){},xr=null,Ot=null,Ji=!1,Ua=G(),yt=1e4>Ua?G:function(){return G()-Ua};function _n(){switch(Us()){case _i:return 99;case Ba:return 98;case qi:return 97;case Ha:return 96;case ln:return 95;default:throw Error(D(332))}}function Wa(t){switch(t){case 99:return _i;case 98:return Ba;case 97:return qi;case 96:return Ha;case 95:return ln;default:throw Error(D(332))}}function Gr(t,r){return t=Wa(t),Bs(t,r)}function $n(t,r,i){return t=Wa(t),Zi(t,r,i)}function ke(){if(Ot!==null){var t=Ot;Ot=null,Qi(t)}In()}function In(){if(!Ji&&xr!==null){Ji=!0;var t=0;try{var r=xr;Gr(99,function(){for(;t<r.length;t++){var i=r[t];do i=i(!0);while(i!==null)}}),xr=null}catch(i){throw xr!==null&&(xr=xr.slice(t+1)),Zi(_i,ke),i}finally{Ji=!1}}}var $i=st.ReactCurrentBatchConfig;function lo(t,r){return t===r&&(t!==0||1/t==1/r)||t!==t&&r!==r}var ut=typeof Object.is=="function"?Object.is:lo,ea=Object.prototype.hasOwnProperty;function ei(t,r){if(ut(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var i=Object.keys(t),h=Object.keys(r);if(i.length!==h.length)return!1;for(h=0;h<i.length;h++)if(!ea.call(r,i[h])||!ut(t[i[h]],r[i[h]]))return!1;return!0}function Vr(t){switch(t.tag){case 5:return An(t.type);case 16:return An("Lazy");case 13:return An("Suspense");case 19:return An("SuspenseList");case 0:case 2:case 15:return t=tn(t.type,!1),t;case 11:return t=tn(t.type.render,!1),t;case 22:return t=tn(t.type._render,!1),t;case 1:return t=tn(t.type,!0),t;default:return""}}function Se(t,r){if(t&&t.defaultProps){r=Je({},r),t=t.defaultProps;for(var i in t)r[i]===void 0&&(r[i]=t[i]);return r}return r}var br=nn(null),Kr=null,rr=null,Yt=null;function Si(){Yt=rr=Kr=null}function Ya(t,r){t=t.type._context,tr?(Ue(br,t._currentValue),t._currentValue=r):(Ue(br,t._currentValue2),t._currentValue2=r)}function ta(t){var r=br.current;Ne(br),t=t.type._context,tr?t._currentValue=r:t._currentValue2=r}function Ci(t,r){for(;t!==null;){var i=t.alternate;if((t.childLanes&r)===r){if(i===null||(i.childLanes&r)===r)break;i.childLanes|=r}else t.childLanes|=r,i!==null&&(i.childLanes|=r);t=t.return}}function un(t,r){Kr=t,Yt=rr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!=0&&(Pr=!0),t.firstContext=null)}function Xt(t,r){if(Yt!==t&&r!==!1&&r!==0)if((typeof r!="number"||r===1073741823)&&(Yt=t,r=1073741823),r={context:t,observedBits:r,next:null},rr===null){if(Kr===null)throw Error(D(308));rr=r,Kr.dependencies={lanes:0,firstContext:r,responders:null}}else rr=rr.next=r;return tr?t._currentValue:t._currentValue2}var zr=!1;function ra(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function xi(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function jt(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function cr(t,r){if(t=t.updateQueue,t!==null){t=t.shared;var i=t.pending;i===null?r.next=r:(r.next=i.next,i.next=r),t.pending=r}}function hn(t,r){var i=t.updateQueue,h=t.alternate;if(h!==null&&(h=h.updateQueue,i===h)){var d=null,v=null;if(i=i.firstBaseUpdate,i!==null){do{var y={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};v===null?d=v=y:v=v.next=y,i=i.next}while(i!==null);v===null?d=v=r:v=v.next=r}else d=v=r;i={baseState:h.baseState,firstBaseUpdate:d,lastBaseUpdate:v,shared:h.shared,effects:h.effects},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=r:t.next=r,i.lastBaseUpdate=r}function On(t,r,i,h){var d=t.updateQueue;zr=!1;var v=d.firstBaseUpdate,y=d.lastBaseUpdate,x=d.shared.pending;if(x!==null){d.shared.pending=null;var A=x,X=A.next;A.next=null,y===null?v=X:y.next=X,y=A;var ie=t.alternate;if(ie!==null){ie=ie.updateQueue;var fe=ie.lastBaseUpdate;fe!==y&&(fe===null?ie.firstBaseUpdate=X:fe.next=X,ie.lastBaseUpdate=A)}}if(v!==null){fe=d.baseState,y=0,ie=X=A=null;do{x=v.lane;var K=v.eventTime;if((h&x)===x){ie!==null&&(ie=ie.next={eventTime:K,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var Ye=t,tt=v;switch(x=r,K=i,tt.tag){case 1:if(Ye=tt.payload,typeof Ye=="function"){fe=Ye.call(K,fe,x);break e}fe=Ye;break e;case 3:Ye.flags=Ye.flags&-4097|64;case 0:if(Ye=tt.payload,x=typeof Ye=="function"?Ye.call(K,fe,x):Ye,x==null)break e;fe=Je({},fe,x);break e;case 2:zr=!0}}v.callback!==null&&(t.flags|=32,x=d.effects,x===null?d.effects=[v]:x.push(v))}else K={eventTime:K,lane:x,tag:v.tag,payload:v.payload,callback:v.callback,next:null},ie===null?(X=ie=K,A=fe):ie=ie.next=K,y|=x;if(v=v.next,v===null){if(x=d.shared.pending,x===null)break;v=x.next,x.next=null,d.lastBaseUpdate=x,d.shared.pending=null}}while(1);ie===null&&(A=fe),d.baseState=A,d.firstBaseUpdate=X,d.lastBaseUpdate=ie,Ui|=y,t.lanes=y,t.memoizedState=fe}}function dn(t,r,i){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var h=t[r],d=h.callback;if(d!==null){if(h.callback=null,h=i,typeof d!="function")throw Error(D(191,d));d.call(h)}}}var wr=new Y.Component().refs;function Er(t,r,i,h){r=t.memoizedState,i=i(h,r),i=i==null?r:Je({},r,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var ti={isMounted:function(t){return(t=t._reactInternals)?he(t)===t:!1},enqueueSetState:function(t,r,i){t=t._reactInternals;var h=c(),d=g(t),v=jt(h,d);v.payload=r,i!=null&&(v.callback=i),cr(t,v),p(t,d,h)},enqueueReplaceState:function(t,r,i){t=t._reactInternals;var h=c(),d=g(t),v=jt(h,d);v.tag=1,v.payload=r,i!=null&&(v.callback=i),cr(t,v),p(t,d,h)},enqueueForceUpdate:function(t,r){t=t._reactInternals;var i=c(),h=g(t),d=jt(i,h);d.tag=2,r!=null&&(d.callback=r),cr(t,d),p(t,h,i)}};function ri(t,r,i,h,d,v,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(h,v,y):r.prototype&&r.prototype.isPureReactComponent?!ei(i,h)||!ei(d,v):!0}function Xa(t,r,i){var h=!1,d=Cr,v=r.contextType;return typeof v=="object"&&v!==null?v=Xt(v):(d=It(r)?an:ct.current,h=r.contextTypes,v=(h=h!=null)?mn(t,d):Cr),r=new r(i,v),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=ti,t.stateNode=r,r._reactInternals=t,h&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=d,t.__reactInternalMemoizedMaskedChildContext=v),r}function Nn(t,r,i,h){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(i,h),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(i,h),r.state!==t&&ti.enqueueReplaceState(r,r.state,null)}function na(t,r,i,h){var d=t.stateNode;d.props=i,d.state=t.memoizedState,d.refs=wr,ra(t);var v=r.contextType;typeof v=="object"&&v!==null?d.context=Xt(v):(v=It(r)?an:ct.current,d.context=mn(t,v)),On(t,i,d,h),d.state=t.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(Er(t,r,v,i),d.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(r=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),r!==d.state&&ti.enqueueReplaceState(d,d.state,null),On(t,i,d,h),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4)}var wi=Array.isArray;function Dn(t,r,i){if(t=i.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(D(309));var h=i.stateNode}if(!h)throw Error(D(147,t));var d=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===d?r.ref:(r=function(v){var y=h.refs;y===wr&&(y=h.refs={}),v===null?delete y[d]:y[d]=v},r._stringRef=d,r)}if(typeof t!="string")throw Error(D(284));if(!i._owner)throw Error(D(290,t))}return t}function ni(t,r){if(t.type!=="textarea")throw Error(D(31,Object.prototype.toString.call(r)==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":r))}function ja(t){function r(k,E){if(t){var M=k.lastEffect;M!==null?(M.nextEffect=E,k.lastEffect=E):k.firstEffect=k.lastEffect=E,E.nextEffect=null,E.flags=8}}function i(k,E){if(!t)return null;for(;E!==null;)r(k,E),E=E.sibling;return null}function h(k,E){for(k=new Map;E!==null;)E.key!==null?k.set(E.key,E):k.set(E.index,E),E=E.sibling;return k}function d(k,E){return k=Vn(k,E),k.index=0,k.sibling=null,k}function v(k,E,M){return k.index=M,t?(M=k.alternate,M!==null?(M=M.index,M<E?(k.flags=2,E):M):(k.flags=2,E)):E}function y(k){return t&&k.alternate===null&&(k.flags=2),k}function x(k,E,M,V){return E===null||E.tag!==6?(E=so(M,k.mode,V),E.return=k,E):(E=d(E,M),E.return=k,E)}function A(k,E,M,V){return E!==null&&E.elementType===M.type?(V=d(E,M.props),V.ref=Dn(k,E,M),V.return=k,V):(V=Ns(M.type,M.key,M.props,null,k.mode,V),V.ref=Dn(k,E,M),V.return=k,V)}function X(k,E,M,V){return E===null||E.tag!==4||E.stateNode.containerInfo!==M.containerInfo||E.stateNode.implementation!==M.implementation?(E=oo(M,k.mode,V),E.return=k,E):(E=d(E,M.children||[]),E.return=k,E)}function ie(k,E,M,V,ae){return E===null||E.tag!==7?(E=Yi(M,k.mode,V,ae),E.return=k,E):(E=d(E,M),E.return=k,E)}function fe(k,E,M){if(typeof E=="string"||typeof E=="number")return E=so(""+E,k.mode,M),E.return=k,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case vt:return M=Ns(E.type,E.key,E.props,null,k.mode,M),M.ref=Dn(k,null,E),M.return=k,M;case Ae:return E=oo(E,k.mode,M),E.return=k,E}if(wi(E)||de(E))return E=Yi(E,k.mode,M,null),E.return=k,E;ni(k,E)}return null}function K(k,E,M,V){var ae=E!==null?E.key:null;if(typeof M=="string"||typeof M=="number")return ae!==null?null:x(k,E,""+M,V);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case vt:return M.key===ae?M.type===Xe?ie(k,E,M.props.children,V,ae):A(k,E,M,V):null;case Ae:return M.key===ae?X(k,E,M,V):null}if(wi(M)||de(M))return ae!==null?null:ie(k,E,M,V,null);ni(k,M)}return null}function Ye(k,E,M,V,ae){if(typeof V=="string"||typeof V=="number")return k=k.get(M)||null,x(E,k,""+V,ae);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case vt:return k=k.get(V.key===null?M:V.key)||null,V.type===Xe?ie(E,k,V.props.children,ae,V.key):A(E,k,V,ae);case Ae:return k=k.get(V.key===null?M:V.key)||null,X(E,k,V,ae)}if(wi(V)||de(V))return k=k.get(M)||null,ie(E,k,V,ae,null);ni(E,V)}return null}function tt(k,E,M,V){for(var ae=null,Ze=null,ce=E,De=E=0,_t=null;ce!==null&&De<M.length;De++){ce.index>De?(_t=ce,ce=null):_t=ce.sibling;var Re=K(k,ce,M[De],V);if(Re===null){ce===null&&(ce=_t);break}t&&ce&&Re.alternate===null&&r(k,ce),E=v(Re,E,De),Ze===null?ae=Re:Ze.sibling=Re,Ze=Re,ce=_t}if(De===M.length)return i(k,ce),ae;if(ce===null){for(;De<M.length;De++)ce=fe(k,M[De],V),ce!==null&&(E=v(ce,E,De),Ze===null?ae=ce:Ze.sibling=ce,Ze=ce);return ae}for(ce=h(k,ce);De<M.length;De++)_t=Ye(ce,k,De,M[De],V),_t!==null&&(t&&_t.alternate!==null&&ce.delete(_t.key===null?De:_t.key),E=v(_t,E,De),Ze===null?ae=_t:Ze.sibling=_t,Ze=_t);return t&&ce.forEach(function(Kn){return r(k,Kn)}),ae}function Wr(k,E,M,V){var ae=de(M);if(typeof ae!="function")throw Error(D(150));if(M=ae.call(M),M==null)throw Error(D(151));for(var Ze=ae=null,ce=E,De=E=0,_t=null,Re=M.next();ce!==null&&!Re.done;De++,Re=M.next()){ce.index>De?(_t=ce,ce=null):_t=ce.sibling;var Kn=K(k,ce,Re.value,V);if(Kn===null){ce===null&&(ce=_t);break}t&&ce&&Kn.alternate===null&&r(k,ce),E=v(Kn,E,De),Ze===null?ae=Kn:Ze.sibling=Kn,Ze=Kn,ce=_t}if(Re.done)return i(k,ce),ae;if(ce===null){for(;!Re.done;De++,Re=M.next())Re=fe(k,Re.value,V),Re!==null&&(E=v(Re,E,De),Ze===null?ae=Re:Ze.sibling=Re,Ze=Re);return ae}for(ce=h(k,ce);!Re.done;De++,Re=M.next())Re=Ye(ce,k,De,Re.value,V),Re!==null&&(t&&Re.alternate!==null&&ce.delete(Re.key===null?De:Re.key),E=v(Re,E,De),Ze===null?ae=Re:Ze.sibling=Re,Ze=Re);return t&&ce.forEach(function(So){return r(k,So)}),ae}return function(k,E,M,V){var ae=typeof M=="object"&&M!==null&&M.type===Xe&&M.key===null;ae&&(M=M.props.children);var Ze=typeof M=="object"&&M!==null;if(Ze)switch(M.$$typeof){case vt:e:{for(Ze=M.key,ae=E;ae!==null;){if(ae.key===Ze){switch(ae.tag){case 7:if(M.type===Xe){i(k,ae.sibling),E=d(ae,M.props.children),E.return=k,k=E;break e}break;default:if(ae.elementType===M.type){i(k,ae.sibling),E=d(ae,M.props),E.ref=Dn(k,ae,M),E.return=k,k=E;break e}}i(k,ae);break}else r(k,ae);ae=ae.sibling}M.type===Xe?(E=Yi(M.props.children,k.mode,V,M.key),E.return=k,k=E):(V=Ns(M.type,M.key,M.props,null,k.mode,V),V.ref=Dn(k,E,M),V.return=k,k=V)}return y(k);case Ae:e:{for(ae=M.key;E!==null;){if(E.key===ae)if(E.tag===4&&E.stateNode.containerInfo===M.containerInfo&&E.stateNode.implementation===M.implementation){i(k,E.sibling),E=d(E,M.children||[]),E.return=k,k=E;break e}else{i(k,E);break}else r(k,E);E=E.sibling}E=oo(M,k.mode,V),E.return=k,k=E}return y(k)}if(typeof M=="string"||typeof M=="number")return M=""+M,E!==null&&E.tag===6?(i(k,E.sibling),E=d(E,M),E.return=k,k=E):(i(k,E),E=so(M,k.mode,V),E.return=k,k=E),y(k);if(wi(M))return tt(k,E,M,V);if(de(M))return Wr(k,E,M,V);if(Ze&&ni(k,M),typeof M=="undefined"&&!ae)switch(k.tag){case 1:case 22:case 0:case 11:case 15:throw Error(D(152,L(k.type)||"Component"))}return i(k,E)}}var Ei=ja(!0),Va=ja(!1),ii={},nr=nn(ii),Gn=nn(ii),bn=nn(ii);function ir(t){if(t===ii)throw Error(D(174));return t}function ia(t,r){Ue(bn,r),Ue(Gn,t),Ue(nr,ii),t=Pt(r),Ne(nr),Ue(nr,t)}function zn(){Ne(nr),Ne(Gn),Ne(bn)}function Ka(t){var r=ir(bn.current),i=ir(nr.current);r=St(i,t.type,r),i!==r&&(Ue(Gn,t),Ue(nr,r))}function aa(t){Gn.current===t&&(Ne(nr),Ne(Gn))}var Ke=nn(0);function ai(t){for(var r=t;r!==null;){if(r.tag===13){var i=r.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Tt(i)||dr(i)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&64)!=0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Zr=null,Sn=null,ar=!1;function Pi(t,r){var i=Ur(5,null,null,0);i.elementType="DELETED",i.type="DELETED",i.stateNode=r,i.return=t,i.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=i,t.lastEffect=i):t.firstEffect=t.lastEffect=i}function Za(t,r){switch(t.tag){case 5:return r=rt(r,t.type,t.pendingProps),r!==null?(t.stateNode=r,!0):!1;case 6:return r=nt(r,t.pendingProps),r!==null?(t.stateNode=r,!0):!1;case 13:return!1;default:return!1}}function sa(t){if(ar){var r=Sn;if(r){var i=r;if(!Za(t,r)){if(r=Xi(i),!r||!Za(t,r)){t.flags=t.flags&-1025|2,ar=!1,Zr=t;return}Pi(Zr,i)}Zr=t,Sn=ji(r)}else t.flags=t.flags&-1025|2,ar=!1,Zr=t}}function Qa(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zr=t}function Be(t){if(!Ge||t!==Zr)return!1;if(!ar)return Qa(t),ar=!0,!1;var r=t.type;if(t.tag!==5||r!=="head"&&r!=="body"&&!vr(r,t.memoizedProps))for(r=Sn;r;)Pi(t,r),r=Xi(r);if(Qa(t),t.tag===13){if(!Ge)throw Error(D(316));if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(D(317));Sn=Oa(t)}else Sn=Zr?Xi(t.stateNode):null;return!0}function oa(){Ge&&(Sn=Zr=null,ar=!1)}var Cn=[];function Ti(){for(var t=0;t<Cn.length;t++){var r=Cn[t];tr?r._workInProgressVersionPrimary=null:r._workInProgressVersionSecondary=null}Cn.length=0}var Fn=st.ReactCurrentDispatcher,Le=st.ReactCurrentBatchConfig,Bn=0,it=null,xt=null,wt=null,ki=!1,si=!1;function Vt(){throw Error(D(321))}function Hn(t,r){if(r===null)return!1;for(var i=0;i<r.length&&i<t.length;i++)if(!ut(t[i],r[i]))return!1;return!0}function Ri(t,r,i,h,d,v){if(Bn=v,it=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Fn.current=t===null||t.memoizedState===null?ui:Ys,t=i(h,d),si){v=0;do{if(si=!1,!(25>v))throw Error(D(301));v+=1,wt=xt=null,r.updateQueue=null,Fn.current=Xs,t=i(h,d)}while(si)}if(Fn.current=wn,r=xt!==null&&xt.next!==null,Bn=0,wt=xt=it=null,ki=!1,r)throw Error(D(300));return t}function xn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?it.memoizedState=wt=t:wt=wt.next=t,wt}function fn(){if(xt===null){var t=it.alternate;t=t!==null?t.memoizedState:null}else t=xt.next;var r=wt===null?it.memoizedState:wt.next;if(r!==null)wt=r,xt=t;else{if(t===null)throw Error(D(310));xt=t,t={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},wt===null?it.memoizedState=wt=t:wt=wt.next=t}return wt}function Fr(t,r){return typeof r=="function"?r(t):r}function oi(t){var r=fn(),i=r.queue;if(i===null)throw Error(D(311));i.lastRenderedReducer=t;var h=xt,d=h.baseQueue,v=i.pending;if(v!==null){if(d!==null){var y=d.next;d.next=v.next,v.next=y}h.baseQueue=d=v,i.pending=null}if(d!==null){d=d.next,h=h.baseState;var x=y=v=null,A=d;do{var X=A.lane;if((Bn&X)===X)x!==null&&(x=x.next={lane:0,action:A.action,eagerReducer:A.eagerReducer,eagerState:A.eagerState,next:null}),h=A.eagerReducer===t?A.eagerState:t(h,A.action);else{var ie={lane:X,action:A.action,eagerReducer:A.eagerReducer,eagerState:A.eagerState,next:null};x===null?(y=x=ie,v=h):x=x.next=ie,it.lanes|=X,Ui|=X}A=A.next}while(A!==null&&A!==d);x===null?v=h:x.next=y,ut(h,r.memoizedState)||(Pr=!0),r.memoizedState=h,r.baseState=v,r.baseQueue=x,i.lastRenderedState=h}return[r.memoizedState,i.dispatch]}function Ee(t){var r=fn(),i=r.queue;if(i===null)throw Error(D(311));i.lastRenderedReducer=t;var h=i.dispatch,d=i.pending,v=r.memoizedState;if(d!==null){i.pending=null;var y=d=d.next;do v=t(v,y.action),y=y.next;while(y!==d);ut(v,r.memoizedState)||(Pr=!0),r.memoizedState=v,r.baseQueue===null&&(r.baseState=v),i.lastRenderedState=v}return[v,h]}function qa(t,r,i){var h=r._getVersion;h=h(r._source);var d=tr?r._workInProgressVersionPrimary:r._workInProgressVersionSecondary;if(d!==null?t=d===h:(t=t.mutableReadLanes,(t=(Bn&t)===t)&&(tr?r._workInProgressVersionPrimary=h:r._workInProgressVersionSecondary=h,Cn.push(r))),t)return i(r._source);throw Cn.push(r),Error(D(350))}function Br(t,r,i,h){var d=Zt;if(d===null)throw Error(D(349));var v=r._getVersion,y=v(r._source),x=Fn.current,A=x.useState(function(){return qa(d,r,i)}),X=A[1],ie=A[0];A=wt;var fe=t.memoizedState,K=fe.refs,Ye=K.getSnapshot,tt=fe.source;fe=fe.subscribe;var Wr=it;return t.memoizedState={refs:K,source:r,subscribe:h},x.useEffect(function(){K.getSnapshot=i,K.setSnapshot=X;var k=v(r._source);if(!ut(y,k)){k=i(r._source),ut(ie,k)||(X(k),k=g(Wr),d.mutableReadLanes|=k&d.pendingLanes),k=d.mutableReadLanes,d.entangledLanes|=k;for(var E=d.entanglements,M=k;0<M;){var V=31-on(M),ae=1<<V;E[V]|=k,M&=~ae}}},[i,r,h]),x.useEffect(function(){return h(r._source,function(){var k=K.getSnapshot,E=K.setSnapshot;try{E(k(r._source));var M=g(Wr);d.mutableReadLanes|=M&d.pendingLanes}catch(V){E(function(){throw V})}})},[r,h]),ut(Ye,i)&&ut(tt,r)&&ut(fe,h)||(t={pending:null,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:ie},t.dispatch=X=fa.bind(null,it,t),A.queue=t,A.baseQueue=null,ie=qa(d,r,i),A.memoizedState=A.baseState=ie),ie}function la(t,r,i){var h=fn();return Br(h,t,r,i)}function li(t){var r=xn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t=r.queue={pending:null,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:t},t=t.dispatch=fa.bind(null,it,t),[r.memoizedState,t]}function Ai(t,r,i,h){return t={tag:t,create:r,destroy:i,deps:h,next:null},r=it.updateQueue,r===null?(r={lastEffect:null},it.updateQueue=r,r.lastEffect=t.next=t):(i=r.lastEffect,i===null?r.lastEffect=t.next=t:(h=i.next,i.next=t,t.next=h,r.lastEffect=t)),t}function Ja(t){var r=xn();return t={current:t},r.memoizedState=t}function Mi(){return fn().memoizedState}function ua(t,r,i,h){var d=xn();it.flags|=t,d.memoizedState=Ai(1|r,i,void 0,h===void 0?null:h)}function ha(t,r,i,h){var d=fn();h=h===void 0?null:h;var v=void 0;if(xt!==null){var y=xt.memoizedState;if(v=y.destroy,h!==null&&Hn(h,y.deps)){Ai(r,i,v,h);return}}it.flags|=t,d.memoizedState=Ai(1|r,i,v,h)}function $a(t,r){return ua(516,4,t,r)}function Un(t,r){return ha(516,4,t,r)}function es(t,r){return ha(4,2,t,r)}function ts(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function rs(t,r,i){return i=i!=null?i.concat([t]):null,ha(4,2,ts.bind(null,r,t),i)}function da(){}function ns(t,r){var i=fn();r=r===void 0?null:r;var h=i.memoizedState;return h!==null&&r!==null&&Hn(r,h[1])?h[0]:(i.memoizedState=[t,r],t)}function is(t,r){var i=fn();r=r===void 0?null:r;var h=i.memoizedState;return h!==null&&r!==null&&Hn(r,h[1])?h[0]:(t=t(),i.memoizedState=[t,r],t)}function Ws(t,r){var i=_n();Gr(98>i?98:i,function(){t(!0)}),Gr(97<i?97:i,function(){var h=Le.transition;Le.transition=1;try{t(!1),r()}finally{Le.transition=h}})}function fa(t,r,i){var h=c(),d=g(t),v={lane:d,action:i,eagerReducer:null,eagerState:null,next:null},y=r.pending;if(y===null?v.next=v:(v.next=y.next,y.next=v),r.pending=v,y=t.alternate,t===it||y!==null&&y===it)si=ki=!0;else{if(t.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var x=r.lastRenderedState,A=y(x,i);if(v.eagerReducer=y,v.eagerState=A,ut(A,x))return}catch(X){}finally{}p(t,d,h)}}var wn={readContext:Xt,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useOpaqueIdentifier:Vt,unstable_isNewReconciler:!1},ui={readContext:Xt,useCallback:function(t,r){return xn().memoizedState=[t,r===void 0?null:r],t},useContext:Xt,useEffect:$a,useImperativeHandle:function(t,r,i){return i=i!=null?i.concat([t]):null,ua(4,2,ts.bind(null,r,t),i)},useLayoutEffect:function(t,r){return ua(4,2,t,r)},useMemo:function(t,r){var i=xn();return r=r===void 0?null:r,t=t(),i.memoizedState=[t,r],t},useReducer:function(t,r,i){var h=xn();return r=i!==void 0?i(r):r,h.memoizedState=h.baseState=r,t=h.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},t=t.dispatch=fa.bind(null,it,t),[h.memoizedState,t]},useRef:Ja,useState:li,useDebugValue:da,useDeferredValue:function(t){var r=li(t),i=r[0],h=r[1];return $a(function(){var d=Le.transition;Le.transition=1;try{h(t)}finally{Le.transition=d}},[t]),i},useTransition:function(){var t=li(!1),r=t[0];return t=Ws.bind(null,t[1]),Ja(t),[t,r]},useMutableSource:function(t,r,i){var h=xn();return h.memoizedState={refs:{getSnapshot:r,setSnapshot:null},source:t,subscribe:i},Br(h,t,r,i)},useOpaqueIdentifier:function(){if(ar){var t=!1,r=$(function(){throw t||(t=!0,i(O())),Error(D(355))}),i=li(r)[1];return(it.mode&2)==0&&(it.flags|=516,Ai(5,function(){i(O())},void 0,null)),r}return r=O(),li(r),r},unstable_isNewReconciler:!1},Ys={readContext:Xt,useCallback:ns,useContext:Xt,useEffect:Un,useImperativeHandle:rs,useLayoutEffect:es,useMemo:is,useReducer:oi,useRef:Mi,useState:function(){return oi(Fr)},useDebugValue:da,useDeferredValue:function(t){var r=oi(Fr),i=r[0],h=r[1];return Un(function(){var d=Le.transition;Le.transition=1;try{h(t)}finally{Le.transition=d}},[t]),i},useTransition:function(){var t=oi(Fr)[0];return[Mi().current,t]},useMutableSource:la,useOpaqueIdentifier:function(){return oi(Fr)[0]},unstable_isNewReconciler:!1},Xs={readContext:Xt,useCallback:ns,useContext:Xt,useEffect:Un,useImperativeHandle:rs,useLayoutEffect:es,useMemo:is,useReducer:Ee,useRef:Mi,useState:function(){return Ee(Fr)},useDebugValue:da,useDeferredValue:function(t){var r=Ee(Fr),i=r[0],h=r[1];return Un(function(){var d=Le.transition;Le.transition=1;try{h(t)}finally{Le.transition=d}},[t]),i},useTransition:function(){var t=Ee(Fr)[0];return[Mi().current,t]},useMutableSource:la,useOpaqueIdentifier:function(){return Ee(Fr)[0]},unstable_isNewReconciler:!1},js=st.ReactCurrentOwner,Pr=!1;function Kt(t,r,i,h){r.child=t===null?Va(r,null,i,h):Ei(r,t.child,i,h)}function as(t,r,i,h,d){i=i.render;var v=r.ref;return un(r,d),h=Ri(t,r,i,h,v,d),t!==null&&!Pr?(r.updateQueue=t.updateQueue,r.flags&=-517,t.lanes&=~d,Hr(t,r,d)):(r.flags|=1,Kt(t,r,h,d),r.child)}function ss(t,r,i,h,d,v){if(t===null){var y=i.type;return typeof y=="function"&&!io(y)&&y.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(r.tag=15,r.type=y,os(t,r,y,h,d,v)):(t=Ns(i.type,null,h,r,r.mode,v),t.ref=r.ref,t.return=r,r.child=t)}return y=t.child,(d&v)==0&&(d=y.memoizedProps,i=i.compare,i=i!==null?i:ei,i(d,h)&&t.ref===r.ref)?Hr(t,r,v):(r.flags|=1,t=Vn(y,h),t.ref=r.ref,t.return=r,r.child=t)}function os(t,r,i,h,d,v){if(t!==null&&ei(t.memoizedProps,h)&&t.ref===r.ref)if(Pr=!1,(v&d)!=0)(t.flags&16384)!=0&&(Pr=!0);else return r.lanes=t.lanes,Hr(t,r,v);return ga(t,r,i,h,v)}function ca(t,r,i){var h=r.pendingProps,d=h.children,v=t!==null?t.memoizedState:null;if(h.mode==="hidden"||h.mode==="unstable-defer-without-hiding")if((r.mode&4)==0)r.memoizedState={baseLanes:0},z(r,i);else if((i&1073741824)!=0)r.memoizedState={baseLanes:0},z(r,v!==null?v.baseLanes:i);else return t=v!==null?v.baseLanes|i:i,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t},z(r,t),null;else v!==null?(h=v.baseLanes|i,r.memoizedState=null):h=i,z(r,h);return Kt(t,r,d,i),r.child}function ls(t,r){var i=r.ref;(t===null&&i!==null||t!==null&&t.ref!==i)&&(r.flags|=128)}function ga(t,r,i,h,d){var v=It(i)?an:ct.current;return v=mn(r,v),un(r,d),i=Ri(t,r,i,h,v,d),t!==null&&!Pr?(r.updateQueue=t.updateQueue,r.flags&=-517,t.lanes&=~d,Hr(t,r,d)):(r.flags|=1,Kt(t,r,i,d),r.child)}function us(t,r,i,h,d){if(It(i)){var v=!0;pi(r)}else v=!1;if(un(r,d),r.stateNode===null)t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2),Xa(r,i,h),na(r,i,h,d),h=!0;else if(t===null){var y=r.stateNode,x=r.memoizedProps;y.props=x;var A=y.context,X=i.contextType;typeof X=="object"&&X!==null?X=Xt(X):(X=It(i)?an:ct.current,X=mn(r,X));var ie=i.getDerivedStateFromProps,fe=typeof ie=="function"||typeof y.getSnapshotBeforeUpdate=="function";fe||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x!==h||A!==X)&&Nn(r,y,h,X),zr=!1;var K=r.memoizedState;y.state=K,On(r,h,y,d),A=r.memoizedState,x!==h||K!==A||kt.current||zr?(typeof ie=="function"&&(Er(r,i,ie,h),A=r.memoizedState),(x=zr||ri(r,i,x,h,K,A,X))?(fe||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4)):(typeof y.componentDidMount=="function"&&(r.flags|=4),r.memoizedProps=h,r.memoizedState=A),y.props=h,y.state=A,y.context=X,h=x):(typeof y.componentDidMount=="function"&&(r.flags|=4),h=!1)}else{y=r.stateNode,xi(t,r),x=r.memoizedProps,X=r.type===r.elementType?x:Se(r.type,x),y.props=X,fe=r.pendingProps,K=y.context,A=i.contextType,typeof A=="object"&&A!==null?A=Xt(A):(A=It(i)?an:ct.current,A=mn(r,A));var Ye=i.getDerivedStateFromProps;(ie=typeof Ye=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x!==fe||K!==A)&&Nn(r,y,h,A),zr=!1,K=r.memoizedState,y.state=K,On(r,h,y,d);var tt=r.memoizedState;x!==fe||K!==tt||kt.current||zr?(typeof Ye=="function"&&(Er(r,i,Ye,h),tt=r.memoizedState),(X=zr||ri(r,i,X,h,K,tt,A))?(ie||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,tt,A),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,tt,A)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=256)):(typeof y.componentDidUpdate!="function"||x===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&K===t.memoizedState||(r.flags|=256),r.memoizedProps=h,r.memoizedState=tt),y.props=h,y.state=tt,y.context=A,h=X):(typeof y.componentDidUpdate!="function"||x===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&K===t.memoizedState||(r.flags|=256),h=!1)}return va(t,r,i,h,v,d)}function va(t,r,i,h,d,v){ls(t,r);var y=(r.flags&64)!=0;if(!h&&!y)return d&&mi(r,i,!1),Hr(t,r,v);h=r.stateNode,js.current=r;var x=y&&typeof i.getDerivedStateFromError!="function"?null:h.render();return r.flags|=1,t!==null&&y?(r.child=Ei(r,t.child,null,v),r.child=Ei(r,null,x,v)):Kt(t,r,x,v),r.memoizedState=h.state,d&&mi(r,i,!0),r.child}function hs(t){var r=t.stateNode;r.pendingContext?vi(t,r.pendingContext,r.pendingContext!==r.context):r.context&&vi(t,r.context,!1),ia(t,r.containerInfo)}var Li={dehydrated:null,retryLane:0};function Vs(t,r,i){var h=r.pendingProps,d=Ke.current,v=!1,y;return(y=(r.flags&64)!=0)||(y=t!==null&&t.memoizedState===null?!1:(d&2)!=0),y?(v=!0,r.flags&=-65):t!==null&&t.memoizedState===null||h.fallback===void 0||h.unstable_avoidThisFallback===!0||(d|=1),Ue(Ke,d&1),t===null?(h.fallback!==void 0&&sa(r),t=h.children,d=h.fallback,v?(t=Ks(r,t,d,i),r.child.memoizedState={baseLanes:i},r.memoizedState=Li,t):typeof h.unstable_expectedLoadTime=="number"?(t=Ks(r,t,d,i),r.child.memoizedState={baseLanes:i},r.memoizedState=Li,r.lanes=33554432,t):(i=ao({mode:"visible",children:t},r.mode,i,null),i.return=r,r.child=i)):t.memoizedState!==null?v?(h=Wn(t,r,h.children,h.fallback,i),v=r.child,d=t.child.memoizedState,v.memoizedState=d===null?{baseLanes:i}:{baseLanes:d.baseLanes|i},v.childLanes=t.childLanes&~i,r.memoizedState=Li,h):(i=gr(t,r,h.children,i),r.memoizedState=null,i):v?(h=Wn(t,r,h.children,h.fallback,i),v=r.child,d=t.child.memoizedState,v.memoizedState=d===null?{baseLanes:i}:{baseLanes:d.baseLanes|i},v.childLanes=t.childLanes&~i,r.memoizedState=Li,h):(i=gr(t,r,h.children,i),r.memoizedState=null,i)}function Ks(t,r,i,h){var d=t.mode,v=t.child;return r={mode:"hidden",children:r},(d&2)==0&&v!==null?(v.childLanes=0,v.pendingProps=r):v=ao(r,d,0,null),i=Yi(i,d,h,null),v.return=t,i.return=t,v.sibling=i,t.child=v,i}function gr(t,r,i,h){var d=t.child;return t=d.sibling,i=Vn(d,{mode:"visible",children:i}),(r.mode&2)==0&&(i.lanes=h),i.return=r,i.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,r.firstEffect=r.lastEffect=t),r.child=i}function Wn(t,r,i,h,d){var v=r.mode,y=t.child;t=y.sibling;var x={mode:"hidden",children:i};return(v&2)==0&&r.child!==y?(i=r.child,i.childLanes=0,i.pendingProps=x,y=i.lastEffect,y!==null?(r.firstEffect=i.firstEffect,r.lastEffect=y,y.nextEffect=null):r.firstEffect=r.lastEffect=null):i=Vn(y,x),t!==null?h=Vn(t,h):(h=Yi(h,v,d,null),h.flags|=2),h.return=r,i.return=r,i.sibling=h,r.child=i,h}function ds(t,r){t.lanes|=r;var i=t.alternate;i!==null&&(i.lanes|=r),Ci(t.return,r)}function pa(t,r,i,h,d,v){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:h,tail:i,tailMode:d,lastEffect:v}:(y.isBackwards=r,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=i,y.tailMode=d,y.lastEffect=v)}function ma(t,r,i){var h=r.pendingProps,d=h.revealOrder,v=h.tail;if(Kt(t,r,h.children,i),h=Ke.current,(h&2)!=0)h=h&1|2,r.flags|=64;else{if(t!==null&&(t.flags&64)!=0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ds(t,i);else if(t.tag===19)ds(t,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}h&=1}if(Ue(Ke,h),(r.mode&2)==0)r.memoizedState=null;else switch(d){case"forwards":for(i=r.child,d=null;i!==null;)t=i.alternate,t!==null&&ai(t)===null&&(d=i),i=i.sibling;i=d,i===null?(d=r.child,r.child=null):(d=i.sibling,i.sibling=null),pa(r,!1,d,i,v,r.lastEffect);break;case"backwards":for(i=null,d=r.child,r.child=null;d!==null;){if(t=d.alternate,t!==null&&ai(t)===null){r.child=d;break}t=d.sibling,d.sibling=i,i=d,d=t}pa(r,!0,i,null,v,r.lastEffect);break;case"together":pa(r,!1,null,null,void 0,r.lastEffect);break;default:r.memoizedState=null}return r.child}function Hr(t,r,i){if(t!==null&&(r.dependencies=t.dependencies),Ui|=r.lanes,(i&r.childLanes)!=0){if(t!==null&&r.child!==t.child)throw Error(D(153));if(r.child!==null){for(t=r.child,i=Vn(t,t.pendingProps),r.child=i,i.return=r;t.sibling!==null;)t=t.sibling,i=i.sibling=Vn(t,t.pendingProps),i.return=r;i.sibling=null}return r.child}return null}function Tr(t){t.flags|=4}var En,Yn,ya,Ii;if(Lt)En=function(t,r){for(var i=r.child;i!==null;){if(i.tag===5||i.tag===6)er(t,i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Yn=function(){},ya=function(t,r,i,h,d){if(t=t.memoizedProps,t!==h){var v=r.stateNode,y=ir(nr.current);i=Ft(v,i,t,h,d,y),(r.updateQueue=i)&&Tr(r)}},Ii=function(t,r,i,h){i!==h&&Tr(r)};else if(mr){En=function(t,r,i,h){for(var d=r.child;d!==null;){if(d.tag===5){var v=d.stateNode;i&&h&&(v=Sr(v,d.type,d.memoizedProps,d)),er(t,v)}else if(d.tag===6)v=d.stateNode,i&&h&&(v=en(v,d.memoizedProps,d)),er(t,v);else if(d.tag!==4){if(d.tag===13&&(d.flags&4)!=0&&(v=d.memoizedState!==null)){var y=d.child;if(y!==null&&(y.child!==null&&(y.child.return=y,En(t,y,!0,v)),v=y.sibling,v!==null)){v.return=d,d=v;continue}}if(d.child!==null){d.child.return=d,d=d.child;continue}}if(d===r)break;for(;d.sibling===null;){if(d.return===null||d.return===r)return;d=d.return}d.sibling.return=d.return,d=d.sibling}};var fs=function(t,r,i,h){for(var d=r.child;d!==null;){if(d.tag===5){var v=d.stateNode;i&&h&&(v=Sr(v,d.type,d.memoizedProps,d)),et(t,v)}else if(d.tag===6)v=d.stateNode,i&&h&&(v=en(v,d.memoizedProps,d)),et(t,v);else if(d.tag!==4){if(d.tag===13&&(d.flags&4)!=0&&(v=d.memoizedState!==null)){var y=d.child;if(y!==null&&(y.child!==null&&(y.child.return=y,fs(t,y,!0,v)),v=y.sibling,v!==null)){v.return=d,d=v;continue}}if(d.child!==null){d.child.return=d,d=d.child;continue}}if(d===r)break;for(;d.sibling===null;){if(d.return===null||d.return===r)return;d=d.return}d.sibling.return=d.return,d=d.sibling}};Yn=function(t){var r=t.stateNode;if(t.firstEffect!==null){var i=r.containerInfo,h=ge(i);fs(h,t,!1,!1),r.pendingChildren=h,Tr(t),Or(i,h)}},ya=function(t,r,i,h,d){var v=t.stateNode,y=t.memoizedProps;if((t=r.firstEffect===null)&&y===h)r.stateNode=v;else{var x=r.stateNode,A=ir(nr.current),X=null;y!==h&&(X=Ft(x,i,y,h,d,A)),t&&X===null?r.stateNode=v:(v=b(v,X,i,y,h,r,t,x),Ct(v,i,h,d,A)&&Tr(r),r.stateNode=v,t?Tr(r):En(v,r,!1,!1))}},Ii=function(t,r,i,h){i!==h?(t=ir(bn.current),i=ir(nr.current),r.stateNode=Lr(h,t,i,r),Tr(r)):r.stateNode=t.stateNode}}else Yn=function(){},ya=function(){},Ii=function(){};function hi(t,r){if(!ar)switch(t.tailMode){case"hidden":r=t.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var h=null;i!==null;)i.alternate!==null&&(h=i),i=i.sibling;h===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:h.sibling=null}}function Oi(t,r,i){var h=r.pendingProps;switch(r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return It(r.type)&&Zn(),null;case 3:return zn(),Ne(kt),Ne(ct),Ti(),h=r.stateNode,h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(t===null||t.child===null)&&(Be(r)?Tr(r):h.hydrate||(r.flags|=256)),Yn(r),null;case 5:aa(r);var d=ir(bn.current);if(i=r.type,t!==null&&r.stateNode!=null)ya(t,r,i,h,d),t.ref!==r.ref&&(r.flags|=128);else{if(!h){if(r.stateNode===null)throw Error(D(166));return null}if(t=ir(nr.current),Be(r)){if(!Ge)throw Error(D(175));t=Gs(r.stateNode,r.type,r.memoizedProps,d,t,r),r.updateQueue=t,t!==null&&Tr(r)}else{var v=Xr(i,h,d,t,r);En(v,r,!1,!1),r.stateNode=v,Ct(v,i,h,d,t)&&Tr(r)}r.ref!==null&&(r.flags|=128)}return null;case 6:if(t&&r.stateNode!=null)Ii(t,r,t.memoizedProps,h);else{if(typeof h!="string"&&r.stateNode===null)throw Error(D(166));if(t=ir(bn.current),d=ir(nr.current),Be(r)){if(!Ge)throw Error(D(176));Ia(r.stateNode,r.memoizedProps,r)&&Tr(r)}else r.stateNode=Lr(h,t,d,r)}return null;case 13:return Ne(Ke),h=r.memoizedState,(r.flags&64)!=0?(r.lanes=i,r):(h=h!==null,d=!1,t===null?r.memoizedProps.fallback!==void 0&&Be(r):d=t.memoizedState!==null,h&&!d&&(r.mode&2)!=0&&(t===null&&r.memoizedProps.unstable_avoidThisFallback!==!0||(Ke.current&1)!=0?Rt===0&&(Rt=3):((Rt===0||Rt===3)&&(Rt=4),Zt===null||(Ui&134217727)==0&&(jn&134217727)==0||C(Zt,Nt))),mr&&h&&(r.flags|=4),Lt&&(h||d)&&(r.flags|=4),null);case 4:return zn(),Yn(r),t===null&&pe(r.stateNode.containerInfo),null;case 10:return ta(r),null;case 17:return It(r.type)&&Zn(),null;case 19:if(Ne(Ke),h=r.memoizedState,h===null)return null;if(d=(r.flags&64)!=0,v=h.rendering,v===null)if(d)hi(h,!1);else{if(Rt!==0||t!==null&&(t.flags&64)!=0)for(t=r.child;t!==null;){if(v=ai(t),v!==null){for(r.flags|=64,hi(h,!1),t=v.updateQueue,t!==null&&(r.updateQueue=t,r.flags|=4),h.lastEffect===null&&(r.firstEffect=null),r.lastEffect=h.lastEffect,t=i,h=r.child;h!==null;)d=h,i=t,d.flags&=2,d.nextEffect=null,d.firstEffect=null,d.lastEffect=null,v=d.alternate,v===null?(d.childLanes=0,d.lanes=i,d.child=null,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=v.childLanes,d.lanes=v.lanes,d.child=v.child,d.memoizedProps=v.memoizedProps,d.memoizedState=v.memoizedState,d.updateQueue=v.updateQueue,d.type=v.type,i=v.dependencies,d.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),h=h.sibling;return Ue(Ke,Ke.current&1|2),r.child}t=t.sibling}h.tail!==null&&yt()>As&&(r.flags|=64,d=!0,hi(h,!1),r.lanes=33554432)}else{if(!d)if(t=ai(v),t!==null){if(r.flags|=64,d=!0,t=t.updateQueue,t!==null&&(r.updateQueue=t,r.flags|=4),hi(h,!0),h.tail===null&&h.tailMode==="hidden"&&!v.alternate&&!ar)return r=r.lastEffect=h.lastEffect,r!==null&&(r.nextEffect=null),null}else 2*yt()-h.renderingStartTime>As&&i!==1073741824&&(r.flags|=64,d=!0,hi(h,!1),r.lanes=33554432);h.isBackwards?(v.sibling=r.child,r.child=v):(t=h.last,t!==null?t.sibling=v:r.child=v,h.last=v)}return h.tail!==null?(t=h.tail,h.rendering=t,h.tail=t.sibling,h.lastEffect=r.lastEffect,h.renderingStartTime=yt(),t.sibling=null,r=Ke.current,Ue(Ke,d?r&1|2:r&1),t):null;case 23:case 24:return W(),t!==null&&t.memoizedState!==null!=(r.memoizedState!==null)&&h.mode!=="unstable-defer-without-hiding"&&(r.flags|=4),null}throw Error(D(156,r.tag))}function cn(t){switch(t.tag){case 1:It(t.type)&&Zn();var r=t.flags;return r&4096?(t.flags=r&-4097|64,t):null;case 3:if(zn(),Ne(kt),Ne(ct),Ti(),r=t.flags,(r&64)!=0)throw Error(D(285));return t.flags=r&-4097|64,t;case 5:return aa(t),null;case 13:return Ne(Ke),r=t.flags,r&4096?(t.flags=r&-4097|64,t):null;case 19:return Ne(Ke),null;case 4:return zn(),null;case 10:return ta(t),null;case 23:case 24:return W(),null;default:return null}}function di(t,r){try{var i="",h=r;do i+=Vr(h),h=h.return;while(h);var d=i}catch(v){d=`
Error generating stack: `+v.message+`
`+v.stack}return{value:t,source:r,stack:d}}function Ni(t,r){try{console.error(r.value)}catch(i){setTimeout(function(){throw i})}}var Zs=typeof WeakMap=="function"?WeakMap:Map;function cs(t,r,i){i=jt(-1,i),i.tag=3,i.payload={element:null};var h=r.value;return i.callback=function(){Ma||(Ma=!0,Ms=h),Ni(t,r)},i}function gs(t,r,i){i=jt(-1,i),i.tag=3;var h=t.type.getDerivedStateFromError;if(typeof h=="function"){var d=r.value;i.payload=function(){return Ni(t,r),h(d)}}var v=t.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(i.callback=function(){typeof h!="function"&&(Qr===null?Qr=new Set([this]):Qr.add(this),Ni(t,r));var y=r.stack;this.componentDidCatch(r.value,{componentStack:y!==null?y:""})}),i}var Qs=typeof WeakSet=="function"?WeakSet:Set;function vs(t){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){Oe(t,i)}else r.current=null}function qs(t,r){switch(r.tag){case 0:case 11:case 15:case 22:return;case 1:if(r.flags&256&&t!==null){var i=t.memoizedProps,h=t.memoizedState;t=r.stateNode,r=t.getSnapshotBeforeUpdate(r.elementType===r.type?i:Se(r.type,i),h),t.__reactInternalSnapshotBeforeUpdate=r}return;case 3:Lt&&r.flags&256&&mt(r.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(D(163))}function ps(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var h=i.destroy;i.destroy=void 0,h!==void 0&&h()}i=i.next}while(i!==r)}}function Js(t,r,i){switch(i.tag){case 0:case 11:case 15:case 22:if(r=i.updateQueue,r=r!==null?r.lastEffect:null,r!==null){t=r=r.next;do{if((t.tag&3)==3){var h=t.create;t.destroy=h()}t=t.next}while(t!==r)}if(r=i.updateQueue,r=r!==null?r.lastEffect:null,r!==null){t=r=r.next;do{var d=t;h=d.next,d=d.tag,(d&4)!=0&&(d&1)!=0&&(Dt(i,t),at(i,t)),t=h}while(t!==r)}return;case 1:t=i.stateNode,i.flags&4&&(r===null?t.componentDidMount():(h=i.elementType===i.type?r.memoizedProps:Se(i.type,r.memoizedProps),t.componentDidUpdate(h,r.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),r=i.updateQueue,r!==null&&dn(i,r,t);return;case 3:if(r=i.updateQueue,r!==null){if(t=null,i.child!==null)switch(i.child.tag){case 5:t=Fe(i.child.stateNode);break;case 1:t=i.child.stateNode}dn(i,r,t)}return;case 5:t=i.stateNode,r===null&&i.flags&4&&$e(t,i.type,i.memoizedProps,i);return;case 6:return;case 4:return;case 12:return;case 13:Ge&&i.memoizedState===null&&(i=i.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&Na(i))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(D(163))}function ms(t,r){if(Lt)for(var i=t;;){if(i.tag===5){var h=i.stateNode;r?be(h):_r(i.stateNode,i.memoizedProps)}else if(i.tag===6)h=i.stateNode,r?yr(h):Wt(h,i.memoizedProps);else if((i.tag!==23&&i.tag!==24||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function ys(t,r){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(yn,r)}catch(v){}switch(r.tag){case 0:case 11:case 14:case 15:case 22:if(t=r.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var i=t=t.next;do{var h=i,d=h.destroy;if(h=h.tag,d!==void 0)if((h&4)!=0)Dt(r,i);else{h=r;try{d()}catch(v){Oe(h,v)}}i=i.next}while(i!==t)}break;case 1:if(vs(r),t=r.stateNode,typeof t.componentWillUnmount=="function")try{t.props=r.memoizedProps,t.state=r.memoizedState,t.componentWillUnmount()}catch(v){Oe(r,v)}break;case 5:vs(r);break;case 4:Lt?ws(t,r):mr&&mr&&(r=r.stateNode.containerInfo,t=ge(r),vn(r,t))}}function _s(t,r){for(var i=r;;)if(ys(t,i),i.child===null||Lt&&i.tag===4){if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return;i=i.return}i.sibling.return=i.return,i=i.sibling}else i.child.return=i,i=i.child}function Ss(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function Cs(t){return t.tag===5||t.tag===3||t.tag===4}function xs(t){if(Lt){e:{for(var r=t.return;r!==null;){if(Cs(r))break e;r=r.return}throw Error(D(160))}var i=r;switch(r=i.stateNode,i.tag){case 5:var h=!1;break;case 3:r=r.containerInfo,h=!0;break;case 4:r=r.containerInfo,h=!0;break;default:throw Error(D(161))}i.flags&16&&(Ut(r),i.flags&=-17);e:t:for(i=t;;){for(;i.sibling===null;){if(i.return===null||Cs(i.return)){i=null;break e}i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2)){i=i.stateNode;break e}}h?_a(t,i,r):Sa(t,i,r)}}function _a(t,r,i){var h=t.tag,d=h===5||h===6;if(d)t=d?t.stateNode:t.stateNode.instance,r?dt(i,t,r):Ht(i,t);else if(h!==4&&(t=t.child,t!==null))for(_a(t,r,i),t=t.sibling;t!==null;)_a(t,r,i),t=t.sibling}function Sa(t,r,i){var h=t.tag,d=h===5||h===6;if(d)t=d?t.stateNode:t.stateNode.instance,r?He(i,t,r):pt(i,t);else if(h!==4&&(t=t.child,t!==null))for(Sa(t,r,i),t=t.sibling;t!==null;)Sa(t,r,i),t=t.sibling}function ws(t,r){for(var i=r,h=!1,d,v;;){if(!h){h=i.return;e:for(;;){if(h===null)throw Error(D(160));switch(d=h.stateNode,h.tag){case 5:v=!1;break e;case 3:d=d.containerInfo,v=!0;break e;case 4:d=d.containerInfo,v=!0;break e}h=h.return}h=!0}if(i.tag===5||i.tag===6)_s(t,i),v?ft(d,i.stateNode):Qe(d,i.stateNode);else if(i.tag===4){if(i.child!==null){d=i.stateNode.containerInfo,v=!0,i.child.return=i,i=i.child;continue}}else if(ys(t,i),i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return;i=i.return,i.tag===4&&(h=!1)}i.sibling.return=i.return,i=i.sibling}}function Ca(t,r){if(Lt){switch(r.tag){case 0:case 11:case 14:case 15:case 22:ps(3,r);return;case 1:return;case 5:var i=r.stateNode;if(i!=null){var h=r.memoizedProps;t=t!==null?t.memoizedProps:h;var d=r.type,v=r.updateQueue;r.updateQueue=null,v!==null&&lt(i,v,d,t,h,r)}return;case 6:if(r.stateNode===null)throw Error(D(162));i=r.memoizedProps,ot(r.stateNode,t!==null?t.memoizedProps:i,i);return;case 3:Ge&&(r=r.stateNode,r.hydrate&&(r.hydrate=!1,Vi(r.containerInfo)));return;case 12:return;case 13:Es(r),Di(r);return;case 19:Di(r);return;case 17:return;case 23:case 24:ms(r,r.memoizedState!==null);return}throw Error(D(163))}switch(r.tag){case 0:case 11:case 14:case 15:case 22:ps(3,r);return;case 12:return;case 13:Es(r),Di(r);return;case 19:Di(r);return;case 3:Ge&&(i=r.stateNode,i.hydrate&&(i.hydrate=!1,Vi(i.containerInfo)));break;case 23:case 24:return}e:if(mr){switch(r.tag){case 1:case 5:case 6:case 20:break e;case 3:case 4:r=r.stateNode,vn(r.containerInfo,r.pendingChildren);break e}throw Error(D(163))}}function Es(t){t.memoizedState!==null&&(Rs=yt(),Lt&&ms(t.child,!0))}function Di(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var i=t.stateNode;i===null&&(i=t.stateNode=new Qs),r.forEach(function(h){var d=gn.bind(null,t,h);i.has(h)||(i.add(h),h.then(d,d))})}}function $s(t,r){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(r=r.memoizedState,r!==null&&r.dehydrated===null):!1}var Gi=0,bi=1,fi=2,zi=3,Fi=4;if(typeof Symbol=="function"&&Symbol.for){var ci=Symbol.for;Gi=ci("selector.component"),bi=ci("selector.has_pseudo_class"),fi=ci("selector.role"),zi=ci("selector.test_id"),Fi=ci("selector.text")}function xa(t){var r=Rn(t);if(r!=null){if(typeof r.memoizedProps["data-testname"]!="string")throw Error(D(364));return r}if(t=oe(t),t===null)throw Error(D(362));return t.stateNode.current}function wa(t,r){switch(r.$$typeof){case Gi:if(t.type===r.value)return!0;break;case bi:e:{r=r.value,t=[t,0];for(var i=0;i<t.length;){var h=t[i++],d=t[i++],v=r[d];if(h.tag!==5||!Te(h)){for(;v!=null&&wa(h,v);)d++,v=r[d];if(d===r.length){r=!0;break e}else for(h=h.child;h!==null;)t.push(h,d),h=h.sibling}}r=!1}return r;case fi:if(t.tag===5&&Ve(t.stateNode,r.value))return!0;break;case Fi:if((t.tag===5||t.tag===6)&&(t=je(t),t!==null&&0<=t.indexOf(r.value)))return!0;break;case zi:if(t.tag===5&&(t=t.memoizedProps["data-testname"],typeof t=="string"&&t.toLowerCase()===r.value.toLowerCase()))return!0;break;default:throw Error(D(365,r))}return!1}function Ea(t){switch(t.$$typeof){case Gi:return"<"+(L(t.value)||"Unknown")+">";case bi:return":has("+(Ea(t)||"")+")";case fi:return'[role="'+t.value+'"]';case Fi:return'"'+t.value+'"';case zi:return'[data-testname="'+t.value+'"]';default:throw Error(D(365,t))}}function Ps(t,r){var i=[];t=[t,0];for(var h=0;h<t.length;){var d=t[h++],v=t[h++],y=r[v];if(d.tag!==5||!Te(d)){for(;y!=null&&wa(d,y);)v++,y=r[v];if(v===r.length)i.push(d);else for(d=d.child;d!==null;)t.push(d,v),d=d.sibling}}return i}function Pa(t,r){if(!we)throw Error(D(363));t=xa(t),t=Ps(t,r),r=[],t=Array.from(t);for(var i=0;i<t.length;){var h=t[i++];if(h.tag===5)Te(h)||r.push(h.stateNode);else for(h=h.child;h!==null;)t.push(h),h=h.sibling}return r}var Bi=null;function eo(t){if(Bi===null)try{var r=("require"+Math.random()).slice(0,7);Bi=(At&&At[r]).call(At,"timers").setImmediate}catch(i){Bi=function(h){var d=new MessageChannel;d.port1.onmessage=h,d.port2.postMessage(void 0)}}return Bi(t)}var to=Math.ceil,Hi=st.ReactCurrentDispatcher,Ta=st.ReactCurrentOwner,ka=st.IsSomeRendererActing,le=0,Zt=null,gt=null,Nt=0,Pn=0,Ra=nn(0),Rt=0,Aa=null,Xn=0,Ui=0,jn=0,Ts=0,ks=null,Rs=0,As=Infinity;function Tn(){As=yt()+500}var q=null,Ma=!1,Ms=null,Qr=null,kn=!1,Wi=null,qr=90,La=[],Ls=[],l=null,e=0,n=null,a=-1,s=0,o=0,u=null,f=!1;function c(){return(le&48)!=0?yt():a!==-1?a:a=yt()}function g(t){if(t=t.mode,(t&2)==0)return 1;if((t&4)==0)return _n()===99?1:2;if(s===0&&(s=Xn),$i.transition!==0){o!==0&&(o=ks!==null?ks.pendingLanes:0),t=s;var r=4186112&~o;return r&=-r,r===0&&(t=4186112&~t,r=t&-t,r===0&&(r=8192)),r}return t=_n(),(le&4)!=0&&t===98?t=Qn(12,s):(t=ba(t),t=Qn(t,s)),t}function p(t,r,i){if(50<e)throw e=0,n=null,Error(D(185));if(t=S(t,r),t===null)return null;sn(t,r,i),t===Zt&&(jn|=r,Rt===4&&C(t,Nt));var h=_n();r===1?(le&8)!=0&&(le&48)==0?R(t):(m(t,i),le===0&&(Tn(),ke())):((le&4)==0||h!==98&&h!==99||(l===null?l=new Set([t]):l.add(t)),m(t,i)),ks=t}function S(t,r){t.lanes|=r;var i=t.alternate;for(i!==null&&(i.lanes|=r),i=t,t=t.return;t!==null;)t.childLanes|=r,i=t.alternate,i!==null&&(i.childLanes|=r),i=t,t=t.return;return i.tag===3?i.stateNode:null}function m(t,r){for(var i=t.callbackNode,h=t.suspendedLanes,d=t.pingedLanes,v=t.expirationTimes,y=t.pendingLanes;0<y;){var x=31-on(y),A=1<<x,X=v[x];if(X===-1){if((A&h)==0||(A&d)!=0){X=r,Dr(A);var ie=Ie;v[x]=10<=ie?X+250:6<=ie?X+5e3:-1}}else X<=r&&(t.expiredLanes|=A);y&=~A}if(h=Mn(t,t===Zt?Nt:0),r=Ie,h===0)i!==null&&(i!==Jn&&Qi(i),t.callbackNode=null,t.callbackPriority=0);else{if(i!==null){if(t.callbackPriority===r)return;i!==Jn&&Qi(i)}r===15?(i=R.bind(null,t),xr===null?(xr=[i],Ot=Zi(_i,In)):xr.push(i),i=Jn):r===14?i=$n(99,R.bind(null,t)):(i=za(r),i=$n(i,w.bind(null,t))),t.callbackPriority=r,t.callbackNode=i}}function w(t){if(a=-1,o=s=0,(le&48)!=0)throw Error(D(327));var r=t.callbackNode;if(me()&&t.callbackNode!==r)return null;var i=Mn(t,t===Zt?Nt:0);if(i===0)return null;var h=i,d=le;le|=16;var v=te();(Zt!==t||Nt!==h)&&(Tn(),Q(t,h));do try{ne();break}catch(x){j(t,x)}while(1);if(Si(),Hi.current=v,le=d,gt!==null?h=0:(Zt=null,Nt=0,h=Rt),(Xn&jn)!=0)Q(t,0);else if(h!==0){if(h===2&&(le|=64,t.hydrate&&(t.hydrate=!1,mt(t.containerInfo)),i=Ki(t),i!==0&&(h=Z(t,i))),h===1)throw r=Aa,Q(t,0),C(t,i),m(t,yt()),r;switch(t.finishedWork=t.current.alternate,t.finishedLanes=i,h){case 0:case 1:throw Error(D(345));case 2:ee(t);break;case 3:if(C(t,i),(i&62914560)===i&&(h=Rs+500-yt(),10<h)){if(Mn(t,0)!==0)break;if(d=t.suspendedLanes,(d&i)!==i){c(),t.pingedLanes|=t.suspendedLanes&d;break}t.timeoutHandle=Ir(ee.bind(null,t),h);break}ee(t);break;case 4:if(C(t,i),(i&4186112)===i)break;for(h=t.eventTimes,d=-1;0<i;){var y=31-on(i);v=1<<y,y=h[y],y>d&&(d=y),i&=~v}if(i=d,i=yt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*to(i/1960))-i,10<i){t.timeoutHandle=Ir(ee.bind(null,t),i);break}ee(t);break;case 5:ee(t);break;default:throw Error(D(329))}}return m(t,yt()),t.callbackNode===r?w.bind(null,t):null}function C(t,r){for(r&=~Ts,r&=~jn,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var i=31-on(r),h=1<<i;t[i]=-1,r&=~h}}function R(t){if((le&48)!=0)throw Error(D(327));if(me(),t===Zt&&(t.expiredLanes&Nt)!=0){var r=Nt,i=Z(t,r);(Xn&jn)!=0&&(r=Mn(t,r),i=Z(t,r))}else r=Mn(t,0),i=Z(t,r);if(t.tag!==0&&i===2&&(le|=64,t.hydrate&&(t.hydrate=!1,mt(t.containerInfo)),r=Ki(t),r!==0&&(i=Z(t,r))),i===1)throw i=Aa,Q(t,0),C(t,r),m(t,yt()),i;return t.finishedWork=t.current.alternate,t.finishedLanes=r,ee(t),m(t,yt()),null}function T(){if(l!==null){var t=l;l=null,t.forEach(function(r){r.expiredLanes|=24&r.pendingLanes,m(r,yt())})}ke()}function B(t,r){var i=le;le|=1;try{return t(r)}finally{le=i,le===0&&(Tn(),ke())}}function F(t,r){var i=le;if((i&48)!=0)return t(r);le|=1;try{if(t)return Gr(99,t.bind(null,r))}finally{le=i,ke()}}function z(t,r){Ue(Ra,Pn),Pn|=r,Xn|=r}function W(){Pn=Ra.current,Ne(Ra)}function Q(t,r){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;if(i!==pr&&(t.timeoutHandle=pr,Bt(i)),gt!==null)for(i=gt.return;i!==null;){var h=i;switch(h.tag){case 1:h=h.type.childContextTypes,h!=null&&Zn();break;case 3:zn(),Ne(kt),Ne(ct),Ti();break;case 5:aa(h);break;case 4:zn();break;case 13:Ne(Ke);break;case 19:Ne(Ke);break;case 10:ta(h);break;case 23:case 24:W()}i=i.return}Zt=t,gt=Vn(t.current,null),Nt=Pn=Xn=r,Rt=0,Aa=null,Ts=jn=Ui=0}function j(t,r){do{var i=gt;try{if(Si(),Fn.current=wn,ki){for(var h=it.memoizedState;h!==null;){var d=h.queue;d!==null&&(d.pending=null),h=h.next}ki=!1}if(Bn=0,wt=xt=it=null,si=!1,Ta.current=null,i===null||i.return===null){Rt=1,Aa=r,gt=null;break}e:{var v=t,y=i.return,x=i,A=r;if(r=Nt,x.flags|=2048,x.firstEffect=x.lastEffect=null,A!==null&&typeof A=="object"&&typeof A.then=="function"){var X=A;if((x.mode&2)==0){var ie=x.alternate;ie?(x.updateQueue=ie.updateQueue,x.memoizedState=ie.memoizedState,x.lanes=ie.lanes):(x.updateQueue=null,x.memoizedState=null)}var fe=(Ke.current&1)!=0,K=y;do{var Ye;if(Ye=K.tag===13){var tt=K.memoizedState;if(tt!==null)Ye=tt.dehydrated!==null;else{var Wr=K.memoizedProps;Ye=Wr.fallback===void 0?!1:Wr.unstable_avoidThisFallback!==!0?!0:!fe}}if(Ye){var k=K.updateQueue;if(k===null){var E=new Set;E.add(X),K.updateQueue=E}else k.add(X);if((K.mode&2)==0){if(K.flags|=64,x.flags|=16384,x.flags&=-2981,x.tag===1)if(x.alternate===null)x.tag=17;else{var M=jt(-1,1);M.tag=2,cr(x,M)}x.lanes|=1;break e}A=void 0,x=r;var V=v.pingCache;if(V===null?(V=v.pingCache=new Zs,A=new Set,V.set(X,A)):(A=V.get(X),A===void 0&&(A=new Set,V.set(X,A))),!A.has(x)){A.add(x);var ae=qt.bind(null,v,X,x);X.then(ae,ae)}K.flags|=4096,K.lanes=r;break e}K=K.return}while(K!==null);A=Error((L(x.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Rt!==5&&(Rt=2),A=di(A,x),K=y;do{switch(K.tag){case 3:v=A,K.flags|=4096,r&=-r,K.lanes|=r;var Ze=cs(K,v,r);hn(K,Ze);break e;case 1:v=A;var ce=K.type,De=K.stateNode;if((K.flags&64)==0&&(typeof ce.getDerivedStateFromError=="function"||De!==null&&typeof De.componentDidCatch=="function"&&(Qr===null||!Qr.has(De)))){K.flags|=4096,r&=-r,K.lanes|=r;var _t=gs(K,v,r);hn(K,_t);break e}}K=K.return}while(K!==null)}ye(i)}catch(Re){r=Re,gt===i&&i!==null&&(gt=i=i.return);continue}break}while(1)}function te(){var t=Hi.current;return Hi.current=wn,t===null?wn:t}function Z(t,r){var i=le;le|=16;var h=te();Zt===t&&Nt===r||Q(t,r);do try{re();break}catch(d){j(t,d)}while(1);if(Si(),le=i,Hi.current=h,gt!==null)throw Error(D(261));return Zt=null,Nt=0,Rt}function re(){for(;gt!==null;)J(gt)}function ne(){for(;gt!==null&&!Hs();)J(gt)}function J(t){var r=Jr(t.alternate,t,Pn);t.memoizedProps=t.pendingProps,r===null?ye(t):gt=r,Ta.current=null}function ye(t){var r=t;do{var i=r.alternate;if(t=r.return,(r.flags&2048)==0){if(i=Oi(i,r,Pn),i!==null){gt=i;return}if(i=r,i.tag!==24&&i.tag!==23||i.memoizedState===null||(Pn&1073741824)!=0||(i.mode&4)==0){for(var h=0,d=i.child;d!==null;)h|=d.lanes|d.childLanes,d=d.sibling;i.childLanes=h}t!==null&&(t.flags&2048)==0&&(t.firstEffect===null&&(t.firstEffect=r.firstEffect),r.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=r.firstEffect),t.lastEffect=r.lastEffect),1<r.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=r:t.firstEffect=r,t.lastEffect=r))}else{if(i=cn(r),i!==null){i.flags&=2047,gt=i;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(r=r.sibling,r!==null){gt=r;return}gt=r=t}while(r!==null);Rt===0&&(Rt=5)}function ee(t){var r=_n();return Gr(99,We.bind(null,t,r)),null}function We(t,r){do me();while(Wi!==null);if((le&48)!=0)throw Error(D(327));var i=t.finishedWork;if(i===null)return null;if(t.finishedWork=null,t.finishedLanes=0,i===t.current)throw Error(D(177));t.callbackNode=null;var h=i.lanes|i.childLanes,d=h,v=t.pendingLanes&~d;t.pendingLanes=d,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=d,t.mutableReadLanes&=d,t.entangledLanes&=d,d=t.entanglements;for(var y=t.eventTimes,x=t.expirationTimes;0<v;){var A=31-on(v),X=1<<A;d[A]=0,y[A]=-1,x[A]=-1,v&=~X}if(l!==null&&(h&24)==0&&l.has(t)&&l.delete(t),t===Zt&&(gt=Zt=null,Nt=0),1<i.flags?i.lastEffect!==null?(i.lastEffect.nextEffect=i,h=i.firstEffect):h=i:h=i.firstEffect,h!==null){d=le,le|=32,Ta.current=null,u=Mt(t.containerInfo),f=!1,q=h;do try{Qt()}catch(E){if(q===null)throw Error(D(330));Oe(q,E),q=q.nextEffect}while(q!==null);u=null,q=h;do try{for(y=t;q!==null;){var ie=q.flags;if(ie&16&&Lt&&Ut(q.stateNode),ie&128){var fe=q.alternate;if(fe!==null){var K=fe.ref;K!==null&&(typeof K=="function"?K(null):K.current=null)}}switch(ie&1038){case 2:xs(q),q.flags&=-3;break;case 6:xs(q),q.flags&=-3,Ca(q.alternate,q);break;case 1024:q.flags&=-1025;break;case 1028:q.flags&=-1025,Ca(q.alternate,q);break;case 4:Ca(q.alternate,q);break;case 8:x=y,v=q,Lt?ws(x,v):_s(x,v);var Ye=v.alternate;Ss(v),Ye!==null&&Ss(Ye)}q=q.nextEffect}}catch(E){if(q===null)throw Error(D(330));Oe(q,E),q=q.nextEffect}while(q!==null);f&&ue(),_(t.containerInfo),t.current=i,q=h;do try{for(ie=t;q!==null;){var tt=q.flags;if(tt&36&&Js(ie,q.alternate,q),tt&128){fe=void 0;var Wr=q.ref;if(Wr!==null){var k=q.stateNode;switch(q.tag){case 5:fe=Fe(k);break;default:fe=k}typeof Wr=="function"?Wr(fe):Wr.current=fe}}q=q.nextEffect}}catch(E){if(q===null)throw Error(D(330));Oe(q,E),q=q.nextEffect}while(q!==null);q=null,Ln(),le=d}else t.current=i;if(kn)kn=!1,Wi=t,qr=r;else for(q=h;q!==null;)r=q.nextEffect,q.nextEffect=null,q.flags&8&&(tt=q,tt.sibling=null,tt.stateNode=null),q=r;if(h=t.pendingLanes,h===0&&(Qr=null),h===1?t===n?e++:(e=0,n=t):e=0,i=i.stateNode,fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(yn,i,void 0,(i.current.flags&64)==64)}catch(E){}if(m(t,yt()),Ma)throw Ma=!1,t=Ms,Ms=null,t;return(le&8)!=0||ke(),null}function Qt(){for(;q!==null;){var t=q.alternate;f||u===null||((q.flags&8)!=0?Mr(q,u)&&(f=!0,ve()):q.tag===13&&$s(t,q)&&Mr(q,u)&&(f=!0,ve()));var r=q.flags;(r&256)!=0&&qs(t,q),(r&512)==0||kn||(kn=!0,$n(97,function(){return me(),null})),q=q.nextEffect}}function me(){if(qr!==90){var t=97<qr?97:qr;return qr=90,Gr(t,kr)}return!1}function at(t,r){La.push(r,t),kn||(kn=!0,$n(97,function(){return me(),null}))}function Dt(t,r){Ls.push(r,t),kn||(kn=!0,$n(97,function(){return me(),null}))}function kr(){if(Wi===null)return!1;var t=Wi;if(Wi=null,(le&48)!=0)throw Error(D(331));var r=le;le|=32;var i=Ls;Ls=[];for(var h=0;h<i.length;h+=2){var d=i[h],v=i[h+1],y=d.destroy;if(d.destroy=void 0,typeof y=="function")try{y()}catch(A){if(v===null)throw Error(D(330));Oe(v,A)}}for(i=La,La=[],h=0;h<i.length;h+=2){d=i[h],v=i[h+1];try{var x=d.create;d.destroy=x()}catch(A){if(v===null)throw Error(D(330));Oe(v,A)}}for(x=t.current.firstEffect;x!==null;)t=x.nextEffect,x.nextEffect=null,x.flags&8&&(x.sibling=null,x.stateNode=null),x=t;return le=r,ke(),!0}function xe(t,r,i){r=di(i,r),r=cs(t,r,1),cr(t,r),r=c(),t=S(t,1),t!==null&&(sn(t,1,r),m(t,r))}function Oe(t,r){if(t.tag===3)xe(t,t,r);else for(var i=t.return;i!==null;){if(i.tag===3){xe(i,t,r);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Qr===null||!Qr.has(h))){t=di(r,t);var d=gs(i,t,1);if(cr(i,d),d=c(),i=S(i,1),i!==null)sn(i,1,d),m(i,d);else if(typeof h.componentDidCatch=="function"&&(Qr===null||!Qr.has(h)))try{h.componentDidCatch(r,t)}catch(v){}break}}i=i.return}}function qt(t,r,i){var h=t.pingCache;h!==null&&h.delete(r),r=c(),t.pingedLanes|=t.suspendedLanes&i,Zt===t&&(Nt&i)===i&&(Rt===4||Rt===3&&(Nt&62914560)===Nt&&500>yt()-Rs?Q(t,0):Ts|=i),m(t,r)}function gn(t,r){var i=t.stateNode;i!==null&&i.delete(r),r=0,r===0&&(r=t.mode,(r&2)==0?r=1:(r&4)==0?r=_n()===99?1:2:(s===0&&(s=Xn),r=jr(62914560&~s),r===0&&(r=4194304))),i=c(),t=S(t,r),t!==null&&(sn(t,r,i),m(t,i))}var Jr;Jr=function(t,r,i){var h=r.lanes;if(t!==null)if(t.memoizedProps!==r.pendingProps||kt.current)Pr=!0;else if((i&h)!=0)Pr=(t.flags&16384)!=0;else{switch(Pr=!1,r.tag){case 3:hs(r),oa();break;case 5:Ka(r);break;case 1:It(r.type)&&pi(r);break;case 4:ia(r,r.stateNode.containerInfo);break;case 10:Ya(r,r.memoizedProps.value);break;case 13:if(r.memoizedState!==null)return(i&r.child.childLanes)!=0?Vs(t,r,i):(Ue(Ke,Ke.current&1),r=Hr(t,r,i),r!==null?r.sibling:null);Ue(Ke,Ke.current&1);break;case 19:if(h=(i&r.childLanes)!=0,(t.flags&64)!=0){if(h)return ma(t,r,i);r.flags|=64}var d=r.memoizedState;if(d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ue(Ke,Ke.current),h)break;return null;case 23:case 24:return r.lanes=0,ca(t,r,i)}return Hr(t,r,i)}else Pr=!1;switch(r.lanes=0,r.tag){case 2:if(h=r.type,t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2),t=r.pendingProps,d=mn(r,ct.current),un(r,i),d=Ri(null,r,h,t,d,i),r.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0){if(r.tag=1,r.memoizedState=null,r.updateQueue=null,It(h)){var v=!0;pi(r)}else v=!1;r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,ra(r);var y=h.getDerivedStateFromProps;typeof y=="function"&&Er(r,h,y,t),d.updater=ti,r.stateNode=d,d._reactInternals=r,na(r,h,t,i),r=va(null,r,h,!0,v,i)}else r.tag=0,Kt(null,r,d,i),r=r.child;return r;case 16:d=r.elementType;e:{switch(t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2),t=r.pendingProps,v=d._init,d=v(d._payload),r.type=d,v=r.tag=po(d),t=Se(d,t),v){case 0:r=ga(null,r,d,t,i);break e;case 1:r=us(null,r,d,t,i);break e;case 11:r=as(null,r,d,t,i);break e;case 14:r=ss(null,r,d,Se(d.type,t),h,i);break e}throw Error(D(306,d,""))}return r;case 0:return h=r.type,d=r.pendingProps,d=r.elementType===h?d:Se(h,d),ga(t,r,h,d,i);case 1:return h=r.type,d=r.pendingProps,d=r.elementType===h?d:Se(h,d),us(t,r,h,d,i);case 3:if(hs(r),h=r.updateQueue,t===null||h===null)throw Error(D(282));if(h=r.pendingProps,d=r.memoizedState,d=d!==null?d.element:null,xi(t,r),On(r,h,null,i),h=r.memoizedState.element,h===d)oa(),r=Hr(t,r,i);else{if(d=r.stateNode,(v=d.hydrate)&&(Ge?(Sn=ji(r.stateNode.containerInfo),Zr=r,v=ar=!0):v=!1),v){if(Ge&&(t=d.mutableSourceEagerHydrationData,t!=null))for(d=0;d<t.length;d+=2)v=t[d],y=t[d+1],tr?v._workInProgressVersionPrimary=y:v._workInProgressVersionSecondary=y,Cn.push(v);for(i=Va(r,null,h,i),r.child=i;i;)i.flags=i.flags&-3|1024,i=i.sibling}else Kt(t,r,h,i),oa();r=r.child}return r;case 5:return Ka(r),t===null&&sa(r),h=r.type,d=r.pendingProps,v=t!==null?t.memoizedProps:null,y=d.children,vr(h,d)?y=null:v!==null&&vr(h,v)&&(r.flags|=16),ls(t,r),Kt(t,r,y,i),r.child;case 6:return t===null&&sa(r),null;case 13:return Vs(t,r,i);case 4:return ia(r,r.stateNode.containerInfo),h=r.pendingProps,t===null?r.child=Ei(r,null,h,i):Kt(t,r,h,i),r.child;case 11:return h=r.type,d=r.pendingProps,d=r.elementType===h?d:Se(h,d),as(t,r,h,d,i);case 7:return Kt(t,r,r.pendingProps,i),r.child;case 8:return Kt(t,r,r.pendingProps.children,i),r.child;case 12:return Kt(t,r,r.pendingProps.children,i),r.child;case 10:e:{if(h=r.type._context,d=r.pendingProps,y=r.memoizedProps,v=d.value,Ya(r,v),y!==null){var x=y.value;if(v=ut(x,v)?0:(typeof h._calculateChangedBits=="function"?h._calculateChangedBits(x,v):1073741823)|0,v===0){if(y.children===d.children&&!kt.current){r=Hr(t,r,i);break e}}else for(x=r.child,x!==null&&(x.return=r);x!==null;){var A=x.dependencies;if(A!==null){y=x.child;for(var X=A.firstContext;X!==null;){if(X.context===h&&(X.observedBits&v)!=0){x.tag===1&&(X=jt(-1,i&-i),X.tag=2,cr(x,X)),x.lanes|=i,X=x.alternate,X!==null&&(X.lanes|=i),Ci(x.return,i),A.lanes|=i;break}X=X.next}}else y=x.tag===10&&x.type===r.type?null:x.child;if(y!==null)y.return=x;else for(y=x;y!==null;){if(y===r){y=null;break}if(x=y.sibling,x!==null){x.return=y.return,y=x;break}y=y.return}x=y}}Kt(t,r,d.children,i),r=r.child}return r;case 9:return d=r.type,v=r.pendingProps,h=v.children,un(r,i),d=Xt(d,v.unstable_observedBits),h=h(d),r.flags|=1,Kt(t,r,h,i),r.child;case 14:return d=r.type,v=Se(d,r.pendingProps),v=Se(d.type,v),ss(t,r,d,v,h,i);case 15:return os(t,r,r.type,r.pendingProps,h,i);case 17:return h=r.type,d=r.pendingProps,d=r.elementType===h?d:Se(h,d),t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2),r.tag=1,It(h)?(t=!0,pi(r)):t=!1,un(r,i),Xa(r,h,d),na(r,h,d,i),va(null,r,h,!0,t,i);case 19:return ma(t,r,i);case 23:return ca(t,r,i);case 24:return ca(t,r,i)}throw Error(D(156,r.tag))};var Is={current:!1},ro=H.unstable_flushAllWithoutAsserting,uo=typeof ro=="function";function no(){if(ro!==void 0)return ro();for(var t=!1;me();)t=!0;return t}function ho(t){try{no(),eo(function(){no()?ho(t):t()})}catch(r){t(r)}}var Os=0,fo=!1;function vo(t,r,i,h){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(t,r,i,h){return new vo(t,r,i,h)}function io(t){return t=t.prototype,!(!t||!t.isReactComponent)}function po(t){if(typeof t=="function")return io(t)?1:0;if(t!=null){if(t=t.$$typeof,t===or)return 11;if(t===ur)return 14}return 2}function Vn(t,r){var i=t.alternate;return i===null?(i=Ur(t.tag,r,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=r,i.type=t.type,i.flags=0,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null),i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,r=t.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function Ns(t,r,i,h,d,v){var y=2;if(h=t,typeof t=="function")io(t)&&(y=1);else if(typeof t=="string")y=5;else e:switch(t){case Xe:return Yi(i.children,d,v,r);case zt:y=8,d|=16;break;case Et:y=8,d|=1;break;case Jt:return t=Ur(12,i,r,d|8),t.elementType=Jt,t.type=Jt,t.lanes=v,t;case bt:return t=Ur(13,i,r,d),t.type=bt,t.elementType=bt,t.lanes=v,t;case lr:return t=Ur(19,i,r,d),t.elementType=lr,t.lanes=v,t;case $r:return ao(i,d,v,r);case P:return t=Ur(24,i,r,d),t.elementType=P,t.lanes=v,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Gt:y=10;break e;case Rr:y=9;break e;case or:y=11;break e;case ur:y=14;break e;case hr:y=16,h=null;break e;case Yr:y=22;break e}throw Error(D(130,t==null?t:typeof t,""))}return r=Ur(y,i,r,d),r.elementType=t,r.type=h,r.lanes=v,r}function Yi(t,r,i,h){return t=Ur(7,t,h,r),t.lanes=i,t}function ao(t,r,i,h){return t=Ur(23,t,h,r),t.elementType=$r,t.lanes=i,t}function so(t,r,i){return t=Ur(6,t,null,r),t.lanes=i,t}function oo(t,r,i){return r=Ur(4,t.children!==null?t.children:[],t.key,r),r.lanes=i,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function mo(t,r,i){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=pr,this.pendingContext=this.context=null,this.hydrate=i,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qn(0),this.expirationTimes=qn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qn(0),Ge&&(this.mutableSourceEagerHydrationData=null)}function co(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(D(188)):Error(D(268,Object.keys(t)));return t=$t(r),t===null?null:t.stateNode}function go(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<r?i:r}}function Ds(t,r){go(t,r),(t=t.alternate)&&go(t,r)}function yo(t){return t=$t(t),t===null?null:t.stateNode}function _o(){return null}return I.IsThisRendererActing=Is,I.act=function(t){function r(){Os--,ka.current=i,Is.current=h}fo===!1&&(fo=!0,console.error("act(...) is not supported in production builds of React, and might not behave as expected.")),Os++;var i=ka.current,h=Is.current;ka.current=!0,Is.current=!0;try{var d=B(t)}catch(v){throw r(),v}if(d!==null&&typeof d=="object"&&typeof d.then=="function")return{then:function(v,y){d.then(function(){1<Os||uo===!0&&i===!0?(r(),v()):ho(function(x){r(),x?y(x):v()})},function(x){r(),y(x)})}};try{Os!==1||uo!==!1&&i!==!1||no(),r()}catch(v){throw r(),v}return{then:function(v){v()}}},I.attemptContinuousHydration=function(t){if(t.tag===13){var r=c();p(t,67108864,r),Ds(t,67108864)}},I.attemptHydrationAtCurrentPriority=function(t){if(t.tag===13){var r=c(),i=g(t);p(t,i,r),Ds(t,i)}},I.attemptSynchronousHydration=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.hydrate){var i=Dr(r.pendingLanes);r.expiredLanes|=i&r.pendingLanes,m(r,yt()),(le&48)==0&&(Tn(),ke())}break;case 13:var h=c();F(function(){return p(t,1,h)}),Ds(t,4)}},I.attemptUserBlockingHydration=function(t){if(t.tag===13){var r=c();p(t,4,r),Ds(t,4)}},I.batchedEventUpdates=function(t,r){var i=le;le|=2;try{return t(r)}finally{le=i,le===0&&(Tn(),ke())}},I.batchedUpdates=B,I.createComponentSelector=function(t){return{$$typeof:Gi,value:t}},I.createContainer=function(t,r,i){return t=new mo(t,r,i),r=Ur(3,null,null,r===2?7:r===1?3:0),t.current=r,r.stateNode=t,ra(r),t},I.createHasPsuedoClassSelector=function(t){return{$$typeof:bi,value:t}},I.createPortal=function(t,r,i){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ae,key:h==null?null:""+h,children:t,containerInfo:r,implementation:i}},I.createRoleSelector=function(t){return{$$typeof:fi,value:t}},I.createTestNameSelector=function(t){return{$$typeof:zi,value:t}},I.createTextSelector=function(t){return{$$typeof:Fi,value:t}},I.deferredUpdates=function(t){return Gr(97,t)},I.discreteUpdates=function(t,r,i,h,d){var v=le;le|=4;try{return Gr(98,t.bind(null,r,i,h,d))}finally{le=v,le===0&&(Tn(),ke())}},I.findAllNodes=Pa,I.findBoundingRects=function(t,r){if(!we)throw Error(D(363));r=Pa(t,r),t=[];for(var i=0;i<r.length;i++)t.push(Pe(r[i]));for(r=t.length-1;0<r;r--){i=t[r];for(var h=i.x,d=h+i.width,v=i.y,y=v+i.height,x=r-1;0<=x;x--)if(r!==x){var A=t[x],X=A.x,ie=X+A.width,fe=A.y,K=fe+A.height;if(h>=X&&v>=fe&&d<=ie&&y<=K){t.splice(r,1);break}else if(h!==X||i.width!==A.width||K<v||fe>y){if(!(v!==fe||i.height!==A.height||ie<h||X>d)){X>h&&(A.width+=X-h,A.x=h),ie<d&&(A.width=d-X),t.splice(r,1);break}}else{fe>v&&(A.height+=fe-v,A.y=v),K<y&&(A.height=y-fe),t.splice(r,1);break}}}return t},I.findHostInstance=co,I.findHostInstanceWithNoPortals=function(t){return t=Ar(t),t===null?null:t.tag===20?t.stateNode.instance:t.stateNode},I.findHostInstanceWithWarning=function(t){return co(t)},I.flushControlled=function(t){var r=le;le|=1;try{Gr(99,t)}finally{le=r,le===0&&(Tn(),ke())}},I.flushDiscreteUpdates=function(){(le&49)==0&&(T(),me())},I.flushPassiveEffects=me,I.flushSync=F,I.focusWithin=function(t,r){if(!we)throw Error(D(363));for(t=xa(t),r=Ps(t,r),r=Array.from(r),t=0;t<r.length;){var i=r[t++];if(!Te(i)){if(i.tag===5&&Ce(i.stateNode))return!0;for(i=i.child;i!==null;)r.push(i),i=i.sibling}}return!1},I.getCurrentUpdateLanePriority=function(){return yi},I.getFindAllNodesFailureDescription=function(t,r){if(!we)throw Error(D(363));var i=0,h=[];t=[xa(t),0];for(var d=0;d<t.length;){var v=t[d++],y=t[d++],x=r[y];if((v.tag!==5||!Te(v))&&(wa(v,x)&&(h.push(Ea(x)),y++,y>i&&(i=y)),y<r.length))for(v=v.child;v!==null;)t.push(v,y),v=v.sibling}if(i<r.length){for(t=[];i<r.length;i++)t.push(Ea(r[i]));return`findAllNodes was able to match part of the selector:
  `+(h.join(" > ")+`

No matching component was found for:
  `)+t.join(" > ")}return null},I.getPublicRootInstance=function(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return Fe(t.child.stateNode);default:return t.child.stateNode}},I.injectIntoDevTools=function(t){if(t={bundleType:t.bundleType,version:t.version,rendererPackageName:t.rendererPackageName,rendererConfig:t.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:st.ReactCurrentDispatcher,findHostInstanceByFiber:yo,findFiberByHostInstance:t.findFiberByHostInstance||_o,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined")t=!1;else{var r=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!r.isDisabled&&r.supportsFiber)try{yn=r.inject(t),fr=r}catch(i){}t=!0}return t},I.observeVisibleRects=function(t,r,i,h){if(!we)throw Error(D(363));t=Pa(t,r);var d=ht(t,i,h).disconnect;return{disconnect:function(){d()}}},I.registerMutableSourceForHydration=function(t,r){var i=r._getVersion;i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i)},I.runWithPriority=function(t,r){var i=yi;try{return yi=t,r()}finally{yi=i}},I.shouldSuspend=function(){return!1},I.unbatchedUpdates=function(t,r){var i=le;le&=-2,le|=8;try{return t(r)}finally{le=i,le===0&&(Tn(),ke())}},I.updateContainer=function(t,r,i,h){var d=r.current,v=c(),y=g(d);e:if(i){i=i._reactInternals;t:{if(he(i)!==i||i.tag!==1)throw Error(D(170));var x=i;do{switch(x.tag){case 3:x=x.stateNode.context;break t;case 1:if(It(x.type)){x=x.stateNode.__reactInternalMemoizedMergedChildContext;break t}}x=x.return}while(x!==null);throw Error(D(171))}if(i.tag===1){var A=i.type;if(It(A)){i=Da(i,A,x);break e}}i=x}else i=Cr;return r.context===null?r.context=i:r.pendingContext=i,r=jt(v,y),r.payload={element:t},h=h===void 0?null:h,h!==null&&(r.callback=h),cr(d,r),p(d,y,v),y},I}},76525:function(At,sr,U){"use strict";At.exports=U(67287)},84420:function(At,sr,U){var qe=U(67294),N={image:void 0,status:"loading"};At.exports=function(Je,Y){var H=qe.useState(N),D=H[0].image,st=H[0].status,vt=H[1];return qe.useEffect(function(){if(!Je)return;var Ae=document.createElement("img");function Xe(){vt({image:Ae,status:"loaded"})}function Et(){vt({image:void 0,status:"failed"})}return Ae.addEventListener("load",Xe),Ae.addEventListener("error",Et),Y&&(Ae.crossOrigin=Y),Ae.src=Je,function(){Ae.removeEventListener("load",Xe),Ae.removeEventListener("error",Et),vt(N)}},[Je,Y]),[D,st]}}}]);
