(self.webpackChunkpp_label_frontend=self.webpackChunkpp_label_frontend||[]).push([[813],{85024:function(W){W.exports={listItem:"listItem___u4Q82",eye:"eye___BwaRm",delete:"delete___31JB_",roundBall:"roundBall___23A7l",popover:"popover___1BNET",annotationId:"annotationId___zAzX4",labelName:"labelName___2ohxn",listItemActive:"listItemActive___2QnA3"}},56159:function(W){W.exports={labelList:"labelList___v7C6K",listHeader:"listHeader___1aY8R",eye:"eye___2MKbp",roundBall:"roundBall___187XH"}},26647:function(W){W.exports={toolBarButtonContainerWrapper:"toolBarButtonContainerWrapper___1FTWb",toolBarButtonContainer:"toolBarButtonContainer___1Vahn",toolBarButton:"toolBarButton___3mR2H",buttonText:"buttonText___Y0WDm",toolBarButtonContainerWrapperActive:"toolBarButtonContainerWrapperActive___3lRZ8",popover:"popover___3zzu2",slider:"slider___ALra-",popoverLeft:"popoverLeft___15lGe"}},6277:function(W){W.exports={modal:"modal___26yNn"}},45092:function(W){W.exports={modal:"modal___1H_FQ"}},14836:function(W,H,t){"use strict";t.d(H,{Z:function(){return J}});var $=t(54421),G=t(38272),sn=t(57663),tn=t(71577),en=t(67294),m=t(56159),s=t.n(m),D=t(49111),y=t(19650),j=t(2824),k=t(11849),K=t(85024),Y=t.n(K),on=t(63097),r=t(85893),M=function(o){var e=(0,k.Z)({},o.annotation),V=(0,en.useState)(e.invisible),I=(0,j.Z)(V,2),F=I[0],N=I[1],z=(0,en.useState)(0),Z=(0,j.Z)(z,2),w=Z[0],R=Z[1];(0,en.useEffect)(function(){N(o.annotation.invisible)},[o.annotation.invisible]);var b=(0,r.jsxs)(G.ZP.Item,{className:"".concat(Y().listItem," ").concat(o.active?Y().listItemActive:""),unselectable:"on",onClick:function(){o.onClick(e)},children:[(0,r.jsxs)(y.Z,{align:"center",size:5,children:[(0,r.jsx)("a",{className:Y().eye,style:{backgroundImage:F?"url(./pics/hide.png)":"url(./pics/show.png)"},onClick:function(q){q.stopPropagation(),N(!F),o.onAnnotationModify(e)}})," ",(0,r.jsx)("span",{className:Y().annotationId,children:e.frontendId}),(0,r.jsx)("span",{className:Y().labelName,children:e.label.name}),(0,r.jsx)(on.Z,{color:e.label.color})]}),(0,r.jsx)("a",{className:Y().delete,onClick:function(q){q.stopPropagation();var n=new Date().getTime();n-w<300||(R(n),o.onAnnotationDelete(e))}})]});return b},X=M,S=t(48971),T=function(o){var e=(0,S.YB)().formatMessage({id:"component.PPAnnotationList.annotationList"}),V=(0,S.YB)().formatMessage({id:"component.PPAnnotationList.addAnnotation"});return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(G.ZP,{className:s().labelList,size:"large",header:(0,r.jsx)("div",{className:s().listHeader,children:e}),bordered:!0,dataSource:o.annotations,renderItem:function(F){var N;return(0,r.jsx)(X,{onClick:o.onAnnotationSelect,annotation:F,active:F.frontendId==((N=o.currAnnotation)===null||N===void 0?void 0:N.frontendId),onAnnotationDelete:o.onAnnotationDelete,onAnnotationModify:o.onAnnotationModify})},footer:(0,r.jsx)("div",{children:(0,r.jsx)(tn.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",onClick:function(){o.onAnnotationAdd()},block:!0,children:V})})})})},J=T},27992:function(W,H,t){"use strict";var $=t(20136),G=t(55241),sn=t(13062),tn=t(71230),en=t(77883),m=t(70507),s=t(89032),D=t(15746),y=t(66126),j=t(75454),k=t(2824),K=t(67294),Y=t(61541),on=t(26647),r=t.n(on),M=t(85893),X=0,S=100,T=10,J=function(o){var e=(0,K.useState)(w(o.size)),V=(0,k.Z)(e,2),I=V[0],F=V[1];function N(R){F(w(R))}var z=o.minSize==null?X:o.minSize,Z=o.maxSize==null?S:o.maxSize;function w(R){return R==null?T:R<=z?z:R>=Z?Z:R}return(0,K.useEffect)(function(){N(o.size)},[o.size]),(0,M.jsxs)(G.Z,{overlayClassName:"".concat(r().popover," ").concat(o.disLoc=="left"?r().popoverLeft:""),placement:o.disLoc||"right",content:(0,M.jsxs)(tn.Z,{children:[(0,M.jsx)(D.Z,{span:16,children:(0,M.jsx)(j.Z,{className:r().slider,value:I,max:Z,min:z,onChange:function(b){var B;(B=o.onChange)===null||B===void 0||B.call(0,b)},tooltipVisible:!1})}),(0,M.jsx)(D.Z,{span:8,children:(0,M.jsx)(m.Z,{min:z,max:Z,value:I,onChange:function(b){var B;(B=o.onChange)===null||B===void 0||B.call(0,b)},step:10})})]}),trigger:"hover",children:[" ",(0,M.jsx)(Y.Z,{imgSrc:o.imgSrc||"",onClick:o.onClick,active:o.active,children:o.children})]})};H.Z=J},85871:function(W,H,t){"use strict";var $=t(71194),G=t(50146),sn=t(49111),tn=t(19650),en=t(57663),m=t(71577),s=t(13062),D=t(71230),y=t(89032),j=t(15746),k=t(77883),K=t(70507),Y=t(34792),on=t(48086),r=t(9715),M=t(93766),X=t(2824),S=t(67294),T=t(48971),J=t(6277),p=t.n(J),o=t(85893),e=function(I){var F=(0,T.YB)(),N=(0,S.useState)(60),z=(0,X.Z)(N,2),Z=z[0],w=z[1],R=(0,S.useState)(20),b=(0,X.Z)(R,2),B=b[0],q=b[1],n=(0,S.useState)(20),i=(0,X.Z)(n,2),u=i[0],_=i[1],v=(0,S.useState)(!1),g=(0,X.Z)(v,2),A=g[0],P=g[1],h=(0,T.YB)().formatMessage({id:"pages.toolBar.divideData"}),c=(0,T.YB)().formatMessage({id:"component.PPDivideDataModal.train"}),l=(0,T.YB)().formatMessage({id:"component.PPDivideDataModal.validation"}),C=(0,T.YB)().formatMessage({id:"component.PPDivideDataModal.test"}),L=(0,T.YB)().formatMessage({id:"component.PPCreater.cancel"}),x=(0,T.YB)().formatMessage({id:"component.PPSegMode.ok"}),O=M.Z.useForm(),f=(0,X.Z)(O,1),E=f[0];return(0,o.jsx)(G.Z,{className:p().modal,title:h,visible:I.visible,onCancel:I.onCancel,footer:null,children:(0,o.jsxs)(M.Z,{form:E,name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!1},onFinish:function(){if(Z+B+u!=100){on.default.error("Train, Validation and Test total percent should equal 100!");return}console.log("x trainData: ".concat(Z,", validationData: ").concat(B,", testData: ").concat(u,", props.project.curr.projectId: ").concat(I.project.curr.projectId)),P(!0),I.splitDataset(I.project.curr.projectId,{train:Z*.01,validation:B*.01,test:u*.01}).then(function(){var an;console.log("success"),on.default.success(F.formatMessage({id:"component.PPDivideDataModal.success"})),(an=I.onFinish)===null||an===void 0||an.call(0)}).finally(function(){P(!1)})},autoComplete:"off",layout:"vertical",children:[(0,o.jsxs)(D.Z,{children:[(0,o.jsx)(j.Z,{span:8,children:(0,o.jsx)(M.Z.Item,{label:c,name:"train",children:(0,o.jsx)(K.Z,{addonAfter:"%",defaultValue:60,precision:0,min:0,max:100,value:Z,onChange:w})})}),(0,o.jsx)(j.Z,{span:8,children:(0,o.jsx)(M.Z.Item,{label:l,name:"validation",children:(0,o.jsx)(K.Z,{addonAfter:"%",defaultValue:20,precision:0,min:0,max:100,value:B,onChange:q})})}),(0,o.jsx)(j.Z,{span:8,children:(0,o.jsx)(M.Z.Item,{label:C,name:"test",children:(0,o.jsx)(K.Z,{addonAfter:"%",defaultValue:20,precision:0,min:0,max:100,value:u,onChange:_})})})]}),(0,o.jsx)(M.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,o.jsxs)(tn.Z,{children:[(0,o.jsx)(m.Z,{onClick:function(){var an;(an=I.onCancel)===null||an===void 0||an.call(0),E.resetFields()},children:L}),(0,o.jsx)(m.Z,{type:"primary",htmlType:"submit",loading:A,children:x})]})})]})})};H.Z=e},62850:function(W,H,t){"use strict";var $=t(71194),G=t(50146),sn=t(49111),tn=t(19650),en=t(57663),m=t(71577),s=t(47673),D=t(24044),y=t(34792),j=t(48086),k=t(9715),K=t(93766),Y=t(2824),on=t(67294),r=t(48971),M=t(45092),X=t.n(M),S=t(85893),T=function(p){var o=(0,r.YB)(),e=(0,on.useState)(!1),V=(0,Y.Z)(e,2),I=V[0],F=V[1],N=(0,r.YB)().formatMessage({id:"component.PPCreater.cancel"}),z=K.Z.useForm(),Z=(0,Y.Z)(z,1),w=Z[0];return(0,S.jsx)(G.Z,{className:X().modal,title:(0,r.YB)().formatMessage({id:"component.PPExportModal.title"}),visible:p.visible,onCancel:p.onCancel,footer:null,children:(0,S.jsxs)(K.Z,{form:w,name:"basic",labelCol:{span:6},wrapperCol:{span:16},initialValues:{remember:!1},onFinish:function(b){console.log(b);var B=b.path;if(!B){j.default.error(o.formatMessage({id:"component.PPExportModal.pathNotNull"}));return}F(!0),p.exportDataset(p.project.curr.projectId,B).then(function(){var q;j.default.success(o.formatMessage({id:"component.PPExportModal.exportSuccess"})),(q=p.onFinish)===null||q===void 0||q.call(0)}).finally(function(){F(!1)})},autoComplete:"off",children:[(0,S.jsx)(K.Z.Item,{label:o.formatMessage({id:"component.PPExportModal.path"}),name:"path",children:(0,S.jsx)(D.Z,{})}),(0,S.jsx)(K.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,S.jsxs)(tn.Z,{children:[(0,S.jsx)(m.Z,{onClick:function(){var b;(b=p.onCancel)===null||b===void 0||b.call(0),w.resetFields()},children:N}),(0,S.jsx)(m.Z,{type:"primary",htmlType:"submit",loading:I,children:o.formatMessage({id:"component.PPExportModal.export"})})]})})]})})};H.Z=T},91861:function(W,H,t){"use strict";t.d(H,{Ad:function(){return G},k3:function(){return sn},Vd:function(){return tn},td:function(){return en}});var $=40;function G(){localStorage.removeItem("history"),sn([])}function sn(m){var s=localStorage.getItem("history"),D=s?JSON.parse(s):{index:-1,items:[]};if(JSON.stringify(D.items[D.index])!=JSON.stringify(m)){var y=D.index>$?D.index-$:0,j=D.items.splice(y,D.index==0?1:D.index+1);D.items=j.concat([m]),D.index<=$?D.index++:D.index=$+1,localStorage.setItem("history",JSON.stringify(D))}}function tn(){var m=localStorage.getItem("history");if(!!m){var s=JSON.parse(m);if(!!s&&!(s.index>=s.items.length-1))return s.index++,localStorage.setItem("history",JSON.stringify(s)),s.items[s.index]}}function en(){var m=localStorage.getItem("history");if(!!m){var s=JSON.parse(m);if(!(!s||!s.index)&&!(s.index<=0))return s.index--,localStorage.setItem("history",JSON.stringify(s)),s.items[s.index]}}},4813:function(W,H,t){"use strict";t.r(H),t.d(H,{MOST_HISTORY_STEPS:function(){return b},default:function(){return q}});var $=t(91220),G=t(57663),sn=t(71577),tn=t(34669),en=t(54458),m=t(2824),s=t(67294),D=t(8088),y=t(61541),j=t(44434),k=t(27992),K=t(5041),Y=t(57436),on=t(14836),r=t(48971),M=t(91861),X=t(85871),S=t(62850),T=t(11849),J=t(65031);function p(n){var i=0;if(!n)return i;var u=(0,$.Z)(n),_;try{for(u.s();!(_=u.n()).done;){var v=_.value;!v||!v.frontendId||v.frontendId>i&&(i=v.frontendId)}}catch(g){u.e(g)}finally{u.f()}return i}function o(n){var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null}var e=t(85893);function V(n,i,u,_){if(!(!n||!i||!u||!_))return{width:n,color:i,points:u,tool:_}}function I(n){var i,u;if(console.log("drawLine: ",n.annotation),!n.annotation)return(0,e.jsx)(e.Fragment,{});var _=n.annotation.png?(0,e.jsx)(J.Ee,{image:n.annotation.png}):(0,e.jsx)(e.Fragment,{}),v=(i=n.canvasRef.current)===null||i===void 0?void 0:i.getContext("2d");if(!v||!n.annotation.lines)return _;var g=(0,$.Z)(n.annotation.lines),A;try{for(g.s();!(A=g.n()).done;){var P=A.value,h=P.points;v.beginPath(),v.moveTo(h[0],h[1]);for(var c=0;c<=h.length/2-1;c++){var l=h[2*c],C=h[2*c+1];v.lineTo(l,C)}v.lineCap="round",v.lineJoin="round",v.lineWidth=P.width,v.strokeStyle=P.color,v.globalCompositeOperation=P.tool=="brush"?"source-over":"destination-out",v.stroke()}}catch(L){g.e(L)}finally{g.f()}return(u=n.layerRef.current)===null||u===void 0||u.batchDraw(),(0,e.jsx)(J.ZA,{draggable:!1,children:_})}function F(n,i){return n=="rubber"||i==2?"rubber":"brush"}function N(n){var i=(0,s.useState)(),u=(0,m.Z)(i,2),_=u[0],v=u[1],g=function(c){var l,C;if(!(n.currentTool!="brush"&&n.currentTool!="rubber"||!((l=n.currentLabel)!==null&&l!==void 0&&l.color))){var L=c.mouseX,x=c.mouseY;console.log("e.evt.offsetX,Y: (".concat(c.e.evt.offsetX,",").concat(c.e.evt.offsetY,"). offsetX,Y: (").concat(c.offsetX,",").concat(c.offsetY,"). mouseX,Y: (").concat(L,",").concat(x,"). scale: ").concat(n.scale));var O=F(n.currentTool,c.e.evt.button),f=V(n.brushSize||10,(C=n.currentLabel)===null||C===void 0?void 0:C.color,[L,x,L,x],O);if(!!f)if(v(O),n.currentAnnotation){var E,dn={type:"brush",frontendId:n.currentAnnotation.frontendId,label:n.currentAnnotation.label,lines:(E=n.currentAnnotation.lines)===null||E===void 0?void 0:E.concat([f]),dataId:n.dataId};n.onAnnotationModify(dn)}else{if(O=="rubber")return;n.onAnnotationAdd({dataId:n.dataId,type:O,frontendId:p(n.annotations)+1,label:n.currentLabel,lines:[f]})}}},A=function(c){var l,C;if(!(!_||!n.currentAnnotation||!((l=n.currentLabel)!==null&&l!==void 0&&l.color))){var L=(c.e.evt.offsetX+c.offsetX)/n.scale,x=(c.e.evt.offsetY+c.offsetY)/n.scale,O=[L,x],f=[];(C=n.currentAnnotation)!==null&&C!==void 0&&C.lines&&(O=n.currentAnnotation.lines[n.currentAnnotation.lines.length-1].points.concat(O),f=n.currentAnnotation.lines);var E=V(n.brushSize||10,n.currentLabel.color,O,_);!E||(f.pop(),f.push(E),n.onAnnotationModify((0,T.Z)((0,T.Z)({},n.currentAnnotation),{},{lines:f,type:_})))}},P=function(){n.currentTool!="brush"&&n.currentTool!="rubber"||(v(void 0),n.onMouseUp())};return{onMouseDown:g,onMouseMove:A,onMouseUp:P,createElementsFunc:I}}function z(n,i){if(!(!n||!i))return{color:n,points:i}}function Z(n){if(!n.annotation||!n.annotation.lines||!n.annotation.lines[0])return[(0,e.jsx)(e.Fragment,{})];var i=n.annotation.lines[0].points,u=n.annotation.lines[0].color,_=o(u);if(!_)return[(0,e.jsx)(e.Fragment,{})];var v=.3,g=void 0,A=[];return i.forEach(function(P,h){if(!g){g=P;return}A.push((0,e.jsx)(J.Cd,{onMouseDown:function(){n.currentTool=="editor"&&n.onSelect(n.annotation)},draggable:n.currentTool=="editor",onDragMove:function(l){var C;l.cancelBubble=!0;var L=(C=n.stageRef)===null||C===void 0?void 0:C.current,x=L.findOne(".baseImage"),O=!1,f=l.target.x();f>x.width()/2&&(f=x.width()/2,O=!0),f<-x.width()/2&&(f=-x.width()/2,O=!0);var E=l.target.y();E>x.height()/2&&(E=x.height()/2,O=!0),E<-x.height()/2&&(E=-x.height()/2,O=!0),O&&l.target.setPosition({x:f,y:E}),i[h-1]=f,i[h]=E;var dn=(0,T.Z)((0,T.Z)({},n.annotation),{},{points:[{color:u,points:i}]});n.onDrag(dn)},onMouseOver:function(){var l;n.currentTool=="editor"&&(l=n.stageRef)!==null&&l!==void 0&&l.current&&(n.stageRef.current.container().style.cursor="cell")},onMouseOut:function(){var l;n.currentTool=="editor"&&(l=n.stageRef)!==null&&l!==void 0&&l.current&&(n.stageRef.current.container().style.cursor="default")},x:g,y:P,radius:5/n.scale,fill:u})),g=void 0}),[(0,e.jsxs)(J.ZA,{children:[(0,e.jsx)(J.x1,{onMouseOver:function(){n.currentTool=="editor"&&(document.body.style.cursor="pointer")},onMouseOut:function(){document.body.style.cursor="default"},onClick:function(){n.currentTool=="editor"&&n.onSelect(n.annotation)},stroke:u,strokeWidth:2/n.scale,globalCompositeOperation:"source-over",lineCap:"round",points:i,tension:0,closed:!0,fill:"rgba(".concat(_.r,", ").concat(_.g,", ").concat(_.b,", ").concat(v,")")}),A]},n.annotation.frontendId)]}function w(n){var i=0;if(!n)return i;var u=(0,$.Z)(n),_;try{for(u.s();!(_=u.n()).done;){var v=_.value;!v||!v.frontendId||v.frontendId>i&&(i=v.frontendId)}}catch(g){u.e(g)}finally{u.f()}return i}function R(n){var i=function(A,P,h,c){var l,C=(A.evt.offsetX+P)/c,L=(A.evt.offsetY+h)/c,x=z((l=n.currentLabel)===null||l===void 0?void 0:l.color,[C,L]);!x||n.onAnnotationAdd({type:"polygon",frontendId:w(n.annotations)+1,label:n.currentLabel,lines:[x]})},u=function(A,P,h,c){var l,C;if(!!n.currentAnnotation){var L=(A.evt.offsetX+P)/c,x=(A.evt.offsetY+h)/c,O=n.currentAnnotation.lines||[],f=z((l=n.currentLabel)===null||l===void 0?void 0:l.color,(C=O[0])===null||C===void 0?void 0:C.points.concat([L,x]));if(!!f){var E={type:"polygon",frontendId:n.currentAnnotation.frontendId,label:n.currentAnnotation.label,points:[f]};n.onAnnotationModify(E)}}},_=function(A,P,h,c){n.currentTool=="polygon"&&(n.currentAnnotation?u(A,P,h,c):i(A,P,h,c))},v=function(){n.currentTool=="polygon"&&n.onMouseUp()};return{onMouseDown:_,onMouseMove:function(){},onMouseUp:v,createElementsFunc:Z}}var b=40,B=function(){var i=(0,s.useState)([]),u=(0,m.Z)(i,2),_=u[0],v=u[1],g=(0,s.useState)(!1),A=(0,m.Z)(g,2),P=A[0],h=A[1],c=(0,s.useState)(!1),l=(0,m.Z)(c,2),C=l[0],L=l[1],x=(0,s.useState)(void 0),O=(0,m.Z)(x,2),f=O[0],E=O[1],dn=(0,s.useState)(),an=(0,m.Z)(dn,2),cn=an[0],fn=an[1],yn=(0,s.useState)(),gn=(0,m.Z)(yn,2),un=gn[0],In=gn[1],Ln=(0,s.useState)([]),Mn=(0,m.Z)(Ln,2),nn=Mn[0],ln=Mn[1],Tn=(0,s.useState)(10),Pn=(0,m.Z)(Tn,2),mn=Pn[0],hn=Pn[1],bn=(0,s.useState)(60),En=(0,m.Z)(bn,2),Cn=En[0],jn=En[1],Zn=(0,s.useState)(1),xn=(0,m.Z)(Zn,2),vn=xn[0],_n=xn[1],Dn=function(a){a||_n(1),a<.1||a>3?_n(1):_n(a)},U=function(a){In(a),a!=null&&a.label&&fn(a.label)};(0,s.useEffect)(function(){(0,M.Ad)()},[]);var An=function(a){for(var Q=[],rn=0;rn<nn.length;rn++)nn[rn].frontendId==a.frontendId?Q.push(a):Q.push(nn[rn]);U(a),ln(Q)},On={dataId:0,currentLabel:cn,brushSize:mn,scale:vn,currentTool:f,annotations:nn,currentAnnotation:un,onAnnotationAdd:function(a){var Q=nn.concat([a]);ln(Q),un||U(a)},onAnnotationModify:An,onMouseUp:function(){(0,M.k3)({annos:nn,currAnno:un})}},Rn=N(On),Un=R(On),Wn=f=="polygon"?Un:Rn,Kn=(0,r.YB)().formatMessage({id:"pages.toolBar.polygon"}),Yn=(0,r.YB)().formatMessage({id:"pages.toolBar.brush"}),Fn=(0,r.YB)().formatMessage({id:"pages.toolBar.rubber"}),Nn=(0,r.YB)().formatMessage({id:"pages.toolBar.zoomIn"}),zn=(0,r.YB)().formatMessage({id:"pages.toolBar.zoomOut"}),$n=(0,r.YB)().formatMessage({id:"pages.toolBar.move"}),Xn=(0,r.YB)().formatMessage({id:"pages.toolBar.unDo"}),pn=(0,r.YB)().formatMessage({id:"pages.toolBar.reDo"}),Vn=(0,r.YB)().formatMessage({id:"pages.toolBar.save"}),Hn=(0,r.YB)().formatMessage({id:"pages.toolBar.edit"}),Jn=(0,r.YB)().formatMessage({id:"pages.toolBar.clearMark"}),Qn=(0,r.YB)().formatMessage({id:"pages.toolBar.interactor"}),Gn=(0,r.YB)().formatMessage({id:"pages.toolBar.segmentThreshold"}),kn=(0,r.YB)().formatMessage({id:"pages.toolBar.visualRadius"}),wn=(0,r.YB)().formatMessage({id:"pages.toolBar.determineOutline"}),qn=(0,r.YB)().formatMessage({id:"pages.toolBar.divideData"}),nt=(0,r.YB)().formatMessage({id:"pages.toolBar.export"});return(0,e.jsxs)(D.Z,{className:"segment",children:[(0,e.jsxs)(j.Z,{children:[(0,e.jsx)(y.Z,{imgSrc:"./pics/buttons/polygon.png",active:f=="polygon",onClick:function(){E("polygon"),U(void 0)},children:Kn}),(0,e.jsx)(y.Z,{active:f=="editor",imgSrc:"./pics/buttons/edit.png",onClick:function(){E("editor"),U(void 0)},children:Hn}),(0,e.jsx)(k.Z,{imgSrc:"./pics/buttons/brush.png",size:mn,active:f=="brush",onClick:function(){f!="rubber"&&f!="brush"&&U(void 0),E("brush")},onChange:function(a){hn(a)},children:Yn}),(0,e.jsx)(k.Z,{size:mn,active:f=="rubber",onClick:function(){f!="rubber"&&f!="brush"&&U(void 0),E("rubber")},onChange:function(a){hn(a)},imgSrc:"./pics/buttons/rubber.png",children:Fn}),(0,e.jsx)(y.Z,{imgSrc:"./pics/buttons/zoom_in.png",onClick:function(){Dn(vn+.1)},children:Nn}),(0,e.jsx)(y.Z,{imgSrc:"./pics/buttons/zoom_out.png",onClick:function(){Dn(vn-.1)},children:zn}),(0,e.jsx)(y.Z,{imgSrc:"./pics/buttons/save.png",children:Vn}),(0,e.jsx)(y.Z,{active:f=="mover",imgSrc:"./pics/buttons/move.png",onClick:function(){E("mover")},children:$n}),(0,e.jsx)(y.Z,{imgSrc:"./pics/buttons/prev.png",onClick:function(){var a=(0,M.td)();a&&(ln(a.annos),U(a.currAnno))},children:Xn}),(0,e.jsx)(y.Z,{imgSrc:"./pics/buttons/next.png",onClick:function(){var a=(0,M.Vd)();a&&(ln(a.annos),U(a.currAnno))},children:pn}),(0,e.jsx)(y.Z,{imgSrc:"./pics/buttons/clear_mark.png",children:Jn})]}),(0,e.jsxs)("div",{id:"dr",className:"mainStage",children:[(0,e.jsx)("div",{className:"draw",children:(0,e.jsx)(Y.Z,{scale:vn,annotations:nn,currentTool:f,currentAnnotation:un,setCurrentAnnotation:U,onAnnotationModify:An,onAnnotationModifyComplete:function(){(0,M.k3)({annos:nn,currAnno:un})},imgSrc:void 0,transparency:Cn,onAnnotationAdd:function(a){var Q=nn.concat([a]);ln(Q),un||U(a)},drawTool:Wn})}),(0,e.jsx)("div",{className:"pblock",children:(0,e.jsxs)("div",{className:"progress",children:[(0,e.jsx)(en.Z,{className:"progressBar",percent:10,status:"active",showInfo:!1})," ",(0,e.jsx)("span",{className:"progressDesc",children:"Current labeling 1 of 300. Already labeled 20."})]})}),(0,e.jsx)("div",{className:"prevTask",onClick:function(){!task.prevTask()||(U(void 0),ln([]))}}),(0,e.jsx)("div",{className:"nextTask",onClick:function(){!task.nextTask()||(U(void 0),ln([]))}})]}),(0,e.jsxs)(j.Z,{disLoc:"right",children:[(0,e.jsx)(y.Z,{imgSrc:"./pics/buttons/intelligent_interaction.png",children:Qn}),(0,e.jsx)(k.Z,{imgSrc:"./pics/buttons/threshold.png",disLoc:"left",children:Gn}),(0,e.jsx)(k.Z,{imgSrc:"./pics/buttons/alpha.png",disLoc:"left",size:Cn,maxSize:100,minSize:0,onChange:function(a){jn(a)},children:(0,r.YB)().formatMessage({id:"pages.toolBar.transparency"})}),(0,e.jsx)(k.Z,{imgSrc:"./pics/buttons/radius.png",disLoc:"left",children:kn}),(0,e.jsx)(y.Z,{imgSrc:"./pics/buttons/data_division.png",onClick:function(){h(!0)},children:qn}),(0,e.jsx)(y.Z,{imgSrc:"./pics/buttons/export.png",onClick:function(){L(!0)},children:nt})]}),(0,e.jsxs)("div",{className:"rightSideBar",children:[(0,e.jsx)("div",{className:"determinOutline",children:(0,e.jsx)(sn.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",block:!0,onClick:function(){U(void 0)},children:wn})}),(0,e.jsx)(K.Z,{labels:_,activeIds:new Set([cn]),onLabelSelect:function(a){fn(a),U(void 0)},onLabelModify:function(){},onLabelDelete:function(a){var Q=[],rn=(0,$.Z)(_),Sn;try{for(rn.s();!(Sn=rn.n()).done;){var Bn=Sn.value;Bn.labelId!=a.labelId&&Q.push(Bn)}}catch(tt){rn.e(tt)}finally{rn.f()}v(Q),(cn==null?void 0:cn.labelId)==a.labelId&&fn(void 0)},onLabelAdd:function(a){_.push(a),v(_),fn(a)}}),(0,e.jsx)(on.Z,{currAnnotation:un,annotations:nn,onAnnotationSelect:function(a){a!=null&&a.delete||U(a)},onAnnotationAdd:function(){},onAnnotationModify:function(){},onAnnotationDelete:function(a){ln(nn.filter(function(Q){return Q.frontendId!=a.frontendId})),U(void 0)}})]}),(0,e.jsx)(X.Z,{visible:P,onCancel:function(){h(!1)},onFinish:function(){h(!1)}}),(0,e.jsx)(S.Z,{visible:C,onCancel:function(){L(!1)},onFinish:function(){L(!1)}})]})},q=B}}]);
