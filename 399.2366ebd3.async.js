(self.webpackChunkpp_labeling_frontend=self.webpackChunkpp_labeling_frontend||[]).push([[399],{85024:function(i){i.exports={listItem:"listItem___u4Q82",eye:"eye___BwaRm",delete:"delete___31JB_",roundBall:"roundBall___23A7l",popover:"popover___1BNET",annotationId:"annotationId___zAzX4",labelName:"labelName___2ohxn",listItemActive:"listItemActive___2QnA3"}},56159:function(i){i.exports={labelList:"labelList___v7C6K",listHeader:"listHeader___1aY8R",eye:"eye___2MKbp",roundBall:"roundBall___187XH"}},57560:function(i){i.exports={toolBarButtonContainerWrapper:"toolBarButtonContainerWrapper___147XP",toolBarButtonContainer:"toolBarButtonContainer___ZEvhK",toolBarButton:"toolBarButton___1s2Rh",buttonText:"buttonText___3NTCv",toolBarButtonContainerWrapperActive:"toolBarButtonContainerWrapperActive___2Utx8",popover:"popover___3PRoi"}},52822:function(i){i.exports={roundBall:"roundBall___1pqu1",popover:"popover___1-PR6"}},5882:function(i){i.exports={listItem:"listItem___vtDXn",eye:"eye___AsLBS",roundBall:"roundBall___1J_R3",popover:"popover___1x-2R",listItemActive:"listItemActive___3FRb7"}},56131:function(i){i.exports={labelList:"labelList___jvD05",listHeader:"listHeader___UM5UF",eye:"eye___II3Po",roundBall:"roundBall___j752J"}},78677:function(i){i.exports={container:"container___G0FNe"}},83930:function(i){i.exports={stage:"stage___3H5QL"}},80961:function(i){i.exports={toolbar:"toolbar___3vxli"}},82499:function(i){i.exports={toolBarButtonContainerWrapper:"toolBarButtonContainerWrapper___1SHWL",toolBarButtonContainer:"toolBarButtonContainer___1jKUz",toolBarButton:"toolBarButton___3Ouq1",buttonText:"buttonText___10ls7",toolBarButtonContainerWrapperActive:"toolBarButtonContainerWrapperActive___3AA28"}},14836:function(i,M,n){"use strict";n.d(M,{Z:function(){return r}});var g=n(54421),C=n(38272),L=n(57663),m=n(71577),_=n(67294),s=n(56159),P=n.n(s),f=n(49111),x=n(19650),j=n(2824),t=n(11849),o=n(85024),a=n.n(o),u=n(63097),e=n(85893),h=function(l){var c=(0,t.Z)({},l.annotation),v=(0,_.useState)(c.invisible),E=(0,j.Z)(v,2),B=E[0],b=E[1];(0,_.useEffect)(function(){b(l.annotation.invisible)},[l.annotation.invisible]);var H=(0,e.jsxs)(C.ZP.Item,{className:"".concat(a().listItem," ").concat(l.active?a().listItemActive:""),unselectable:"on",onClick:function(){l.onClick(c)},children:[(0,e.jsxs)(x.Z,{align:"center",size:5,children:[(0,e.jsx)("a",{className:a().eye,style:{backgroundImage:B?"url(./pics/hide.png)":"url(./pics/show.png)"},onClick:function(){b(!B),l.onAnnotationModify(c)}})," ",(0,e.jsx)("span",{className:a().annotationId,children:c.annotationId}),(0,e.jsx)("span",{className:a().labelName,children:c.label.name}),(0,e.jsx)(u.Z,{color:c.label.color})]}),(0,e.jsx)("a",{className:a().delete,onClick:function(){c.delete=!0,l.onAnnotationDelete(c)}})]});return H},O=h,D=function(l){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(C.ZP,{className:P().labelList,size:"large",header:(0,e.jsx)("div",{className:P().listHeader,children:"Annotation List"}),bordered:!0,dataSource:l.annotations,renderItem:function(v){var E;return(0,e.jsx)(O,{onClick:l.onAnnotationSelect,annotation:v,active:v.annotationId==((E=l.selectedAnnotation)===null||E===void 0?void 0:E.annotationId),onAnnotationDelete:l.onAnnotationDelete,onAnnotationModify:l.onAnnotationModify})},footer:(0,e.jsx)("div",{children:(0,e.jsx)(m.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",onClick:function(){l.onAnnotationSelect(void 0)},block:!0,children:"Add Annotation"})})})})},r=D},31154:function(i,M,n){"use strict";n.d(M,{Z:function(){return j}});var g=n(11849),C=n(2824),L=n(91220),m=n(67294),_=n(65031),s=n(85893);function P(t,o,a,u){if(!(!t||!o||!a||!u))return{width:t,color:o,points:a,tool:u,element:(0,s.jsx)(_.x1,{stroke:o,strokeWidth:t,globalCompositeOperation:u==="brush"?"source-over":"destination-out",lineCap:"round",points:a,tension:.01})}}function f(t,o){return t=="rubber"||o==2?"rubber":"brush"}function x(t){var o=0,a=(0,L.Z)(t),u;try{for(a.s();!(u=a.n()).done;){var e=u.value;!e||e.annotationId>o&&(o=e.annotationId)}}catch(h){a.e(h)}finally{a.f()}return o}function j(t){var o=(0,m.useState)(),a=(0,C.Z)(o,2),u=a[0],e=a[1],h=function(A){var l,c=f(t.currentTool,A.evt.button),v=P(t.brushSize||10,(l=t.currentLabel)===null||l===void 0?void 0:l.color,[A.evt.offsetX,A.evt.offsetY,A.evt.offsetX,A.evt.offsetY],c);if(!!v)if(e(c),!t.currentAnnotation)t.onAnnotationAdd({annotationId:x(t.annotations)+1,label:t.currentLabel,lines:[v]});else{var E,B={annotationId:t.currentAnnotation.annotationId,label:t.currentAnnotation.label,lines:(E=t.currentAnnotation.lines)===null||E===void 0?void 0:E.concat([v])};t.onAnnotationModify(B),console.log(B)}},O=function(A){var l;if(!(!u||!t.currentAnnotation)){var c=[A.evt.offsetX,A.evt.offsetY],v=[];(l=t.currentAnnotation)!==null&&l!==void 0&&l.lines&&(c=t.currentAnnotation.lines[t.currentAnnotation.lines.length-1].points.concat(c),v=t.currentAnnotation.lines);var E=P(t.brushSize||10,t.currentLabel.color,c,u);!E||(v.pop(),v.push(E),t.onAnnotationModify((0,g.Z)((0,g.Z)({},t.currentAnnotation),{},{lines:v})))}},D=function(){e(void 0)};return{onMouseDown:h,onMouseMove:O,onMouseUp:D}}},58967:function(i,M,n){"use strict";var g=n(20136),C=n(55241),L=n(77883),m=n(70507),_=n(57663),s=n(71577),P=n(2824),f=n(67294),x=n(61541),j=n(57560),t=n.n(j),o=n(85893),a=1,u=50,e=10;function h(D){return D?D<=a?a:D>=u?u:D:e}var O=function(r){var A=(0,f.useState)(h(r.size)),l=(0,P.Z)(A,2),c=l[0],v=l[1];return(0,f.useEffect)(function(){v(h(r.size))},[r.size]),(0,o.jsxs)(C.Z,{overlayClassName:t().popover,placement:"right",content:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.Z,{type:"text",onClick:function(){var B,b=h(c-1);v(b),(B=r.onChange)===null||B===void 0||B.call(0,b)},children:"-"}),(0,o.jsx)(m.Z,{min:a,max:u,value:c,onChange:function(B){var b;(b=r.onChange)===null||b===void 0||b.call(0,B)},controls:!1,style:{textAlign:"center"}}),(0,o.jsx)(s.Z,{type:"text",onClick:function(){var B,b=h(c+1);v(b),(B=r.onChange)===null||B===void 0||B.call(0,b)},children:"+"})]}),trigger:r.active?"hover":"click",children:[" ",(0,o.jsx)(x.Z,{active:r.active,imgSrc:r.imgSrc||"./pics/buttons/brush.png",onClick:r.onClick,children:r.children||"Brush"})]})};M.Z=O},63097:function(i,M,n){"use strict";var g=n(20136),C=n(55241),L=n(2824),m=n(67294),_=n(52822),s=n.n(_),P=n(63144),f=n(85893),x=function(t){var o=(0,m.useState)(t.color||"#FFF"),a=(0,L.Z)(o,2),u=a[0],e=a[1];return(0,m.useEffect)(function(){e(t.color||"#FFF")},[t]),t.changeable?(0,f.jsx)(C.Z,{getPopupContainer:function(O){return O.parentElement||document.body},overlayClassName:s().popover,openClassName:s().popoverOpenClassName,placement:"bottom",content:(0,f.jsx)(P.xS,{disableAlpha:!0,color:u,onChange:function(O){e(O.hex)},onChangeComplete:t.onChange}),trigger:"click",children:(0,f.jsx)("div",{className:s().roundBall,style:{backgroundColor:u}})}):(0,f.jsx)("div",{className:s().roundBall,style:{backgroundColor:u}})};M.Z=x},5041:function(i,M,n){"use strict";n.d(M,{Z:function(){return X}});var g=n(54421),C=n(38272),L=n(57663),m=n(71577),_=n(2824),s=n(67294),P=n(56131),f=n.n(P),x=n(49111),j=n(19650),t=n(11849),o=n(5882),a=n.n(o),u=n(63097),e=n(85893),h=function(d){var I=(0,t.Z)({},d.label),y=(0,s.useState)(I.invisible),F=(0,_.Z)(y,2),U=F[0],S=F[1],R=(0,e.jsx)(C.ZP.Item,{className:"".concat(a().listItem," ").concat(d.active?a().listItemActive:""),unselectable:"on",onClick:function(){d.onClick(I)},children:(0,e.jsxs)(j.Z,{align:"center",size:5,children:[(0,e.jsx)("a",{className:a().eye,style:{backgroundImage:U?"url(./pics/hide.png)":"url(./pics/show.png)"},onClick:function(){S(!U),d.onLabelModify(I)}})," ",I.name,(0,e.jsx)(u.Z,{color:I.color,changeable:!0,onChange:function(Z){I.color=Z.hex,d.onLabelModify(I)}})]})});return R},O=h,D=n(71194),r=n(50146),A=n(47673),l=n(24044),c=n(9715),v=n(93766),E=["#FF0000","#008000","#0000FF","#FFFF00","#FFA500","#00FFFF","#8B00FF","#FFC0CB","#7CFC00","#007FFF","#800080","#36BF36","#DAA520","#800000","#008B8B","#B22222","#E6D933","#000080","#FF00FF","#FFFF99","#87CEEB","#5C50E6","#CD5C5C","#20B2AA","#E680FF","#4D1F00","#006374","#B399FF","#8B4513","#BA55D3","#C0C0C0","#808080","#000000"],B=function(d){var I,y,F=(0,s.useState)(((I=d.defaultLabel)===null||I===void 0?void 0:I.color)||E[d.order||0]),U=(0,_.Z)(F,2),S=U[0],R=U[1];(0,s.useEffect)(function(){var T;R(((T=d.defaultLabel)===null||T===void 0?void 0:T.color)||E[d.order||0])},[d]);var N=v.Z.useForm(),Z=(0,_.Z)(N,1),K=Z[0];return(0,e.jsx)(r.Z,{title:"Add Label",visible:d.visible,onCancel:d.onCancel,footer:null,children:(0,e.jsxs)(v.Z,{form:K,name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!1,labelname:(y=d.defaultLabel)===null||y===void 0?void 0:y.name},onFinish:function(W){var Y={name:W.labelname,color:S};d.onLabelAdd(Y),K.resetFields()},autoComplete:"off",children:[(0,e.jsx)(v.Z.Item,{label:"Label Name",name:"labelname",rules:[{required:!0,message:"Please input label name!"}],children:(0,e.jsx)(l.Z,{})}),(0,e.jsx)(v.Z.Item,{label:"Select Color",name:"color",children:(0,e.jsx)(u.Z,{color:S,onChange:function(W){R(W.hex)}})}),(0,e.jsx)(v.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,e.jsxs)(j.Z,{children:[(0,e.jsx)(m.Z,{onClick:function(){var W;(W=d.onCancel)===null||W===void 0||W.call(0),K.resetFields()},children:"\u53D6\u6D88"}),(0,e.jsx)(m.Z,{type:"primary",htmlType:"submit",children:"\u786E\u5B9A"})]})})]})})},b=B,H=[{color:"#FF0000",name:"Label 1"},{color:"#008000",name:"Label 2"}],z=function(d){var I=(0,s.useState)(H),y=(0,_.Z)(I,2),F=y[0],U=y[1],S=(0,s.useState)(!1),R=(0,_.Z)(S,2),N=R[0],Z=R[1];return(0,s.useEffect)(function(){d.selectedLabel||d.onLabelSelect(F[0])},[F,d]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(C.ZP,{className:f().labelList,size:"large",header:(0,e.jsx)("div",{className:f().listHeader,children:"Label List"}),footer:(0,e.jsx)("div",{children:(0,e.jsx)(m.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",onClick:function(){Z(!0)},block:!0,children:"Add Label"})}),bordered:!0,dataSource:F,renderItem:function(T){var W;return(0,e.jsx)(O,{onClick:d.onLabelSelect,label:T,active:T.name==((W=d.selectedLabel)===null||W===void 0?void 0:W.name),onLabelDelete:d.onLabelDelete,onLabelModify:d.onLabelModify})}}),(0,e.jsx)(b,{order:F.length,visible:N,onLabelAdd:function(T){F.push(T),U(F),Z(!1)},onCancel:function(){Z(!1)}})]})},X=z},8088:function(i,M,n){"use strict";var g=n(67294),C=n(78677),L=n.n(C),m=n(85893),_=function(P){return(0,m.jsx)("div",{className:"".concat(L().container," ").concat(P.className),children:P.children})};M.Z=_},57436:function(i,M,n){"use strict";var g=n(2824),C=n(67294),L=n(65031),m=n(84420),_=n.n(m),s=n(83930),P=n.n(s),f=n(85893),x="./pics/basketball.jpg",j=function(o){var a=_()(x),u=(0,g.Z)(a,1),e=u[0],h=(e==null?void 0:e.width)||0,O=(e==null?void 0:e.height)||0;return(0,f.jsxs)(L.Hf,{width:h,height:O,className:P().stage,children:[(0,f.jsx)(L.mh,{children:(0,f.jsx)(L.Ee,{image:e})}),(0,f.jsxs)(L.mh,{onMouseDown:function(r){o.onMouseDown&&o.onMouseDown(r)},onMouseMove:function(r){o.onMouseMove&&o.onMouseMove(r)},onMouseUp:function(r){o.onMouseUp&&o.onMouseUp(r)},onContextMenu:function(r){r.evt.preventDefault()},children:[(0,f.jsx)(L.Ee,{image:e}),o.annotations.map(function(D,r){var A;return(A=D.lines)===null||A===void 0?void 0:A.map(function(l,c){return l.element})})]})]})};M.Z=j},44434:function(i,M,n){"use strict";var g=n(67294),C=n(80961),L=n.n(C),m=n(85893),_=function(P){return(0,m.jsx)("div",{className:L().toolbar,children:P.children})};M.Z=_},61541:function(i,M,n){"use strict";var g=n(49111),C=n(19650),L=n(67294),m=n(82499),_=n.n(m),s=n(85893),P=function(x){return(0,s.jsx)("div",{unselectable:"on",className:"".concat(_().toolBarButtonContainerWrapper," ").concat(x.active&&_().toolBarButtonContainerWrapperActive),onClick:x.onClick,children:(0,s.jsx)(C.Z,{align:"center",className:_().toolBarButtonContainer,size:0,children:(0,s.jsxs)(C.Z,{align:"center",direction:"vertical",className:_().toolBarButton,size:0,children:[(0,s.jsx)("img",{src:x.imgSrc}),(0,s.jsx)("div",{className:_().buttonText,children:x.children})]})})})};M.Z=P}}]);
