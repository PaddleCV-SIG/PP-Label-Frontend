(self.webpackChunkpp_label_frontend=self.webpackChunkpp_label_frontend||[]).push([[185],{88769:function(u){u.exports={createBtn:"createBtn___L_oKa"}},41180:function(u){u.exports={ppcard:"ppcard___27hGd",title:"title___22R8f"}},9238:function(u){u.exports={button:"button___3gM4r"}},70362:function(u){u.exports={card:"card___CFZWU",thumbnail:"thumbnail___1gIPM",button:"button___g0lkO"}},48627:function(u){u.exports={container:"container___2RXc3"}},17969:function(u){u.exports={col:"col___yKN-b"}},24141:function(u){u.exports={pagination:"pagination___1KJhU",pageSizeSelector:"pageSizeSelector___2XZ11"}},75534:function(u){u.exports={table:"table___BHQO2"}},31982:function(u,O,e){"use strict";var z=e(89032),v=e(15746),K=e(11849),M=e(13062),x=e(71230),g=e(11700),B=e(67294),Z=e(41180),I=e.n(Z),d=e(85893),T=function(h){return(0,d.jsxs)("div",{className:I().ppcard,style:h.style,children:[(0,d.jsx)(x.Z,{className:I().titleRow,style:{display:h.title?void 0:"none"},children:(0,d.jsx)(g.Z,{className:I().title,children:h.title})}),(0,d.jsx)(x.Z,{style:{marginTop:26},children:(0,d.jsx)(v.Z,{span:24,style:(0,K.Z)({paddingLeft:30,paddingRight:30,textAlign:"center"},h.innerStyle),children:h.children})})]})};O.Z=T},40318:function(u,O,e){"use strict";var z=e(57663),v=e(71577),K=e(48971),M=e(67294),x=e(70362),g=e.n(x),B=e(85893),Z=function(d){return(0,B.jsxs)("div",{className:g().card,style:{height:d.height,width:d.width},onClick:function(){return K.m8.push(d.href?d.href:"")},children:[(0,B.jsx)("img",{className:g().thumbnail,alt:d.wording||g().thumbnail,src:d.imgSrc,style:{height:d.height,width:d.width}}),(0,B.jsx)(v.Z,{className:g().button,style:{width:d.width},children:d.children})]})};O.Z=Z},11428:function(u,O,e){"use strict";var z=e(67294),v=e(48627),K=e.n(v),M=e(85893),x=function(B){return(0,M.jsx)("div",{className:"".concat(K().container),style:{backgroundImage:"url(./pics/background.png)"},children:B.children})};O.Z=x},52940:function(u,O,e){"use strict";var z=e(11849),v=e(89032),K=e(15746),M=e(2824),x=e(67294),g=e(17969),B=e.n(g),Z=e(85893),I=function(T){var D=(0,x.useState)(!1),h=(0,M.Z)(D,2),p=h[0],S=h[1];return(0,Z.jsx)(K.Z,(0,z.Z)((0,z.Z)({},T),{},{className:"".concat(B().col," ").concat(T.className),style:{zIndex:p?11:10,width:"100%"},onMouseOver:function(){S(!0)},onMouseLeave:function(){S(!1)},children:T.children}))};O.Z=I},3275:function(u,O,e){"use strict";e.r(O),e.d(O,{PROJECT_INFO_KEY:function(){return V},default:function(){return pe},refreshProject:function(){return Pe}});var z=e(57663),v=e(71577),K=e(13062),M=e(71230),x=e(89032),g=e(15746),B=e(49111),Z=e(19650),I=e(3182),d=e(94043),T=e.n(d),D=e(67294),h=e(11428),p=e(40318),S=e(31982),W=e(11849),te=e(8963),ne=e(34441),F=e(2824),ae=e(75534),re=e.n(ae),he=e(14781),se=e(40308),fe=e(43358),Q=e(34041),l=e(48971),ue=e(24141),G=e.n(ue),t=e(85893),b=Q.Z.Option;function de(R){var s=R.formatMessage({id:"component.PPTable.prev",defaultMessage:"Previous"}),f=R.formatMessage({id:"component.PPTable.next",defaultMessage:"Next"});return function(P,j,E){return j==="prev"?(0,t.jsx)(v.Z,{children:s}):j==="next"?(0,t.jsx)(v.Z,{children:f}):E}}var $=function(s){var f=s.totalNum,P=(0,D.useState)(s.pageSize||10),j=(0,F.Z)(P,2),E=j[0],C=j[1],m=(0,D.useState)(s.currentPage||1),N=(0,F.Z)(m,2),U=N[0],y=N[1];return(0,t.jsx)("div",{className:"".concat(G().pagination),children:(0,t.jsxs)(Z.Z,{align:"center",children:[(0,l.YB)().formatMessage({id:"component.PPTable.pageTotal"},{total:f,show:(0,t.jsxs)(Q.Z,{value:E+"",className:G().pageSizeSelector,onChange:function(A){C(parseInt(A)),s.onChange&&s.onChange(U,parseInt(A))},children:[(0,t.jsx)(b,{value:"10",children:"10"}),(0,t.jsx)(b,{value:"20",children:"20"}),(0,t.jsx)(b,{value:"30",children:"30"}),(0,t.jsx)(b,{value:"40",children:"40"}),(0,t.jsx)(b,{value:"50",children:"50"})]})}),(0,t.jsx)(se.Z,{className:G().pagination,current:U,pageSize:E,total:f,itemRender:de((0,l.YB)()),onChange:function(A,w){console.log("Pagination: ".concat(w,"/").concat(A)),y(A),s.onChange&&s.onChange(A,w)}})]})})},ge=$,H=function(s){var f,P=((f=s.dataSource)===null||f===void 0?void 0:f.length)||0,j=(0,D.useState)(10),E=(0,F.Z)(j,2),C=E[0],m=E[1],N=(0,D.useState)(1),U=(0,F.Z)(N,2),y=U[0],Y=U[1],A=s.dataSource,w=[];if(s.dataSource){var oe,ie,J=C*(y-1),ee=C;J+C>P&&(ee=P-J+1),A=(oe=s.dataSource)===null||oe===void 0?void 0:oe.slice(J,J+ee/2),w=(ie=s.dataSource)===null||ie===void 0?void 0:ie.slice(J+ee/2,J+ee)}return(0,t.jsxs)("div",{className:"".concat(re().table),children:[(0,t.jsxs)(M.Z,{children:[(0,t.jsx)(g.Z,{span:12,style:{borderRight:"0.063rem solid rgba(151,151,151,0.27)"},children:(0,t.jsx)(ne.Z,(0,W.Z)((0,W.Z)({},s),{},{dataSource:A,pagination:!1,rowSelection:void 0}))}),(0,t.jsx)(g.Z,{span:12,children:(0,t.jsx)(ne.Z,(0,W.Z)((0,W.Z)({},s),{},{dataSource:w,pagination:!1,rowSelection:void 0}))})]}),(0,t.jsx)(M.Z,{style:{marginTop:"1.75rem"},children:(0,t.jsx)(g.Z,{span:24,children:(0,t.jsx)(Z.Z,{align:"center",children:(0,t.jsx)(ge,{totalNum:P,pageSize:C,currentPage:y,onChange:function(le,ce){m(ce),(le-1)*ce>P?Y(1):Y(le),s.onChange&&s.onChange(le,ce)}})})})})]})},me=H,X=e(9238),k=e.n(X),_e=function(s){return(0,t.jsx)(v.Z,(0,W.Z)((0,W.Z)({},s),{},{style:{color:s.color,width:s.width,height:s.height,borderColor:s.color},className:"".concat(k().button),children:s.children}))},q=_e,n=e(49101),a=e(88769),i=e.n(a),o=function(s){return(0,t.jsx)(v.Z,{onClick:s.onClick,icon:(0,t.jsx)(n.Z,{}),size:"large",id:"".concat(i().createBtn),children:s.children})},r=o,c=e(52940),L=e(37071),ve=e(91156),_=e(64322),V="projectInfo",Pe=function(){var R=(0,I.Z)(T().mark(function s(f){var P,j,E;return T().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(P=f==null?L.Z.getQueryVariable("projectId"):f,P){m.next=5;break}return message.error("projectId isn't passed in nor present in url!"),l.m8.push("/"),m.abrupt("return");case 5:if(j=localStorage.getItem(V),!j){m.next=8;break}return m.abrupt("return",JSON.parse(j));case 8:return m.next=10,ve.F$.get(P);case 10:if(E=m.sent,E){m.next=15;break}return message.error("Cannot find project: ".concat(P,"!")),l.m8.push("/"),m.abrupt("return");case 15:return localStorage.setItem(V,JSON.stringify(E)),m.abrupt("return",E);case 17:case"end":return m.stop()}},s)}));return function(f){return R.apply(this,arguments)}}(),je=function(){var s=(0,l.YB)().formatMessage({id:"pages.welcome.edit"}),f=(0,l.YB)().formatMessage({id:"pages.welcome.label"}),P=(0,l.YB)().formatMessage({id:"pages.welcome.deleted"}),j=(0,l.YB)().formatMessage({id:"pages.welcome.myProjects"}),E=(0,l.YB)().formatMessage({id:"pages.welcome.createProject"});console.log("render projects");var C=(0,_.Gd)(D.useState);(0,D.useEffect)(function(){C.getAll()},[]);var m=[{title:"ID",dataIndex:"projectId",key:"projectId",width:"4.5rem",align:"center",render:function(U){return(0,t.jsx)(t.Fragment,{children:U})}},{title:"Name",dataIndex:"name",key:"projectId"},{title:"Actions",key:"projectId",width:"15rem",align:"center",render:function(U,y){return(0,t.jsxs)(Z.Z,{size:"middle",children:[(0,t.jsx)(q,{width:"4.375rem",height:"1.875rem",color:"rgba(241,162,0,1)",onClick:function(){l.m8.push("/project_detail?taskCategory=".concat(y.taskCategory.name,"&projectId=").concat(y.projectId))},children:s}),(0,t.jsx)(q,{width:"4.375rem",height:"1.875rem",color:"rgba(0,100,248,1)",onClick:function(){l.m8.push("/".concat(y.taskCategory.name,"?projectId=").concat(y.projectId))},children:f}),(0,t.jsx)(q,{width:"4.375rem",height:"1.875rem",color:"rgba(207,63,0,1)",onClick:function(){return C.remove(y)},children:P})]})}}];return C.all?(0,t.jsx)(M.Z,{style:{marginTop:20},children:(0,t.jsx)(g.Z,{span:24,children:(0,t.jsx)(S.Z,{title:j,children:(0,t.jsx)(me,{columns:m,dataSource:(0,_.gu)(C.all),showHeader:!1})})})}):(0,t.jsx)(M.Z,{style:{marginTop:20},children:(0,t.jsx)(g.Z,{span:24,children:(0,t.jsx)(S.Z,{title:j,children:(0,t.jsx)(r,{onClick:function(){l.m8.push("/project_creation")},children:E})})})})},Ee=function(){var s=(0,l.YB)().formatMessage({id:"pages.welcome.createProject"}),f=(0,l.YB)().formatMessage({id:"pages.welcome.sampleProject"}),P=(0,l.YB)().formatMessage({id:"pages.welcome.imageClassification"}),j=(0,l.YB)().formatMessage({id:"pages.welcome.objectDetection"}),E=(0,l.YB)().formatMessage({id:"pages.welcome.instanceSegmentation"}),C=(0,l.YB)().formatMessage({id:"pages.welcome.semanticSegmentation"}),m=(0,l.YB)().formatMessage({id:"pages.welcome.keypointDetection"}),N=(0,l.YB)().formatMessage({id:"pages.welcome.trainingKnowledge"}),U=(0,l.YB)().formatMessage({id:"pages.welcome.paddleClas"}),y=(0,l.YB)().formatMessage({id:"pages.welcome.paddleDet"}),Y=(0,l.YB)().formatMessage({id:"pages.welcome.paddleSeg"}),A=(0,l.YB)().formatMessage({id:"pages.welcome.paddleX"});return(0,t.jsxs)(h.Z,{children:[(0,t.jsx)(M.Z,{gutter:[20,20],children:(0,t.jsx)(g.Z,{span:24,children:(0,t.jsx)(r,{onClick:function(){l.m8.push("/project_creation")},children:s})})}),(0,t.jsxs)(M.Z,{gutter:[20,20],style:{marginTop:20},children:[(0,t.jsx)(g.Z,{span:17,children:(0,t.jsx)(S.Z,{title:f,style:{height:430},children:(0,t.jsxs)(M.Z,{children:[(0,t.jsx)(c.Z,{span:4,children:(0,t.jsx)(p.Z,{imgSrc:"./pics/classification.jpg",children:P})}),(0,t.jsx)(c.Z,{span:4,children:(0,t.jsx)(p.Z,{imgSrc:"./pics/object_detection.jpg",children:j})}),(0,t.jsx)(c.Z,{span:4,children:(0,t.jsx)(p.Z,{imgSrc:"./pics/instance_segmentation.jpg",children:E})}),(0,t.jsx)(c.Z,{span:4,children:(0,t.jsx)(p.Z,{imgSrc:"./pics/semantic_segmentation.jpg",children:C})}),(0,t.jsx)(c.Z,{span:4,children:(0,t.jsx)(p.Z,{imgSrc:"./pics/keypoint_detection.jpg",children:m})})]})})}),(0,t.jsx)(g.Z,{span:7,children:(0,t.jsx)(S.Z,{title:N,style:{height:430},children:(0,t.jsxs)(Z.Z,{direction:"vertical",style:{width:"100%"},size:10,children:[(0,t.jsx)(v.Z,{type:"primary",style:{height:"3.125rem"},block:!0,children:U}),(0,t.jsx)(v.Z,{type:"primary",style:{height:"3.125rem"},block:!0,children:y}),(0,t.jsx)(v.Z,{type:"primary",style:{height:"3.125rem"},block:!0,children:Y}),(0,t.jsx)(v.Z,{type:"primary",style:{height:"3.125rem"},block:!0,children:A})]})})})]}),je()]})},pe=Ee},91156:function(u,O,e){"use strict";e.d(O,{F$:function(){return p},LV:function(){return re},ux:function(){return se}});var z=e(34792),v=e(94043),K=e.n(v),M=e(37071),x=e(9992),g=e(63891),B=e(13868),Z=e(70676),I=e(54919),d=e(6276),T=e(59124),D=localStorage.getItem("basePath"),h=new x.VK(D?{basePath:D}:void 0),p=new g.U(h),S=new B.v(h),W=new I.W(h),te=new d.s(h),ne=new T.C(h);function F(n){return JSON.parse(JSON.stringify(n))}var ae=function(a,i,o){if(!o)return-1;for(var r=0;r<i.length;r++)if(a[o]==i[r][o])return r;return-1};function re(n){return n&&n.replace(/[A-Z]/g,function(a){return"_".concat(a.toLowerCase())})}function he(n){return n&&(n.toLowerCase().replace(/([-_][a-z])/g,function(a){return a.toUpperCase().replace("-","").replace("_","")}),n)}var se={classification:{name:"Image Classification",avatar:"./pics/classification.jpg",id:1},detection:{name:"Detection",avatar:"./pics/object_detection.jpg",id:2},semanticSegmentation:{name:"Semantic Segmentation",avatar:"./pics/semantic_segmentation.jpg",id:3},instanceSegmentation:{name:"Instance Segmentation",avatar:"./pics/instance_segmentation.jpg",id:4},keypointDetection:{name:"Keypoint Detection",avatar:"./pics/keypoint_detection.jpg",id:5}},fe=function(a,i){var o=_toConsumableArray(a);for(var r in a)o[r].active=!1;for(var c in a)ae(a[c],i,"labelId")!=-1&&(o[c].active=!0);return console.log("activa labs",o),o};function Q(n){return l.apply(this,arguments)}function l(){return l=_asyncToGenerator(_regeneratorRuntime.mark(function n(a){return _regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:p.getAll().then(function(r){console.log("get all projects",F(r)),a(F(r))}).catch(function(r){serviceUtils.parseError(r,_message)});case 1:case"end":return o.stop()}},n)})),l.apply(this,arguments)}function ue(n){return G.apply(this,arguments)}function G(){return G=_asyncToGenerator(_regeneratorRuntime.mark(function n(a){var i,o=arguments;return _regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:i=o.length>1&&o[1]!==void 0?o[1]:null,console.log("get project id ",a),p.get(a).then(function(L){return console.log("getProject res",L),i&&i(L),L}).catch(function(L){console.log("getProject err",L),serviceUtils.parseError(L,_message)});case 3:case"end":return c.stop()}},n)})),G.apply(this,arguments)}function t(n,a){return b.apply(this,arguments)}function b(){return b=_asyncToGenerator(_regeneratorRuntime.mark(function n(a,i){return _regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:console.log("delete pj, pjid",a),p.remove(a).then(function(c){console.log("delete project",c),Q(i)}).catch(function(c){console.log(c),serviceUtils.parseError(c,_message)});case 2:case"end":return r.stop()}},n)})),b.apply(this,arguments)}function de(n){return $.apply(this,arguments)}function $(){return $=_asyncToGenerator(_regeneratorRuntime.mark(function n(a){return _regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:te.getAll().then(function(r){console.log("got tasks",r),a&&a(r)}).catch(function(r){console.log("get tasks err",r),serviceUtils.parseError(r,_message)});case 1:case"end":return o.stop()}},n)})),$.apply(this,arguments)}function ge(n,a){return H.apply(this,arguments)}function H(){return H=_asyncToGenerator(_regeneratorRuntime.mark(function n(a,i){return _regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:console.log("get task id",a),te.get(a).then(function(c){console.log("got task ",c),i&&i(c)});case 2:case"end":return r.stop()}},n)})),H.apply(this,arguments)}function me(n){return X.apply(this,arguments)}function X(){return X=_asyncToGenerator(_regeneratorRuntime.mark(function n(a){var i,o,r,c,L;return _regeneratorRuntime.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(a){_.next=2;break}return _.abrupt("return",0);case 2:return _.prev=2,_.next=5,p.getTasks(a);case 5:i=_.sent,o=0,r=_createForOfIteratorHelper(i);try{for(r.s();!(c=r.n()).done;)L=c.value,L.annotations.length!=0&&o++}catch(V){r.e(V)}finally{r.f()}return console.log("progress",Math.ceil(o/i.length*100)),_.abrupt("return",Math.ceil(o/i.length*100));case 13:return _.prev=13,_.t0=_.catch(2),console.log("get progress err",_.t0),serviceUtils.parseError(_.t0,_message),_.abrupt("return",0);case 18:case"end":return _.stop()}},n,null,[[2,13]])})),X.apply(this,arguments)}function k(n,a){console.log("getLabels projectid",n),!!n&&p.getLabels(n).then(function(i){console.log("got labels ",i),a(F(i))}).catch(function(i){serviceUtils.parseError(i,_message)})}function _e(n,a,i){var o=LabelFromJSON(a);o.projectId=n,S.create(o).then(function(){k(n,i)}).catch(function(r){serviceUtils.parseError(r,_message)})}function q(n,a){console.log("delete label",n),S.remove(n.labelId).then(function(){_message.error("Label "+n.name+" is deleted!"),k(n.projectId,a)}).catch(function(i){serviceUtils.parseError(i,_message)})}}}]);
