(self.webpackChunkpp_label_frontend=self.webpackChunkpp_label_frontend||[]).push([[672],{41435:function(v,l,e){"use strict";e.d(l,{Z:function(){return O}});var r=e(94663),g=e(80112);function W(A){return Function.toString.call(A).indexOf("[native code]")!==-1}var U=e(18597);function h(A,i,B){return(0,U.Z)()?h=Reflect.construct:h=function(C,E,d){var M=[null];M.push.apply(M,E);var Z=Function.bind.apply(C,M),c=new Z;return d&&(0,g.Z)(c,d.prototype),c},h.apply(null,arguments)}function O(A){var i=typeof Map=="function"?new Map:void 0;return O=function(o){if(o===null||!W(o))return o;if(typeof o!="function")throw new TypeError("Super expression must either be null or a function");if(typeof i!="undefined"){if(i.has(o))return i.get(o);i.set(o,C)}function C(){return h(o,arguments,(0,r.Z)(this).constructor)}return C.prototype=Object.create(o.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),(0,g.Z)(C,o)},O(A)}},6277:function(v){v.exports={modal:"modal___26yNn"}},45092:function(v){v.exports={modal:"modal___1H_FQ"}},73199:function(){},85871:function(v,l,e){"use strict";var r=e(71194),g=e(50146),W=e(49111),U=e(19650),h=e(57663),O=e(71577),A=e(13062),i=e(71230),B=e(89032),o=e(15746),C=e(77883),E=e(70507),d=e(34792),M=e(48086),Z=e(9715),c=e(93766),I=e(2824),_=e(67294),F=e(48971),$=e(6277),t=e.n($),a=e(85893),z=function(D){var n=(0,F.YB)(),K=(0,_.useState)(60),x=(0,I.Z)(K,2),p=x[0],R=x[1],f=(0,_.useState)(20),m=(0,I.Z)(f,2),u=m[0],P=m[1],G=(0,_.useState)(20),Y=(0,I.Z)(G,2),y=Y[0],H=Y[1],J=(0,_.useState)(!1),S=(0,I.Z)(J,2),X=S[0],N=S[1],k=n.formatMessage({id:"pages.toolBar.divideData"}),V=n.formatMessage({id:"component.PPDivideDataModal.train"}),L=n.formatMessage({id:"component.PPDivideDataModal.validation"}),w=n.formatMessage({id:"component.PPDivideDataModal.test"}),q=n.formatMessage({id:"component.PPCreater.cancel"}),ee=n.formatMessage({id:"component.PPSegMode.ok"}),te=c.Z.useForm(),ae=(0,I.Z)(te,1),Q=ae[0];return(0,a.jsx)(g.Z,{className:t().modal,title:k,visible:D.visible,onCancel:D.onCancel,footer:null,children:(0,a.jsxs)(c.Z,{form:Q,name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!1},onFinish:function(){if(p+u+y!=100){M.default.error("Train, Validation and Test total percent should equal 100!");return}console.log("x trainData: ".concat(p,", validationData: ").concat(u,", testData: ").concat(y,", props.project.curr.projectId: ").concat(D.project.curr.projectId)),N(!0),D.splitDataset(D.project.curr.projectId,{train:p*.01,val:u*.01,test:y*.01}).then(function(){var T;console.log("success"),M.default.success(n.formatMessage({id:"component.PPDivideDataModal.success"})),(T=D.onFinish)===null||T===void 0||T.call(0)}).finally(function(){N(!1)})},autoComplete:"off",layout:"vertical",children:[(0,a.jsxs)(i.Z,{children:[(0,a.jsx)(o.Z,{span:8,children:(0,a.jsx)(c.Z.Item,{label:V,name:"train",children:(0,a.jsx)(E.Z,{addonAfter:"%",defaultValue:60,precision:0,min:0,max:100,value:p,onChange:R})})}),(0,a.jsx)(o.Z,{span:8,children:(0,a.jsx)(c.Z.Item,{label:L,name:"validation",children:(0,a.jsx)(E.Z,{addonAfter:"%",defaultValue:20,precision:0,min:0,max:100,value:u,onChange:P})})}),(0,a.jsx)(o.Z,{span:8,children:(0,a.jsx)(c.Z.Item,{label:w,name:"test",children:(0,a.jsx)(E.Z,{addonAfter:"%",defaultValue:20,precision:0,min:0,max:100,value:y,onChange:H})})})]}),(0,a.jsx)(c.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,a.jsxs)(U.Z,{children:[(0,a.jsx)(O.Z,{onClick:function(){var T;(T=D.onCancel)===null||T===void 0||T.call(0),Q.resetFields()},children:q}),(0,a.jsx)(O.Z,{type:"primary",htmlType:"submit",loading:X,children:ee})]})})]})})};l.Z=z},62850:function(v,l,e){"use strict";var r=e(71194),g=e(50146),W=e(49111),U=e(19650),h=e(57663),O=e(71577),A=e(47673),i=e(24044),B=e(34792),o=e(48086),C=e(9715),E=e(93766),d=e(2824),M=e(67294),Z=e(48971),c=e(45092),I=e.n(c),_=e(85893),F=function(t){var a=(0,Z.YB)(),z=(0,M.useState)(!1),j=(0,d.Z)(z,2),D=j[0],n=j[1],K=a.formatMessage({id:"component.PPCreater.cancel"}),x=E.Z.useForm(),p=(0,d.Z)(x,1),R=p[0];return(0,_.jsx)(g.Z,{className:I().modal,title:a.formatMessage({id:"component.PPExportModal.title"}),visible:t.visible,onCancel:t.onCancel,footer:null,children:(0,_.jsxs)(E.Z,{form:R,name:"basic",labelCol:{span:6},wrapperCol:{span:16},initialValues:{remember:!1},onFinish:function(m){console.log(m);var u=m.path;if(!u){o.default.error(a.formatMessage({id:"component.PPExportModal.pathNotNull"}));return}n(!0),t.exportDataset(t.project.curr.projectId,u).then(function(){var P;o.default.success(a.formatMessage({id:"component.PPExportModal.exportSuccess"})),(P=t.onFinish)===null||P===void 0||P.call(0)}).finally(function(){n(!1)})},autoComplete:"off",children:[(0,_.jsx)(E.Z.Item,{label:a.formatMessage({id:"component.PPExportModal.path"}),name:"path",children:(0,_.jsx)(i.Z,{})}),(0,_.jsx)(E.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,_.jsxs)(U.Z,{children:[(0,_.jsx)(O.Z,{onClick:function(){var m;(m=t.onCancel)===null||m===void 0||m.call(0),R.resetFields()},children:K}),(0,_.jsx)(O.Z,{type:"primary",htmlType:"submit",loading:D,children:a.formatMessage({id:"component.PPExportModal.export"})})]})})]})})};l.Z=F},29214:function(v,l,e){"use strict";e.r(l);var r=e(8870),g=e(20228),W=e(11382),U=e(34669),h=e(54458),O=e(34792),A=e(48086),i=e(2824),B=e(67294),o=e(73199),C=e.n(o),E=e(8088),d=e(61541),M=e(44434),Z=e(5041),c=e(57436),I=e(72384),_=e(48971),F=e(85871),$=e(62850),t=e(85893),a=function(){var j,D=(0,I.$L)(B.useState,B.useEffect,{label:{oneHot:!1,postSetCurr:T},tool:{defaultTool:"mover"},effectTrigger:{postTaskChange:oe}}),n=(0,i.Z)(D,10),K=n[0],x=n[1],p=n[2],R=n[3],f=n[4],m=n[5],u=n[6],P=n[7],G=n[8],Y=n[9],y=(0,B.useState)(!1),H=(0,i.Z)(y,2),J=H[0],S=H[1],X=(0,B.useState)(!1),N=(0,i.Z)(X,2),k=N[0],V=N[1],L=(0,_.YB)(),w=L.formatMessage({id:"pages.toolBar.zoomIn"}),q=L.formatMessage({id:"pages.toolBar.zoomOut"}),ee=L.formatMessage({id:"pages.toolBar.move"}),te=L.formatMessage({id:"pages.toolBar.save"}),ae=L.formatMessage({id:"pages.toolBar.autoSave"}),Q=L.formatMessage({id:"pages.toolBar.divideData"}),ne=L.formatMessage({id:"pages.toolBar.export"});function T(s){if(P.isActive(s))R.create({taskId:f.curr.taskId,labelId:s.labelId,dataId:m.curr.dataId});else{var b=R.all.filter(function(se){return se.labelId==s.labelId})[0];R.remove(b.annotationId)}}function oe(s,b){x.setCurr(!0),!(!s||!b)&&(P.initActive(b),x.setCurr(!1))}return(0,t.jsxs)(E.Z,{className:C().classes,children:[(0,t.jsxs)(M.Z,{children:[(0,t.jsx)(d.Z,{imgSrc:"./pics/buttons/zoom_in.png",onClick:function(){p.change(.1)},children:w}),(0,t.jsx)(d.Z,{imgSrc:"./pics/buttons/zoom_out.png",onClick:function(){p.change(-.1)},children:q}),(0,t.jsx)(d.Z,{imgSrc:"./pics/buttons/save.png",onClick:function(){A.default.success(ae)},children:te}),(0,t.jsx)(d.Z,{imgSrc:"./pics/buttons/move.png",active:K.curr=="mover",onClick:function(){K.setCurr("mover")},children:ee})]}),(0,t.jsx)("div",{id:"dr",className:"mainStage",children:(0,t.jsxs)(W.Z,{tip:"loading",spinning:x.curr,children:[(0,t.jsx)("div",{className:"draw",children:(0,t.jsx)(c.Z,{scale:p.curr,currentTool:K.curr,setCurrentAnnotation:function(){},onAnnotationModify:function(){},onAnnotationModifyComplete:function(){},imgSrc:m.imgSrc})}),(0,t.jsx)("div",{className:"pblock",children:(0,t.jsxs)("div",{className:"progress",children:[(0,t.jsx)(h.Z,{className:"progressBar",percent:u.progress,status:"active",showInfo:!1})," ",(0,t.jsxs)("span",{className:"progressDesc",children:["Current labeling ",f.currIdx==null?1:f.currIdx+1," of"," ",(j=f.all)===null||j===void 0?void 0:j.length,". Already labeled ",f.finished(u.progress)||0,"."]})]})}),(0,t.jsx)("div",{className:"prevTask",onClick:f.prevTask}),(0,t.jsx)("div",{className:"nextTask",onClick:f.nextTask})]})}),(0,t.jsxs)(M.Z,{disLoc:"right",children:[(0,t.jsx)(d.Z,{imgSrc:"./pics/buttons/data_division.png",onClick:function(){S(!0)},children:Q}),(0,t.jsx)(d.Z,{imgSrc:"./pics/buttons/export.png",onClick:function(){V(!0)},children:ne})]}),(0,t.jsx)("div",{className:"rightSideBar",children:(0,t.jsx)(Z.Z,{labels:P.all,activeIds:P.activeIds,onLabelSelect:P.onSelect,onLabelAdd:function(b){return P.create((0,r.Z)((0,r.Z)({},b),{},{projectId:u.curr.projectId}))},onLabelDelete:P.remove,onLabelModify:function(){},hideColorPicker:!0,hideEye:!0})}),(0,t.jsx)(F.Z,{visible:J,splitDataset:G,project:u,onCancel:function(){S(!1)},onFinish:function(){S(!1)}}),(0,t.jsx)($.Z,{visible:k,exportDataset:Y,project:u,onCancel:function(){V(!1)},onFinish:function(){V(!1)}})]})};l.default=a},15746:function(v,l,e){"use strict";var r=e(21584);l.Z=r.Z},89032:function(v,l,e){"use strict";var r=e(38663),g=e.n(r),W=e(6999)},71230:function(v,l,e){"use strict";var r=e(92820);l.Z=r.Z},13062:function(v,l,e){"use strict";var r=e(38663),g=e.n(r),W=e(6999)}}]);
