(self.webpackChunkpp_label_frontend=self.webpackChunkpp_label_frontend||[]).push([[583],{85024:function(p){p.exports={listItem:"listItem___u4Q82",eye:"eye___BwaRm",delete:"delete___31JB_",roundBall:"roundBall___23A7l",popover:"popover___1BNET",annotationId:"annotationId___zAzX4",labelName:"labelName___2ohxn",listItemActive:"listItemActive___2QnA3"}},56159:function(p){p.exports={labelList:"labelList___v7C6K",listHeader:"listHeader___1aY8R",eye:"eye___2MKbp",roundBall:"roundBall___187XH"}},26647:function(p){p.exports={toolBarButtonContainerWrapper:"toolBarButtonContainerWrapper___1FTWb",toolBarButtonContainer:"toolBarButtonContainer___1Vahn",toolBarButton:"toolBarButton___3mR2H",buttonText:"buttonText___Y0WDm",toolBarButtonContainerWrapperActive:"toolBarButtonContainerWrapperActive___3lRZ8",popover:"popover___3zzu2",slider:"slider___ALra-",popoverLeft:"popoverLeft___15lGe"}},6277:function(p){p.exports={modal:"modal___26yNn"}},45092:function(p){p.exports={modal:"modal___1H_FQ"}},8978:function(p,$,n){"use strict";n.d($,{Z:function(){return q}});var H=n(8870),X=n(2824),tn=n(91220),k=n(67294),z=n(85893);function f(t){if(!t||!t.width||!t.color||!t.points||t.points.length<2||t.frontendId==null)return"";var v=t.type=="rubber"?0:t.frontendId;return"".concat(t.width,",").concat(v,",").concat(t.points.join(","))}function d(t){var v,a=t.canvasRef,u=t.annotation,s=u.result;if(!s)return(0,z.jsx)(z.Fragment,{});var E=(v=a.current)===null||v===void 0?void 0:v.getContext("2d");if(!E)return(0,z.jsx)(z.Fragment,{});for(var h=[],C=0,r=0;r<s.length;r++)s.at(r)==","?(h.push(parseFloat(s.slice(C,r))),C=r+1):s.at(r)=="|"?(h.push(parseFloat(s.slice(C,r))),P(h,E,u),h=[],C=r+1):r==s.length-1&&(h.push(parseFloat(s.slice(C,s.length))),P(h,E,u));return(0,z.jsx)(z.Fragment,{})}function P(t,v,a){var u;if(t.length<4){console.log("found incorrect points:",t);return}var s=t[0],E=t[1];if(s==0){var h;R(v,t.slice(2),(h=a.label)===null||h===void 0?void 0:h.color);return}if(E==0){x(v,s,t.slice(2),void 0);return}x(v,s,t.slice(2),(u=a.label)===null||u===void 0?void 0:u.color)}function x(t,v,a,u){t.beginPath(),t.moveTo(a[0],a[1]);for(var s=0;s<=a.length/2-1;s++){var E=a[2*s],h=a[2*s+1];t.lineTo(E,h)}t.lineCap="round",t.lineJoin="round",t.lineWidth=v,u&&(t.strokeStyle=u),t.globalCompositeOperation=u?"source-over":"destination-out",t.stroke()}function R(t,v,a){t.globalCompositeOperation=a?"source-over":"destination-out",a&&(t.fillStyle=a);for(var u=0;u<=v.length/2-1;u++){var s=v[2*u],E=v[2*u+1];t.fillRect(s,E,1,1)}}function Y(t){if(!t||t.length==0)return 0;var v=0,a=(0,tn.Z)(t),u;try{for(a.s();!(u=a.n()).done;){var s=u.value;s.frontendId>v&&(v=s.frontendId)}}catch(E){a.e(E)}finally{a.f()}return v}function U(t,v){return t=="rubber"||v==2?"rubber":"brush"}function q(t){var v=(0,k.useState)(),a=(0,X.Z)(v,2),u=a[0],s=a[1],E=function(_){var m,D;if(!(t.currentTool!="brush"&&t.currentTool!="rubber"||!((m=t.currentLabel)!==null&&m!==void 0&&m.color)||!t.brushSize)){var o=_.mouseX,T=_.mouseY,L=U(t.currentTool,_.e.evt.button),M=t.frontendIdOps.frontendId>0?t.frontendIdOps.frontendId:Y(t.annotations)+1;M!=t.frontendIdOps.frontendId&&t.frontendIdOps.setFrontendId(M);var b=f({width:t.brushSize||10,color:(D=t.currentLabel)===null||D===void 0?void 0:D.color,points:[o,T,o,T],type:L,frontendId:M});if(console.log(b),!!b){s(L);var O={dataId:t.dataId,label:t.currentLabel,frontendId:M,result:b};t.onAnnotationAdd(O)}}},h=function(_){var m;if(!(!u||!t.currentAnnotation||!t.currentAnnotation.result||t.currentAnnotation.result.length<2||!((m=t.currentLabel)!==null&&m!==void 0&&m.color))){var D=_.mouseX,o=_.mouseY,T=t.currentAnnotation.result+",".concat(D,",").concat(o);t.onAnnotationModify((0,H.Z)((0,H.Z)({},t.currentAnnotation),{},{result:T}))}},C=function(){t.currentTool!="brush"&&t.currentTool!="rubber"||(s(void 0),t.onMouseUp())};return{onMouseDown:E,onMouseMove:h,onMouseUp:C,drawAnnotation:d}}},14836:function(p,$,n){"use strict";n.d($,{Z:function(){return C}});var H=n(54421),X=n(38272),tn=n(57663),k=n(71577),z=n(91220),f=n(67294),d=n(56159),P=n.n(d),x=n(49111),R=n(19650),Y=n(2824),U=n(8870),q=n(85024),t=n.n(q),v=n(63097),a=n(85893),u=function(_){var m=(0,U.Z)({},_.annotation),D=(0,f.useState)(m.invisible),o=(0,Y.Z)(D,2),T=o[0],L=o[1],M=(0,f.useState)(0),b=(0,Y.Z)(M,2),O=b[0],S=b[1];(0,f.useEffect)(function(){L(_.annotation.invisible)},[_.annotation.invisible]);var I=(0,a.jsxs)(X.ZP.Item,{className:"".concat(t().listItem," ").concat(_.active?t().listItemActive:""),unselectable:"on",onClick:function(){_.onClick(m)},children:[(0,a.jsxs)(R.Z,{align:"center",size:5,children:[(0,a.jsx)("a",{className:t().eye,style:{backgroundImage:T?"url(./pics/hide.png)":"url(./pics/show.png)"},onClick:function(l){l.stopPropagation(),L(!T),_.onAnnotationModify(m)}})," ",(0,a.jsx)("span",{className:t().annotationId,children:m.frontendId}),(0,a.jsx)("span",{className:t().labelName,children:m.label.name}),(0,a.jsx)(v.Z,{color:m.label.color})]}),(0,a.jsx)("a",{className:t().delete,onClick:function(l){l.stopPropagation();var g=new Date().getTime();g-O<300||(S(g),_.onAnnotationDelete(m))}})]});return I},s=u,E=n(48971),h=function(_){var m=(0,E.YB)(),D=m.formatMessage({id:"component.PPAnnotationList.annotationList"}),o=m.formatMessage({id:"component.PPAnnotationList.addAnnotation"}),T=new Set,L=[],M=(0,z.Z)(_.annotations),b;try{for(M.s();!(b=M.n()).done;){var O=b.value;T.has(O.frontendId)||(L.push(O),T.add(O.frontendId))}}catch(S){M.e(S)}finally{M.f()}return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(X.ZP,{className:P().labelList,size:"large",header:(0,a.jsx)("div",{className:P().listHeader,children:D}),bordered:!0,dataSource:L,renderItem:function(I){var e;return(0,a.jsx)(s,{onClick:_.onAnnotationSelect,annotation:I,active:I.frontendId==((e=_.currAnnotation)===null||e===void 0?void 0:e.frontendId),onAnnotationDelete:_.onAnnotationDelete,onAnnotationModify:_.onAnnotationModify})},footer:(0,a.jsx)("div",{children:(0,a.jsx)(k.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",onClick:function(){_.onAnnotationAdd()},block:!0,children:o})})})})},C=h},27992:function(p,$,n){"use strict";var H=n(20136),X=n(55241),tn=n(13062),k=n(71230),z=n(77883),f=n(70507),d=n(89032),P=n(15746),x=n(66126),R=n(75454),Y=n(2824),U=n(67294),q=n(61541),t=n(26647),v=n.n(t),a=n(85893),u=0,s=100,E=10,h=function(r){var _=(0,U.useState)(b(r.size)),m=(0,Y.Z)(_,2),D=m[0],o=m[1];function T(O){o(b(O))}var L=r.minSize==null?u:r.minSize,M=r.maxSize==null?s:r.maxSize;function b(O){return O==null?E:O<=L?L:O>=M?M:O}return(0,U.useEffect)(function(){T(r.size)},[r.size]),(0,a.jsxs)(X.Z,{overlayClassName:"".concat(v().popover," ").concat(r.disLoc=="left"?v().popoverLeft:""),placement:r.disLoc||"right",content:(0,a.jsxs)(k.Z,{children:[(0,a.jsx)(P.Z,{span:16,children:(0,a.jsx)(R.Z,{className:v().slider,value:D,max:M,min:L,onChange:function(S){var I;(I=r.onChange)===null||I===void 0||I.call(0,S)},tooltipVisible:!1})}),(0,a.jsx)(P.Z,{span:8,children:(0,a.jsx)(f.Z,{min:L,max:M,value:D,onChange:function(S){var I;(I=r.onChange)===null||I===void 0||I.call(0,S)},step:10})})]}),trigger:"hover",children:[" ",(0,a.jsx)(q.Z,{imgSrc:r.imgSrc||"",onClick:r.onClick,active:r.active,children:r.children})]})};$.Z=h},85871:function(p,$,n){"use strict";var H=n(71194),X=n(50146),tn=n(49111),k=n(19650),z=n(57663),f=n(71577),d=n(13062),P=n(71230),x=n(89032),R=n(15746),Y=n(77883),U=n(70507),q=n(34792),t=n(48086),v=n(9715),a=n(93766),u=n(2824),s=n(67294),E=n(48971),h=n(6277),C=n.n(h),r=n(85893),_=function(D){var o=(0,E.YB)(),T=(0,s.useState)(60),L=(0,u.Z)(T,2),M=L[0],b=L[1],O=(0,s.useState)(20),S=(0,u.Z)(O,2),I=S[0],e=S[1],l=(0,s.useState)(20),g=(0,u.Z)(l,2),A=g[0],j=g[1],W=(0,s.useState)(!1),K=(0,u.Z)(W,2),Q=K[0],F=K[1],V=o.formatMessage({id:"pages.toolBar.divideData"}),B=o.formatMessage({id:"component.PPDivideDataModal.train"}),en=o.formatMessage({id:"component.PPDivideDataModal.validation"}),an=o.formatMessage({id:"component.PPDivideDataModal.test"}),w=o.formatMessage({id:"component.PPCreater.cancel"}),on=o.formatMessage({id:"component.PPSegMode.ok"}),y=a.Z.useForm(),J=(0,u.Z)(y,1),ln=J[0];return(0,r.jsx)(X.Z,{className:C().modal,title:V,visible:D.visible,onCancel:D.onCancel,footer:null,children:(0,r.jsxs)(a.Z,{form:ln,name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!1},onFinish:function(){if(M+I+A!=100){t.default.error("Train, Validation and Test total percent should equal 100!");return}console.log("x trainData: ".concat(M,", validationData: ").concat(I,", testData: ").concat(A,", props.project.curr.projectId: ").concat(D.project.curr.projectId)),F(!0),D.splitDataset(D.project.curr.projectId,{train:M*.01,val:I*.01,test:A*.01}).then(function(){var G;console.log("success"),t.default.success(o.formatMessage({id:"component.PPDivideDataModal.success"})),(G=D.onFinish)===null||G===void 0||G.call(0)}).finally(function(){F(!1)})},autoComplete:"off",layout:"vertical",children:[(0,r.jsxs)(P.Z,{children:[(0,r.jsx)(R.Z,{span:8,children:(0,r.jsx)(a.Z.Item,{label:B,name:"train",children:(0,r.jsx)(U.Z,{addonAfter:"%",defaultValue:60,precision:0,min:0,max:100,value:M,onChange:b})})}),(0,r.jsx)(R.Z,{span:8,children:(0,r.jsx)(a.Z.Item,{label:en,name:"validation",children:(0,r.jsx)(U.Z,{addonAfter:"%",defaultValue:20,precision:0,min:0,max:100,value:I,onChange:e})})}),(0,r.jsx)(R.Z,{span:8,children:(0,r.jsx)(a.Z.Item,{label:an,name:"test",children:(0,r.jsx)(U.Z,{addonAfter:"%",defaultValue:20,precision:0,min:0,max:100,value:A,onChange:j})})})]}),(0,r.jsx)(a.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,r.jsxs)(k.Z,{children:[(0,r.jsx)(f.Z,{onClick:function(){var G;(G=D.onCancel)===null||G===void 0||G.call(0),ln.resetFields()},children:w}),(0,r.jsx)(f.Z,{type:"primary",htmlType:"submit",loading:Q,children:on})]})})]})})};$.Z=_},62850:function(p,$,n){"use strict";var H=n(71194),X=n(50146),tn=n(49111),k=n(19650),z=n(57663),f=n(71577),d=n(47673),P=n(24044),x=n(34792),R=n(48086),Y=n(9715),U=n(93766),q=n(2824),t=n(67294),v=n(48971),a=n(45092),u=n.n(a),s=n(85893),E=function(C){var r=(0,v.YB)(),_=(0,t.useState)(!1),m=(0,q.Z)(_,2),D=m[0],o=m[1],T=r.formatMessage({id:"component.PPCreater.cancel"}),L=U.Z.useForm(),M=(0,q.Z)(L,1),b=M[0];return(0,s.jsx)(X.Z,{className:u().modal,title:r.formatMessage({id:"component.PPExportModal.title"}),visible:C.visible,onCancel:C.onCancel,footer:null,children:(0,s.jsxs)(U.Z,{form:b,name:"basic",labelCol:{span:6},wrapperCol:{span:16},initialValues:{remember:!1},onFinish:function(S){console.log(S);var I=S.path;if(!I){R.default.error(r.formatMessage({id:"component.PPExportModal.pathNotNull"}));return}o(!0),C.exportDataset(C.project.curr.projectId,I).then(function(){var e;R.default.success(r.formatMessage({id:"component.PPExportModal.exportSuccess"})),(e=C.onFinish)===null||e===void 0||e.call(0)}).finally(function(){o(!1)})},autoComplete:"off",children:[(0,s.jsx)(U.Z.Item,{label:r.formatMessage({id:"component.PPExportModal.path"}),name:"path",children:(0,s.jsx)(P.Z,{})}),(0,s.jsx)(U.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,s.jsxs)(k.Z,{children:[(0,s.jsx)(f.Z,{onClick:function(){var S;(S=C.onCancel)===null||S===void 0||S.call(0),b.resetFields()},children:T}),(0,s.jsx)(f.Z,{type:"primary",htmlType:"submit",loading:D,children:r.formatMessage({id:"component.PPExportModal.export"})})]})})]})})};$.Z=E},91861:function(p,$,n){"use strict";n.d($,{Ad:function(){return X},k3:function(){return tn},Vd:function(){return k},td:function(){return z}});var H=40;function X(){localStorage.removeItem("history"),tn([])}function tn(f){var d=localStorage.getItem("history"),P=d?JSON.parse(d):{index:-1,items:[]};if(JSON.stringify(P.items[P.index])!=JSON.stringify(f)){var x=P.index>H?P.index-H:0,R=P.items.splice(x,P.index==0?1:P.index+1);P.items=R.concat([f]),P.index<=H?P.index++:P.index=H+1,localStorage.setItem("history",JSON.stringify(P))}}function k(){var f=localStorage.getItem("history");if(!!f){var d=JSON.parse(f);if(!!d&&!(d.index>=d.items.length-1))return d.index++,localStorage.setItem("history",JSON.stringify(d)),d.items[d.index]}}function z(){var f=localStorage.getItem("history");if(!!f){var d=JSON.parse(f);if(!(!d||!d.index)&&!(d.index<=0))return d.index--,localStorage.setItem("history",JSON.stringify(d)),d.items[d.index]}}},44583:function(p,$,n){"use strict";n.r($),n.d($,{MOST_HISTORY_STEPS:function(){return O},default:function(){return I}});var H=n(91220),X=n(57663),tn=n(71577),k=n(34669),z=n(54458),f=n(2824),d=n(67294),P=n(8088),x=n(61541),R=n(44434),Y=n(27992),U=n(5041),q=n(57436),t=n(14836),v=n(48971),a=n(91861),u=n(85871),s=n(62850),E=n(8978),h=n(8870),C=n(65031);function r(e){var l=0;if(!e)return l;var g=_createForOfIteratorHelper(e),A;try{for(g.s();!(A=g.n()).done;){var j=A.value;!j||!j.frontendId||j.frontendId>l&&(l=j.frontendId)}}catch(W){g.e(W)}finally{g.f()}return l}function _(e){var l=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return l?{r:parseInt(l[1],16),g:parseInt(l[2],16),b:parseInt(l[3],16)}:null}function m(e){var l=e.toString(16);return l.length==1?"0"+l:l}function D(e,l,g){return"#"+m(e)+m(l)+m(g)}var o=n(85893);function T(e,l){if(!(!e||!l))return{color:e,points:l}}function L(e){if(!e.annotation||!e.annotation.lines||!e.annotation.lines[0])return(0,o.jsx)(o.Fragment,{});var l=e.annotation.lines[0].points,g=e.annotation.lines[0].color,A=_(g);if(!A)return(0,o.jsx)(o.Fragment,{});var j=.3,W=void 0,K=[];return l.forEach(function(Q,F){if(!W){W=Q;return}K.push((0,o.jsx)(C.Cd,{onMouseDown:function(){e.currentTool=="editor"&&e.onSelect(e.annotation)},draggable:e.currentTool=="editor",onDragMove:function(B){var en;B.cancelBubble=!0;var an=(en=e.stageRef)===null||en===void 0?void 0:en.current,w=an.findOne(".baseImage"),on=!1,y=B.target.x();y>w.width()/2&&(y=w.width()/2,on=!0),y<-w.width()/2&&(y=-w.width()/2,on=!0);var J=B.target.y();J>w.height()/2&&(J=w.height()/2,on=!0),J<-w.height()/2&&(J=-w.height()/2,on=!0),on&&B.target.setPosition({x:y,y:J}),l[F-1]=y,l[F]=J;var ln=(0,h.Z)((0,h.Z)({},e.annotation),{},{points:[{color:g,points:l}]});e.onDrag(ln)},onMouseOver:function(){var B;e.currentTool=="editor"&&(B=e.stageRef)!==null&&B!==void 0&&B.current&&(e.stageRef.current.container().style.cursor="cell")},onMouseOut:function(){var B;e.currentTool=="editor"&&(B=e.stageRef)!==null&&B!==void 0&&B.current&&(e.stageRef.current.container().style.cursor="default")},x:W,y:Q,radius:5/e.scale,fill:g})),W=void 0}),(0,o.jsxs)(C.ZA,{children:[(0,o.jsx)(C.x1,{onMouseOver:function(){e.currentTool=="editor"&&(document.body.style.cursor="pointer")},onMouseOut:function(){document.body.style.cursor="default"},onClick:function(){e.currentTool=="editor"&&e.onSelect(e.annotation)},stroke:g,strokeWidth:2/e.scale,globalCompositeOperation:"source-over",lineCap:"round",points:l,tension:0,closed:!0,fill:"rgba(".concat(A.r,", ").concat(A.g,", ").concat(A.b,", ").concat(j,")")}),K]},e.annotation.frontendId)}function M(e){var l=0;if(!e)return l;var g=(0,H.Z)(e),A;try{for(g.s();!(A=g.n()).done;){var j=A.value;!j||!j.frontendId||j.frontendId>l&&(l=j.frontendId)}}catch(W){g.e(W)}finally{g.f()}return l}function b(e){var l=function(K,Q){var F,V=T((F=e.currentLabel)===null||F===void 0?void 0:F.color,[K,Q]);!V||e.onAnnotationAdd({dataId:e.dataId,type:"polygon",frontendId:M(e.annotations)+1,label:e.currentLabel,lines:[V]})},g=function(K,Q){var F,V;if(!!e.currentAnnotation){var B=e.currentAnnotation.lines||[],en=T((F=e.currentLabel)===null||F===void 0?void 0:F.color,(V=B[0])===null||V===void 0?void 0:V.points.concat([K,Q]));if(!!en){var an={dataId:e.dataId,type:"polygon",frontendId:e.currentAnnotation.frontendId,label:e.currentAnnotation.label,points:[en]};e.onAnnotationModify(an)}}},A=function(K){e.currentTool=="polygon"&&(e.currentAnnotation?g(K.mouseX,K.mouseY):l(K.mouseX,K.mouseY))},j=function(){e.currentTool=="polygon"&&e.onMouseUp()};return{onMouseDown:A,onMouseMove:function(){},onMouseUp:j,drawAnnotation:L}}var O=40,S=function(){var l=(0,d.useState)([]),g=(0,f.Z)(l,2),A=g[0],j=g[1],W=(0,d.useState)(!1),K=(0,f.Z)(W,2),Q=K[0],F=K[1],V=(0,d.useState)(!1),B=(0,f.Z)(V,2),en=B[0],an=B[1],w=(0,d.useState)(void 0),on=(0,f.Z)(w,2),y=on[0],J=on[1],ln=(0,d.useState)(),un=(0,f.Z)(ln,2),G=un[0],cn=un[1],bn=(0,d.useState)(),gn=(0,f.Z)(bn,2),dn=gn[0],Bn=gn[1],jn=(0,d.useState)([]),Mn=(0,f.Z)(jn,2),nn=Mn[0],rn=Mn[1],Zn=(0,d.useState)(0),hn=(0,f.Z)(Zn,2),En=hn[0],fn=hn[1],Rn=(0,d.useState)(1),Cn=(0,f.Z)(Rn,2),mn=Cn[0],Dn=Cn[1],Un=(0,d.useState)(60),On=(0,f.Z)(Un,2),In=On[0],Wn=On[1],Kn=(0,d.useState)(10),An=(0,f.Z)(Kn,2),vn=An[0],Pn=An[1],xn=function(i){i||Pn(1),i<.1||i>20?Pn(1):Pn(i)},N=function(i){Bn(i),i!=null&&i.label&&cn(i.label),fn(i?i.frontendId:0)};(0,d.useEffect)(function(){(0,a.Ad)()},[]);var Sn=function(i){nn.pop(),nn.push(i),N(i),rn(nn)},yn={dataId:0,currentLabel:G,brushSize:mn,scale:vn,currentTool:y,annotations:nn,currentAnnotation:dn,onAnnotationAdd:function(i){var sn=nn.concat([i]);rn(sn),N(i)},onAnnotationModify:Sn,onMouseUp:function(){(0,a.k3)({annos:nn,currAnno:dn})},frontendIdOps:{frontendId:En,setFrontendId:fn}},Z=(0,v.YB)(),Fn=(0,E.Z)(yn),pn=b(yn),Nn=y=="polygon"?pn:Fn;return(0,o.jsxs)(P.Z,{className:"segment",children:[(0,o.jsxs)(R.Z,{children:[(0,o.jsx)(x.Z,{imgSrc:"./pics/buttons/polygon.png",active:y=="polygon",onClick:function(){J("polygon"),N(void 0)},children:Z.formatMessage({id:"pages.toolBar.polygon"})}),(0,o.jsx)(x.Z,{active:y=="editor",imgSrc:"./pics/buttons/edit.png",onClick:function(){J("editor"),N(void 0)},children:Z.formatMessage({id:"pages.toolBar.edit"})}),(0,o.jsx)(Y.Z,{imgSrc:"./pics/buttons/brush.png",size:mn,active:y=="brush",onClick:function(){y!="rubber"&&y!="brush"&&N(void 0),J("brush")},onChange:function(i){Dn(i)},children:Z.formatMessage({id:"pages.toolBar.brush"})}),(0,o.jsx)(Y.Z,{size:mn,active:y=="rubber",onClick:function(){y!="rubber"&&y!="brush"&&N(void 0),J("rubber")},onChange:function(i){Dn(i)},imgSrc:"./pics/buttons/rubber.png",children:Z.formatMessage({id:"pages.toolBar.rubber"})}),(0,o.jsx)(x.Z,{imgSrc:"./pics/buttons/zoom_in.png",onClick:function(){xn(vn+.1)},children:Z.formatMessage({id:"pages.toolBar.zoomIn"})}),(0,o.jsx)(x.Z,{imgSrc:"./pics/buttons/zoom_out.png",onClick:function(){xn(vn-.1)},children:Z.formatMessage({id:"pages.toolBar.zoomOut"})}),(0,o.jsx)(x.Z,{imgSrc:"./pics/buttons/save.png",children:Z.formatMessage({id:"pages.toolBar.save"})}),(0,o.jsx)(x.Z,{active:y=="mover",imgSrc:"./pics/buttons/move.png",onClick:function(){J("mover")},children:Z.formatMessage({id:"pages.toolBar.move"})}),(0,o.jsx)(x.Z,{imgSrc:"./pics/buttons/prev.png",onClick:function(){var i=(0,a.td)();i&&(rn(i.annos),N(i.currAnno))},children:Z.formatMessage({id:"pages.toolBar.unDo"})}),(0,o.jsx)(x.Z,{imgSrc:"./pics/buttons/next.png",onClick:function(){var i=(0,a.Vd)();i&&(rn(i.annos),N(i.currAnno))},children:Z.formatMessage({id:"pages.toolBar.reDo"})}),(0,o.jsx)(x.Z,{imgSrc:"./pics/buttons/clear_mark.png",children:Z.formatMessage({id:"pages.toolBar.clearMark"})})]}),(0,o.jsxs)("div",{id:"dr",className:"mainStage",children:[(0,o.jsx)("div",{className:"draw",children:(0,o.jsx)(q.Z,{scale:vn,annotations:nn,currentTool:y,currentAnnotation:dn,setCurrentAnnotation:N,onAnnotationModify:Sn,onAnnotationModifyComplete:function(){(0,a.k3)({annos:nn,currAnno:dn})},frontendIdOps:{frontendId:En,setFrontendId:fn},imgSrc:void 0,transparency:In,onAnnotationAdd:function(i){var sn=nn.concat([i]);rn(sn),dn||N(i)},drawTool:Nn})}),(0,o.jsx)("div",{className:"pblock",children:(0,o.jsxs)("div",{className:"progress",children:[(0,o.jsx)(z.Z,{className:"progressBar",percent:10,status:"active",showInfo:!1})," ",(0,o.jsx)("span",{className:"progressDesc",children:"Current labeling 1 of 300. Already labeled 20."})]})}),(0,o.jsx)("div",{className:"prevTask",onClick:function(){!task.prevTask()||(N(void 0),rn([]))}}),(0,o.jsx)("div",{className:"nextTask",onClick:function(){!task.nextTask()||(N(void 0),rn([]))}})]}),(0,o.jsxs)(R.Z,{disLoc:"right",children:[(0,o.jsx)(x.Z,{imgSrc:"./pics/buttons/intelligent_interaction.png",children:Z.formatMessage({id:"pages.toolBar.interactor"})}),(0,o.jsx)(Y.Z,{imgSrc:"./pics/buttons/threshold.png",disLoc:"left",children:Z.formatMessage({id:"pages.toolBar.segmentThreshold"})}),(0,o.jsx)(Y.Z,{imgSrc:"./pics/buttons/alpha.png",disLoc:"left",size:In,maxSize:100,minSize:0,onChange:function(i){Wn(i)},children:Z.formatMessage({id:"pages.toolBar.transparency"})}),(0,o.jsx)(Y.Z,{imgSrc:"./pics/buttons/radius.png",disLoc:"left",children:Z.formatMessage({id:"pages.toolBar.visualRadius"})}),(0,o.jsx)(x.Z,{imgSrc:"./pics/buttons/data_division.png",onClick:function(){F(!0)},children:Z.formatMessage({id:"pages.toolBar.divideData"})}),(0,o.jsx)(x.Z,{imgSrc:"./pics/buttons/export.png",onClick:function(){an(!0)},children:Z.formatMessage({id:"pages.toolBar.export"})})]}),(0,o.jsxs)("div",{className:"rightSideBar",children:[(0,o.jsx)("div",{className:"determinOutline",children:(0,o.jsx)(tn.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",block:!0,onClick:function(){N(void 0)},children:Z.formatMessage({id:"pages.toolBar.determineOutline"})})}),(0,o.jsx)(U.Z,{labels:A,activeIds:new Set([G]),onLabelSelect:function(i){cn(i),N(void 0)},onLabelModify:function(){},onLabelDelete:function(i){var sn=[],_n=(0,H.Z)(A),Ln;try{for(_n.s();!(Ln=_n.n()).done;){var Tn=Ln.value;Tn.labelId!=i.labelId&&sn.push(Tn)}}catch(zn){_n.e(zn)}finally{_n.f()}j(sn),(G==null?void 0:G.labelId)==i.labelId&&cn(void 0)},onLabelAdd:function(i){A.push(i),j(A),cn(i)}}),(0,o.jsx)(t.Z,{currAnnotation:dn,annotations:nn,onAnnotationSelect:function(i){i!=null&&i.delete||N(i)},onAnnotationAdd:function(){},onAnnotationModify:function(){},onAnnotationDelete:function(i){rn(nn.filter(function(sn){return sn.frontendId!=i.frontendId})),N(void 0)}})]}),(0,o.jsx)(u.Z,{visible:Q,onCancel:function(){F(!1)},onFinish:function(){F(!1)}}),(0,o.jsx)(s.Z,{visible:en,onCancel:function(){an(!1)},onFinish:function(){an(!1)}})]})},I=S}}]);
