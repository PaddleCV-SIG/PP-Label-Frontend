(self.webpackChunkpp_label_frontend=self.webpackChunkpp_label_frontend||[]).push([[507],{52822:function(s){s.exports={roundBall:"roundBall___1pqu1",popover:"popover___1-PR6"}},5882:function(s){s.exports={listItem:"listItem___vtDXn",eye:"eye___AsLBS",roundBall:"roundBall___1J_R3",popover:"popover___1x-2R",delete:"delete___WHPf2",listItemActive:"listItemActive___3FRb7"}},56131:function(s){s.exports={labelList:"labelList___jvD05",listHeader:"listHeader___UM5UF",eye:"eye___II3Po",roundBall:"roundBall___j752J"}},78677:function(s){s.exports={container:"container___G0FNe"}},83930:function(s){s.exports={stage:"stage___3H5QL"}},80961:function(s){s.exports={leftToolbar:"leftToolbar___1xi4t",rightToolbar:"rightToolbar___3dNSB"}},82499:function(s){s.exports={toolBarButtonContainerWrapper:"toolBarButtonContainerWrapper___1SHWL",toolBarButtonContainer:"toolBarButtonContainer___1jKUz",toolBarButton:"toolBarButton___3Ouq1",buttonText:"buttonText___10ls7",toolBarButtonContainerWrapperActive:"toolBarButtonContainerWrapperActive___3AA28"}},63097:function(s,g,e){"use strict";var R=e(20136),u=e(55241),v=e(2824),d=e(67294),i=e(52822),r=e.n(i),m=e(63144),f=e(85893),M=function(B){var z=(0,d.useState)(B.color||"#FFF"),n=(0,v.Z)(z,2),A=n[0],t=n[1];return(0,d.useEffect)(function(){t(B.color||"#FFF")},[B]),B.changeable?(0,f.jsx)(u.Z,{getPopupContainer:function(T){return T.parentElement||document.body},overlayClassName:r().popover,openClassName:r().popoverOpenClassName,placement:"bottom",content:(0,f.jsx)(m.xS,{disableAlpha:!0,color:A,onChange:function(T){t(T.hex)},onChangeComplete:B.onChange}),trigger:"click",children:(0,f.jsx)("div",{className:r().roundBall,style:{backgroundColor:A}})}):(0,f.jsx)("div",{className:r().roundBall,style:{backgroundColor:A}})};g.Z=M},5041:function(s,g,e){"use strict";e.d(g,{Z:function(){return J}});var R=e(54421),u=e(38272),v=e(57663),d=e(71577),i=e(2824),r=e(67294),m=e(56131),f=e.n(m),M=e(49111),N=e(19650),B=e(11849),z=e(5882),n=e.n(z),A=e(63097),t=e(85893),h=function(a){var c=(0,B.Z)({},a.label),L=(0,r.useState)(c.invisible),D=(0,i.Z)(L,2),x=D[0],F=D[1],I=(0,r.useState)(0),C=(0,i.Z)(I,2),b=C[0],E=C[1],_=a.hideEye?" ":(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("a",{className:n().eye,style:{backgroundImage:x?"url(./pics/hide.png)":"url(./pics/show.png)"},onClick:function(l){l.stopPropagation(),F(!x),a.onLabelModify(c)}})," "]}),S=a.hideColorPicker?(0,t.jsx)(t.Fragment,{}):(0,t.jsx)(A.Z,{color:c.color,changeable:!0,onChange:function(l){c.color=l.hex,a.onLabelModify(c)}}),Y=(0,t.jsxs)(u.ZP.Item,{className:"".concat(n().listItem," ").concat(a.active?n().listItemActive:""),unselectable:"on",onClick:function(){a.onClick(c)},children:[(0,t.jsxs)(N.Z,{align:"center",size:5,children:[_,c.name,S]}),(0,t.jsx)("a",{className:n().delete,onClick:function(l){l.stopPropagation();var Z=new Date().getTime();Z-b<300||(E(Z),a.onLabelDelete(c))}})]});return Y},T=h,G=e(71194),$=e(50146),U=e(47673),X=e(24044),Q=e(9715),O=e(93766),P=e(48971),H=["#FF0000","#008000","#0000FF","#FFFF00","#FFA500","#00FFFF","#8B00FF","#FFC0CB","#7CFC00","#007FFF","#800080","#36BF36","#DAA520","#800000","#008B8B","#B22222","#E6D933","#000080","#FF00FF","#FFFF99","#87CEEB","#5C50E6","#CD5C5C","#20B2AA","#E680FF","#4D1F00","#006374","#B399FF","#8B4513","#BA55D3","#C0C0C0","#808080","#000000"],k=function(a){var c,L,D=(0,P.YB)().formatMessage({id:"component.PPAddLabelModal.selectColor"}),x=(0,P.YB)().formatMessage({id:"component.PPAddLabelModal.addLabel"}),F=(0,P.YB)().formatMessage({id:"component.PPAddLabelModal.labelName"}),I=(0,P.YB)().formatMessage({id:"component.PPCreater.cancel"}),C=(0,P.YB)().formatMessage({id:"component.PPSegMode.ok"}),b=(0,r.useState)(((c=a.defaultLabel)===null||c===void 0?void 0:c.color)||H[a.order||0]),E=(0,i.Z)(b,2),_=E[0],S=E[1];(0,r.useEffect)(function(){var K;S(((K=a.defaultLabel)===null||K===void 0?void 0:K.color)||H[a.order||0])},[a]);var Y=a.hideColorPicker?(0,t.jsx)(t.Fragment,{}):(0,t.jsx)(O.Z.Item,{label:D,name:"color",children:(0,t.jsx)(A.Z,{color:_,onChange:function(W){S(W.hex)}})}),o=O.Z.useForm(),l=(0,i.Z)(o,1),Z=l[0];return(0,t.jsx)($.Z,{title:x,visible:a.visible,onCancel:a.onCancel,footer:null,children:(0,t.jsxs)(O.Z,{form:Z,name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!1,labelname:(L=a.defaultLabel)===null||L===void 0?void 0:L.name},onFinish:function(W){var w={name:W.labelname,color:_};a.onLabelAdd(w),Z.resetFields()},autoComplete:"off",children:[(0,t.jsx)(O.Z.Item,{label:F,name:"labelname",rules:[{required:!0,message:"Please input label name!"}],children:(0,t.jsx)(X.Z,{})}),Y,(0,t.jsx)(O.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,t.jsxs)(N.Z,{children:[(0,t.jsx)(d.Z,{onClick:function(){var W;(W=a.onCancel)===null||W===void 0||W.call(0),Z.resetFields()},children:I}),(0,t.jsx)(d.Z,{type:"primary",htmlType:"submit",children:C})]})})]})})},V=k,y=function(a){var c,L=(0,P.YB)().formatMessage({id:"component.PPLabelList.addLabel"}),D=(0,P.YB)().formatMessage({id:"component.PPLabelList.labelList"}),x=(0,r.useState)(!1),F=(0,i.Z)(x,2),I=F[0],C=F[1];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.ZP,{className:f().labelList,size:"large",header:(0,t.jsx)("div",{className:f().listHeader,children:D}),footer:(0,t.jsx)("div",{children:(0,t.jsx)(d.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",onClick:function(){C(!0)},block:!0,children:L})}),bordered:!0,dataSource:a.labels,renderItem:function(E){var _;return(0,t.jsx)(T,{hideColorPicker:a.hideColorPicker,hideEye:a.hideEye,onClick:a.onLabelSelect,label:E,active:(_=a.activeIds)===null||_===void 0?void 0:_.has(E.labelId),onLabelDelete:a.onLabelDelete,onLabelModify:a.onLabelModify})}}),(0,t.jsx)(V,{hideColorPicker:a.hideColorPicker,order:(c=a.labels)===null||c===void 0?void 0:c.length,visible:I,onLabelAdd:function(E){a.onLabelAdd(E),C(!1)},onCancel:function(){C(!1)}})]})},J=y},8088:function(s,g,e){"use strict";var R=e(67294),u=e(78677),v=e.n(u),d=e(85893),i=function(m){return(0,d.jsx)("div",{className:"".concat(v().container," ").concat(m.className),children:m.children})};g.Z=i},57436:function(s,g,e){"use strict";var R=e(91220),u=e(2824),v=e(67294),d=e(65031),i=e(84420),r=e.n(i),m=e(83930),f=e.n(m),M=e(85893),N="./pics/basketball.jpg",B=function(n){var A=r()(n.imgSrc||N),t=(0,u.Z)(A,1),h=t[0],T=n.transparency==null?0:n.transparency,G=(0,v.useState)(0),$=(0,u.Z)(G,2),U=$[0],X=$[1],Q=(0,v.useState)(0),O=(0,u.Z)(Q,2),P=O[0],H=O[1],k=(0,v.useState)({x:0,y:0}),V=(0,u.Z)(k,2),y=V[0],J=V[1],j=(0,v.useRef)(null);function a(){var o=document.getElementById("dr");o&&(X(o.clientWidth),H(o.clientHeight))}function c(o){switch(o){case"mover":return"move";case"rectangle":case"polygon":return"crosshair";default:return"default"}}(0,v.useEffect)(function(){window.removeEventListener("resize",a),window.addEventListener("resize",a);var o=document.getElementById("dr");o&&(X(o.clientWidth),H(o.clientHeight))},[]),(0,v.useEffect)(function(){!j.current||(console.log("props.currentTool",n.currentTool,"cursor:",c(n.currentTool)),j.current.container().style.cursor=c(n.currentTool))},[n.currentTool]);var L=function(l){n.onMouseDown&&n.onMouseDown(l,-U/2-y.x,-P/2-y.y,n.scale)},D=function(l){n.onMouseMove&&n.onMouseMove(l,-U/2-y.x,-P/2-y.y,n.scale)},x=function(l){n.onMouseUp&&n.onMouseUp(l,-U/2-y.x,-P/2-y.y,n.scale)},F=function(l){l.cancelBubble=!0,l.evt.preventDefault()},I=[];if(n.annotations){var C=(0,R.Z)(n.annotations),b;try{for(C.s();!(b=C.n()).done;){var E=b.value;if(!!E){var _=void 0;switch(E.type){case"polygon":_=n.createPolygonFunc;break;case"brush":_=n.createBrushFunc;break;case"rubber":_=n.createBrushFunc;break;case"rectangle":_=n.createRectangleFunc;break;default:_=null}if(!!_){var S=(0,M.jsx)(d.mh,{name:"annotation",scaleX:n.scale,scaleY:n.scale,onMouseDown:L,onMouseMove:D,onMouseUp:x,onContextMenu:F,children:_({annotation:E,onDrag:n.onAnnotationModify,onDragEnd:n.onAnnotationModifyComplete,scale:n.scale,currentTool:n.currentTool,onSelect:n.setCurrentAnnotation,stageRef:j,currentAnnotation:n.currentAnnotation,transparency:T})});I.push(S)}}}}catch(o){C.e(o)}finally{C.f()}}var Y=n.currentTool=="mover";return(0,M.jsxs)(d.Hf,{width:U,height:P,offsetX:-U/2,offsetY:-P/2,className:f().stage,ref:j,draggable:Y,onDragMove:function(l){n.currentTool=="mover"},onDragEnd:function(l){n.currentTool=="mover"&&(console.log("dragEndPosX,Y: (".concat(l.target.x(),",").concat(l.target.y(),")")),J({x:l.target.x(),y:l.target.y()}))},children:[(0,M.jsx)(d.mh,{onMouseDown:L,onMouseMove:D,onMouseUp:x,onContextMenu:F,scaleX:n.scale,scaleY:n.scale,draggable:!1,children:(0,M.jsx)(d.Ee,{name:"baseImage",draggable:!1,image:h,x:-((h==null?void 0:h.width)||0)/2,y:-((h==null?void 0:h.height)||0)/2})}),I]})};g.Z=B},44434:function(s,g,e){"use strict";var R=e(67294),u=e(80961),v=e.n(u),d=e(85893),i=function(m){var f=v().leftToolbar;return m.disLoc=="right"&&(f=v().rightToolbar),(0,d.jsx)("div",{className:f,children:m.children})};g.Z=i},61541:function(s,g,e){"use strict";var R=e(49111),u=e(19650),v=e(67294),d=e(82499),i=e.n(d),r=e(85893),m=function(M){return(0,r.jsx)("div",{unselectable:"on",className:"".concat(i().toolBarButtonContainerWrapper," ").concat(M.active&&i().toolBarButtonContainerWrapperActive),onClick:M.onClick,children:(0,r.jsx)(u.Z,{align:"center",className:i().toolBarButtonContainer,size:0,children:(0,r.jsxs)(u.Z,{align:"center",direction:"vertical",className:i().toolBarButton,size:0,children:[(0,r.jsx)("img",{src:M.imgSrc}),(0,r.jsx)("div",{className:i().buttonText,children:M.children})]})})})};g.Z=m}}]);
