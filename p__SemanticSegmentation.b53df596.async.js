(self.webpackChunkpp_labeling_frontend=self.webpackChunkpp_labeling_frontend||[]).push([[540],{85024:function(s){s.exports={listItem:"listItem___u4Q82",eye:"eye___BwaRm",roundBall:"roundBall___23A7l",popover:"popover___1BNET",listItemActive:"listItemActive___2QnA3"}},56159:function(s){s.exports={labelList:"labelList___v7C6K",listHeader:"listHeader___1aY8R",eye:"eye___2MKbp",roundBall:"roundBall___187XH"}},57560:function(s){s.exports={toolBarButtonContainerWrapper:"toolBarButtonContainerWrapper___147XP",toolBarButtonContainer:"toolBarButtonContainer___ZEvhK",toolBarButton:"toolBarButton___1s2Rh",buttonText:"buttonText___3NTCv",toolBarButtonContainerWrapperActive:"toolBarButtonContainerWrapperActive___2Utx8",popover:"popover___3PRoi"}},52822:function(s){s.exports={roundBall:"roundBall___1pqu1",popover:"popover___1-PR6"}},5882:function(s){s.exports={listItem:"listItem___vtDXn",eye:"eye___AsLBS",roundBall:"roundBall___1J_R3",popover:"popover___1x-2R",listItemActive:"listItemActive___3FRb7"}},56131:function(s){s.exports={labelList:"labelList___jvD05",listHeader:"listHeader___UM5UF",eye:"eye___II3Po",roundBall:"roundBall___j752J"}},78677:function(s){s.exports={container:"container___G0FNe"}},83930:function(s){s.exports={stage:"stage___3H5QL"}},80961:function(s){s.exports={toolbar:"toolbar___3vxli"}},82499:function(s){s.exports={toolBarButtonContainerWrapper:"toolBarButtonContainerWrapper___1SHWL",toolBarButtonContainer:"toolBarButtonContainer___1jKUz",toolBarButton:"toolBarButton___3Ouq1",buttonText:"buttonText___10ls7",toolBarButtonContainerWrapperActive:"toolBarButtonContainerWrapperActive___3AA28"}},54777:function(s){s.exports={segment:"segment___1YMcl",mainStage:"mainStage___2otee",rightSideBar:"rightSideBar___2X7jK",determinOutline:"determinOutline___2ls57"}},14836:function(s,b,n){"use strict";n.d(b,{Z:function(){return V}});var H=n(54421),g=n(38272),P=n(57663),c=n(71577),m=n(2824),i=n(67294),B=n(56159),d=n.n(B),_=n(49111),X=n(19650),D=n(11849),Y=n(85024),j=n.n(Y),T=n(63097),t=n(85893),e=function(L){var y=(0,D.Z)({},L.annotation),F=(0,i.useState)(y.invisible),M=(0,m.Z)(F,2),K=M[0],W=M[1];(0,i.useEffect)(function(){W(L.annotation.invisible)},[L.annotation.invisible]);var p=(0,t.jsx)(g.ZP.Item,{className:"".concat(j().listItem," ").concat(L.active?j().listItemActive:""),unselectable:"on",onClick:function(){L.onClick(y)},children:(0,t.jsxs)(X.Z,{align:"center",size:5,children:[(0,t.jsx)("a",{className:j().eye,style:{backgroundImage:K?"url(./pics/hide.png)":"url(./pics/show.png)"},onClick:function(){W(!K),L.onAnnotationModify(y)}})," ",y.label.name,(0,t.jsx)(T.Z,{color:y.label.name})]})});return p},Z=e,Q=function(L){var y=(0,i.useState)([]),F=(0,m.Z)(y,1),M=F[0];return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(g.ZP,{className:d().labelList,size:"large",header:(0,t.jsx)("div",{className:d().listHeader,children:"Annotation List"}),bordered:!0,dataSource:M,renderItem:function(W){var p;return(0,t.jsx)(Z,{onClick:L.onAnnotationSelect,annotation:W,active:W.annotationId==((p=L.selectedAnnotation)===null||p===void 0?void 0:p.annotationId),onAnnotationDelete:L.onAnnotationDelete,onAnnotationModify:L.onAnnotationModify})},footer:(0,t.jsx)("div",{children:(0,t.jsx)(c.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",onClick:function(){L.onAnnotationSelect(void 0)},block:!0,children:"Add Annotation"})})})})},V=Q},63097:function(s,b,n){"use strict";var H=n(20136),g=n(55241),P=n(2824),c=n(67294),m=n(52822),i=n.n(m),B=n(63144),d=n(85893),_=function(D){var Y=(0,c.useState)(D.color||"#FFF"),j=(0,P.Z)(Y,2),T=j[0],t=j[1];return(0,c.useEffect)(function(){t(D.color||"#FFF")},[D]),D.changeable?(0,d.jsx)(g.Z,{getPopupContainer:function(Z){return Z.parentElement||document.body},overlayClassName:i().popover,openClassName:i().popoverOpenClassName,placement:"bottom",content:(0,d.jsx)(B.xS,{disableAlpha:!0,color:T,onChange:function(Z){t(Z.hex)},onChangeComplete:D.onChange}),trigger:"click",children:(0,d.jsx)("div",{className:i().roundBall,style:{backgroundColor:T}})}):(0,d.jsx)("div",{className:i().roundBall,style:{backgroundColor:T}})};b.Z=_},5041:function(s,b,n){"use strict";n.d(b,{Z:function(){return on}});var H=n(54421),g=n(38272),P=n(57663),c=n(71577),m=n(2824),i=n(67294),B=n(56131),d=n.n(B),_=n(49111),X=n(19650),D=n(11849),Y=n(5882),j=n.n(Y),T=n(63097),t=n(85893),e=function(r){var S=(0,D.Z)({},r.label),I=(0,i.useState)(S.invisible),A=(0,m.Z)(I,2),R=A[0],z=A[1],N=(0,t.jsx)(g.ZP.Item,{className:"".concat(j().listItem," ").concat(r.active?j().listItemActive:""),unselectable:"on",onClick:function(){r.onClick(S)},children:(0,t.jsxs)(X.Z,{align:"center",size:5,children:[(0,t.jsx)("a",{className:j().eye,style:{backgroundImage:R?"url(./pics/hide.png)":"url(./pics/show.png)"},onClick:function(){z(!R),r.onLabelModify(S)}})," ",S.name,(0,t.jsx)(T.Z,{color:S.color,changeable:!0,onChange:function(o){S.color=o.hex,r.onLabelModify(S)}})]})});return N},Z=e,Q=n(71194),V=n(50146),$=n(47673),L=n(24044),y=n(9715),F=n(93766),M=["#FF0000","#008000","#0000FF","#FFFF00","#FFA500","#00FFFF","#8B00FF","#FFC0CB","#7CFC00","#007FFF","#800080","#36BF36","#DAA520","#800000","#008B8B","#B22222","#E6D933","#000080","#FF00FF","#FFFF99","#87CEEB","#5C50E6","#CD5C5C","#20B2AA","#E680FF","#4D1F00","#006374","#B399FF","#8B4513","#BA55D3","#C0C0C0","#808080","#000000"],K=function(r){var S,I,A=(0,i.useState)(((S=r.defaultLabel)===null||S===void 0?void 0:S.color)||M[r.order||0]),R=(0,m.Z)(A,2),z=R[0],N=R[1];(0,i.useEffect)(function(){var l;N(((l=r.defaultLabel)===null||l===void 0?void 0:l.color)||M[r.order||0])},[r]);var u=F.Z.useForm(),o=(0,m.Z)(u,1),C=o[0];return(0,t.jsx)(V.Z,{title:"Add Label",visible:r.visible,onCancel:r.onCancel,footer:null,children:(0,t.jsxs)(F.Z,{form:C,name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!1,labelname:(I=r.defaultLabel)===null||I===void 0?void 0:I.name},onFinish:function(a){var O={name:a.labelname,color:z};r.onLabelAdd(O),C.resetFields()},autoComplete:"off",children:[(0,t.jsx)(F.Z.Item,{label:"Label Name",name:"labelname",rules:[{required:!0,message:"Please input label name!"}],children:(0,t.jsx)(L.Z,{})}),(0,t.jsx)(F.Z.Item,{label:"Select Color",name:"color",children:(0,t.jsx)(T.Z,{color:z,onChange:function(a){N(a.hex)}})}),(0,t.jsx)(F.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,t.jsxs)(X.Z,{children:[(0,t.jsx)(c.Z,{onClick:function(){var a;(a=r.onCancel)===null||a===void 0||a.call(0),C.resetFields()},children:"\u53D6\u6D88"}),(0,t.jsx)(c.Z,{type:"primary",htmlType:"submit",children:"\u786E\u5B9A"})]})})]})})},W=K,p=[{color:"#FF0000",name:"Label 1"},{color:"#008000",name:"Label 2"}],J=function(r){var S=(0,i.useState)(p),I=(0,m.Z)(S,2),A=I[0],R=I[1],z=(0,i.useState)(!1),N=(0,m.Z)(z,2),u=N[0],o=N[1];return(0,i.useEffect)(function(){r.selectedLabel||r.onLabelSelect(A[0])},[A,r]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.ZP,{className:d().labelList,size:"large",header:(0,t.jsx)("div",{className:d().listHeader,children:"Label List"}),footer:(0,t.jsx)("div",{children:(0,t.jsx)(c.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",onClick:function(){o(!0)},block:!0,children:"Add Label"})}),bordered:!0,dataSource:A,renderItem:function(l){var a;return(0,t.jsx)(Z,{onClick:r.onLabelSelect,label:l,active:l.name==((a=r.selectedLabel)===null||a===void 0?void 0:a.name),onLabelDelete:r.onLabelDelete,onLabelModify:r.onLabelModify})}}),(0,t.jsx)(W,{order:A.length,visible:u,onLabelAdd:function(l){A.push(l),R(A),o(!1)},onCancel:function(){o(!1)}})]})},on=J},8088:function(s,b,n){"use strict";var H=n(67294),g=n(78677),P=n.n(g),c=n(85893),m=function(B){return(0,c.jsx)("div",{className:"".concat(P().container," ").concat(B.className),children:B.children})};b.Z=m},44434:function(s,b,n){"use strict";var H=n(67294),g=n(80961),P=n.n(g),c=n(85893),m=function(B){return(0,c.jsx)("div",{className:P().toolbar,children:B.children})};b.Z=m},61541:function(s,b,n){"use strict";var H=n(49111),g=n(19650),P=n(67294),c=n(82499),m=n.n(c),i=n(85893),B=function(_){return(0,i.jsx)("div",{unselectable:"on",className:"".concat(m().toolBarButtonContainerWrapper," ").concat(_.active&&m().toolBarButtonContainerWrapperActive),onClick:_.onClick,children:(0,i.jsx)(g.Z,{align:"center",className:m().toolBarButtonContainer,size:0,children:(0,i.jsxs)(g.Z,{align:"center",direction:"vertical",className:m().toolBarButton,size:0,children:[(0,i.jsx)("img",{src:_.imgSrc}),(0,i.jsx)("div",{className:m().buttonText,children:_.children})]})})})};b.Z=B},96273:function(s,b,n){"use strict";n.r(b),n.d(b,{default:function(){return N}});var H=n(57663),g=n(71577),P=n(2824),c=n(67294),m=n(54777),i=n.n(m),B=n(8088),d=n(61541),_=n(44434),X=n(20136),D=n(55241),Y=n(77883),j=n(70507),T=n(57560),t=n.n(T),e=n(85893),Z=1,Q=50,V=10;function $(u){return u?u<=Z?Z:u>=Q?Q:u:V}var L=function(o){var C=(0,c.useState)($(o.size)),l=(0,P.Z)(C,2),a=l[0],O=l[1];return(0,c.useEffect)(function(){O($(o.size))},[o.size]),(0,e.jsxs)(D.Z,{overlayClassName:t().popover,placement:"right",content:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(g.Z,{type:"text",onClick:function(){var f,v=$(a-1);O(v),(f=o.onChange)===null||f===void 0||f.call(0,v)},children:"-"}),(0,e.jsx)(j.Z,{min:Z,max:Q,value:a,onChange:function(f){var v;(v=o.onChange)===null||v===void 0||v.call(0,f)},controls:!1,style:{textAlign:"center"}}),(0,e.jsx)(g.Z,{type:"text",onClick:function(){var f,v=$(a+1);O(v),(f=o.onChange)===null||f===void 0||f.call(0,v)},children:"+"})]}),trigger:o.active?"hover":"click",children:[" ",(0,e.jsx)(d.Z,{active:o.active,imgSrc:o.imgSrc||"./pics/buttons/brush.png",onClick:o.onClick,children:o.children||"Brush"})]})},y=L,F=n(5041),M=n(65031),K=n(84420),W=n.n(K),p=n(83930),J=n.n(p),on="./pics/basketball.jpg",q=function(o){var C=W()(on),l=(0,P.Z)(C,1),a=l[0],O=(a==null?void 0:a.width)||0,U=(a==null?void 0:a.height)||0;return(0,e.jsxs)(M.Hf,{width:O,height:U,className:J().stage,children:[(0,e.jsx)(M.mh,{children:(0,e.jsx)(M.Ee,{image:a})}),(0,e.jsxs)(M.mh,{onMouseDown:function(v){o.onMouseDown&&o.onMouseDown(v)},onMouseMove:function(v){o.onMouseMove&&o.onMouseMove(v)},onMouseUp:function(v){o.onMouseUp&&o.onMouseUp(v)},onContextMenu:function(v){v.evt.preventDefault()},children:[(0,e.jsx)(M.Ee,{image:a}),o.elements.map(function(f,v){return f})]})]})},r=q,S=n(14836);function I(u,o,C,l,a){return(0,e.jsx)(M.x1,{stroke:o,strokeWidth:u,globalCompositeOperation:a==="brush"?"source-over":"destination-out",lineCap:"round",points:C,tension:.01},l)}function A(u,o){return u=="rubber"||o==2?"rubber":"brush"}function R(u){var o=(0,c.useState)([]),C=(0,P.Z)(o,2),l=C[0],a=C[1],O=(0,c.useState)([]),U=(0,P.Z)(O,2),f=U[0],v=U[1],an=(0,c.useState)(),G=(0,P.Z)(an,2),nn=G[0],en=G[1],ln=function(x){var h;console.log("OnMouseDown, color: ".concat(u.currentLabel.color));var E=A(u.currentTool,x.evt.button),sn=I(u.brushSize||10,(h=u.currentLabel)===null||h===void 0?void 0:h.color,[x.evt.offsetX,x.evt.offsetY,x.evt.offsetX,x.evt.offsetY],l.length,E);l.push(sn),en(E),v([x.evt.offsetX,x.evt.offsetY,x.evt.offsetX,x.evt.offsetY]),a(l)},tn=function(x){if(!!nn){var h=f.concat([x.evt.offsetX,x.evt.offsetY]),E=I(u.brushSize||10,u.currentLabel.color,h,l.length-1,nn);l.pop(),l.push(E),v(h),a(l)}},k=function(){en(void 0),v([])};return{elements:l,onMouseDown:ln,onMouseMove:tn,onMouseUp:k}}var z=function(){var o=(0,c.useState)(void 0),C=(0,P.Z)(o,2),l=C[0],a=C[1],O=(0,c.useState)(),U=(0,P.Z)(O,2),f=U[0],v=U[1],an=(0,c.useState)(),G=(0,P.Z)(an,2),nn=G[0],en=G[1],ln=(0,c.useState)(10),tn=(0,P.Z)(ln,2),k=tn[0],w=tn[1],x=R({currentLabel:f,brushSize:k,currentTool:l});return(0,e.jsxs)(B.Z,{className:i().segment,children:[(0,e.jsxs)(_.Z,{children:[(0,e.jsx)(d.Z,{imgSrc:"./pics/buttons/intelligent_interaction.png",children:"Intelligent Interaction"}),(0,e.jsx)(d.Z,{active:l=="polygon",imgSrc:"./pics/buttons/polygon.png",onClick:function(){a("polygon")},children:"Polygon"}),(0,e.jsx)(y,{size:k,active:l=="brush",onClick:function(){a("brush")},onChange:function(E){w(E)},children:"Brush"}),(0,e.jsx)(y,{size:k,active:l=="rubber",onClick:function(){a("rubber")},onChange:function(E){w(E)},imgSrc:"./pics/buttons/rubber.png",children:"Rubber"}),(0,e.jsx)(d.Z,{imgSrc:"./pics/buttons/zoom_in.png",children:"Zoom in"}),(0,e.jsx)(d.Z,{imgSrc:"./pics/buttons/zoom_out.png",children:"Zoom out"}),(0,e.jsx)(d.Z,{imgSrc:"./pics/buttons/save.png",children:"Save"}),(0,e.jsx)(d.Z,{imgSrc:"./pics/buttons/move.png",children:"Move"}),(0,e.jsx)(d.Z,{imgSrc:"./pics/buttons/export.png",children:"Export"}),(0,e.jsx)(d.Z,{imgSrc:"./pics/buttons/data_division.png",children:"Divide Data"}),(0,e.jsx)(d.Z,{imgSrc:"./pics/buttons/prev.png",children:"Undo"}),(0,e.jsx)(d.Z,{imgSrc:"./pics/buttons/next.png",children:"Redo"}),(0,e.jsx)(d.Z,{imgSrc:"./pics/buttons/clear_mark.png",children:"Clear Mark"})]}),(0,e.jsx)("div",{className:i().mainStage,children:(0,e.jsx)(r,{elements:x.elements,onMouseDown:x.onMouseDown,onMouseMove:x.onMouseMove,onMouseUp:x.onMouseUp})}),(0,e.jsxs)("div",{className:i().rightSideBar,children:[(0,e.jsx)("div",{className:i().determinOutline,children:(0,e.jsx)(g.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",block:!0,children:"Determine Outline"})}),(0,e.jsx)(F.Z,{selectedLabel:f,onLabelSelect:function(E){v(E)},onLabelModify:function(){},onLabelDelete:function(){},onLabelAdd:function(){}}),(0,e.jsx)(S.Z,{selectedAnnotation:nn,onAnnotationSelect:function(E){en(E)},onAnnotationAdd:function(){},onAnnotationModify:function(){},onAnnotationDelete:function(){}})]})]})},N=z}}]);
