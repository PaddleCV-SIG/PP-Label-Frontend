(self.webpackChunkpp_labeling_frontend=self.webpackChunkpp_labeling_frontend||[]).push([[454],{57560:function(S){S.exports={toolBarButtonContainerWrapper:"toolBarButtonContainerWrapper___147XP",toolBarButtonContainer:"toolBarButtonContainer___ZEvhK",toolBarButton:"toolBarButton___1s2Rh",buttonText:"buttonText___3NTCv",toolBarButtonContainerWrapperActive:"toolBarButtonContainerWrapperActive___2Utx8",popover:"popover___3PRoi"}},26647:function(S){S.exports={toolBarButtonContainerWrapper:"toolBarButtonContainerWrapper___1FTWb",toolBarButtonContainer:"toolBarButtonContainer___1Vahn",toolBarButton:"toolBarButton___3mR2H",buttonText:"buttonText___Y0WDm",toolBarButtonContainerWrapperActive:"toolBarButtonContainerWrapperActive___3lRZ8",popover:"popover___3zzu2"}},8982:function(S){S.exports={RSPop1:"RSPop1___ei_bv",RSPop2:"RSPop2___9d5gM"}},75721:function(S){S.exports={segment:"segment___1EX9A",mainStage:"mainStage___nDwOp",draw:"draw___1Aue1",pblock:"pblock___19sdD",progress:"progress___1595f",rightSideBar:"rightSideBar___1JzJc",determinOutline:"determinOutline___2vG7S"}},43801:function(S,O,n){"use strict";n.d(O,{Z:function(){return g}});var y=n(11849),L=n(2824),W=n(91220),j=n(67294),U=n(65031),D=n(85893);function P(e,o,s,u){if(!(!e||!o||!s||!u))return{width:e,color:o,points:s,tool:u,element:(0,D.jsx)(U.x1,{stroke:o,strokeWidth:e,globalCompositeOperation:u==="brush"?"source-over":"destination-out",lineCap:"round",points:s,tension:.01})}}function f(e,o){return e=="rubber"||o==2?"rubber":"brush"}function Z(e){var o=0,s=(0,W.Z)(e),u;try{for(s.s();!(u=s.n()).done;){var h=u.value;!h||h.annotationId>o&&(o=h.annotationId)}}catch(v){s.e(v)}finally{s.f()}return o}function g(e){var o=(0,j.useState)(),s=(0,L.Z)(o,2),u=s[0],h=s[1],v=function(E,C){var _;if(console.log(e.currentTool),!(e.currentTool!="brush"&&e.currentTool!="rubber")){var x=E.evt.offsetX/C,M=E.evt.offsetY/C,c=f(e.currentTool,E.evt.button),r=P(e.brushSize||10,(_=e.currentLabel)===null||_===void 0?void 0:_.color,[x,M,x,M],c);if(!!r)if(h(c),e.currentAnnotation){var a,X={annotationId:e.currentAnnotation.annotationId,label:e.currentAnnotation.label,lines:(a=e.currentAnnotation.lines)===null||a===void 0?void 0:a.concat([r])};e.onAnnotationModify(X)}else{if(c=="rubber")return;e.onAnnotationAdd({annotationId:Z(e.annotations)+1,label:e.currentLabel,lines:[r]})}}},T=function(E,C){var _;if(!(!u||!e.currentAnnotation)){var x=E.evt.offsetX/C,M=E.evt.offsetY/C,c=[x,M],r=[];(_=e.currentAnnotation)!==null&&_!==void 0&&_.lines&&(c=e.currentAnnotation.lines[e.currentAnnotation.lines.length-1].points.concat(c),r=e.currentAnnotation.lines);var a=P(e.brushSize||10,e.currentLabel.color,c,u);!a||(r.pop(),r.push(a),e.onAnnotationModify((0,y.Z)((0,y.Z)({},e.currentAnnotation),{},{lines:r})))}},m=function(){e.currentTool!="brush"&&e.currentTool!="rubber"||h(void 0)};return{onMouseDown:v,onMouseMove:T,onMouseUp:m}}},58967:function(S,O,n){"use strict";var y=n(20136),L=n(55241),W=n(77883),j=n(70507),U=n(57663),D=n(71577),P=n(2824),f=n(67294),Z=n(61541),g=n(57560),e=n.n(g),o=n(85893),s=1,u=50,h=10;function v(m){return m?m<=s?s:m>=u?u:m:h}var T=function(l){var E=(0,f.useState)(v(l.size)),C=(0,P.Z)(E,2),_=C[0],x=C[1],M=function(r){x(v(r))};return(0,f.useEffect)(function(){M(l.size)},[l.size]),(0,o.jsxs)(L.Z,{overlayClassName:e().popover,placement:"right",content:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(D.Z,{type:"text",onClick:function(){var r,a=v(_-1);M(a),(r=l.onChange)===null||r===void 0||r.call(0,a)},children:"-"}),(0,o.jsx)(j.Z,{min:s,max:u,value:_,onChange:function(r){var a;(a=l.onChange)===null||a===void 0||a.call(0,r)},controls:!1,style:{textAlign:"center"}}),(0,o.jsx)(D.Z,{type:"text",onClick:function(){var r,a=v(_+1);M(a),(r=l.onChange)===null||r===void 0||r.call(0,a)},children:"+"})]}),trigger:l.active?"hover":"click",children:[" ",(0,o.jsx)(Z.Z,{active:l.active,imgSrc:l.imgSrc||"./pics/buttons/brush.png",onClick:l.onClick,children:l.children||"Brush"})]})};O.Z=T},27992:function(S,O,n){"use strict";var y=n(20136),L=n(55241),W=n(77883),j=n(70507),U=n(57663),D=n(71577),P=n(2824),f=n(67294),Z=n(61541),g=n(26647),e=n.n(g),o=n(85893),s=1,u=100,h=10;function v(m){return m?m<=s?s:m>=u?u:m:h}var T=function(l){var E=(0,f.useState)(v(l.size)),C=(0,P.Z)(E,2),_=C[0],x=C[1],M=function(r){x(v(r))};return(0,f.useEffect)(function(){M(l.size)},[l.size]),(0,o.jsxs)(L.Z,{overlayClassName:e().popover,placement:l.disLoc||"right",content:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(D.Z,{type:"text",onClick:function(){var r,a=v(_-1);M(a),(r=l.onChange)===null||r===void 0||r.call(0,a)},children:"-"}),(0,o.jsx)(j.Z,{min:s,max:u,value:_,onChange:function(r){var a;(a=l.onChange)===null||a===void 0||a.call(0,r)},controls:!1,style:{textAlign:"center"}}),(0,o.jsx)(D.Z,{type:"text",onClick:function(){var r,a=v(_+1);M(a),(r=l.onChange)===null||r===void 0||r.call(0,a)},children:"+"})]}),trigger:"hover",children:[" ",(0,o.jsx)(Z.Z,{imgSrc:l.imgSrc,onClick:l.onClick,children:l.children})]})};O.Z=T},21028:function(S,O,n){"use strict";n.r(O),n.d(O,{default:function(){return sn}});var y=n(57663),L=n(71577),W=n(20136),j=n(55241),U=n(34669),D=n(54458),P=n(2824),f=n(67294),Z=n(75721),g=n.n(Z),e=n(8088),o=n(61541),s=n(44434),u=n(58967),h=n(27992),v=n(5041),T=n(57436),m=n(14836),l=n(29919),E=n(43801),C=n(13931),_=n(13062),x=n(71230),M=n(66126),c=n(75454),r=n(89032),a=n(15746),X=n(8982),z=n.n(X),t=n(85893),rn=function(K){return(0,t.jsxs)("div",{children:[(0,t.jsxs)(x.Z,{children:[(0,t.jsx)(a.Z,{span:6,className:z().Pop1,children:(0,t.jsx)("span",{children:"Ww"})}),(0,t.jsx)(a.Z,{span:18,className:z().Pop2,children:(0,t.jsx)(c.Z,{min:1,max:K.wwValue||100,defaultValue:37})})]}),(0,t.jsxs)(x.Z,{children:[(0,t.jsx)(a.Z,{span:6,className:z().Pop1,children:(0,t.jsx)("span",{children:"Wl"})}),(0,t.jsx)(a.Z,{span:18,className:z().Pop2,children:(0,t.jsx)(c.Z,{min:1,max:K.wlValue||100,defaultValue:37})})]})]})},an=rn,ln=function(){var K=(0,f.useState)(void 0),J=(0,P.Z)(K,2),A=J[0],V=J[1],dn=(0,f.useState)({color:"",name:""}),G=(0,P.Z)(dn,2),$=G[0],Q=G[1],cn=(0,f.useState)(),k=(0,P.Z)(cn,2),R=k[0],_n=k[1],vn=(0,f.useState)([]),w=(0,P.Z)(vn,2),b=w[0],p=w[1],mn=(0,f.useState)(10),q=(0,P.Z)(mn,2),F=q[0],nn=q[1],fn=(0,f.useState)(1),tn=(0,P.Z)(fn,2),Y=tn[0],en=tn[1],B=function(i){_n(i),i!=null&&i.label&&Q(i.label)},on=function(i){for(var I=[],N=0;N<b.length;N++)b[N].annotationId==i.annotationId?I.push(i):I.push(b[N]);B(i),p(I)},hn=(0,E.Z)({currentLabel:$,brushSize:F,currentTool:A,annotations:b,currentAnnotation:R,onAnnotationAdd:function(i){p(b.concat([i])),R||B(i)},onAnnotationModify:on}),Pn=(0,C.Z)({currentLabel:$,brushSize:F,currentTool:A,annotations:b,currentAnnotation:R,onAnnotationAdd:function(i){p(b.concat([i])),R||B(i)},onAnnotationModify:on}),H=A=="polygon"?Pn:hn;return(0,t.jsxs)(e.Z,{className:g().segment,children:[(0,t.jsxs)(s.Z,{children:[(0,t.jsx)(o.Z,{imgSrc:"./pics/buttons/intelligent_interaction.png",children:"Intelligent Interaction"}),(0,t.jsx)(l.Z,{active:A=="polygon",onClick:function(){V("polygon"),B(void 0)},children:"Polygon"}),(0,t.jsx)(u.Z,{size:F,active:A=="brush",onClick:function(){A!="rubber"&&A!="brush"&&B(void 0),V("brush")},onChange:function(i){nn(i)},children:"Brush"}),(0,t.jsx)(u.Z,{size:F,active:A=="rubber",onClick:function(){A!="rubber"&&A!="brush"&&B(void 0),V("rubber")},onChange:function(i){nn(i)},imgSrc:"./pics/buttons/rubber.png",children:"Rubber"}),(0,t.jsx)(o.Z,{imgSrc:"./pics/buttons/zoom_in.png",onClick:function(){en(Y+.1)},children:"Zoom in"}),(0,t.jsx)(o.Z,{imgSrc:"./pics/buttons/zoom_out.png",onClick:function(){en(Y-.1)},children:"Zoom out"}),(0,t.jsx)(o.Z,{imgSrc:"./pics/buttons/save.png",children:"Save"}),(0,t.jsx)(o.Z,{imgSrc:"./pics/buttons/move.png",children:"Move"}),(0,t.jsx)(o.Z,{imgSrc:"./pics/buttons/export.png",children:"Export"}),(0,t.jsx)(o.Z,{imgSrc:"./pics/buttons/data_division.png",children:"Divide Data"}),(0,t.jsx)(o.Z,{imgSrc:"./pics/buttons/prev.png",children:"Undo"}),(0,t.jsx)(o.Z,{imgSrc:"./pics/buttons/next.png",children:"Redo"}),(0,t.jsx)(o.Z,{imgSrc:"./pics/buttons/clear_mark.png",children:"Clear Mark"})]}),(0,t.jsxs)("div",{className:g().mainStage,children:[(0,t.jsx)("div",{className:g().draw,children:(0,t.jsx)(T.Z,{scale:Y,annotations:b,onMouseDown:H.onMouseDown,onMouseMove:H.onMouseMove,onMouseUp:H.onMouseUp})}),(0,t.jsx)("div",{className:g().pblock,children:(0,t.jsx)("div",{className:g().progress,children:(0,t.jsx)(D.Z,{percent:50,status:"active"})})})]}),(0,t.jsxs)(s.Z,{disLoc:"right",children:[(0,t.jsx)(h.Z,{imgSrc:"./pics/buttons/threshold.png",disLoc:"left",children:"Segment Threshold"}),(0,t.jsx)(h.Z,{imgSrc:"./pics/buttons/alpha.png",disLoc:"left",children:"Diaphaneity"}),(0,t.jsx)(h.Z,{imgSrc:"./pics/buttons/radius.png",disLoc:"left",children:"Visual Radius"}),(0,t.jsxs)(j.Z,{overlayInnerStyle:{borderRadius:"0.5rem"},placement:"leftTop",title:"Setting of medical",content:(0,t.jsx)(an,{}),trigger:"hover",children:[" ",(0,t.jsx)(o.Z,{imgSrc:"./pics/buttons/medical_setting.png",children:"Medical Setting"})]})]}),(0,t.jsxs)("div",{className:g().rightSideBar,children:[(0,t.jsx)("div",{className:g().determinOutline,children:(0,t.jsx)(L.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",block:!0,onClick:function(){B(void 0)},children:"Determine Outline"})}),(0,t.jsx)(v.Z,{selectedLabel:$,onLabelSelect:function(i){Q(i),B(void 0)},onLabelModify:function(){},onLabelDelete:function(){},onLabelAdd:function(){}}),(0,t.jsx)(m.Z,{selectedAnnotation:R,annotations:b,onAnnotationSelect:function(i){i!=null&&i.delete||B(i)},onAnnotationAdd:function(){},onAnnotationModify:function(){},onAnnotationDelete:function(i){p(b.filter(function(I){return I.annotationId!=i.annotationId})),B(void 0)}})]})]})},sn=ln}}]);
