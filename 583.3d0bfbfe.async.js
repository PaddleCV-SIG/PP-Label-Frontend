(self.webpackChunkpp_label_frontend=self.webpackChunkpp_label_frontend||[]).push([[583],{85024:function(N){N.exports={listItem:"listItem___u4Q82",eye:"eye___BwaRm",delete:"delete___31JB_",roundBall:"roundBall___23A7l",popover:"popover___1BNET",annotationId:"annotationId___zAzX4",labelName:"labelName___2ohxn",listItemActive:"listItemActive___2QnA3"}},56159:function(N){N.exports={labelList:"labelList___v7C6K",listHeader:"listHeader___1aY8R",eye:"eye___2MKbp",roundBall:"roundBall___187XH"}},26647:function(N){N.exports={toolBarButtonContainerWrapper:"toolBarButtonContainerWrapper___1FTWb",toolBarButtonContainer:"toolBarButtonContainer___1Vahn",toolBarButton:"toolBarButton___3mR2H",buttonText:"buttonText___Y0WDm",toolBarButtonContainerWrapperActive:"toolBarButtonContainerWrapperActive___3lRZ8",popover:"popover___3zzu2",slider:"slider___ALra-",popoverLeft:"popoverLeft___15lGe"}},6277:function(N){N.exports={modal:"modal___26yNn"}},45092:function(N){N.exports={modal:"modal___1H_FQ"}},8978:function(N,$,n){"use strict";n.d($,{Z:function(){return q}});var H=n(8870),X=n(2824),en=n(91220),G=n(67294),z=n(85893);function f(t){if(!t||!t.width||!t.color||!t.points||t.points.length<2||t.frontendId==null)return"";var v=t.type=="rubber"?0:t.frontendId;return"".concat(t.width,",").concat(v,",").concat(t.points.join(","))}function d(t){var v,a=t.canvasRef,c=t.annotation,s=c.result;if(!s)return(0,z.jsx)(z.Fragment,{});var E=(v=a.current)===null||v===void 0?void 0:v.getContext("2d");if(!E)return(0,z.jsx)(z.Fragment,{});for(var h=[],C=0,i=0;i<s.length;i++)s.at(i)==","?(h.push(parseFloat(s.slice(C,i))),C=i+1):s.at(i)=="|"?(h.push(parseFloat(s.slice(C,i))),P(h,E,c),h=[],C=i+1):i==s.length-1&&(h.push(parseFloat(s.slice(C,s.length))),P(h,E,c));return(0,z.jsx)(z.Fragment,{})}function P(t,v,a){var c;if(t.length<4){console.log("found incorrect points:",t);return}var s=t[0],E=t[1];if(s==0){var h;R(v,t.slice(2),(h=a.label)===null||h===void 0?void 0:h.color);return}if(E==0){x(v,s,t.slice(2),void 0);return}x(v,s,t.slice(2),(c=a.label)===null||c===void 0?void 0:c.color)}function x(t,v,a,c){t.beginPath(),t.moveTo(a[0],a[1]);for(var s=0;s<=a.length/2-1;s++){var E=a[2*s],h=a[2*s+1];t.lineTo(E,h)}t.lineCap="round",t.lineJoin="round",t.lineWidth=v,c&&(t.strokeStyle=c),t.globalCompositeOperation=c?"source-over":"destination-out",t.stroke()}function R(t,v,a){t.globalCompositeOperation=a?"source-over":"destination-out",a&&(t.fillStyle=a);for(var c=0;c<=v.length/2-1;c++){var s=v[2*c],E=v[2*c+1];t.fillRect(s,E,1,1)}}function Y(t){if(!t||t.length==0)return 0;var v=0,a=(0,en.Z)(t),c;try{for(a.s();!(c=a.n()).done;){var s=c.value;s.frontendId>v&&(v=s.frontendId)}}catch(E){a.e(E)}finally{a.f()}return v}function U(t,v){return t=="rubber"||v==2?"rubber":"brush"}function q(t){var v=(0,G.useState)(),a=(0,X.Z)(v,2),c=a[0],s=a[1],E=function(_){var m,I;if(!(t.currentTool!="brush"&&t.currentTool!="rubber"||!((m=t.currentLabel)!==null&&m!==void 0&&m.color)||!t.brushSize)){var o=_.mouseX,T=_.mouseY,L=U(t.currentTool,_.e.evt.button),M=t.frontendIdOps.frontendId>0?t.frontendIdOps.frontendId:Y(t.annotations)+1;M!=t.frontendIdOps.frontendId&&t.frontendIdOps.setFrontendId(M);var b=f({width:t.brushSize||10,color:(I=t.currentLabel)===null||I===void 0?void 0:I.color,points:[o,T,o,T],type:L,frontendId:M});if(console.log(b),!!b){s(L);var O={dataId:t.dataId,label:t.currentLabel,frontendId:M,result:b};t.onAnnotationAdd(O)}}},h=function(_){var m;if(!(!c||!t.currentAnnotation||!t.currentAnnotation.result||t.currentAnnotation.result.length<2||!((m=t.currentLabel)!==null&&m!==void 0&&m.color))){var I=_.mouseX,o=_.mouseY,T=t.currentAnnotation.result+",".concat(I,",").concat(o);t.onAnnotationModify((0,H.Z)((0,H.Z)({},t.currentAnnotation),{},{result:T}))}},C=function(){t.currentTool!="brush"&&t.currentTool!="rubber"||(s(void 0),t.onMouseUp())};return{onMouseDown:E,onMouseMove:h,onMouseUp:C,drawAnnotation:d}}},14836:function(N,$,n){"use strict";n.d($,{Z:function(){return C}});var H=n(54421),X=n(38272),en=n(57663),G=n(71577),z=n(91220),f=n(67294),d=n(56159),P=n.n(d),x=n(49111),R=n(19650),Y=n(2824),U=n(8870),q=n(85024),t=n.n(q),v=n(63097),a=n(85893),c=function(_){var m=(0,U.Z)({},_.annotation),I=(0,f.useState)(m.invisible),o=(0,Y.Z)(I,2),T=o[0],L=o[1],M=(0,f.useState)(0),b=(0,Y.Z)(M,2),O=b[0],S=b[1];(0,f.useEffect)(function(){L(_.annotation.invisible)},[_.annotation.invisible]);var A=(0,a.jsxs)(X.ZP.Item,{className:"".concat(t().listItem," ").concat(_.active?t().listItemActive:""),unselectable:"on",onClick:function(){_.onClick(m)},children:[(0,a.jsxs)(R.Z,{align:"center",size:5,children:[(0,a.jsx)("a",{className:t().eye,style:{backgroundImage:T?"url(./pics/hide.png)":"url(./pics/show.png)"},onClick:function(l){l.stopPropagation(),L(!T),_.onAnnotationModify(m)}})," ",(0,a.jsx)("span",{className:t().annotationId,children:m.frontendId}),(0,a.jsx)("span",{className:t().labelName,children:m.label.name}),(0,a.jsx)(v.Z,{color:m.label.color})]}),(0,a.jsx)("a",{className:t().delete,onClick:function(l){l.stopPropagation();var g=new Date().getTime();g-O<300||(S(g),_.onAnnotationDelete(m))}})]});return A},s=c,E=n(48971),h=function(_){var m=(0,E.YB)(),I=m.formatMessage({id:"component.PPAnnotationList.annotationList"}),o=m.formatMessage({id:"component.PPAnnotationList.addAnnotation"}),T=new Set,L=[],M=(0,z.Z)(_.annotations),b;try{for(M.s();!(b=M.n()).done;){var O=b.value;T.has(O.frontendId)||(L.push(O),T.add(O.frontendId))}}catch(S){M.e(S)}finally{M.f()}return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(X.ZP,{className:P().labelList,size:"large",header:(0,a.jsx)("div",{className:P().listHeader,children:I}),bordered:!0,dataSource:L,renderItem:function(A){var e;return(0,a.jsx)(s,{onClick:_.onAnnotationSelect,annotation:A,active:A.frontendId==((e=_.currAnnotation)===null||e===void 0?void 0:e.frontendId),onAnnotationDelete:_.onAnnotationDelete,onAnnotationModify:_.onAnnotationModify})},footer:(0,a.jsx)("div",{children:(0,a.jsx)(G.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",onClick:function(){_.onAnnotationAdd()},block:!0,children:o})})})})},C=h},27992:function(N,$,n){"use strict";var H=n(20136),X=n(55241),en=n(13062),G=n(71230),z=n(77883),f=n(70507),d=n(89032),P=n(15746),x=n(66126),R=n(75454),Y=n(2824),U=n(67294),q=n(61541),t=n(26647),v=n.n(t),a=n(85893),c=0,s=100,E=10,h=function(i){var _=(0,U.useState)(b(i.size)),m=(0,Y.Z)(_,2),I=m[0],o=m[1];function T(O){o(b(O))}var L=i.minSize==null?c:i.minSize,M=i.maxSize==null?s:i.maxSize;function b(O){return O==null?E:O<=L?L:O>=M?M:O}return(0,U.useEffect)(function(){T(i.size)},[i.size]),(0,a.jsxs)(X.Z,{overlayClassName:"".concat(v().popover," ").concat(i.disLoc=="left"?v().popoverLeft:""),placement:i.disLoc||"right",content:(0,a.jsxs)(G.Z,{children:[(0,a.jsx)(P.Z,{span:16,children:(0,a.jsx)(R.Z,{className:v().slider,value:I,max:M,min:L,onChange:function(S){var A;(A=i.onChange)===null||A===void 0||A.call(0,S)},tooltipVisible:!1})}),(0,a.jsx)(P.Z,{span:8,children:(0,a.jsx)(f.Z,{min:L,max:M,value:I,onChange:function(S){var A;(A=i.onChange)===null||A===void 0||A.call(0,S)},step:10})})]}),trigger:"hover",children:[" ",(0,a.jsx)(q.Z,{imgSrc:i.imgSrc||"",onClick:i.onClick,active:i.active,children:i.children})]})};$.Z=h},85871:function(N,$,n){"use strict";var H=n(71194),X=n(50146),en=n(49111),G=n(19650),z=n(57663),f=n(71577),d=n(13062),P=n(71230),x=n(89032),R=n(15746),Y=n(77883),U=n(70507),q=n(34792),t=n(48086),v=n(9715),a=n(93766),c=n(2824),s=n(67294),E=n(48971),h=n(6277),C=n.n(h),i=n(85893),_=function(I){var o=(0,E.YB)(),T=(0,s.useState)(60),L=(0,c.Z)(T,2),M=L[0],b=L[1],O=(0,s.useState)(20),S=(0,c.Z)(O,2),A=S[0],e=S[1],l=(0,s.useState)(20),g=(0,c.Z)(l,2),D=g[0],j=g[1],W=(0,s.useState)(!1),K=(0,c.Z)(W,2),Q=K[0],F=K[1],V=o.formatMessage({id:"pages.toolBar.divideData"}),B=o.formatMessage({id:"component.PPDivideDataModal.train"}),on=o.formatMessage({id:"component.PPDivideDataModal.validation"}),rn=o.formatMessage({id:"component.PPDivideDataModal.test"}),k=o.formatMessage({id:"component.PPCreater.cancel"}),an=o.formatMessage({id:"component.PPSegMode.ok"}),y=a.Z.useForm(),J=(0,c.Z)(y,1),ln=J[0];return(0,i.jsx)(X.Z,{className:C().modal,title:V,visible:I.visible,onCancel:I.onCancel,footer:null,children:(0,i.jsxs)(a.Z,{form:ln,name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!1},onFinish:function(){if(M+A+D!=100){t.default.error("Train, Validation and Test total percent should equal 100!");return}console.log("x trainData: ".concat(M,", validationData: ").concat(A,", testData: ").concat(D,", props.project.curr.projectId: ").concat(I.project.curr.projectId)),F(!0),I.splitDataset(I.project.curr.projectId,{train:M*.01,val:A*.01,test:D*.01}).then(function(){var nn;console.log("success"),t.default.success(o.formatMessage({id:"component.PPDivideDataModal.success"})),(nn=I.onFinish)===null||nn===void 0||nn.call(0)}).finally(function(){F(!1)})},autoComplete:"off",layout:"vertical",children:[(0,i.jsxs)(P.Z,{children:[(0,i.jsx)(R.Z,{span:8,children:(0,i.jsx)(a.Z.Item,{label:B,name:"train",children:(0,i.jsx)(U.Z,{addonAfter:"%",defaultValue:60,precision:0,min:0,max:100,value:M,onChange:b})})}),(0,i.jsx)(R.Z,{span:8,children:(0,i.jsx)(a.Z.Item,{label:on,name:"validation",children:(0,i.jsx)(U.Z,{addonAfter:"%",defaultValue:20,precision:0,min:0,max:100,value:A,onChange:e})})}),(0,i.jsx)(R.Z,{span:8,children:(0,i.jsx)(a.Z.Item,{label:rn,name:"test",children:(0,i.jsx)(U.Z,{addonAfter:"%",defaultValue:20,precision:0,min:0,max:100,value:D,onChange:j})})})]}),(0,i.jsx)(a.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,i.jsxs)(G.Z,{children:[(0,i.jsx)(f.Z,{onClick:function(){var nn;(nn=I.onCancel)===null||nn===void 0||nn.call(0),ln.resetFields()},children:k}),(0,i.jsx)(f.Z,{type:"primary",htmlType:"submit",loading:Q,children:an})]})})]})})};$.Z=_},62850:function(N,$,n){"use strict";var H=n(71194),X=n(50146),en=n(49111),G=n(19650),z=n(57663),f=n(71577),d=n(47673),P=n(24044),x=n(34792),R=n(48086),Y=n(9715),U=n(93766),q=n(2824),t=n(67294),v=n(48971),a=n(45092),c=n.n(a),s=n(85893),E=function(C){var i=(0,v.YB)(),_=(0,t.useState)(!1),m=(0,q.Z)(_,2),I=m[0],o=m[1],T=i.formatMessage({id:"component.PPCreater.cancel"}),L=U.Z.useForm(),M=(0,q.Z)(L,1),b=M[0];return(0,s.jsx)(X.Z,{className:c().modal,title:i.formatMessage({id:"component.PPExportModal.title"}),visible:C.visible,onCancel:C.onCancel,footer:null,children:(0,s.jsxs)(U.Z,{form:b,name:"basic",labelCol:{span:6},wrapperCol:{span:16},initialValues:{remember:!1},onFinish:function(S){console.log(S);var A=S.path;if(!A){R.default.error(i.formatMessage({id:"component.PPExportModal.pathNotNull"}));return}o(!0),C.exportDataset(C.project.curr.projectId,A).then(function(){var e;R.default.success(i.formatMessage({id:"component.PPExportModal.exportSuccess"})),(e=C.onFinish)===null||e===void 0||e.call(0)}).finally(function(){o(!1)})},autoComplete:"off",children:[(0,s.jsx)(U.Z.Item,{label:i.formatMessage({id:"component.PPExportModal.path"}),name:"path",children:(0,s.jsx)(P.Z,{})}),(0,s.jsx)(U.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,s.jsxs)(G.Z,{children:[(0,s.jsx)(f.Z,{onClick:function(){var S;(S=C.onCancel)===null||S===void 0||S.call(0),b.resetFields()},children:T}),(0,s.jsx)(f.Z,{type:"primary",htmlType:"submit",loading:I,children:i.formatMessage({id:"component.PPExportModal.export"})})]})})]})})};$.Z=E},91861:function(N,$,n){"use strict";n.d($,{Ad:function(){return X},k3:function(){return en},Vd:function(){return G},td:function(){return z}});var H=40;function X(){localStorage.removeItem("history"),en([])}function en(f){var d=localStorage.getItem("history"),P=d?JSON.parse(d):{index:-1,items:[]};if(JSON.stringify(P.items[P.index])!=JSON.stringify(f)){var x=P.index>H?P.index-H:0,R=P.items.splice(x,P.index==0?1:P.index+1);P.items=R.concat([f]),P.index<=H?P.index++:P.index=H+1,localStorage.setItem("history",JSON.stringify(P))}}function G(){var f=localStorage.getItem("history");if(!!f){var d=JSON.parse(f);if(!!d&&!(d.index>=d.items.length-1))return d.index++,localStorage.setItem("history",JSON.stringify(d)),d.items[d.index]}}function z(){var f=localStorage.getItem("history");if(!!f){var d=JSON.parse(f);if(!(!d||!d.index)&&!(d.index<=0))return d.index--,localStorage.setItem("history",JSON.stringify(d)),d.items[d.index]}}},44583:function(N,$,n){"use strict";n.r($),n.d($,{MOST_HISTORY_STEPS:function(){return O},default:function(){return A}});var H=n(91220),X=n(57663),en=n(71577),G=n(34669),z=n(54458),f=n(2824),d=n(67294),P=n(8088),x=n(61541),R=n(44434),Y=n(27992),U=n(5041),q=n(57436),t=n(14836),v=n(48971),a=n(91861),c=n(85871),s=n(62850),E=n(8978),h=n(8870),C=n(65031);function i(e){var l=0;if(!e)return l;var g=_createForOfIteratorHelper(e),D;try{for(g.s();!(D=g.n()).done;){var j=D.value;!j||!j.frontendId||j.frontendId>l&&(l=j.frontendId)}}catch(W){g.e(W)}finally{g.f()}return l}function _(e){var l=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return l?{r:parseInt(l[1],16),g:parseInt(l[2],16),b:parseInt(l[3],16)}:null}function m(e){var l=e.toString(16);return l.length==1?"0"+l:l}function I(e,l,g){return"#"+m(e)+m(l)+m(g)}var o=n(85893);function T(e,l){if(!(!e||!l))return{color:e,points:l}}function L(e){if(!e.annotation||!e.annotation.lines||!e.annotation.lines[0])return(0,o.jsx)(o.Fragment,{});var l=e.annotation.lines[0].points,g=e.annotation.lines[0].color,D=_(g);if(!D)return(0,o.jsx)(o.Fragment,{});var j=.3,W=void 0,K=[];return l.forEach(function(Q,F){if(!W){W=Q;return}K.push((0,o.jsx)(C.Cd,{onMouseDown:function(){e.currentTool=="editor"&&e.onSelect(e.annotation)},draggable:e.currentTool=="editor",onDragMove:function(B){var on;B.cancelBubble=!0;var rn=(on=e.stageRef)===null||on===void 0?void 0:on.current,k=rn.findOne(".baseImage"),an=!1,y=B.target.x();y>k.width()/2&&(y=k.width()/2,an=!0),y<-k.width()/2&&(y=-k.width()/2,an=!0);var J=B.target.y();J>k.height()/2&&(J=k.height()/2,an=!0),J<-k.height()/2&&(J=-k.height()/2,an=!0),an&&B.target.setPosition({x:y,y:J}),l[F-1]=y,l[F]=J;var ln=(0,h.Z)((0,h.Z)({},e.annotation),{},{points:[{color:g,points:l}]});e.onDrag(ln)},onMouseOver:function(){var B;e.currentTool=="editor"&&(B=e.stageRef)!==null&&B!==void 0&&B.current&&(e.stageRef.current.container().style.cursor="cell")},onMouseOut:function(){var B;e.currentTool=="editor"&&(B=e.stageRef)!==null&&B!==void 0&&B.current&&(e.stageRef.current.container().style.cursor="default")},x:W,y:Q,radius:5/e.scale,fill:g})),W=void 0}),(0,o.jsxs)(C.ZA,{children:[(0,o.jsx)(C.x1,{onMouseOver:function(){e.currentTool=="editor"&&(document.body.style.cursor="pointer")},onMouseOut:function(){document.body.style.cursor="default"},onClick:function(){e.currentTool=="editor"&&e.onSelect(e.annotation)},stroke:g,strokeWidth:2/e.scale,globalCompositeOperation:"source-over",lineCap:"round",points:l,tension:0,closed:!0,fill:"rgba(".concat(D.r,", ").concat(D.g,", ").concat(D.b,", ").concat(j,")")}),K]},e.annotation.frontendId)}function M(e){var l=0;if(!e)return l;var g=(0,H.Z)(e),D;try{for(g.s();!(D=g.n()).done;){var j=D.value;!j||!j.frontendId||j.frontendId>l&&(l=j.frontendId)}}catch(W){g.e(W)}finally{g.f()}return l}function b(e){var l=function(K,Q){var F,V=T((F=e.currentLabel)===null||F===void 0?void 0:F.color,[K,Q]);!V||e.onAnnotationAdd({dataId:e.dataId,type:"polygon",frontendId:M(e.annotations)+1,label:e.currentLabel,lines:[V]})},g=function(K,Q){var F,V;if(!!e.currentAnnotation){var B=e.currentAnnotation.lines||[],on=T((F=e.currentLabel)===null||F===void 0?void 0:F.color,(V=B[0])===null||V===void 0?void 0:V.points.concat([K,Q]));if(!!on){var rn={dataId:e.dataId,type:"polygon",frontendId:e.currentAnnotation.frontendId,label:e.currentAnnotation.label,points:[on]};e.onAnnotationModify(rn)}}},D=function(K){e.currentTool=="polygon"&&(e.currentAnnotation?g(K.mouseX,K.mouseY):l(K.mouseX,K.mouseY))},j=function(){e.currentTool=="polygon"&&e.onMouseUp()};return{onMouseDown:D,onMouseMove:function(){},onMouseUp:j,drawAnnotation:L}}var O=40,S=function(){var l=(0,d.useState)([]),g=(0,f.Z)(l,2),D=g[0],j=g[1],W=(0,d.useState)(!1),K=(0,f.Z)(W,2),Q=K[0],F=K[1],V=(0,d.useState)(!1),B=(0,f.Z)(V,2),on=B[0],rn=B[1],k=(0,d.useState)(void 0),an=(0,f.Z)(k,2),y=an[0],J=an[1],ln=(0,d.useState)(new Set),un=(0,f.Z)(ln,2),nn=un[0],bn=un[1],Bn=(0,d.useState)(),gn=(0,f.Z)(Bn,2),dn=gn[0],jn=gn[1],Zn=(0,d.useState)([]),Mn=(0,f.Z)(Zn,2),tn=Mn[0],sn=Mn[1],Rn=(0,d.useState)(0),hn=(0,f.Z)(Rn,2),En=hn[0],cn=hn[1],Un=(0,d.useState)(10),Cn=(0,f.Z)(Un,2),mn=Cn[0],In=Cn[1],Wn=(0,d.useState)(60),Dn=(0,f.Z)(Wn,2),On=Dn[0],Kn=Dn[1],Fn=(0,d.useState)(1),An=(0,f.Z)(Fn,2),fn=An[0],Pn=An[1],xn=function(r){r||Pn(1),r<.1||r>20?Pn(1):Pn(r)},vn=function(r){var w=new Set;r!=null&&r.labelId&&w.add(r.labelId),bn(w),console.log(w,r)},p=function(r){jn(r),r!=null&&r.label&&vn(r.label),cn(r?r.frontendId:0)};(0,d.useEffect)(function(){(0,a.Ad)()},[]);var Sn=function(r){tn.pop(),tn.push(r),p(r),sn(tn)},yn={dataId:0,currentLabel:D.at(nn.values().next().value),brushSize:mn,scale:fn,currentTool:y,annotations:tn,currentAnnotation:dn,onAnnotationAdd:function(r){var w=tn.concat([r]);sn(w),p(r)},onAnnotationModify:Sn,onMouseUp:function(){(0,a.k3)({annos:tn,currAnno:dn})},frontendIdOps:{frontendId:En,setFrontendId:cn}},Z=(0,v.YB)(),pn=(0,E.Z)(yn),Nn=b(yn),zn=y=="polygon"?Nn:pn;return(0,o.jsxs)(P.Z,{className:"segment",children:[(0,o.jsxs)(R.Z,{children:[(0,o.jsx)(x.Z,{imgSrc:"./pics/buttons/polygon.png",active:y=="polygon",onClick:function(){J("polygon"),p(void 0)},children:Z.formatMessage({id:"pages.toolBar.polygon"})}),(0,o.jsx)(x.Z,{active:y=="editor",imgSrc:"./pics/buttons/edit.png",onClick:function(){J("editor"),p(void 0)},children:Z.formatMessage({id:"pages.toolBar.edit"})}),(0,o.jsx)(Y.Z,{imgSrc:"./pics/buttons/brush.png",size:mn,active:y=="brush",onClick:function(){y!="rubber"&&y!="brush"&&p(void 0),J("brush")},onChange:function(r){In(r)},children:Z.formatMessage({id:"pages.toolBar.brush"})}),(0,o.jsx)(Y.Z,{size:mn,active:y=="rubber",onClick:function(){y!="rubber"&&y!="brush"&&p(void 0),J("rubber")},onChange:function(r){In(r)},imgSrc:"./pics/buttons/rubber.png",children:Z.formatMessage({id:"pages.toolBar.rubber"})}),(0,o.jsx)(x.Z,{imgSrc:"./pics/buttons/zoom_in.png",onClick:function(){xn(fn+.1)},children:Z.formatMessage({id:"pages.toolBar.zoomIn"})}),(0,o.jsx)(x.Z,{imgSrc:"./pics/buttons/zoom_out.png",onClick:function(){xn(fn-.1)},children:Z.formatMessage({id:"pages.toolBar.zoomOut"})}),(0,o.jsx)(x.Z,{imgSrc:"./pics/buttons/save.png",children:Z.formatMessage({id:"pages.toolBar.save"})}),(0,o.jsx)(x.Z,{active:y=="mover",imgSrc:"./pics/buttons/move.png",onClick:function(){J("mover")},children:Z.formatMessage({id:"pages.toolBar.move"})}),(0,o.jsx)(x.Z,{imgSrc:"./pics/buttons/prev.png",onClick:function(){var r=(0,a.td)();r&&(sn(r.annos),p(r.currAnno))},children:Z.formatMessage({id:"pages.toolBar.unDo"})}),(0,o.jsx)(x.Z,{imgSrc:"./pics/buttons/next.png",onClick:function(){var r=(0,a.Vd)();r&&(sn(r.annos),p(r.currAnno))},children:Z.formatMessage({id:"pages.toolBar.reDo"})}),(0,o.jsx)(x.Z,{imgSrc:"./pics/buttons/clear_mark.png",children:Z.formatMessage({id:"pages.toolBar.clearMark"})})]}),(0,o.jsxs)("div",{id:"dr",className:"mainStage",children:[(0,o.jsx)("div",{className:"draw",children:(0,o.jsx)(q.Z,{scale:fn,annotations:tn,currentTool:y,currentAnnotation:dn,setCurrentAnnotation:p,onAnnotationModify:Sn,onAnnotationModifyComplete:function(){(0,a.k3)({annos:tn,currAnno:dn})},frontendIdOps:{frontendId:En,setFrontendId:cn},imgSrc:void 0,transparency:On,onAnnotationAdd:function(r){var w=tn.concat([r]);sn(w),dn||p(r)},drawTool:zn})}),(0,o.jsx)("div",{className:"pblock",children:(0,o.jsxs)("div",{className:"progress",children:[(0,o.jsx)(z.Z,{className:"progressBar",percent:10,status:"active",showInfo:!1})," ",(0,o.jsx)("span",{className:"progressDesc",children:"Current labeling 1 of 300. Already labeled 20."})]})}),(0,o.jsx)("div",{className:"prevTask",onClick:function(){!task.prevTask()||(p(void 0),sn([]))}}),(0,o.jsx)("div",{className:"nextTask",onClick:function(){!task.nextTask()||(p(void 0),sn([]))}})]}),(0,o.jsxs)(R.Z,{disLoc:"right",children:[(0,o.jsx)(x.Z,{imgSrc:"./pics/buttons/intelligent_interaction.png",children:Z.formatMessage({id:"pages.toolBar.interactor"})}),(0,o.jsx)(Y.Z,{imgSrc:"./pics/buttons/threshold.png",disLoc:"left",children:Z.formatMessage({id:"pages.toolBar.segmentThreshold"})}),(0,o.jsx)(Y.Z,{imgSrc:"./pics/buttons/alpha.png",disLoc:"left",size:On,maxSize:100,minSize:0,onChange:function(r){Kn(r)},children:Z.formatMessage({id:"pages.toolBar.transparency"})}),(0,o.jsx)(Y.Z,{imgSrc:"./pics/buttons/radius.png",disLoc:"left",children:Z.formatMessage({id:"pages.toolBar.visualRadius"})}),(0,o.jsx)(x.Z,{imgSrc:"./pics/buttons/data_division.png",onClick:function(){F(!0)},children:Z.formatMessage({id:"pages.toolBar.divideData"})}),(0,o.jsx)(x.Z,{imgSrc:"./pics/buttons/export.png",onClick:function(){rn(!0)},children:Z.formatMessage({id:"pages.toolBar.export"})})]}),(0,o.jsxs)("div",{className:"rightSideBar",children:[(0,o.jsx)("div",{className:"determinOutline",children:(0,o.jsx)(en.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",block:!0,onClick:function(){p(void 0)},children:Z.formatMessage({id:"pages.toolBar.determineOutline"})})}),(0,o.jsx)(U.Z,{labels:D,activeIds:nn,onLabelSelect:function(r){vn(r),p(void 0)},onLabelModify:function(){},onLabelDelete:function(r){var w=[],_n=(0,H.Z)(D),Ln;try{for(_n.s();!(Ln=_n.n()).done;){var Tn=Ln.value;Tn.labelId!=r.labelId&&w.push(Tn)}}catch($n){_n.e($n)}finally{_n.f()}j(w),r.labelId&&nn.has(r.labelId)&&vn(void 0)},onLabelAdd:function(r){D.push(r),j(D),vn(r),p(void 0)}}),(0,o.jsx)(t.Z,{currAnnotation:dn,annotations:tn,onAnnotationSelect:function(r){r!=null&&r.delete||p(r)},onAnnotationAdd:function(){},onAnnotationModify:function(){},onAnnotationDelete:function(r){sn(tn.filter(function(w){return w.frontendId!=r.frontendId})),p(void 0)}})]}),(0,o.jsx)(c.Z,{visible:Q,onCancel:function(){F(!1)},onFinish:function(){F(!1)}}),(0,o.jsx)(s.Z,{visible:on,onCancel:function(){rn(!1)},onFinish:function(){rn(!1)}})]})},A=S}}]);
