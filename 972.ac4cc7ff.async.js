(self.webpackChunkpp_labeling_frontend=self.webpackChunkpp_labeling_frontend||[]).push([[972],{85024:function(i){i.exports={listItem:"listItem___u4Q82",eye:"eye___BwaRm",delete:"delete___31JB_",roundBall:"roundBall___23A7l",popover:"popover___1BNET",annotationId:"annotationId___zAzX4",labelName:"labelName___2ohxn",listItemActive:"listItemActive___2QnA3"}},56159:function(i){i.exports={labelList:"labelList___v7C6K",listHeader:"listHeader___1aY8R",eye:"eye___2MKbp",roundBall:"roundBall___187XH"}},57560:function(i){i.exports={toolBarButtonContainerWrapper:"toolBarButtonContainerWrapper___147XP",toolBarButtonContainer:"toolBarButtonContainer___ZEvhK",toolBarButton:"toolBarButton___1s2Rh",buttonText:"buttonText___3NTCv",toolBarButtonContainerWrapperActive:"toolBarButtonContainerWrapperActive___2Utx8",popover:"popover___3PRoi"}},52822:function(i){i.exports={roundBall:"roundBall___1pqu1",popover:"popover___1-PR6"}},5882:function(i){i.exports={listItem:"listItem___vtDXn",eye:"eye___AsLBS",roundBall:"roundBall___1J_R3",popover:"popover___1x-2R",listItemActive:"listItemActive___3FRb7"}},56131:function(i){i.exports={labelList:"labelList___jvD05",listHeader:"listHeader___UM5UF",eye:"eye___II3Po",roundBall:"roundBall___j752J"}},78677:function(i){i.exports={container:"container___G0FNe"}},83930:function(i){i.exports={stage:"stage___3H5QL"}},80961:function(i){i.exports={leftToolbar:"leftToolbar___1xi4t",rightToolbar:"rightToolbar___3dNSB"}},82499:function(i){i.exports={toolBarButtonContainerWrapper:"toolBarButtonContainerWrapper___1SHWL",toolBarButtonContainer:"toolBarButtonContainer___1jKUz",toolBarButton:"toolBarButton___3Ouq1",buttonText:"buttonText___10ls7",toolBarButtonContainerWrapperActive:"toolBarButtonContainerWrapperActive___3AA28"}},14836:function(i,b,n){"use strict";n.d(b,{Z:function(){return c}});var T=n(54421),L=n(38272),h=n(57663),C=n(71577),s=n(67294),r=n(56159),P=n.n(r),v=n(49111),x=n(19650),j=n(2824),t=n(11849),o=n(85024),a=n.n(o),d=n(63097),e=n(85893),m=function(l){var _=(0,t.Z)({},l.annotation),A=(0,s.useState)(_.invisible),B=(0,j.Z)(A,2),D=B[0],u=B[1];(0,s.useEffect)(function(){u(l.annotation.invisible)},[l.annotation.invisible]);var M=(0,e.jsxs)(L.ZP.Item,{className:"".concat(a().listItem," ").concat(l.active?a().listItemActive:""),unselectable:"on",onClick:function(){l.onClick(_)},children:[(0,e.jsxs)(x.Z,{align:"center",size:5,children:[(0,e.jsx)("a",{className:a().eye,style:{backgroundImage:D?"url(./pics/hide.png)":"url(./pics/show.png)"},onClick:function(){u(!D),l.onAnnotationModify(_)}})," ",(0,e.jsx)("span",{className:a().annotationId,children:_.annotationId}),(0,e.jsx)("span",{className:a().labelName,children:_.label.name}),(0,e.jsx)(d.Z,{color:_.label.color})]}),(0,e.jsx)("a",{className:a().delete,onClick:function(){_.delete=!0,l.onAnnotationDelete(_)}})]});return M},O=m,g=function(l){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(L.ZP,{className:P().labelList,size:"large",header:(0,e.jsx)("div",{className:P().listHeader,children:"Annotation List"}),bordered:!0,dataSource:l.annotations,renderItem:function(A){var B;return(0,e.jsx)(O,{onClick:l.onAnnotationSelect,annotation:A,active:A.annotationId==((B=l.selectedAnnotation)===null||B===void 0?void 0:B.annotationId),onAnnotationDelete:l.onAnnotationDelete,onAnnotationModify:l.onAnnotationModify})},footer:(0,e.jsx)("div",{children:(0,e.jsx)(C.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",onClick:function(){l.onAnnotationSelect(void 0)},block:!0,children:"Add Annotation"})})})})},c=g},43801:function(i,b,n){"use strict";n.d(b,{Z:function(){return j}});var T=n(11849),L=n(2824),h=n(91220),C=n(67294),s=n(65031),r=n(85893);function P(t,o,a,d){if(!(!t||!o||!a||!d))return{width:t,color:o,points:a,tool:d,element:(0,r.jsx)(s.x1,{stroke:o,strokeWidth:t,globalCompositeOperation:d==="brush"?"source-over":"destination-out",lineCap:"round",points:a,tension:.01})}}function v(t,o){return t=="rubber"||o==2?"rubber":"brush"}function x(t){var o=0,a=(0,h.Z)(t),d;try{for(a.s();!(d=a.n()).done;){var e=d.value;!e||e.annotationId>o&&(o=e.annotationId)}}catch(m){a.e(m)}finally{a.f()}return o}function j(t){var o=(0,C.useState)(),a=(0,L.Z)(o,2),d=a[0],e=a[1],m=function(E,l){var _;if(console.log(t.currentTool),!(t.currentTool!="brush"&&t.currentTool!="rubber")){var A=E.evt.offsetX/l,B=E.evt.offsetY/l,D=v(t.currentTool,E.evt.button),u=P(t.brushSize||10,(_=t.currentLabel)===null||_===void 0?void 0:_.color,[A,B,A,B],D);if(!!u)if(e(D),t.currentAnnotation){var M,N={annotationId:t.currentAnnotation.annotationId,label:t.currentAnnotation.label,lines:(M=t.currentAnnotation.lines)===null||M===void 0?void 0:M.concat([u])};t.onAnnotationModify(N)}else{if(D=="rubber")return;t.onAnnotationAdd({annotationId:x(t.annotations)+1,label:t.currentLabel,lines:[u]})}}},O=function(E,l){var _;if(!(!d||!t.currentAnnotation)){var A=E.evt.offsetX/l,B=E.evt.offsetY/l,D=[A,B],u=[];(_=t.currentAnnotation)!==null&&_!==void 0&&_.lines&&(D=t.currentAnnotation.lines[t.currentAnnotation.lines.length-1].points.concat(D),u=t.currentAnnotation.lines);var M=P(t.brushSize||10,t.currentLabel.color,D,d);!M||(u.pop(),u.push(M),t.onAnnotationModify((0,T.Z)((0,T.Z)({},t.currentAnnotation),{},{lines:u})))}},g=function(){t.currentTool!="brush"&&t.currentTool!="rubber"||e(void 0)};return{onMouseDown:m,onMouseMove:O,onMouseUp:g}}},58967:function(i,b,n){"use strict";var T=n(20136),L=n(55241),h=n(77883),C=n(70507),s=n(57663),r=n(71577),P=n(2824),v=n(67294),x=n(61541),j=n(57560),t=n.n(j),o=n(85893),a=1,d=50,e=10;function m(g){return g?g<=a?a:g>=d?d:g:e}var O=function(c){var E=(0,v.useState)(m(c.size)),l=(0,P.Z)(E,2),_=l[0],A=l[1],B=function(u){A(m(u))};return(0,v.useEffect)(function(){B(c.size)},[c.size]),(0,o.jsxs)(L.Z,{overlayClassName:t().popover,placement:"right",content:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r.Z,{type:"text",onClick:function(){var u,M=m(_-1);B(M),(u=c.onChange)===null||u===void 0||u.call(0,M)},children:"-"}),(0,o.jsx)(C.Z,{min:a,max:d,value:_,onChange:function(u){var M;(M=c.onChange)===null||M===void 0||M.call(0,u)},controls:!1,style:{textAlign:"center"}}),(0,o.jsx)(r.Z,{type:"text",onClick:function(){var u,M=m(_+1);B(M),(u=c.onChange)===null||u===void 0||u.call(0,M)},children:"+"})]}),trigger:c.active?"hover":"click",children:[" ",(0,o.jsx)(x.Z,{active:c.active,imgSrc:c.imgSrc||"./pics/buttons/brush.png",onClick:c.onClick,children:c.children||"Brush"})]})};b.Z=O},63097:function(i,b,n){"use strict";var T=n(20136),L=n(55241),h=n(2824),C=n(67294),s=n(52822),r=n.n(s),P=n(63144),v=n(85893),x=function(t){var o=(0,C.useState)(t.color||"#FFF"),a=(0,h.Z)(o,2),d=a[0],e=a[1];return(0,C.useEffect)(function(){e(t.color||"#FFF")},[t]),t.changeable?(0,v.jsx)(L.Z,{getPopupContainer:function(O){return O.parentElement||document.body},overlayClassName:r().popover,openClassName:r().popoverOpenClassName,placement:"bottom",content:(0,v.jsx)(P.xS,{disableAlpha:!0,color:d,onChange:function(O){e(O.hex)},onChangeComplete:t.onChange}),trigger:"click",children:(0,v.jsx)("div",{className:r().roundBall,style:{backgroundColor:d}})}):(0,v.jsx)("div",{className:r().roundBall,style:{backgroundColor:d}})};b.Z=x},5041:function(i,b,n){"use strict";n.d(b,{Z:function(){return X}});var T=n(54421),L=n(38272),h=n(57663),C=n(71577),s=n(2824),r=n(67294),P=n(56131),v=n.n(P),x=n(49111),j=n(19650),t=n(11849),o=n(5882),a=n.n(o),d=n(63097),e=n(85893),m=function(f){var I=(0,t.Z)({},f.label),U=(0,r.useState)(I.invisible),y=(0,s.Z)(U,2),R=y[0],z=y[1],S=(0,e.jsx)(L.ZP.Item,{className:"".concat(a().listItem," ").concat(f.active?a().listItemActive:""),unselectable:"on",onClick:function(){f.onClick(I)},children:(0,e.jsxs)(j.Z,{align:"center",size:5,children:[(0,e.jsx)("a",{className:a().eye,style:{backgroundImage:R?"url(./pics/hide.png)":"url(./pics/show.png)"},onClick:function(){z(!R),f.onLabelModify(I)}})," ",I.name,(0,e.jsx)(d.Z,{color:I.color,changeable:!0,onChange:function(Z){I.color=Z.hex,f.onLabelModify(I)}})]})});return S},O=m,g=n(71194),c=n(50146),E=n(47673),l=n(24044),_=n(9715),A=n(93766),B=["#FF0000","#008000","#0000FF","#FFFF00","#FFA500","#00FFFF","#8B00FF","#FFC0CB","#7CFC00","#007FFF","#800080","#36BF36","#DAA520","#800000","#008B8B","#B22222","#E6D933","#000080","#FF00FF","#FFFF99","#87CEEB","#5C50E6","#CD5C5C","#20B2AA","#E680FF","#4D1F00","#006374","#B399FF","#8B4513","#BA55D3","#C0C0C0","#808080","#000000"],D=function(f){var I,U,y=(0,r.useState)(((I=f.defaultLabel)===null||I===void 0?void 0:I.color)||B[f.order||0]),R=(0,s.Z)(y,2),z=R[0],S=R[1];(0,r.useEffect)(function(){var F;S(((F=f.defaultLabel)===null||F===void 0?void 0:F.color)||B[f.order||0])},[f]);var $=A.Z.useForm(),Z=(0,s.Z)($,1),K=Z[0];return(0,e.jsx)(c.Z,{title:"Add Label",visible:f.visible,onCancel:f.onCancel,footer:null,children:(0,e.jsxs)(A.Z,{form:K,name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!1,labelname:(U=f.defaultLabel)===null||U===void 0?void 0:U.name},onFinish:function(W){var Y={name:W.labelname,color:z};f.onLabelAdd(Y),K.resetFields()},autoComplete:"off",children:[(0,e.jsx)(A.Z.Item,{label:"Label Name",name:"labelname",rules:[{required:!0,message:"Please input label name!"}],children:(0,e.jsx)(l.Z,{})}),(0,e.jsx)(A.Z.Item,{label:"Select Color",name:"color",children:(0,e.jsx)(d.Z,{color:z,onChange:function(W){S(W.hex)}})}),(0,e.jsx)(A.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,e.jsxs)(j.Z,{children:[(0,e.jsx)(C.Z,{onClick:function(){var W;(W=f.onCancel)===null||W===void 0||W.call(0),K.resetFields()},children:"\u53D6\u6D88"}),(0,e.jsx)(C.Z,{type:"primary",htmlType:"submit",children:"\u786E\u5B9A"})]})})]})})},u=D,M=[{color:"#FF0000",name:"Label 1"},{color:"#008000",name:"Label 2"}],N=function(f){var I=(0,r.useState)(M),U=(0,s.Z)(I,2),y=U[0],R=U[1],z=(0,r.useState)(!1),S=(0,s.Z)(z,2),$=S[0],Z=S[1];return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(L.ZP,{className:v().labelList,size:"large",header:(0,e.jsx)("div",{className:v().listHeader,children:"Label List"}),footer:(0,e.jsx)("div",{children:(0,e.jsx)(C.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",onClick:function(){Z(!0)},block:!0,children:"Add Label"})}),bordered:!0,dataSource:y,renderItem:function(F){var W;return(0,e.jsx)(O,{onClick:f.onLabelSelect,label:F,active:F.name==((W=f.selectedLabel)===null||W===void 0?void 0:W.name),onLabelDelete:f.onLabelDelete,onLabelModify:f.onLabelModify})}}),(0,e.jsx)(u,{order:y.length,visible:$,onLabelAdd:function(F){y.push(F),R(y),Z(!1)},onCancel:function(){Z(!1)}})]})},X=N},8088:function(i,b,n){"use strict";var T=n(67294),L=n(78677),h=n.n(L),C=n(85893),s=function(P){return(0,C.jsx)("div",{className:"".concat(h().container," ").concat(P.className),children:P.children})};b.Z=s},57436:function(i,b,n){"use strict";var T=n(2824),L=n(67294),h=n(65031),C=n(84420),s=n.n(C),r=n(83930),P=n.n(r),v=n(85893),x="./pics/basketball.jpg",j=function(o){var a,d=s()(x),e=(0,T.Z)(d,1),m=e[0],O=(m==null?void 0:m.width)||0,g=(m==null?void 0:m.height)||0;return(0,v.jsxs)(h.Hf,{width:O*o.scale,height:g*o.scale,className:P().stage,children:[(0,v.jsx)(h.mh,{scaleX:o.scale,scaleY:o.scale,children:(0,v.jsx)(h.Ee,{image:m})}),(0,v.jsxs)(h.mh,{scaleX:o.scale,scaleY:o.scale,onMouseDown:function(E){o.onMouseDown&&o.onMouseDown(E,o.scale)},onMouseMove:function(E){o.onMouseMove&&o.onMouseMove(E,o.scale)},onMouseUp:function(E){o.onMouseUp&&o.onMouseUp(E,o.scale)},onContextMenu:function(E){E.evt.preventDefault()},children:[(0,v.jsx)(h.Ee,{image:m}),(a=o.annotations)===null||a===void 0?void 0:a.map(function(c,E){var l;return(l=c.lines)===null||l===void 0?void 0:l.map(function(_,A){return _.element})})]})]})};b.Z=j},44434:function(i,b,n){"use strict";var T=n(67294),L=n(80961),h=n.n(L),C=n(85893),s=function(P){var v=h().leftToolbar;return P.disLoc=="right"&&(v=h().rightToolbar),(0,C.jsx)("div",{className:v,children:P.children})};b.Z=s},61541:function(i,b,n){"use strict";var T=n(49111),L=n(19650),h=n(67294),C=n(82499),s=n.n(C),r=n(85893),P=function(x){return(0,r.jsx)("div",{unselectable:"on",className:"".concat(s().toolBarButtonContainerWrapper," ").concat(x.active&&s().toolBarButtonContainerWrapperActive),onClick:x.onClick,children:(0,r.jsx)(L.Z,{align:"center",className:s().toolBarButtonContainer,size:0,children:(0,r.jsxs)(L.Z,{align:"center",direction:"vertical",className:s().toolBarButton,size:0,children:[(0,r.jsx)("img",{src:x.imgSrc}),(0,r.jsx)("div",{className:s().buttonText,children:x.children})]})})})};b.Z=P}}]);
