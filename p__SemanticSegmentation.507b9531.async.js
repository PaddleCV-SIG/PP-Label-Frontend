(self.webpackChunkpp_labeling_frontend=self.webpackChunkpp_labeling_frontend||[]).push([[540],{85024:function(s){s.exports={listItem:"listItem___u4Q82",eye:"eye___BwaRm",roundBall:"roundBall___23A7l",popover:"popover___1BNET",listItemActive:"listItemActive___2QnA3"}},56159:function(s){s.exports={labelList:"labelList___v7C6K",listHeader:"listHeader___1aY8R",eye:"eye___2MKbp",roundBall:"roundBall___187XH"}},57560:function(s){s.exports={toolBarButtonContainerWrapper:"toolBarButtonContainerWrapper___147XP",toolBarButtonContainer:"toolBarButtonContainer___ZEvhK",toolBarButton:"toolBarButton___1s2Rh",buttonText:"buttonText___3NTCv",toolBarButtonContainerWrapperActive:"toolBarButtonContainerWrapperActive___2Utx8",popover:"popover___3PRoi"}},52822:function(s){s.exports={roundBall:"roundBall___1pqu1",popover:"popover___1-PR6"}},5882:function(s){s.exports={listItem:"listItem___vtDXn",eye:"eye___AsLBS",roundBall:"roundBall___1J_R3",popover:"popover___1x-2R",listItemActive:"listItemActive___3FRb7"}},56131:function(s){s.exports={labelList:"labelList___jvD05",listHeader:"listHeader___UM5UF",eye:"eye___II3Po",roundBall:"roundBall___j752J"}},78677:function(s){s.exports={container:"container___G0FNe"}},83930:function(s){s.exports={stage:"stage___3H5QL"}},80961:function(s){s.exports={toolbar:"toolbar___3vxli"}},82499:function(s){s.exports={toolBarButtonContainerWrapper:"toolBarButtonContainerWrapper___1SHWL",toolBarButtonContainer:"toolBarButtonContainer___1jKUz",toolBarButton:"toolBarButton___3Ouq1",buttonText:"buttonText___10ls7",toolBarButtonContainerWrapperActive:"toolBarButtonContainerWrapperActive___3AA28"}},54777:function(s){s.exports={segment:"segment___1YMcl",mainStage:"mainStage___2otee",rightSideBar:"rightSideBar___2X7jK",determinOutline:"determinOutline___2ls57"}},58967:function(s,M,n){"use strict";var Q=n(20136),m=n(19181),U=n(77883),f=n(70507),a=n(57663),o=n(71577),x=n(2824),_=n(67294),j=n(61541),v=n(57560),O=n.n(v),E=n(85893),D=1,h=50,l=10;function I(z){return z?z<=D?D:z>=h?h:z:l}var W=function(e){var w=(0,_.useState)(I(e.size)),V=(0,x.Z)(w,2),J=V[0],y=V[1];return(0,_.useEffect)(function(){y(I(e.size))},[e.size]),(0,E.jsxs)(m.Z,{overlayClassName:O().popover,placement:"right",content:(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(o.Z,{type:"text",onClick:function(){var B,L=I(J-1);y(L),(B=e.onChange)===null||B===void 0||B.call(0,L)},children:"-"}),(0,E.jsx)(f.Z,{min:D,max:h,value:J,onChange:function(B){var L;(L=e.onChange)===null||L===void 0||L.call(0,B)},controls:!1,style:{textAlign:"center"}}),(0,E.jsx)(o.Z,{type:"text",onClick:function(){var B,L=I(J+1);y(L),(B=e.onChange)===null||B===void 0||B.call(0,L)},children:"+"})]}),trigger:e.active?"hover":"click",children:[" ",(0,E.jsx)(j.Z,{active:e.active,imgSrc:"./pics/buttons/brush.png",onClick:e.onClick,children:"Brush"})]})};M.Z=W},63097:function(s,M,n){"use strict";var Q=n(20136),m=n(19181),U=n(2824),f=n(67294),a=n(52822),o=n.n(a),x=n(63144),_=n(85893),j=function(O){var E=(0,f.useState)(O.color||"#FFF"),D=(0,U.Z)(E,2),h=D[0],l=D[1];return(0,f.useEffect)(function(){l(O.color||"#FFF")},[O]),O.changeable?(0,_.jsx)(m.Z,{getPopupContainer:function(W){return W.parentElement||document.body},overlayClassName:o().popover,openClassName:o().popoverOpenClassName,placement:"bottom",content:(0,_.jsx)(x.xS,{disableAlpha:!0,color:h,onChange:function(W){l(W.hex)},onChangeComplete:O.onChange}),trigger:"click",children:(0,_.jsx)("div",{className:o().roundBall,style:{backgroundColor:h}})}):(0,_.jsx)("div",{className:o().roundBall,style:{backgroundColor:h}})};M.Z=j},5041:function(s,M,n){"use strict";n.d(M,{Z:function(){return an}});var Q=n(54421),m=n(38272),U=n(57663),f=n(71577),a=n(2824),o=n(67294),x=n(56131),_=n.n(x),j=n(49111),v=n(19650),O=n(11849),E=n(5882),D=n.n(E),h=n(63097),l=n(85893),I=function(i){var g=(0,O.Z)({},i.label),F=(0,o.useState)(g.invisible),S=(0,a.Z)(F,2),R=S[0],$=S[1],T=(0,l.jsx)(m.ZP.Item,{className:"".concat(D().listItem," ").concat(i.active?D().listItemActive:""),unselectable:"on",onClick:function(){i.onClick(g)},children:(0,l.jsxs)(v.Z,{align:"center",size:5,children:[(0,l.jsx)("a",{className:D().eye,style:{backgroundImage:R?"url(./pics/hide.png)":"url(./pics/show.png)"},onClick:function(){$(!R),i.onLabelModify(g)}})," ",g.name,(0,l.jsx)(h.Z,{color:g.color,changeable:!0,onChange:function(K){g.color=K.hex,i.onLabelModify(g)}})]})});return T},W=I,z=n(71194),e=n(48889),w=n(47673),V=n(24044),J=n(9715),y=n(93766),H=["#FF0000","#008000","#0000FF","#FFFF00","#FFA500","#00FFFF","#8B00FF","#FFC0CB","#7CFC00","#007FFF","#800080","#36BF36","#DAA520","#800000","#008B8B","#B22222","#E6D933","#000080","#FF00FF","#FFFF99","#87CEEB","#5C50E6","#CD5C5C","#20B2AA","#E680FF","#4D1F00","#006374","#B399FF","#8B4513","#BA55D3","#C0C0C0","#808080","#000000"],B=function(i){var g,F,S=(0,o.useState)(((g=i.defaultLabel)===null||g===void 0?void 0:g.color)||H[i.order||0]),R=(0,a.Z)(S,2),$=R[0],T=R[1];(0,o.useEffect)(function(){var u;T(((u=i.defaultLabel)===null||u===void 0?void 0:u.color)||H[i.order||0])},[i]);var X=y.Z.useForm(),K=(0,a.Z)(X,1),N=K[0];return(0,l.jsx)(e.Z,{title:"Add Label",visible:i.visible,onCancel:i.onCancel,footer:null,children:(0,l.jsxs)(y.Z,{form:N,name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!1,labelname:(F=i.defaultLabel)===null||F===void 0?void 0:F.name},onFinish:function(t){var c={name:t.labelname,color:$};i.onLabelAdd(c),N.resetFields()},autoComplete:"off",children:[(0,l.jsx)(y.Z.Item,{label:"Label Name",name:"labelname",rules:[{required:!0,message:"Please input label name!"}],children:(0,l.jsx)(V.Z,{})}),(0,l.jsx)(y.Z.Item,{label:"Select Color",name:"color",children:(0,l.jsx)(h.Z,{color:$,onChange:function(t){T(t.hex)}})}),(0,l.jsx)(y.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,l.jsxs)(v.Z,{children:[(0,l.jsx)(f.Z,{onClick:function(){var t;(t=i.onCancel)===null||t===void 0||t.call(0),N.resetFields()},children:"\u53D6\u6D88"}),(0,l.jsx)(f.Z,{type:"primary",htmlType:"submit",children:"\u786E\u5B9A"})]})})]})})},L=B,un=[{color:"#FF0000",name:"Label 1"},{color:"#008000",name:"Label 2"}],on=function(i){var g=(0,o.useState)(un),F=(0,a.Z)(g,2),S=F[0],R=F[1],$=(0,o.useState)(!1),T=(0,a.Z)($,2),X=T[0],K=T[1];return(0,o.useEffect)(function(){i.selectedLabel||i.onLabelSelect(S[0])},[S,i]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(m.ZP,{className:_().labelList,size:"large",header:(0,l.jsx)("div",{className:_().listHeader,children:"Label List"}),footer:(0,l.jsx)("div",{children:(0,l.jsx)(f.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",onClick:function(){K(!0)},block:!0,children:"Add Label"})}),bordered:!0,dataSource:S,renderItem:function(u){var t;return(0,l.jsx)(W,{onClick:i.onLabelSelect,label:u,active:u.name==((t=i.selectedLabel)===null||t===void 0?void 0:t.name),onLabelDelete:i.onLabelDelete,onLabelModify:i.onLabelModify})}}),(0,l.jsx)(L,{order:S.length,visible:X,onLabelAdd:function(u){S.push(u),R(S),K(!1)},onCancel:function(){K(!1)}})]})},an=on},8088:function(s,M,n){"use strict";var Q=n(67294),m=n(78677),U=n.n(m),f=n(85893),a=function(x){return(0,f.jsx)("div",{className:"".concat(U().container," ").concat(x.className),children:x.children})};M.Z=a},44434:function(s,M,n){"use strict";var Q=n(67294),m=n(80961),U=n.n(m),f=n(85893),a=function(x){return(0,f.jsx)("div",{className:U().toolbar,children:x.children})};M.Z=a},61541:function(s,M,n){"use strict";var Q=n(49111),m=n(19650),U=n(67294),f=n(82499),a=n.n(f),o=n(85893),x=function(j){return(0,o.jsx)("div",{unselectable:"on",className:"".concat(a().toolBarButtonContainerWrapper," ").concat(j.active&&a().toolBarButtonContainerWrapperActive),onClick:j.onClick,children:(0,o.jsx)(m.Z,{align:"center",className:a().toolBarButtonContainer,size:0,children:(0,o.jsxs)(m.Z,{align:"center",direction:"vertical",className:a().toolBarButton,size:0,children:[(0,o.jsx)("img",{src:j.imgSrc}),(0,o.jsx)("div",{className:a().buttonText,children:j.children})]})})})};M.Z=x},87517:function(s,M,n){"use strict";n.r(M),n.d(M,{default:function(){return N}});var Q=n(57663),m=n(71577),U=n(20136),f=n(19181),a=n(2824),o=n(67294),x=n(54777),_=n.n(x),j=n(8088),v=n(61541),O=n(44434),E=n(58967),D=n(5041),h=n(65031),l=n(84420),I=n.n(l),W=n(83930),z=n.n(W),e=n(85893),w="./pics/basketball.jpg",V=function(t){var c=I()(w),Z=(0,a.Z)(c,1),d=Z[0],p=(d==null?void 0:d.width)||0,A=(d==null?void 0:d.height)||0;return(0,e.jsx)(h.Hf,{width:p,height:A,className:z().stage,children:(0,e.jsxs)(h.mh,{onMouseDown:function(b){t.onMouseDown&&t.onMouseDown(b)},onMouseMove:function(b){t.onMouseMove&&t.onMouseMove(b)},onMouseUp:function(b){t.onMouseUp&&t.onMouseUp(b)},children:[(0,e.jsx)(h.Ee,{image:d}),t.elements.map(function(r,b){return r})]})})},J=V,y=n(54421),H=n(38272),B=n(56159),L=n.n(B),un=n(49111),on=n(19650),an=n(11849),q=n(85024),i=n.n(q),g=n(63097),F=function(t){var c=(0,an.Z)({},t.annotation),Z=(0,o.useState)(c.invisible),d=(0,a.Z)(Z,2),p=d[0],A=d[1];(0,o.useEffect)(function(){A(t.annotation.invisible)},[t.annotation.invisible]);var r=(0,e.jsx)(H.ZP.Item,{className:"".concat(i().listItem," ").concat(t.active?i().listItemActive:""),unselectable:"on",onClick:function(){t.onClick(c)},children:(0,e.jsxs)(on.Z,{align:"center",size:5,children:[(0,e.jsx)("a",{className:i().eye,style:{backgroundImage:p?"url(./pics/hide.png)":"url(./pics/show.png)"},onClick:function(){A(!p),t.onAnnotationModify(c)}})," ",c.label.name,(0,e.jsx)(g.Z,{color:c.label.name})]})});return r},S=F,R=function(t){var c=(0,o.useState)([]),Z=(0,a.Z)(c,1),d=Z[0];return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(H.ZP,{className:L().labelList,size:"large",header:(0,e.jsx)("div",{className:L().listHeader,children:"Annotation List"}),bordered:!0,dataSource:d,renderItem:function(A){var r;return(0,e.jsx)(S,{onClick:t.onAnnotationSelect,annotation:A,active:A.annotationId==((r=t.selectedAnnotation)===null||r===void 0?void 0:r.annotationId),onAnnotationDelete:t.onAnnotationDelete,onAnnotationModify:t.onAnnotationModify})},footer:(0,e.jsx)("div",{children:(0,e.jsx)(m.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",onClick:function(){t.onAnnotationSelect(void 0)},block:!0,children:"Add Annotation"})})})})},$=R;function T(u,t,c){return(0,e.jsx)(h.x1,{stroke:"#df4b26",strokeWidth:u,globalCompositeOperation:"source-over",lineCap:"round",points:t,tension:.01},c)}function X(u){var t=(0,o.useState)(!1),c=(0,a.Z)(t,2),Z=c[0],d=c[1],p=(0,o.useState)([]),A=(0,a.Z)(p,2),r=A[0],b=A[1],ln=(0,o.useState)([]),G=(0,a.Z)(ln,2),sn=G[0],k=G[1],rn=function(C){d(!0),k([C.evt.offsetX,C.evt.offsetY,C.evt.offsetX,C.evt.offsetY]);var P=T(u.brushSize||10,[C.evt.offsetX,C.evt.offsetY,C.evt.offsetX,C.evt.offsetY],r.length);r.push(P),b(r)},nn=function(C){if(!!Z){var P=sn.concat([C.evt.offsetX,C.evt.offsetY]);k(P);var Y=T(u.brushSize||10,P,r.length-1);r.pop(),r.push(Y),b(r)}},en=function(){d(!1),k([])};return{elements:r,onMouseDown:rn,onMouseMove:nn,onMouseUp:en}}var K=function(){var t=(0,o.useState)(void 0),c=(0,a.Z)(t,2),Z=c[0],d=c[1],p=(0,o.useState)(),A=(0,a.Z)(p,2),r=A[0],b=A[1],ln=(0,o.useState)(),G=(0,a.Z)(ln,2),sn=G[0],k=G[1],rn=(0,o.useState)(10),nn=(0,a.Z)(rn,2),en=nn[0],tn=nn[1],C=X({currentLabel:r,brushSize:en});return(0,e.jsxs)(j.Z,{className:_().segment,children:[(0,e.jsxs)(O.Z,{children:[(0,e.jsx)(v.Z,{imgSrc:"./pics/buttons/intelligent_interaction.png",children:"Intelligent Interaction"}),(0,e.jsx)(v.Z,{active:Z=="polygon",imgSrc:"./pics/buttons/polygon.png",onClick:function(){d("polygon")},children:"Polygon"}),(0,e.jsx)(E.Z,{size:en,active:Z=="brush",onClick:function(){d("brush")},onChange:function(Y){tn(Y)}}),(0,e.jsxs)(f.Z,{placement:"rightTop",title:"title",content:"content",trigger:Z=="rubber"?"hover":"click",children:[" ",(0,e.jsx)(v.Z,{imgSrc:"./pics/buttons/rubber.png",onClick:function(){d("rubber")},children:"Rubber"})]}),(0,e.jsx)(v.Z,{imgSrc:"./pics/buttons/zoom_in.png",children:"Zoom in"}),(0,e.jsx)(v.Z,{imgSrc:"./pics/buttons/zoom_out.png",children:"Zoom out"}),(0,e.jsx)(v.Z,{imgSrc:"./pics/buttons/save.png",children:"Save"}),(0,e.jsx)(v.Z,{imgSrc:"./pics/buttons/move.png",children:"Move"}),(0,e.jsx)(v.Z,{imgSrc:"./pics/buttons/export.png",children:"Export"}),(0,e.jsx)(v.Z,{imgSrc:"./pics/buttons/data_division.png",children:"Divide Data"}),(0,e.jsx)(v.Z,{imgSrc:"./pics/buttons/prev.png",children:"Undo"}),(0,e.jsx)(v.Z,{imgSrc:"./pics/buttons/next.png",children:"Redo"}),(0,e.jsx)(v.Z,{imgSrc:"./pics/buttons/clear_mark.png",children:"Clear Mark"})]}),(0,e.jsx)("div",{className:_().mainStage,children:(0,e.jsx)(J,{elements:C.elements,onMouseDown:C.onMouseDown,onMouseMove:C.onMouseMove,onMouseUp:C.onMouseUp})}),(0,e.jsxs)("div",{className:_().rightSideBar,children:[(0,e.jsx)("div",{className:_().determinOutline,children:(0,e.jsx)(m.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",block:!0,children:"Determine Outline"})}),(0,e.jsx)(D.Z,{selectedLabel:r,onLabelSelect:function(Y){b(Y)},onLabelModify:function(){},onLabelDelete:function(){},onLabelAdd:function(){}}),(0,e.jsx)($,{selectedAnnotation:sn,onAnnotationSelect:function(Y){k(Y)},onAnnotationAdd:function(){},onAnnotationModify:function(){},onAnnotationDelete:function(){}})]})]})},N=K}}]);
