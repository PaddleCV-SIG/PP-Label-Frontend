(self.webpackChunkpp_labeling_frontend=self.webpackChunkpp_labeling_frontend||[]).push([[123],{26647:function(a){a.exports={toolBarButtonContainerWrapper:"toolBarButtonContainerWrapper___1FTWb",toolBarButtonContainer:"toolBarButtonContainer___1Vahn",toolBarButton:"toolBarButton___3mR2H",buttonText:"buttonText___Y0WDm",toolBarButtonContainerWrapperActive:"toolBarButtonContainerWrapperActive___3lRZ8",popover:"popover___3zzu2",popoverLeft:"popoverLeft___15lGe"}},52822:function(a){a.exports={roundBall:"roundBall___1pqu1",popover:"popover___1-PR6"}},32495:function(a){a.exports={listItem:"listItem___1MXXF",eye:"eye___3nddM",delete:"delete___y9u-D",roundBall:"roundBall___DMczd",popover:"popover___E0HLD",annotationId:"annotationId___1ks8N",labelName:"labelName___130ie",listItemActive:"listItemActive___1rNB-"}},38670:function(a){a.exports={labelList:"labelList___3uLRO",listHeader:"listHeader___1ZPcO",eye:"eye___2yUvw",roundBall:"roundBall___1xKCU"}},5882:function(a){a.exports={listItem:"listItem___vtDXn",eye:"eye___AsLBS",roundBall:"roundBall___1J_R3",popover:"popover___1x-2R",listItemActive:"listItemActive___3FRb7"}},56131:function(a){a.exports={labelList:"labelList___jvD05",listHeader:"listHeader___UM5UF",eye:"eye___II3Po",roundBall:"roundBall___j752J"}},78677:function(a){a.exports={container:"container___G0FNe"}},80961:function(a){a.exports={leftToolbar:"leftToolbar___1xi4t",rightToolbar:"rightToolbar___3dNSB"}},82499:function(a){a.exports={toolBarButtonContainerWrapper:"toolBarButtonContainerWrapper___1SHWL",toolBarButtonContainer:"toolBarButtonContainer___1jKUz",toolBarButton:"toolBarButton___3Ouq1",buttonText:"buttonText___10ls7",toolBarButtonContainerWrapperActive:"toolBarButtonContainerWrapperActive___3AA28"}},72869:function(a){a.exports={map:"map___92VPN",customControlIcon:"customControlIcon___3Ki2y"}},20474:function(a){a.exports={RSPop1:"RSPop1___vz5Me",RSPop2:"RSPop2___34pQA"}},87610:function(a){a.exports={RSPop1:"RSPop1___1iBEf",RSPop2:"RSPop2___1W841",RSPop3:"RSPop3___1Whcp"}},27992:function(a,C,n){"use strict";var Z=n(20136),i=n(55241),O=n(77883),c=n(70507),u=n(57663),l=n(71577),v=n(2824),t=n(67294),L=n(61541),s=n(26647),P=n.n(s),_=n(85893),h=1,r=100,o=10;function A(d){return d?d<=h?h:d>=r?r:d:o}var j=function(E){var e=(0,t.useState)(A(E.size)),M=(0,v.Z)(e,2),x=M[0],D=M[1],B=function(f){D(A(f))};return(0,t.useEffect)(function(){B(E.size)},[E.size]),(0,_.jsxs)(i.Z,{overlayClassName:"".concat(P().popover," ").concat(E.disLoc=="left"?P().popoverLeft:""),placement:E.disLoc||"right",content:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(l.Z,{type:"text",onClick:function(){var f,p=A(x-1);B(p),(f=E.onChange)===null||f===void 0||f.call(0,p)},children:"-"}),(0,_.jsx)(c.Z,{min:h,max:r,value:x,onChange:function(f){var p;(p=E.onChange)===null||p===void 0||p.call(0,f)},controls:!1,style:{textAlign:"center"}}),(0,_.jsx)(l.Z,{type:"text",onClick:function(){var f,p=A(x+1);B(p),(f=E.onChange)===null||f===void 0||f.call(0,p)},children:"+"})]}),trigger:"hover",children:[" ",(0,_.jsx)(L.Z,{imgSrc:E.imgSrc,onClick:E.onClick,children:E.children})]})};C.Z=j},63097:function(a,C,n){"use strict";var Z=n(20136),i=n(55241),O=n(2824),c=n(67294),u=n(52822),l=n.n(u),v=n(63144),t=n(85893),L=function(P){var _=(0,c.useState)(P.color||"#FFF"),h=(0,O.Z)(_,2),r=h[0],o=h[1];return(0,c.useEffect)(function(){o(P.color||"#FFF")},[P]),P.changeable?(0,t.jsx)(i.Z,{getPopupContainer:function(j){return j.parentElement||document.body},overlayClassName:l().popover,openClassName:l().popoverOpenClassName,placement:"bottom",content:(0,t.jsx)(v.xS,{disableAlpha:!0,color:r,onChange:function(j){o(j.hex)},onChangeComplete:P.onChange}),trigger:"click",children:(0,t.jsx)("div",{className:l().roundBall,style:{backgroundColor:r}})}):(0,t.jsx)("div",{className:l().roundBall,style:{backgroundColor:r}})};C.Z=L},51327:function(a,C,n){"use strict";n.d(C,{Z:function(){return d}});var Z=n(54421),i=n(38272),O=n(57663),c=n(71577),u=n(67294),l=n(38670),v=n.n(l),t=n(49111),L=n(19650),s=n(11849),P=n(32495),_=n.n(P),h=n(63097),r=n(85893),o=function(e){var M=(0,s.Z)({},e.annotation),x=!1,D=(0,r.jsxs)(i.ZP.Item,{className:"".concat(_().listItem," ").concat(e.active?_().listItemActive:""),unselectable:"on",onClick:function(){e.onClick(M)},children:[(0,r.jsxs)(L.Z,{align:"center",size:5,children:[(0,r.jsx)("a",{className:_().eye,style:{backgroundImage:x?"url(./pics/hide.png)":"url(./pics/show.png)"},onClick:function(){e.onAnnotationModify(M)}})," ",(0,r.jsx)("span",{className:_().annotationId,children:M.properties.annotationId}),(0,r.jsx)("span",{className:_().labelName,children:M.properties.labelName}),(0,r.jsx)(h.Z,{color:M.properties.stroke})]}),(0,r.jsx)("a",{className:_().delete,onClick:function(){e.onAnnotationDelete(M)}})]});return D},A=o,j=function(e){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(i.ZP,{className:v().labelList,size:"large",header:(0,r.jsx)("div",{className:v().listHeader,children:"Annotation List"}),bordered:!0,dataSource:e.annotations.features,renderItem:function(x){return(0,r.jsx)(A,{onClick:e.onAnnotationSelect,annotation:x,active:!1,onAnnotationDelete:e.onAnnotationDelete,onAnnotationModify:e.onAnnotationModify})},footer:(0,r.jsx)("div",{children:(0,r.jsx)(c.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",onClick:function(){e.onAnnotationSelect(void 0)},block:!0,children:"Add Annotation"})})})})},d=j},5041:function(a,C,n){"use strict";n.d(C,{Z:function(){return $}});var Z=n(54421),i=n(38272),O=n(57663),c=n(71577),u=n(2824),l=n(67294),v=n(56131),t=n.n(v),L=n(49111),s=n(19650),P=n(11849),_=n(5882),h=n.n(_),r=n(63097),o=n(85893),A=function(m){var I=(0,P.Z)({},m.label),S=(0,l.useState)(I.invisible),T=(0,u.Z)(S,2),W=T[0],N=T[1],U=(0,o.jsx)(i.ZP.Item,{className:"".concat(h().listItem," ").concat(m.active?h().listItemActive:""),unselectable:"on",onClick:function(){m.onClick(I)},children:(0,o.jsxs)(s.Z,{align:"center",size:5,children:[(0,o.jsx)("a",{className:h().eye,style:{backgroundImage:W?"url(./pics/hide.png)":"url(./pics/show.png)"},onClick:function(){N(!W),m.onLabelModify(I)}})," ",I.name,(0,o.jsx)(r.Z,{color:I.color,changeable:!0,onChange:function(K){I.color=K.hex,m.onLabelModify(I)}})]})});return U},j=A,d=n(71194),E=n(50146),e=n(47673),M=n(24044),x=n(9715),D=n(93766),B=["#FF0000","#008000","#0000FF","#FFFF00","#FFA500","#00FFFF","#8B00FF","#FFC0CB","#7CFC00","#007FFF","#800080","#36BF36","#DAA520","#800000","#008B8B","#B22222","#E6D933","#000080","#FF00FF","#FFFF99","#87CEEB","#5C50E6","#CD5C5C","#20B2AA","#E680FF","#4D1F00","#006374","#B399FF","#8B4513","#BA55D3","#C0C0C0","#808080","#000000"],y=function(m){var I,S,T=(0,l.useState)(((I=m.defaultLabel)===null||I===void 0?void 0:I.color)||B[m.order||0]),W=(0,u.Z)(T,2),N=W[0],U=W[1];(0,l.useEffect)(function(){var R;U(((R=m.defaultLabel)===null||R===void 0?void 0:R.color)||B[m.order||0])},[m]);var b=D.Z.useForm(),K=(0,u.Z)(b,1),F=K[0];return(0,o.jsx)(E.Z,{title:"Add Label",visible:m.visible,onCancel:m.onCancel,footer:null,children:(0,o.jsxs)(D.Z,{form:F,name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!1,labelname:(S=m.defaultLabel)===null||S===void 0?void 0:S.name},onFinish:function(g){var H={name:g.labelname,color:N};m.onLabelAdd(H),F.resetFields()},autoComplete:"off",children:[(0,o.jsx)(D.Z.Item,{label:"Label Name",name:"labelname",rules:[{required:!0,message:"Please input label name!"}],children:(0,o.jsx)(M.Z,{})}),(0,o.jsx)(D.Z.Item,{label:"Select Color",name:"color",children:(0,o.jsx)(r.Z,{color:N,onChange:function(g){U(g.hex)}})}),(0,o.jsx)(D.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,o.jsxs)(s.Z,{children:[(0,o.jsx)(c.Z,{onClick:function(){var g;(g=m.onCancel)===null||g===void 0||g.call(0),F.resetFields()},children:"\u53D6\u6D88"}),(0,o.jsx)(c.Z,{type:"primary",htmlType:"submit",children:"\u786E\u5B9A"})]})})]})})},f=y,p=[{color:"#FF0000",name:"Label 1"},{color:"#008000",name:"Label 2"}],G=function(m){var I=(0,l.useState)(p),S=(0,u.Z)(I,2),T=S[0],W=S[1],N=(0,l.useState)(!1),U=(0,u.Z)(N,2),b=U[0],K=U[1];return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.ZP,{className:t().labelList,size:"large",header:(0,o.jsx)("div",{className:t().listHeader,children:"Label List"}),footer:(0,o.jsx)("div",{children:(0,o.jsx)(c.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",onClick:function(){K(!0)},block:!0,children:"Add Label"})}),bordered:!0,dataSource:T,renderItem:function(R){var g;return(0,o.jsx)(j,{onClick:m.onLabelSelect,label:R,active:R.name==((g=m.selectedLabel)===null||g===void 0?void 0:g.name),onLabelDelete:m.onLabelDelete,onLabelModify:m.onLabelModify})}}),(0,o.jsx)(f,{order:T.length,visible:b,onLabelAdd:function(R){T.push(R),W(T),K(!1)},onCancel:function(){K(!1)}})]})},$=G},8088:function(a,C,n){"use strict";var Z=n(67294),i=n(78677),O=n.n(i),c=n(85893),u=function(v){return(0,c.jsx)("div",{className:"".concat(O().container," ").concat(v.className),children:v.children})};C.Z=u},44434:function(a,C,n){"use strict";var Z=n(67294),i=n(80961),O=n.n(i),c=n(85893),u=function(v){var t=O().leftToolbar;return v.disLoc=="right"&&(t=O().rightToolbar),(0,c.jsx)("div",{className:t,children:v.children})};C.Z=u},61541:function(a,C,n){"use strict";var Z=n(49111),i=n(19650),O=n(67294),c=n(82499),u=n.n(c),l=n(85893),v=function(L){return(0,l.jsx)("div",{unselectable:"on",className:"".concat(u().toolBarButtonContainerWrapper," ").concat(L.active&&u().toolBarButtonContainerWrapperActive),onClick:L.onClick,children:(0,l.jsx)(i.Z,{align:"center",className:u().toolBarButtonContainer,size:0,children:(0,l.jsxs)(i.Z,{align:"center",direction:"vertical",className:u().toolBarButton,size:0,children:[(0,l.jsx)("img",{src:L.imgSrc}),(0,l.jsx)("div",{className:u().buttonText,children:L.children})]})})})};C.Z=v},37233:function(a,C,n){"use strict";n.d(C,{Z:function(){return A}});var Z=n(67294),i=n(11849),O=n(93224),c=n(41004),u=n(72869),l=n.n(u),v=n(74607),t=n(85893),L=function(d){var E=d.children,e=d.leafletMapRef,M=(0,O.Z)(d,["children","leafletMapRef"]);return Z.useEffect(function(){if(e.current){var x=e.current.leafletElement;x.pm.addControls({drawMarker:!1,drawCircle:!1,drawCircleMarker:!1,drawPolyline:!1,drawRectangle:!1,drawPolygon:!1,editMode:!1,dragMode:!1,cutPolygon:!0,rotateMode:!1,removalMode:!1}),x.pm.setGlobalOptions({pmIgnore:!1}),x.pm.Toolbar.createCustomControl({name:"StoreShapes",title:"Store all shapes",block:"custom",className:l().customControlIcon,toggle:!1,afterClick:function(){var B=JSON.stringify(x.pm.getGeomanDrawLayers(!0).toGeoJSON()),y="data.geojson",f=document.createElement("a");f.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(B)),f.setAttribute("download",y),f.style.display="none",document.body.appendChild(f),f.click(),console.log(B)}}),x.on("pm:create",function(D){d.onShapeCreate(D)}),x.on("pm:edit",function(D){d.onShapeEdit(D)})}},[]),(0,t.jsx)(c.Z,(0,i.Z)((0,i.Z)({ref:e},M),{},{children:E}))},s=L,P=n(88014),_=n(16072),h=n(18836),r={lat:0,lng:0,zoom:2},o=function(d){var E=[r.lat,r.lng];return(0,t.jsx)(s,{leafletMapRef:d.leafletMapRef,className:l().map,center:E,zoom:r.zoom,onShapeCreate:d.onShapeCreate,onShapeEdit:d.onShapeEdit,children:(0,t.jsxs)(P.Z,{position:"topright",children:[(0,t.jsx)(P.Z.BaseLayer,{checked:!0,name:"TianDiTu.Vector",children:(0,t.jsxs)(_.Z,{attribution:'\xA9 <a href="https://www.tianditu.gov.cn/">TianDiTu</a> GS(2021)3715',children:[(0,t.jsx)(h.Z,{url:"https://t2.tianditu.gov.cn/DataServer?T=vec_w&X={x}&Y={y}&L={z}&tk=8e879a4cad078fd3ce7456f2737fc4cc"}),(0,t.jsx)(h.Z,{url:"https://t2.tianditu.gov.cn/DataServer?T=cva_w&X={x}&Y={y}&L={z}&tk=8e879a4cad078fd3ce7456f2737fc4cc"})]})}),(0,t.jsx)(P.Z.BaseLayer,{name:"OpenStreetMap.Mapnik",children:(0,t.jsx)(h.Z,{attribution:'\xA9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})}),(0,t.jsx)(P.Z.Overlay,{name:"Esri.WorldImagery",children:(0,t.jsx)(h.Z,{attribution:"Tiles \xA9 Esri \u2014 Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community",url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"})})]})})},A=o},49813:function(a,C,n){"use strict";var Z=n(47673),i=n(24044),O=n(13062),c=n(71230),u=n(59250),l=n(13013),v=n(57663),t=n(71577),L=n(89032),s=n(15746),P=n(30887),_=n(54689),h=n(34792),r=n(48086),o=n(89366),A=n(57254),j=n(20474),d=n.n(j),E=n(67294),e=n(85893);function M(B){r.default.info("Click on menu item."),console.log("click",B)}var x=(0,e.jsxs)(_.Z,{onClick:M,children:[(0,e.jsx)(_.Z.Item,{icon:(0,e.jsx)(o.Z,{}),children:"1st menu item"},"1"),(0,e.jsx)(_.Z.Item,{icon:(0,e.jsx)(o.Z,{}),children:"2nd menu item"},"2"),(0,e.jsx)(_.Z.Item,{icon:(0,e.jsx)(o.Z,{}),children:"3rd menu item"},"3")]}),D=function(){return(0,e.jsxs)("div",{children:[(0,e.jsxs)(c.Z,{children:[(0,e.jsx)(s.Z,{span:12,className:d().RSPop1,children:(0,e.jsx)("span",{children:"PD parameter"})}),(0,e.jsx)(s.Z,{span:12,className:d().RSPop2,children:(0,e.jsx)(l.Z,{overlay:x,children:(0,e.jsxs)(t.Z,{style:{width:"100%"},children:["Dropdown ",(0,e.jsx)(A.Z,{})]})})})]}),(0,e.jsxs)(c.Z,{children:[(0,e.jsx)(s.Z,{span:12,className:d().RSPop1,children:(0,e.jsx)("span",{children:"Simplified distance"})}),(0,e.jsx)(s.Z,{span:12,className:d().RSPop2,children:(0,e.jsx)(i.Z,{placeholder:"Basic usage"})})]}),(0,e.jsxs)(c.Z,{children:[(0,e.jsx)(s.Z,{span:12,className:d().RSPop1,children:(0,e.jsx)("span",{children:"Simplified angle"})}),(0,e.jsx)(s.Z,{span:12,className:d().RSPop2,children:(0,e.jsx)(i.Z,{placeholder:"Basic usage"})})]}),(0,e.jsxs)(c.Z,{children:[(0,e.jsx)(s.Z,{span:12,className:d().RSPop1,children:(0,e.jsx)("span",{children:"Threshold of building simplification "})}),(0,e.jsx)(s.Z,{span:12,className:d().RSPop2,children:(0,e.jsx)(i.Z,{placeholder:"Basic usage"})})]})]})};C.Z=D},97927:function(a,C,n){"use strict";var Z=n(13062),i=n(71230),O=n(47673),c=n(24044),u=n(89032),l=n(15746),v=n(87610),t=n.n(v),L=n(67294),s=n(85893),P=function(){return(0,s.jsxs)("div",{children:[(0,s.jsxs)(i.Z,{children:[(0,s.jsx)(l.Z,{span:12,className:t().RSPop1,children:(0,s.jsx)("span",{children:"Size of Grid"})}),(0,s.jsx)(l.Z,{span:12,className:t().RSPop2,children:(0,s.jsx)(c.Z,{placeholder:"Basic usage"})})]}),(0,s.jsxs)(i.Z,{children:[(0,s.jsx)(l.Z,{span:12,className:t().RSPop1,children:(0,s.jsx)("span",{children:"Overlap of Grid"})}),(0,s.jsx)(l.Z,{span:12,className:t().RSPop2,children:(0,s.jsx)(c.Z,{placeholder:"Basic usage"})})]}),(0,s.jsx)(i.Z,{children:(0,s.jsx)("span",{className:t().RSPop3,children:"Current annotation completed 1 / 16"})})]})};C.Z=P}}]);
