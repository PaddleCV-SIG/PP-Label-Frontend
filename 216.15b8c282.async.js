(self.webpackChunkpp_labeling_frontend=self.webpackChunkpp_labeling_frontend||[]).push([[216],{85024:function(i){i.exports={listItem:"listItem___u4Q82",eye:"eye___BwaRm",delete:"delete___31JB_",roundBall:"roundBall___23A7l",popover:"popover___1BNET",annotationId:"annotationId___zAzX4",labelName:"labelName___2ohxn",listItemActive:"listItemActive___2QnA3"}},56159:function(i){i.exports={labelList:"labelList___v7C6K",listHeader:"listHeader___1aY8R",eye:"eye___2MKbp",roundBall:"roundBall___187XH"}},52822:function(i){i.exports={roundBall:"roundBall___1pqu1",popover:"popover___1-PR6"}},5882:function(i){i.exports={listItem:"listItem___vtDXn",eye:"eye___AsLBS",roundBall:"roundBall___1J_R3",popover:"popover___1x-2R",listItemActive:"listItemActive___3FRb7"}},56131:function(i){i.exports={labelList:"labelList___jvD05",listHeader:"listHeader___UM5UF",eye:"eye___II3Po",roundBall:"roundBall___j752J"}},78677:function(i){i.exports={container:"container___G0FNe"}},83930:function(i){i.exports={stage:"stage___3H5QL"}},80961:function(i){i.exports={leftToolbar:"leftToolbar___1xi4t",rightToolbar:"rightToolbar___3dNSB"}},82499:function(i){i.exports={toolBarButtonContainerWrapper:"toolBarButtonContainerWrapper___1SHWL",toolBarButtonContainer:"toolBarButtonContainer___1jKUz",toolBarButton:"toolBarButton___3Ouq1",buttonText:"buttonText___10ls7",toolBarButtonContainerWrapperActive:"toolBarButtonContainerWrapperActive___3AA28"}},14836:function(i,x,n){"use strict";n.d(x,{Z:function(){return _}});var b=n(54421),E=n(38272),m=n(57663),r=n(71577),u=n(67294),a=n(56159),L=n.n(a),f=n(49111),h=n(19650),o=n(2824),l=n(11849),t=n(85024),d=n.n(t),M=n(63097),e=n(85893),P=function(s){var A=(0,l.Z)({},s.annotation),D=(0,u.useState)(A.invisible),g=(0,o.Z)(D,2),S=g[0],N=g[1];(0,u.useEffect)(function(){N(s.annotation.invisible)},[s.annotation.invisible]);var $=(0,e.jsxs)(E.ZP.Item,{className:"".concat(d().listItem," ").concat(s.active?d().listItemActive:""),unselectable:"on",onClick:function(){s.onClick(A)},children:[(0,e.jsxs)(h.Z,{align:"center",size:5,children:[(0,e.jsx)("a",{className:d().eye,style:{backgroundImage:S?"url(./pics/hide.png)":"url(./pics/show.png)"},onClick:function(){N(!S),s.onAnnotationModify(A)}})," ",(0,e.jsx)("span",{className:d().annotationId,children:A.annotationId}),(0,e.jsx)("span",{className:d().labelName,children:A.label.name}),(0,e.jsx)(M.Z,{color:A.label.color})]}),(0,e.jsx)("a",{className:d().delete,onClick:function(){A.delete=!0,s.onAnnotationDelete(A)}})]});return $},c=P,C=function(s){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(E.ZP,{className:L().labelList,size:"large",header:(0,e.jsx)("div",{className:L().listHeader,children:"Annotation List"}),bordered:!0,dataSource:s.annotations,renderItem:function(D){var g;return(0,e.jsx)(c,{onClick:s.onAnnotationSelect,annotation:D,active:D.annotationId==((g=s.selectedAnnotation)===null||g===void 0?void 0:g.annotationId),onAnnotationDelete:s.onAnnotationDelete,onAnnotationModify:s.onAnnotationModify})},footer:(0,e.jsx)("div",{children:(0,e.jsx)(r.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",onClick:function(){s.onAnnotationSelect(void 0)},block:!0,children:"Add Annotation"})})})})},_=C},63097:function(i,x,n){"use strict";var b=n(20136),E=n(55241),m=n(2824),r=n(67294),u=n(52822),a=n.n(u),L=n(63144),f=n(85893),h=function(l){var t=(0,r.useState)(l.color||"#FFF"),d=(0,m.Z)(t,2),M=d[0],e=d[1];return(0,r.useEffect)(function(){e(l.color||"#FFF")},[l]),l.changeable?(0,f.jsx)(E.Z,{getPopupContainer:function(c){return c.parentElement||document.body},overlayClassName:a().popover,openClassName:a().popoverOpenClassName,placement:"bottom",content:(0,f.jsx)(L.xS,{disableAlpha:!0,color:M,onChange:function(c){e(c.hex)},onChangeComplete:l.onChange}),trigger:"click",children:(0,f.jsx)("div",{className:a().roundBall,style:{backgroundColor:M}})}):(0,f.jsx)("div",{className:a().roundBall,style:{backgroundColor:M}})};x.Z=h},5041:function(i,x,n){"use strict";n.d(x,{Z:function(){return X}});var b=n(54421),E=n(38272),m=n(57663),r=n(71577),u=n(2824),a=n(67294),L=n(56131),f=n.n(L),h=n(49111),o=n(19650),l=n(11849),t=n(5882),d=n.n(t),M=n(63097),e=n(85893),P=function(v){var B=(0,l.Z)({},v.label),y=(0,a.useState)(B.invisible),F=(0,u.Z)(y,2),T=F[0],R=F[1],U=(0,e.jsx)(E.ZP.Item,{className:"".concat(d().listItem," ").concat(v.active?d().listItemActive:""),unselectable:"on",onClick:function(){v.onClick(B)},children:(0,e.jsxs)(o.Z,{align:"center",size:5,children:[(0,e.jsx)("a",{className:d().eye,style:{backgroundImage:T?"url(./pics/hide.png)":"url(./pics/show.png)"},onClick:function(){R(!T),v.onLabelModify(B)}})," ",B.name,(0,e.jsx)(M.Z,{color:B.color,changeable:!0,onChange:function(W){B.color=W.hex,v.onLabelModify(B)}})]})});return U},c=P,C=n(71194),_=n(50146),I=n(47673),s=n(24044),A=n(9715),D=n(93766),g=["#FF0000","#008000","#0000FF","#FFFF00","#FFA500","#00FFFF","#8B00FF","#FFC0CB","#7CFC00","#007FFF","#800080","#36BF36","#DAA520","#800000","#008B8B","#B22222","#E6D933","#000080","#FF00FF","#FFFF99","#87CEEB","#5C50E6","#CD5C5C","#20B2AA","#E680FF","#4D1F00","#006374","#B399FF","#8B4513","#BA55D3","#C0C0C0","#808080","#000000"],S=function(v){var B,y,F=(0,a.useState)(((B=v.defaultLabel)===null||B===void 0?void 0:B.color)||g[v.order||0]),T=(0,u.Z)(F,2),R=T[0],U=T[1];(0,a.useEffect)(function(){var O;U(((O=v.defaultLabel)===null||O===void 0?void 0:O.color)||g[v.order||0])},[v]);var K=D.Z.useForm(),W=(0,u.Z)(K,1),Z=W[0];return(0,e.jsx)(_.Z,{title:"Add Label",visible:v.visible,onCancel:v.onCancel,footer:null,children:(0,e.jsxs)(D.Z,{form:Z,name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!1,labelname:(y=v.defaultLabel)===null||y===void 0?void 0:y.name},onFinish:function(j){var Y={name:j.labelname,color:R};v.onLabelAdd(Y),Z.resetFields()},autoComplete:"off",children:[(0,e.jsx)(D.Z.Item,{label:"Label Name",name:"labelname",rules:[{required:!0,message:"Please input label name!"}],children:(0,e.jsx)(s.Z,{})}),(0,e.jsx)(D.Z.Item,{label:"Select Color",name:"color",children:(0,e.jsx)(M.Z,{color:R,onChange:function(j){U(j.hex)}})}),(0,e.jsx)(D.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,e.jsxs)(o.Z,{children:[(0,e.jsx)(r.Z,{onClick:function(){var j;(j=v.onCancel)===null||j===void 0||j.call(0),Z.resetFields()},children:"\u53D6\u6D88"}),(0,e.jsx)(r.Z,{type:"primary",htmlType:"submit",children:"\u786E\u5B9A"})]})})]})})},N=S,$=[{color:"#FF0000",name:"Label 1"},{color:"#008000",name:"Label 2"}],H=function(v){var B=(0,a.useState)($),y=(0,u.Z)(B,2),F=y[0],T=y[1],R=(0,a.useState)(!1),U=(0,u.Z)(R,2),K=U[0],W=U[1];return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(E.ZP,{className:f().labelList,size:"large",header:(0,e.jsx)("div",{className:f().listHeader,children:"Label List"}),footer:(0,e.jsx)("div",{children:(0,e.jsx)(r.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",onClick:function(){W(!0)},block:!0,children:"Add Label"})}),bordered:!0,dataSource:F,renderItem:function(O){var j;return(0,e.jsx)(c,{onClick:v.onLabelSelect,label:O,active:O.name==((j=v.selectedLabel)===null||j===void 0?void 0:j.name),onLabelDelete:v.onLabelDelete,onLabelModify:v.onLabelModify})}}),(0,e.jsx)(N,{order:F.length,visible:K,onLabelAdd:function(O){F.push(O),T(F),W(!1)},onCancel:function(){W(!1)}})]})},X=H},8088:function(i,x,n){"use strict";var b=n(67294),E=n(78677),m=n.n(E),r=n(85893),u=function(L){return(0,r.jsx)("div",{className:"".concat(m().container," ").concat(L.className),children:L.children})};x.Z=u},13931:function(i,x,n){"use strict";n.d(x,{Z:function(){return h}});var b=n(91220),E=n(67294),m=n(65031),r=n(85893);function u(o){var l=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(o);return l?{r:parseInt(l[1],16),g:parseInt(l[2],16),b:parseInt(l[3],16)}:null}function a(o,l){if(!(!o||!l))return{color:o,points:l}}function L(o){if(!o)return[(0,r.jsx)(r.Fragment,{})];var l=[],t=(0,b.Z)(o),d;try{var M=function(){var c=d.value;if(!c||!c.lines||!c.lines[0])return"continue";var C=c.lines[0].points,_=c.lines[0].color,I=u(_);if(!I)return"continue";var s=void 0,A=[];C.forEach(function(D){if(!s){s=D;return}A.push((0,r.jsx)(m.Cd,{x:s,y:D,radius:5,fill:_})),s=void 0}),l.push((0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.x1,{stroke:_,strokeWidth:2,globalCompositeOperation:"source-over",lineCap:"round",points:C,tension:.01,closed:!0,fill:"rgba(".concat(I.r,", ").concat(I.g,", ").concat(I.b,", 0.5)")}),A]}))};for(t.s();!(d=t.n()).done;)var e=M()}catch(P){t.e(P)}finally{t.f()}return l}function f(o){var l=0,t=(0,b.Z)(o),d;try{for(t.s();!(d=t.n()).done;){var M=d.value;!M||M.annotationId>l&&(l=M.annotationId)}}catch(e){t.e(e)}finally{t.f()}return l}function h(o){var l=function(P,c){var C,_=P.evt.offsetX/c,I=P.evt.offsetY/c,s=a((C=o.currentLabel)===null||C===void 0?void 0:C.color,[_,I]);!s||o.onAnnotationAdd({annotationId:f(o.annotations)+1,label:o.currentLabel,lines:[s]})},t=function(P,c){var C,_;if(!!o.currentAnnotation){var I=P.evt.offsetX/c,s=P.evt.offsetY/c,A=o.currentAnnotation.lines||[],D=a((C=o.currentLabel)===null||C===void 0?void 0:C.color,(_=A[0])===null||_===void 0?void 0:_.points.concat([I,s]));if(!!D){var g={annotationId:o.currentAnnotation.annotationId,label:o.currentAnnotation.label,lines:[D]};o.onAnnotationModify(g)}}},d=function(P,c){o.currentTool=="polygon"&&(o.currentAnnotation?t(P,c):l(P,c))},M=function(){o.currentTool=="polygon"};return{onMouseDown:d,onMouseMove:function(){},onMouseUp:M,createElementsFunc:L}}},29919:function(i,x,n){"use strict";var b=n(67294),E=n(61541),m=n(85893),r=function(a){return(0,m.jsx)(E.Z,{active:a.active,imgSrc:a.imgSrc||"./pics/buttons/polygon.png",onClick:a.onClick,children:a.children})};x.Z=r},57436:function(i,x,n){"use strict";var b=n(2824),E=n(67294),m=n(65031),r=n(84420),u=n.n(r),a=n(83930),L=n.n(a),f=n(85893),h="./pics/basketball.jpg",o=function(t){var d=u()(h),M=(0,b.Z)(d,1),e=M[0],P=(e==null?void 0:e.width)||0,c=(e==null?void 0:e.height)||0;return(0,f.jsxs)(m.Hf,{width:P*t.scale,height:c*t.scale,className:L().stage,children:[(0,f.jsx)(m.mh,{scaleX:t.scale,scaleY:t.scale,children:(0,f.jsx)(m.Ee,{image:e})}),(0,f.jsxs)(m.mh,{scaleX:t.scale,scaleY:t.scale,onMouseDown:function(_){t.onMouseDown&&t.onMouseDown(_,t.scale)},onMouseMove:function(_){t.onMouseMove&&t.onMouseMove(_,t.scale)},onMouseUp:function(_){t.onMouseUp&&t.onMouseUp(_,t.scale)},onContextMenu:function(_){_.evt.preventDefault()},children:[(0,f.jsx)(m.Ee,{image:e}),t.createElementsFunc?t.createElementsFunc(t.annotations).map(function(C,_){return C}):void 0]})]})};x.Z=o},44434:function(i,x,n){"use strict";var b=n(67294),E=n(80961),m=n.n(E),r=n(85893),u=function(L){var f=m().leftToolbar;return L.disLoc=="right"&&(f=m().rightToolbar),(0,r.jsx)("div",{className:f,children:L.children})};x.Z=u},61541:function(i,x,n){"use strict";var b=n(49111),E=n(19650),m=n(67294),r=n(82499),u=n.n(r),a=n(85893),L=function(h){return(0,a.jsx)("div",{unselectable:"on",className:"".concat(u().toolBarButtonContainerWrapper," ").concat(h.active&&u().toolBarButtonContainerWrapperActive),onClick:h.onClick,children:(0,a.jsx)(E.Z,{align:"center",className:u().toolBarButtonContainer,size:0,children:(0,a.jsxs)(E.Z,{align:"center",direction:"vertical",className:u().toolBarButton,size:0,children:[(0,a.jsx)("img",{src:h.imgSrc}),(0,a.jsx)("div",{className:u().buttonText,children:h.children})]})})})};x.Z=L}}]);
