(self.webpackChunkpp_label_frontend=self.webpackChunkpp_label_frontend||[]).push([[991],{41180:function(r){r.exports={ppcard:"ppcard___27hGd",title:"title___22R8f"}},48627:function(r){r.exports={container:"container___2RXc3"}},6277:function(r){r.exports={modal:"modal___26yNn"}},45092:function(r){r.exports={modal:"modal___1H_FQ"}},93688:function(r){r.exports={modal:"modal___H0E6O"}},31982:function(r,P,t){"use strict";var nt=t(89032),M=t(15746),F=t(8870),f=t(13062),R=t(71230),l=t(11700),X=t(67294),T=t(41180),_=t.n(T),o=t(85893),I=function(A){return(0,o.jsxs)("div",{className:_().ppcard,style:A.style,children:[(0,o.jsx)(R.Z,{className:_().titleRow,style:{display:A.title?void 0:"none"},children:(0,o.jsx)(l.Z,{className:_().title,children:A.title})}),(0,o.jsx)(R.Z,{style:{marginTop:26},children:(0,o.jsx)(M.Z,{span:24,style:(0,F.Z)({paddingLeft:30,paddingRight:30,textAlign:"center"},A.innerStyle),children:A.children})})]})};P.Z=I},11428:function(r,P,t){"use strict";var nt=t(67294),M=t(48627),F=t.n(M),f=t(85893),R=function(X){return(0,f.jsx)("div",{className:"".concat(F().container),style:{backgroundImage:"url(./pics/background.png)"},children:X.children})};P.Z=R},85871:function(r,P,t){"use strict";var nt=t(71194),M=t(50146),F=t(49111),f=t(19650),R=t(57663),l=t(71577),X=t(13062),T=t(71230),_=t(89032),o=t(15746),I=t(77883),m=t(70507),A=t(34792),N=t(48086),at=t(9715),h=t(93766),B=t(2824),i=t(67294),$=t(48971),et=t(6277),g=t.n(et),a=t(85893),x=function(u){var n=(0,$.YB)(),q=(0,i.useState)(60),W=(0,B.Z)(q,2),d=W[0],J=W[1],tt=(0,i.useState)(20),v=(0,B.Z)(tt,2),Q=v[0],Z=v[1],c=(0,i.useState)(20),L=(0,B.Z)(c,2),j=L[0],Y=L[1],U=(0,i.useState)(!1),S=(0,B.Z)(U,2),z=S[0],H=S[1],p=n.formatMessage({id:"pages.toolBar.divideData"}),G=n.formatMessage({id:"component.PPDivideDataModal.train"}),b=n.formatMessage({id:"component.PPDivideDataModal.validation"}),C=n.formatMessage({id:"component.PPDivideDataModal.test"}),y=n.formatMessage({id:"component.PPCreater.cancel"}),D=n.formatMessage({id:"component.PPSegMode.ok"}),E=h.Z.useForm(),ot=(0,B.Z)(E,1),k=ot[0];return(0,a.jsx)(M.Z,{className:g().modal,title:p,visible:u.visible,onCancel:u.onCancel,footer:null,children:(0,a.jsxs)(h.Z,{form:k,name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!1},onFinish:function(){if(d+Q+j!=100){N.default.error("Train, Validation and Test total percent should equal 100!");return}console.log("x trainData: ".concat(d,", validationData: ").concat(Q,", testData: ").concat(j,", props.project.curr.projectId: ").concat(u.project.curr.projectId)),H(!0),u.splitDataset(u.project.curr.projectId,{train:d*.01,val:Q*.01,test:j*.01}).then(function(){var O;console.log("success"),N.default.success(n.formatMessage({id:"component.PPDivideDataModal.success"})),(O=u.onFinish)===null||O===void 0||O.call(0)}).finally(function(){H(!1)})},autoComplete:"off",layout:"vertical",children:[(0,a.jsxs)(T.Z,{children:[(0,a.jsx)(o.Z,{span:8,children:(0,a.jsx)(h.Z.Item,{label:G,name:"train",children:(0,a.jsx)(m.Z,{addonAfter:"%",defaultValue:60,precision:0,min:0,max:100,value:d,onChange:J})})}),(0,a.jsx)(o.Z,{span:8,children:(0,a.jsx)(h.Z.Item,{label:b,name:"validation",children:(0,a.jsx)(m.Z,{addonAfter:"%",defaultValue:20,precision:0,min:0,max:100,value:Q,onChange:Z})})}),(0,a.jsx)(o.Z,{span:8,children:(0,a.jsx)(h.Z.Item,{label:C,name:"test",children:(0,a.jsx)(m.Z,{addonAfter:"%",defaultValue:20,precision:0,min:0,max:100,value:j,onChange:Y})})})]}),(0,a.jsx)(h.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,a.jsxs)(f.Z,{children:[(0,a.jsx)(l.Z,{onClick:function(){var O;(O=u.onCancel)===null||O===void 0||O.call(0),k.resetFields()},children:y}),(0,a.jsx)(l.Z,{type:"primary",htmlType:"submit",loading:z,children:D})]})})]})})};P.Z=x},62850:function(r,P,t){"use strict";var nt=t(71194),M=t(50146),F=t(49111),f=t(19650),R=t(57663),l=t(71577),X=t(47673),T=t(24044),_=t(34792),o=t(48086),I=t(9715),m=t(93766),A=t(2824),N=t(67294),at=t(48971),h=t(45092),B=t.n(h),i=t(85893),$=function(g){var a=(0,at.YB)(),x=(0,N.useState)(!1),w=(0,A.Z)(x,2),u=w[0],n=w[1],q=a.formatMessage({id:"component.PPCreater.cancel"}),W=m.Z.useForm(),d=(0,A.Z)(W,1),J=d[0];return(0,i.jsx)(M.Z,{className:B().modal,title:a.formatMessage({id:"component.PPExportModal.title"}),visible:g.visible,onCancel:g.onCancel,footer:null,children:(0,i.jsxs)(m.Z,{form:J,name:"basic",labelCol:{span:6},wrapperCol:{span:16},initialValues:{remember:!1},onFinish:function(v){console.log(v);var Q=v.path;if(!Q){o.default.error(a.formatMessage({id:"component.PPExportModal.pathNotNull"}));return}n(!0),g.exportDataset(g.project.curr.projectId,Q).then(function(){var Z;o.default.success(a.formatMessage({id:"component.PPExportModal.exportSuccess"})),(Z=g.onFinish)===null||Z===void 0||Z.call(0)}).finally(function(){n(!1)})},autoComplete:"off",children:[(0,i.jsx)(m.Z.Item,{label:a.formatMessage({id:"component.PPExportModal.path"}),name:"path",children:(0,i.jsx)(T.Z,{})}),(0,i.jsx)(m.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,i.jsxs)(f.Z,{children:[(0,i.jsx)(l.Z,{onClick:function(){var v;(v=g.onCancel)===null||v===void 0||v.call(0),J.resetFields()},children:q}),(0,i.jsx)(l.Z,{type:"primary",htmlType:"submit",loading:u,children:a.formatMessage({id:"component.PPExportModal.export"})})]})})]})})};P.Z=$},57870:function(r,P,t){"use strict";t.r(P),t.d(P,{default:function(){return Q}});var nt=t(8963),M=t(34441),F=t(34792),f=t(48086),R=t(57663),l=t(71577),X=t(12968),T=t(62462),_=t(2824),o=t(67294),I=t(48971),m=t(11428),A=t(31982),N=t(85871),at=t(62850),h=t(71194),B=t(50146),i=t(49111),$=t(19650),et=t(47673),g=t(24044),a=t(9715),x=t(93766),w=t(93688),u=t.n(w),n=t(85893),q=function(c){var L=(0,I.YB)(),j=(0,o.useState)(!1),Y=(0,_.Z)(j,2),U=Y[0],S=Y[1],z=L.formatMessage({id:"component.PPCreater.cancel"}),H=x.Z.useForm(),p=(0,_.Z)(H,1),G=p[0];return(0,n.jsx)(B.Z,{className:u().modal,title:"Import Additional Data",visible:c.visible,onCancel:c.onCancel,footer:null,children:(0,n.jsxs)(x.Z,{form:G,name:"basic",labelCol:{span:6},wrapperCol:{span:16},initialValues:{remember:!1},onFinish:function(C){console.log(C);var y=C.path;if(!y){f.default.error(L.formatMessage({id:"component.PPExportModal.pathNotNull"}));return}S(!0),c.importDataset(c.project.curr.projectId,y).then(function(){var D;(D=c.onFinish)===null||D===void 0||D.call(0)}).finally(function(){S(!1)})},autoComplete:"off",children:[(0,n.jsx)(x.Z.Item,{label:"Dataset Path",name:"path",children:(0,n.jsx)(g.Z,{})}),(0,n.jsx)(x.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,n.jsxs)($.Z,{children:[(0,n.jsx)(l.Z,{onClick:function(){var C;(C=c.onCancel)===null||C===void 0||C.call(0),G.resetFields()},children:z}),(0,n.jsx)(l.Z,{type:"primary",htmlType:"submit",loading:U,children:"Import"})]})})]})})},W=q,d=t(72384),J=t(37071),tt="data:image/png;base64,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",v=function(){var c,L=(0,o.useState)(!1),j=(0,_.Z)(L,2),Y=j[0],U=j[1],S=(0,o.useState)(!1),z=(0,_.Z)(S,2),H=z[0],p=z[1],G=(0,o.useState)(!1),b=(0,_.Z)(G,2),C=b[0],y=b[1],D=(0,d.iA)(o.useState),E=(0,d.Gd)(o.useState),ot={"0":"train","1":"validation","2":"test"},k=localStorage.getItem("basePath"),V=J.Z.getQueryVariable("projectId"),O=function(s,K,st,lt){console.log("extra",typeof lt.currentDataSource),localStorage.setItem("currentTasks",JSON.stringify(lt.currentDataSource))},rt=[{title:"ID",dataIndex:"taskId",key:"taskId",width:"25%",align:"center",render:function(s){return(0,n.jsx)(n.Fragment,{children:s})},sorter:function(s,K){return s.taskId-K.taskId},sortDirections:["descend"]},{title:"Annotation Count",dataIndex:"annotations",key:"taskId",width:"25%",align:"center",render:function(s){return(0,n.jsx)(n.Fragment,{children:s.length})},sorter:function(s,K){return s.annotations.length-K.annotations.length},sortDirections:["descend"]},{title:"Set",dataIndex:"set",key:"taskId",width:"25%",align:"center",render:function(s){return(0,n.jsx)(n.Fragment,{children:ot[s]})},sorter:function(s,K){return s.set-K.set}},{title:"Image",dataIndex:"dataPaths",key:"taskId",width:"25%",align:"center",render:function(s){return(0,n.jsx)(T.Z,{src:"".concat(k).concat(s[0]),height:40,loading:"lazy",onError:function(st){st.target.src=tt,setTimeout(function(){st.target.src="".concat(k).concat(s[0],"reload"),console.log("".concat(k).concat(s[0]," reload"))},1e3)}})}},{dataIndex:"taskId",key:"taskId",align:"center",render:function(s){return(0,n.jsx)(l.Z,{type:"primary",onClick:function(){localStorage.setItem("currTaskId",s),I.m8.push("/".concat(E.curr.taskCategory.name,"?projectId=").concat(E.curr.projectId))},children:"Label"})}}];return(0,o.useEffect)(function(){E.getCurr(V),D.getAll(V).then(function(e){console.log("tasks",e)})},[]),V||(f.default.error("No valid project id"),I.m8.push("/")),(0,n.jsxs)(m.Z,{children:[(0,n.jsxs)(A.Z,{children:[(0,n.jsx)(l.Z,{type:"primary",onClick:function(){I.m8.push("/".concat(E.curr.taskCategory.name,"?projectId=").concat(E.curr.projectId))},children:"Label"}),(0,n.jsx)(l.Z,{type:"primary",onClick:function(){console.log("project",E.curr),I.m8.push("/project_detail?taskCategory=".concat(E.curr.taskCategory.name,"&projectId=").concat(E.curr.projectId))},children:"Project Detail"}),(0,n.jsx)(l.Z,{type:"primary",onClick:function(){U(!0)},children:"Split Dataset"}),(0,n.jsx)(l.Z,{type:"primary",onClick:function(){p(!0)},children:"Export Dataset"}),(0,n.jsx)(l.Z,{type:"primary",onClick:function(){y(!0)},children:"Import Additional Data"})]}),(0,n.jsxs)(A.Z,{title:"Tasks",children:["Task Count: ".concat((c=D.all)===null||c===void 0?void 0:c.length),(0,n.jsx)(M.Z,{columns:rt,dataSource:(0,d.gu)(D.all),onChange:O})]}),(0,n.jsx)(N.Z,{visible:Y,splitDataset:d.FX,project:E,onCancel:function(){U(!1)},onFinish:function(){U(!1)}}),(0,n.jsx)(at.Z,{visible:H,exportDataset:d.Tr,project:E,onCancel:function(){p(!1)},onFinish:function(){p(!1)}}),(0,n.jsx)(W,{visible:C,importDataset:d.Nu,project:E,onCancel:function(){y(!1)},onFinish:function(){y(!1),D.getAll(V).then(function(s){console.log("tasks",s)})}})]})},Q=v}}]);
