(self.webpackChunkpp_label_frontend=self.webpackChunkpp_label_frontend||[]).push([[991],{41180:function(A){A.exports={ppcard:"ppcard___27hGd",title:"title___22R8f"}},48627:function(A){A.exports={container:"container___2RXc3"}},26389:function(A){A.exports={modal:"modal___2gJ6d"}},21331:function(A){A.exports={modal:"modal___3tkEl"}},1041:function(A){A.exports={modal:"modal___2cw4O"}},31982:function(A,Q,t){"use strict";var X=t(89032),M=t(15746),y=t(11849),L=t(13062),v=t(71230),N=t(11700),c=t(67294),F=t(41180),Z=t.n(F),o=t(85893),i=function(g){return(0,o.jsxs)("div",{className:Z().ppcard,style:g.style,hidden:g.hidden,children:[(0,o.jsx)(v.Z,{className:Z().titleRow,style:{display:g.title?void 0:"none"},children:(0,o.jsx)(N.Z,{className:Z().title,children:g.title})}),(0,o.jsx)(v.Z,{style:{marginTop:26},children:(0,o.jsx)(M.Z,{span:24,style:(0,y.Z)({paddingLeft:30,paddingRight:30,textAlign:"center"},g.innerStyle),children:g.children})})]})};Q.Z=i},11428:function(A,Q,t){"use strict";var X=t(67294),M=t(48627),y=t.n(M),L=t(85893),v=function(c){return(0,L.jsx)("div",{className:"".concat(y().container),style:{backgroundImage:"url(./pics/background.png)"},children:c.children})};Q.Z=v},35261:function(A,Q,t){"use strict";var X=t(71194),M=t(50146),y=t(49111),L=t(19650),v=t(47673),N=t(24044),c=t(34792),F=t(48086),Z=t(57663),o=t(71577),i=t(9715),m=t(93766),g=t(2824),J=t(67294),V=t(48971),et=t(26389),z=t.n(et),nt=t(98731),E=t(85893),ot=function($){var r=(0,V.YB)(),w=(0,J.useState)(!1),b=(0,g.Z)(w,2),B=b[0],a=b[1],q=(0,J.useState)(!1),W=(0,g.Z)(q,2),lt=W[0],S=W[1],rt=r.formatMessage({id:"component.PPCreater.cancel"}),k=m.Z.useForm(),it=(0,g.Z)(k,1),_=it[0];return(0,E.jsxs)("span",{hidden:$.visible==!1,children:[(0,E.jsx)(o.Z,{type:"primary",onClick:function(){return S(!0)},children:"Export Dataset"}),(0,E.jsx)(M.Z,{className:z().modal,title:r.formatMessage({id:"component.PPExportModal.title"}),visible:lt,onCancel:function(){return S(!1)},footer:null,children:(0,E.jsxs)(m.Z,{form:_,name:"basic",labelCol:{span:6},wrapperCol:{span:16},initialValues:{remember:!1},onFinish:function(tt){var H=tt.path;if(!H){F.default.error(r.formatMessage({id:"component.PPExportModal.pathNotNull"}));return}a(!0),(0,nt.Tr)($.project.projectId,H).then(function(){F.default.success(r.formatMessage({id:"component.PPExportModal.exportSuccess"})),S(!1)}).finally(function(){a(!1)})},autoComplete:"off",children:[(0,E.jsx)(m.Z.Item,{label:r.formatMessage({id:"component.PPExportModal.path"}),name:"path",children:(0,E.jsx)(N.Z,{})}),(0,E.jsx)(m.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,E.jsxs)(L.Z,{children:[(0,E.jsx)(o.Z,{onClick:function(){S(!1),_.resetFields()},children:rt}),(0,E.jsx)(o.Z,{type:"primary",htmlType:"submit",loading:B,children:r.formatMessage({id:"component.PPExportModal.export"})})]})})]})})]})};Q.Z=ot},50542:function(A,Q,t){"use strict";t.r(Q),t.d(Q,{default:function(){return vt}});var X=t(8963),M=t(34441),y=t(86582),L=t(34792),v=t(48086),N=t(57663),c=t(71577),F=t(12968),Z=t(62462),o=t(2824),i=t(67294),m=t(48971),g=t(11428),J=t(31982),V=t(35261),et=t(71194),z=t(50146),nt=t(49111),E=t(19650),ot=t(47673),st=t(24044),$=t(9715),r=t(93766),w=t(21331),b=t.n(w),B=t(98731),a=t(85893),q=function(u){var d=(0,m.YB)(),D=(0,i.useState)(!1),h=(0,o.Z)(D,2),x=h[0],s=h[1],l=(0,i.useState)(!1),p=(0,o.Z)(l,2),C=p[0],I=p[1],O=d.formatMessage({id:"component.PPCreater.cancel"}),K=r.Z.useForm(),P=(0,o.Z)(K,1),j=P[0];return(0,a.jsxs)("span",{hidden:u.visible==!1,children:[(0,a.jsx)(c.Z,{type:"primary",onClick:function(){return I(!0)},children:"Import Additional Data"}),(0,a.jsx)(z.Z,{className:b().modal,title:"Import Additional Data",visible:C,footer:null,children:(0,a.jsxs)(r.Z,{form:j,name:"basic",labelCol:{span:6},wrapperCol:{span:16},initialValues:{remember:!1},onFinish:function(T){var e=T.path;if(!e){v.default.error(d.formatMessage({id:"component.PPExportModal.pathNotNull"}));return}s(!0),(0,B.Nu)(u.project.projectId,e).then(function(){I(!1),u.onFinish()}).finally(function(){s(!1)})},autoComplete:"off",children:[(0,a.jsx)(r.Z.Item,{label:"Dataset Path",name:"path",children:(0,a.jsx)(st.Z,{})}),(0,a.jsx)(r.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,a.jsxs)(E.Z,{children:[(0,a.jsx)(c.Z,{onClick:function(){I(!1),j.resetFields()},children:O}),(0,a.jsx)(c.Z,{type:"primary",htmlType:"submit",loading:x,children:"Import"})]})})]})})]})},W=q,lt=t(13062),S=t(71230),rt=t(89032),k=t(15746),it=t(77883),_=t(70507),Y=t(1041),tt=t.n(Y),H=function(u){var d=(0,m.YB)(),D=(0,i.useState)(!1),h=(0,o.Z)(D,2),x=h[0],s=h[1],l=(0,i.useState)(60),p=(0,o.Z)(l,2),C=p[0],I=p[1],O=(0,i.useState)(20),K=(0,o.Z)(O,2),P=K[0],j=K[1],R=(0,i.useState)(20),T=(0,o.Z)(R,2),e=T[0],n=T[1],f=(0,i.useState)(!1),U=(0,o.Z)(f,2),G=U[0],At=U[1],Pt=d.formatMessage({id:"pages.toolBar.divideData"}),ft=d.formatMessage({id:"component.PPDivideDataModal.train"}),ht=d.formatMessage({id:"component.PPDivideDataModal.validation"}),Ct=d.formatMessage({id:"component.PPDivideDataModal.test"}),It=d.formatMessage({id:"component.PPCreater.cancel"}),Qt=d.formatMessage({id:"component.PPSegMode.ok"}),jt=r.Z.useForm(),Mt=(0,o.Z)(jt,1),ct=Mt[0];return(0,a.jsxs)("span",{hidden:u.visible==!1,children:[(0,a.jsx)(c.Z,{type:"primary",onClick:function(){return s(!0)},children:"Split Dataset"}),(0,a.jsx)(z.Z,{className:tt().modal,title:Pt,visible:x,onCancel:function(){return s(!1)},footer:null,children:(0,a.jsxs)(r.Z,{form:ct,name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!1},onFinish:function(){if(C+P+e!=100){v.default.error("Train, Validation and Test total percent should equal 100!");return}console.log("x trainData: ".concat(C,", validationData: ").concat(P,", testData: ").concat(e,", props.project.curr.projectId: ").concat(u.project.projectId)),At(!0),(0,B.FX)(u.project.projectId,{train:C*.01,val:P*.01,test:e*.01}).then(function(){v.default.success(d.formatMessage({id:"component.PPDivideDataModal.success"})),s(!1)}).finally(function(){u.onFinish&&u.onFinish(),At(!1)})},autoComplete:"off",layout:"vertical",children:[(0,a.jsxs)(S.Z,{children:[(0,a.jsx)(k.Z,{span:8,children:(0,a.jsx)(r.Z.Item,{label:ft,name:"train",children:(0,a.jsx)(_.Z,{addonAfter:"%",defaultValue:60,precision:0,min:0,max:100,value:C,onChange:I})})}),(0,a.jsx)(k.Z,{span:8,children:(0,a.jsx)(r.Z.Item,{label:ht,name:"validation",children:(0,a.jsx)(_.Z,{addonAfter:"%",defaultValue:20,precision:0,min:0,max:100,value:P,onChange:j})})}),(0,a.jsx)(k.Z,{span:8,children:(0,a.jsx)(r.Z.Item,{label:Ct,name:"test",children:(0,a.jsx)(_.Z,{addonAfter:"%",defaultValue:20,precision:0,min:0,max:100,value:e,onChange:n})})})]}),(0,a.jsx)(r.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,a.jsxs)(E.Z,{children:[(0,a.jsx)(c.Z,{onClick:function(){s(!1),ct.resetFields()},children:It}),(0,a.jsx)(c.Z,{type:"primary",htmlType:"submit",loading:G,children:Qt})]})})]})})]})},Et=H,ut=t(37071),mt="data:image/png;base64,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",gt=function(){var u,d,D,h,x,s=(0,B.iA)(i.useState),l=(0,B.Gd)(i.useState),p=(0,i.useState)(0),C=(0,o.Z)(p,2),I=C[0],O=C[1],K={"0":"train","1":"validation","2":"test"},P=localStorage.getItem("basePath"),j=ut.Z.getQueryVariable("projectId"),R=function(n,f,U,G){console.log("extra",typeof G.currentDataSource),localStorage.setItem("currentTasks",JSON.stringify(G.currentDataSource))},T=[{title:"ID",dataIndex:"taskId",key:"taskId",width:"25%",align:"center",render:function(n){return(0,a.jsx)(a.Fragment,{children:n})},sorter:function(n,f){return n.taskId-f.taskId},sortDirections:["descend"]},{title:"Annotation Count",dataIndex:"annotations",key:"taskId",width:"25%",align:"center",render:function(n){return(0,a.jsx)(a.Fragment,{children:n.length})},sorter:function(n,f){return n.annotations.length-f.annotations.length}},{title:"Set",dataIndex:"set",key:"taskId",width:"25%",align:"center",render:function(n){return(0,a.jsx)(a.Fragment,{children:K[n]})},sorter:function(n,f){return n.set-f.set}},{title:"Image",dataIndex:"dataPaths",key:"taskId",width:"25%",align:"center",render:function(n){return(0,a.jsx)(Z.Z,{src:"".concat(P).concat(n[0]),height:40,onError:function(U){U.target.src=mt,setTimeout(function(){U.target.src="".concat(P).concat(n[0],"reload"),console.log("".concat(P).concat(n[0]," reload"))},1e3)}})}},{dataIndex:"taskId",key:"taskId",align:"center",render:function(n){return(0,a.jsx)(c.Z,{type:"primary",onClick:function(){localStorage.setItem("currTaskId",n),m.m8.push("/".concat(l.curr.taskCategory.name,"?projectId=").concat(l.curr.projectId))},children:"Label"})}}];return(0,i.useEffect)(function(){l.getCurr(j),s.getAll(j).then(function(e){console.log("tasks",e)})},[]),j||(v.default.error("No valid project id"),m.m8.push("/")),(0,a.jsxs)(g.Z,{children:[(0,a.jsxs)(J.Z,{children:[(0,a.jsx)(c.Z,{type:"primary",onClick:function(){m.m8.push("/".concat(l.curr.taskCategory.name,"?projectId=").concat(l.curr.projectId))},hidden:((u=s.all)===null||u===void 0?void 0:u.length)==0,children:"Label"}),(0,a.jsx)(c.Z,{type:"primary",onClick:function(){console.log("project",l.curr),m.m8.push("/project_detail?taskCategory=".concat(l.curr.taskCategory.name,"&projectId=").concat(l.curr.projectId))},children:"Project Detail"}),(0,a.jsx)(Et,{project:l.curr,visible:((d=s.all)===null||d===void 0?void 0:d.length)!=0,onFinish:function(){return s.getAll(l.curr.projectId)}}),(0,a.jsx)(V.Z,{project:l.curr,visible:((D=s.all)===null||D===void 0?void 0:D.length)!=0}),(0,a.jsx)(W,{project:l.curr,onFinish:function(){s.getAll(l.curr.projectId),O(I+1)},visible:((h=s.all)===null||h===void 0?void 0:h.length)!=0})]}),(0,a.jsxs)(J.Z,{title:"Tasks",children:[(0,a.jsx)("p",{children:"Task Count: ".concat((x=s.all)===null||x===void 0?void 0:x.length,` 
`)}),function(){var e;return((e=s.all)===null||e===void 0?void 0:e.length)==0?(0,a.jsx)(W,{project:l.curr,onFinish:function(){s.getAll(l.curr.projectId),O(I+1)}}):(0,a.jsxs)("span",{id:I,children:[(0,a.jsx)(M.Z,{columns:T,dataSource:(0,y.Z)((0,B.gu)(s.all)),onChange:R})," "]})}()]})]})},vt=gt}}]);
