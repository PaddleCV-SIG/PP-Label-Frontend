(self.webpackChunkpp_label_frontend=self.webpackChunkpp_label_frontend||[]).push([[813],{85024:function(W){W.exports={listItem:"listItem___u4Q82",eye:"eye___BwaRm",delete:"delete___31JB_",roundBall:"roundBall___23A7l",popover:"popover___1BNET",annotationId:"annotationId___zAzX4",labelName:"labelName___2ohxn",listItemActive:"listItemActive___2QnA3"}},56159:function(W){W.exports={labelList:"labelList___v7C6K",listHeader:"listHeader___1aY8R",eye:"eye___2MKbp",roundBall:"roundBall___187XH"}},26647:function(W){W.exports={toolBarButtonContainerWrapper:"toolBarButtonContainerWrapper___1FTWb",toolBarButtonContainer:"toolBarButtonContainer___1Vahn",toolBarButton:"toolBarButton___3mR2H",buttonText:"buttonText___Y0WDm",toolBarButtonContainerWrapperActive:"toolBarButtonContainerWrapperActive___3lRZ8",popover:"popover___3zzu2",slider:"slider___ALra-",popoverLeft:"popoverLeft___15lGe"}},6277:function(W){W.exports={modal:"modal___26yNn"}},45092:function(W){W.exports={modal:"modal___1H_FQ"}},14836:function(W,p,t){"use strict";t.d(p,{Z:function(){return J}});var $=t(54421),G=t(38272),sn=t(57663),tn=t(71577),en=t(67294),m=t(56159),l=t.n(m),A=t(49111),y=t(19650),j=t(2824),k=t(11849),K=t(85024),Y=t.n(K),on=t(63097),r=t(85893),M=function(o){var e=(0,k.Z)({},o.annotation),H=(0,en.useState)(e.invisible),I=(0,j.Z)(H,2),F=I[0],N=I[1],z=(0,en.useState)(0),Z=(0,j.Z)(z,2),w=Z[0],R=Z[1];(0,en.useEffect)(function(){N(o.annotation.invisible)},[o.annotation.invisible]);var T=(0,r.jsxs)(G.ZP.Item,{className:"".concat(Y().listItem," ").concat(o.active?Y().listItemActive:""),unselectable:"on",onClick:function(){o.onClick(e)},children:[(0,r.jsxs)(y.Z,{align:"center",size:5,children:[(0,r.jsx)("a",{className:Y().eye,style:{backgroundImage:F?"url(./pics/hide.png)":"url(./pics/show.png)"},onClick:function(q){q.stopPropagation(),N(!F),o.onAnnotationModify(e)}})," ",(0,r.jsx)("span",{className:Y().annotationId,children:e.frontendId}),(0,r.jsx)("span",{className:Y().labelName,children:e.label.name}),(0,r.jsx)(on.Z,{color:e.label.color})]}),(0,r.jsx)("a",{className:Y().delete,onClick:function(q){q.stopPropagation();var n=new Date().getTime();n-w<300||(R(n),o.onAnnotationDelete(e))}})]});return T},X=M,S=t(48971),L=function(o){var e=(0,S.YB)().formatMessage({id:"component.PPAnnotationList.annotationList"}),H=(0,S.YB)().formatMessage({id:"component.PPAnnotationList.addAnnotation"});return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(G.ZP,{className:l().labelList,size:"large",header:(0,r.jsx)("div",{className:l().listHeader,children:e}),bordered:!0,dataSource:o.annotations,renderItem:function(F){var N;return(0,r.jsx)(X,{onClick:o.onAnnotationSelect,annotation:F,active:F.frontendId==((N=o.currAnnotation)===null||N===void 0?void 0:N.frontendId),onAnnotationDelete:o.onAnnotationDelete,onAnnotationModify:o.onAnnotationModify})},footer:(0,r.jsx)("div",{children:(0,r.jsx)(tn.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",onClick:function(){o.onAnnotationAdd()},block:!0,children:H})})})})},J=L},27992:function(W,p,t){"use strict";var $=t(20136),G=t(55241),sn=t(13062),tn=t(71230),en=t(77883),m=t(70507),l=t(89032),A=t(15746),y=t(66126),j=t(75454),k=t(2824),K=t(67294),Y=t(61541),on=t(26647),r=t.n(on),M=t(85893),X=0,S=100,L=10,J=function(o){var e=(0,K.useState)(w(o.size)),H=(0,k.Z)(e,2),I=H[0],F=H[1];function N(R){F(w(R))}var z=o.minSize==null?X:o.minSize,Z=o.maxSize==null?S:o.maxSize;function w(R){return R==null?L:R<=z?z:R>=Z?Z:R}return(0,K.useEffect)(function(){N(o.size)},[o.size]),(0,M.jsxs)(G.Z,{overlayClassName:"".concat(r().popover," ").concat(o.disLoc=="left"?r().popoverLeft:""),placement:o.disLoc||"right",content:(0,M.jsxs)(tn.Z,{children:[(0,M.jsx)(A.Z,{span:16,children:(0,M.jsx)(j.Z,{className:r().slider,value:I,max:Z,min:z,onChange:function(T){var B;(B=o.onChange)===null||B===void 0||B.call(0,T)},tooltipVisible:!1})}),(0,M.jsx)(A.Z,{span:8,children:(0,M.jsx)(m.Z,{min:z,max:Z,value:I,onChange:function(T){var B;(B=o.onChange)===null||B===void 0||B.call(0,T)},step:10})})]}),trigger:"hover",children:[" ",(0,M.jsx)(Y.Z,{imgSrc:o.imgSrc||"",onClick:o.onClick,active:o.active,children:o.children})]})};p.Z=J},85871:function(W,p,t){"use strict";var $=t(71194),G=t(50146),sn=t(49111),tn=t(19650),en=t(57663),m=t(71577),l=t(13062),A=t(71230),y=t(89032),j=t(15746),k=t(77883),K=t(70507),Y=t(34792),on=t(48086),r=t(9715),M=t(93766),X=t(2824),S=t(67294),L=t(48971),J=t(6277),V=t.n(J),o=t(85893),e=function(I){var F=(0,L.YB)(),N=(0,S.useState)(60),z=(0,X.Z)(N,2),Z=z[0],w=z[1],R=(0,S.useState)(20),T=(0,X.Z)(R,2),B=T[0],q=T[1],n=(0,S.useState)(20),i=(0,X.Z)(n,2),c=i[0],s=i[1],_=(0,S.useState)(!1),h=(0,X.Z)(_,2),E=h[0],g=h[1],C=(0,L.YB)().formatMessage({id:"pages.toolBar.divideData"}),f=(0,L.YB)().formatMessage({id:"component.PPDivideDataModal.train"}),d=(0,L.YB)().formatMessage({id:"component.PPDivideDataModal.validation"}),x=(0,L.YB)().formatMessage({id:"component.PPDivideDataModal.test"}),b=(0,L.YB)().formatMessage({id:"component.PPCreater.cancel"}),D=(0,L.YB)().formatMessage({id:"component.PPSegMode.ok"}),O=M.Z.useForm(),v=(0,X.Z)(O,1),P=v[0];return(0,o.jsx)(G.Z,{className:V().modal,title:C,visible:I.visible,onCancel:I.onCancel,footer:null,children:(0,o.jsxs)(M.Z,{form:P,name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!1},onFinish:function(){if(Z+B+c!=100){on.default.error("Train, Validation and Test total percent should equal 100!");return}console.log("x trainData: ".concat(Z,", validationData: ").concat(B,", testData: ").concat(c,", props.project.curr.projectId: ").concat(I.project.curr.projectId)),g(!0),I.splitDataset(I.project.curr.projectId,{train:Z*.01,validation:B*.01,test:c*.01}).then(function(){var an;console.log("success"),on.default.success(F.formatMessage({id:"component.PPDivideDataModal.success"})),(an=I.onFinish)===null||an===void 0||an.call(0)}).finally(function(){g(!1)})},autoComplete:"off",layout:"vertical",children:[(0,o.jsxs)(A.Z,{children:[(0,o.jsx)(j.Z,{span:8,children:(0,o.jsx)(M.Z.Item,{label:f,name:"train",children:(0,o.jsx)(K.Z,{addonAfter:"%",defaultValue:60,precision:0,min:0,max:100,value:Z,onChange:w})})}),(0,o.jsx)(j.Z,{span:8,children:(0,o.jsx)(M.Z.Item,{label:d,name:"validation",children:(0,o.jsx)(K.Z,{addonAfter:"%",defaultValue:20,precision:0,min:0,max:100,value:B,onChange:q})})}),(0,o.jsx)(j.Z,{span:8,children:(0,o.jsx)(M.Z.Item,{label:x,name:"test",children:(0,o.jsx)(K.Z,{addonAfter:"%",defaultValue:20,precision:0,min:0,max:100,value:c,onChange:s})})})]}),(0,o.jsx)(M.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,o.jsxs)(tn.Z,{children:[(0,o.jsx)(m.Z,{onClick:function(){var an;(an=I.onCancel)===null||an===void 0||an.call(0),P.resetFields()},children:b}),(0,o.jsx)(m.Z,{type:"primary",htmlType:"submit",loading:E,children:D})]})})]})})};p.Z=e},62850:function(W,p,t){"use strict";var $=t(71194),G=t(50146),sn=t(49111),tn=t(19650),en=t(57663),m=t(71577),l=t(47673),A=t(24044),y=t(34792),j=t(48086),k=t(9715),K=t(93766),Y=t(2824),on=t(67294),r=t(48971),M=t(45092),X=t.n(M),S=t(85893),L=function(V){var o=(0,r.YB)(),e=(0,on.useState)(!1),H=(0,Y.Z)(e,2),I=H[0],F=H[1],N=(0,r.YB)().formatMessage({id:"component.PPCreater.cancel"}),z=K.Z.useForm(),Z=(0,Y.Z)(z,1),w=Z[0];return(0,S.jsx)(G.Z,{className:X().modal,title:(0,r.YB)().formatMessage({id:"component.PPExportModal.title"}),visible:V.visible,onCancel:V.onCancel,footer:null,children:(0,S.jsxs)(K.Z,{form:w,name:"basic",labelCol:{span:6},wrapperCol:{span:16},initialValues:{remember:!1},onFinish:function(T){console.log(T);var B=T.path;if(!B){j.default.error(o.formatMessage({id:"component.PPExportModal.pathNotNull"}));return}F(!0),V.exportDataset(V.project.curr.projectId,B).then(function(){var q;j.default.success(o.formatMessage({id:"component.PPExportModal.exportSuccess"})),(q=V.onFinish)===null||q===void 0||q.call(0)}).finally(function(){F(!1)})},autoComplete:"off",children:[(0,S.jsx)(K.Z.Item,{label:o.formatMessage({id:"component.PPExportModal.path"}),name:"path",children:(0,S.jsx)(A.Z,{})}),(0,S.jsx)(K.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,S.jsxs)(tn.Z,{children:[(0,S.jsx)(m.Z,{onClick:function(){var T;(T=V.onCancel)===null||T===void 0||T.call(0),w.resetFields()},children:N}),(0,S.jsx)(m.Z,{type:"primary",htmlType:"submit",loading:I,children:o.formatMessage({id:"component.PPExportModal.export"})})]})})]})})};p.Z=L},91861:function(W,p,t){"use strict";t.d(p,{Ad:function(){return G},k3:function(){return sn},Vd:function(){return tn},td:function(){return en}});var $=40;function G(){localStorage.removeItem("history"),sn([])}function sn(m){var l=localStorage.getItem("history"),A=l?JSON.parse(l):{index:-1,items:[]};if(JSON.stringify(A.items[A.index])!=JSON.stringify(m)){var y=A.index>$?A.index-$:0,j=A.items.splice(y,A.index==0?1:A.index+1);A.items=j.concat([m]),A.index<=$?A.index++:A.index=$+1,localStorage.setItem("history",JSON.stringify(A))}}function tn(){var m=localStorage.getItem("history");if(!!m){var l=JSON.parse(m);if(!!l&&!(l.index>=l.items.length-1))return l.index++,localStorage.setItem("history",JSON.stringify(l)),l.items[l.index]}}function en(){var m=localStorage.getItem("history");if(!!m){var l=JSON.parse(m);if(!(!l||!l.index)&&!(l.index<=0))return l.index--,localStorage.setItem("history",JSON.stringify(l)),l.items[l.index]}}},4813:function(W,p,t){"use strict";t.r(p),t.d(p,{MOST_HISTORY_STEPS:function(){return T},default:function(){return q}});var $=t(91220),G=t(57663),sn=t(71577),tn=t(34669),en=t(54458),m=t(2824),l=t(67294),A=t(8088),y=t(61541),j=t(44434),k=t(27992),K=t(5041),Y=t(57436),on=t(14836),r=t(48971),M=t(91861),X=t(85871),S=t(62850),L=t(11849),J=t(65031);function V(n){var i=0;if(!n)return i;var c=(0,$.Z)(n),s;try{for(c.s();!(s=c.n()).done;){var _=s.value;!_||!_.frontendId||_.frontendId>i&&(i=_.frontendId)}}catch(h){c.e(h)}finally{c.f()}return i}function o(n){var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null}var e=t(85893);function H(n,i,c,s){if(!(!n||!i||!c||!s))return{width:n,color:i,points:c,tool:s}}function I(n){var i;if(console.log("drawLine: ",n.annotation),!n.annotation)return(0,e.jsx)(e.Fragment,{});var c=n.annotation.png?(0,e.jsx)(J.Ee,{image:n.annotation.png}):(0,e.jsx)(e.Fragment,{}),s=(i=n.canvasRef.current)===null||i===void 0?void 0:i.getContext("2d");if(!s||!n.annotation.lines)return c;var _=(0,$.Z)(n.annotation.lines),h;try{for(_.s();!(h=_.n()).done;){var E=h.value,g=E.points;s.beginPath(),s.moveTo(g[0],g[1]);for(var C=0;C<=g.length/2;C++){var f=g[2*C],d=g[2*C+1];s.lineTo(f,d)}s.lineCap="round",s.lineJoin="round",s.lineWidth=E.width,s.strokeStyle=E.color,s.globalCompositeOperation=E.tool=="brush"?"source-over":"destination-out",s.closePath(),s.stroke()}}catch(x){_.e(x)}finally{_.f()}return(0,e.jsx)(J.ZA,{draggable:!1,children:c})}function F(n,i){return n=="rubber"||i==2?"rubber":"brush"}function N(n){var i=(0,l.useState)(),c=(0,m.Z)(i,2),s=c[0],_=c[1],h=function(f){var d,x;if(!(n.currentTool!="brush"&&n.currentTool!="rubber"||!((d=n.currentLabel)!==null&&d!==void 0&&d.color))){var b=(f.e.evt.offsetX+f.offsetX)/n.scale,D=(f.e.evt.offsetY+f.offsetY)/n.scale;console.log("e.evt.offsetX,Y: (".concat(f.e.evt.offsetX,",").concat(f.e.evt.offsetY,"). offsetX,Y: (").concat(f.offsetX,",").concat(f.offsetY,"). mouseX,Y: (").concat(b,",").concat(D,"). scale: ").concat(n.scale));var O=F(n.currentTool,f.e.evt.button),v=H(n.brushSize||10,(x=n.currentLabel)===null||x===void 0?void 0:x.color,[b,D,b,D],O);if(!!v)if(_(O),n.currentAnnotation){var P,dn={type:"brush",frontendId:n.currentAnnotation.frontendId,label:n.currentAnnotation.label,points:(P=n.currentAnnotation.lines)===null||P===void 0?void 0:P.concat([v]),dataId:n.dataId};n.onAnnotationModify(dn)}else{if(O=="rubber")return;n.onAnnotationAdd({dataId:n.dataId,type:O,frontendId:V(n.annotations)+1,label:n.currentLabel,lines:[v]})}}},E=function(f){var d,x;if(!(!s||!n.currentAnnotation||!((d=n.currentLabel)!==null&&d!==void 0&&d.color))){var b=(f.e.evt.offsetX+f.offsetX)/n.scale,D=(f.e.evt.offsetY+f.offsetY)/n.scale,O=[b,D],v=[];(x=n.currentAnnotation)!==null&&x!==void 0&&x.lines&&(O=n.currentAnnotation.lines[n.currentAnnotation.lines.length-1].points.concat(O),v=n.currentAnnotation.lines);var P=H(n.brushSize||10,n.currentLabel.color,O,s);!P||(v.pop(),v.push(P),n.onAnnotationModify((0,L.Z)((0,L.Z)({},n.currentAnnotation),{},{lines:v,type:s})))}},g=function(){n.currentTool!="brush"&&n.currentTool!="rubber"||(_(void 0),n.onMouseUp())};return{onMouseDown:h,onMouseMove:E,onMouseUp:g,createElementsFunc:I}}function z(n,i){if(!(!n||!i))return{color:n,points:i}}function Z(n){if(!n.annotation||!n.annotation.lines||!n.annotation.lines[0])return[(0,e.jsx)(e.Fragment,{})];var i=n.annotation.lines[0].points,c=n.annotation.lines[0].color,s=o(c);if(!s)return[(0,e.jsx)(e.Fragment,{})];var _=.3,h=void 0,E=[];return i.forEach(function(g,C){if(!h){h=g;return}E.push((0,e.jsx)(J.Cd,{onMouseDown:function(){n.currentTool=="editor"&&n.onSelect(n.annotation)},draggable:n.currentTool=="editor",onDragMove:function(d){var x;d.cancelBubble=!0;var b=(x=n.stageRef)===null||x===void 0?void 0:x.current,D=b.findOne(".baseImage"),O=!1,v=d.target.x();v>D.width()/2&&(v=D.width()/2,O=!0),v<-D.width()/2&&(v=-D.width()/2,O=!0);var P=d.target.y();P>D.height()/2&&(P=D.height()/2,O=!0),P<-D.height()/2&&(P=-D.height()/2,O=!0),O&&d.target.setPosition({x:v,y:P}),i[C-1]=v,i[C]=P;var dn=(0,L.Z)((0,L.Z)({},n.annotation),{},{points:[{color:c,points:i}]});n.onDrag(dn)},onMouseOver:function(){var d;n.currentTool=="editor"&&(d=n.stageRef)!==null&&d!==void 0&&d.current&&(n.stageRef.current.container().style.cursor="cell")},onMouseOut:function(){var d;n.currentTool=="editor"&&(d=n.stageRef)!==null&&d!==void 0&&d.current&&(n.stageRef.current.container().style.cursor="default")},x:h,y:g,radius:5/n.scale,fill:c})),h=void 0}),[(0,e.jsxs)(J.ZA,{children:[(0,e.jsx)(J.x1,{onMouseOver:function(){n.currentTool=="editor"&&(document.body.style.cursor="pointer")},onMouseOut:function(){document.body.style.cursor="default"},onClick:function(){n.currentTool=="editor"&&n.onSelect(n.annotation)},stroke:c,strokeWidth:2/n.scale,globalCompositeOperation:"source-over",lineCap:"round",points:i,tension:0,closed:!0,fill:"rgba(".concat(s.r,", ").concat(s.g,", ").concat(s.b,", ").concat(_,")")}),E]},n.annotation.frontendId)]}function w(n){var i=0;if(!n)return i;var c=(0,$.Z)(n),s;try{for(c.s();!(s=c.n()).done;){var _=s.value;!_||!_.frontendId||_.frontendId>i&&(i=_.frontendId)}}catch(h){c.e(h)}finally{c.f()}return i}function R(n){var i=function(E,g,C,f){var d,x=(E.evt.offsetX+g)/f,b=(E.evt.offsetY+C)/f,D=z((d=n.currentLabel)===null||d===void 0?void 0:d.color,[x,b]);!D||n.onAnnotationAdd({type:"polygon",frontendId:w(n.annotations)+1,label:n.currentLabel,lines:[D]})},c=function(E,g,C,f){var d,x;if(!!n.currentAnnotation){var b=(E.evt.offsetX+g)/f,D=(E.evt.offsetY+C)/f,O=n.currentAnnotation.lines||[],v=z((d=n.currentLabel)===null||d===void 0?void 0:d.color,(x=O[0])===null||x===void 0?void 0:x.points.concat([b,D]));if(!!v){var P={type:"polygon",frontendId:n.currentAnnotation.frontendId,label:n.currentAnnotation.label,points:[v]};n.onAnnotationModify(P)}}},s=function(E,g,C,f){n.currentTool=="polygon"&&(n.currentAnnotation?c(E,g,C,f):i(E,g,C,f))},_=function(){n.currentTool=="polygon"&&n.onMouseUp()};return{onMouseDown:s,onMouseMove:function(){},onMouseUp:_,createElementsFunc:Z}}var T=40,B=function(){var i=(0,l.useState)([]),c=(0,m.Z)(i,2),s=c[0],_=c[1],h=(0,l.useState)(!1),E=(0,m.Z)(h,2),g=E[0],C=E[1],f=(0,l.useState)(!1),d=(0,m.Z)(f,2),x=d[0],b=d[1],D=(0,l.useState)(void 0),O=(0,m.Z)(D,2),v=O[0],P=O[1],dn=(0,l.useState)(),an=(0,m.Z)(dn,2),cn=an[0],fn=an[1],yn=(0,l.useState)(),gn=(0,m.Z)(yn,2),un=gn[0],In=gn[1],Ln=(0,l.useState)([]),Mn=(0,m.Z)(Ln,2),nn=Mn[0],ln=Mn[1],Tn=(0,l.useState)(10),Pn=(0,m.Z)(Tn,2),mn=Pn[0],hn=Pn[1],bn=(0,l.useState)(60),En=(0,m.Z)(bn,2),Cn=En[0],jn=En[1],Zn=(0,l.useState)(1),xn=(0,m.Z)(Zn,2),vn=xn[0],_n=xn[1],Dn=function(a){a||_n(1),a<.1||a>3?_n(1):_n(a)},U=function(a){In(a),a!=null&&a.label&&fn(a.label)};(0,l.useEffect)(function(){(0,M.Ad)()},[]);var An=function(a){for(var Q=[],rn=0;rn<nn.length;rn++)nn[rn].frontendId==a.frontendId?Q.push(a):Q.push(nn[rn]);U(a),ln(Q)},On={dataId:0,currentLabel:cn,brushSize:mn,scale:vn,currentTool:v,annotations:nn,currentAnnotation:un,onAnnotationAdd:function(a){var Q=nn.concat([a]);ln(Q),un||U(a)},onAnnotationModify:An,onMouseUp:function(){(0,M.k3)({annos:nn,currAnno:un})}},Rn=N(On),Un=R(On),Wn=v=="polygon"?Un:Rn,Kn=(0,r.YB)().formatMessage({id:"pages.toolBar.polygon"}),Yn=(0,r.YB)().formatMessage({id:"pages.toolBar.brush"}),Fn=(0,r.YB)().formatMessage({id:"pages.toolBar.rubber"}),Nn=(0,r.YB)().formatMessage({id:"pages.toolBar.zoomIn"}),zn=(0,r.YB)().formatMessage({id:"pages.toolBar.zoomOut"}),$n=(0,r.YB)().formatMessage({id:"pages.toolBar.move"}),Xn=(0,r.YB)().formatMessage({id:"pages.toolBar.unDo"}),Vn=(0,r.YB)().formatMessage({id:"pages.toolBar.reDo"}),Hn=(0,r.YB)().formatMessage({id:"pages.toolBar.save"}),pn=(0,r.YB)().formatMessage({id:"pages.toolBar.edit"}),Jn=(0,r.YB)().formatMessage({id:"pages.toolBar.clearMark"}),Qn=(0,r.YB)().formatMessage({id:"pages.toolBar.interactor"}),Gn=(0,r.YB)().formatMessage({id:"pages.toolBar.segmentThreshold"}),kn=(0,r.YB)().formatMessage({id:"pages.toolBar.visualRadius"}),wn=(0,r.YB)().formatMessage({id:"pages.toolBar.determineOutline"}),qn=(0,r.YB)().formatMessage({id:"pages.toolBar.divideData"}),nt=(0,r.YB)().formatMessage({id:"pages.toolBar.export"});return(0,e.jsxs)(A.Z,{className:"segment",children:[(0,e.jsxs)(j.Z,{children:[(0,e.jsx)(y.Z,{imgSrc:"./pics/buttons/polygon.png",active:v=="polygon",onClick:function(){P("polygon"),U(void 0)},children:Kn}),(0,e.jsx)(y.Z,{active:v=="editor",imgSrc:"./pics/buttons/edit.png",onClick:function(){P("editor"),U(void 0)},children:pn}),(0,e.jsx)(k.Z,{imgSrc:"./pics/buttons/brush.png",size:mn,active:v=="brush",onClick:function(){v!="rubber"&&v!="brush"&&U(void 0),P("brush")},onChange:function(a){hn(a)},children:Yn}),(0,e.jsx)(k.Z,{size:mn,active:v=="rubber",onClick:function(){v!="rubber"&&v!="brush"&&U(void 0),P("rubber")},onChange:function(a){hn(a)},imgSrc:"./pics/buttons/rubber.png",children:Fn}),(0,e.jsx)(y.Z,{imgSrc:"./pics/buttons/zoom_in.png",onClick:function(){Dn(vn+.1)},children:Nn}),(0,e.jsx)(y.Z,{imgSrc:"./pics/buttons/zoom_out.png",onClick:function(){Dn(vn-.1)},children:zn}),(0,e.jsx)(y.Z,{imgSrc:"./pics/buttons/save.png",children:Hn}),(0,e.jsx)(y.Z,{active:v=="mover",imgSrc:"./pics/buttons/move.png",onClick:function(){P("mover")},children:$n}),(0,e.jsx)(y.Z,{imgSrc:"./pics/buttons/prev.png",onClick:function(){var a=(0,M.td)();a&&(ln(a.annos),U(a.currAnno))},children:Xn}),(0,e.jsx)(y.Z,{imgSrc:"./pics/buttons/next.png",onClick:function(){var a=(0,M.Vd)();a&&(ln(a.annos),U(a.currAnno))},children:Vn}),(0,e.jsx)(y.Z,{imgSrc:"./pics/buttons/clear_mark.png",children:Jn})]}),(0,e.jsxs)("div",{id:"dr",className:"mainStage",children:[(0,e.jsx)("div",{className:"draw",children:(0,e.jsx)(Y.Z,{scale:vn,annotations:nn,currentTool:v,currentAnnotation:un,setCurrentAnnotation:U,onAnnotationModify:An,onAnnotationModifyComplete:function(){(0,M.k3)({annos:nn,currAnno:un})},imgSrc:void 0,transparency:Cn,onAnnotationAdd:function(a){var Q=nn.concat([a]);ln(Q),un||U(a)},drawTool:Wn})}),(0,e.jsx)("div",{className:"pblock",children:(0,e.jsxs)("div",{className:"progress",children:[(0,e.jsx)(en.Z,{className:"progressBar",percent:10,status:"active",showInfo:!1})," ",(0,e.jsx)("span",{className:"progressDesc",children:"Current labeling 1 of 300. Already labeled 20."})]})}),(0,e.jsx)("div",{className:"prevTask",onClick:function(){!task.prevTask()||(U(void 0),ln([]))}}),(0,e.jsx)("div",{className:"nextTask",onClick:function(){!task.nextTask()||(U(void 0),ln([]))}})]}),(0,e.jsxs)(j.Z,{disLoc:"right",children:[(0,e.jsx)(y.Z,{imgSrc:"./pics/buttons/intelligent_interaction.png",children:Qn}),(0,e.jsx)(k.Z,{imgSrc:"./pics/buttons/threshold.png",disLoc:"left",children:Gn}),(0,e.jsx)(k.Z,{imgSrc:"./pics/buttons/alpha.png",disLoc:"left",size:Cn,maxSize:100,minSize:0,onChange:function(a){jn(a)},children:(0,r.YB)().formatMessage({id:"pages.toolBar.transparency"})}),(0,e.jsx)(k.Z,{imgSrc:"./pics/buttons/radius.png",disLoc:"left",children:kn}),(0,e.jsx)(y.Z,{imgSrc:"./pics/buttons/data_division.png",onClick:function(){C(!0)},children:qn}),(0,e.jsx)(y.Z,{imgSrc:"./pics/buttons/export.png",onClick:function(){b(!0)},children:nt})]}),(0,e.jsxs)("div",{className:"rightSideBar",children:[(0,e.jsx)("div",{className:"determinOutline",children:(0,e.jsx)(sn.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",block:!0,onClick:function(){U(void 0)},children:wn})}),(0,e.jsx)(K.Z,{labels:s,activeIds:new Set([cn]),onLabelSelect:function(a){fn(a),U(void 0)},onLabelModify:function(){},onLabelDelete:function(a){var Q=[],rn=(0,$.Z)(s),Sn;try{for(rn.s();!(Sn=rn.n()).done;){var Bn=Sn.value;Bn.labelId!=a.labelId&&Q.push(Bn)}}catch(tt){rn.e(tt)}finally{rn.f()}_(Q),(cn==null?void 0:cn.labelId)==a.labelId&&fn(void 0)},onLabelAdd:function(a){s.push(a),_(s),fn(a)}}),(0,e.jsx)(on.Z,{currAnnotation:un,annotations:nn,onAnnotationSelect:function(a){a!=null&&a.delete||U(a)},onAnnotationAdd:function(){},onAnnotationModify:function(){},onAnnotationDelete:function(a){ln(nn.filter(function(Q){return Q.frontendId!=a.frontendId})),U(void 0)}})]}),(0,e.jsx)(X.Z,{visible:g,onCancel:function(){C(!1)},onFinish:function(){C(!1)}}),(0,e.jsx)(S.Z,{visible:x,onCancel:function(){b(!1)},onFinish:function(){b(!1)}})]})},q=B}}]);
