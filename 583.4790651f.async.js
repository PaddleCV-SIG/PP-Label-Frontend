(self.webpackChunkpp_label_frontend=self.webpackChunkpp_label_frontend||[]).push([[583],{85024:function(p){p.exports={listItem:"listItem___u4Q82",eye:"eye___BwaRm",delete:"delete___31JB_",roundBall:"roundBall___23A7l",popover:"popover___1BNET",annotationId:"annotationId___zAzX4",labelName:"labelName___2ohxn",listItemActive:"listItemActive___2QnA3"}},56159:function(p){p.exports={labelList:"labelList___v7C6K",listHeader:"listHeader___1aY8R",eye:"eye___2MKbp",roundBall:"roundBall___187XH"}},26647:function(p){p.exports={toolBarButtonContainerWrapper:"toolBarButtonContainerWrapper___1FTWb",toolBarButtonContainer:"toolBarButtonContainer___1Vahn",toolBarButton:"toolBarButton___3mR2H",buttonText:"buttonText___Y0WDm",toolBarButtonContainerWrapperActive:"toolBarButtonContainerWrapperActive___3lRZ8",popover:"popover___3zzu2",slider:"slider___ALra-",popoverLeft:"popoverLeft___15lGe"}},6277:function(p){p.exports={modal:"modal___26yNn"}},45092:function(p){p.exports={modal:"modal___1H_FQ"}},8978:function(p,H,n){"use strict";n.d(H,{Z:function(){return q}});var k=n(8870),Y=n(2824),rn=n(91220),G=n(67294),M=n(85893);function g(t){if(!t||!t.width||!t.color||!t.points||t.points.length<2||t.frontendId==null)return"";var f=t.type=="rubber"?0:t.frontendId;return"".concat(t.width,",").concat(f,",").concat(t.points.join(","))}function d(t){var f,a=t.canvasRef,c=t.annotation,s=c.result;if(!s)return(0,M.jsx)(M.Fragment,{});var I=(f=a.current)===null||f===void 0?void 0:f.getContext("2d");if(!I)return(0,M.jsx)(M.Fragment,{});for(var E=[],D=0,i=0;i<s.length;i++)s.at(i)==","?(E.push(parseFloat(s.slice(D,i))),D=i+1):s.at(i)=="|"?(E.push(parseFloat(s.slice(D,i))),P(E,I,c),E=[],D=i+1):i==s.length-1&&(E.push(parseFloat(s.slice(D,s.length))),P(E,I,c));return(0,M.jsx)(M.Fragment,{})}function P(t,f,a){var c;if(t.length<4){console.log("found incorrect points:",t);return}var s=t[0],I=t[1];if(s==0){var E;W(f,t.slice(2),(E=a.label)===null||E===void 0?void 0:E.color);return}if(I==0){y(f,s,t.slice(2),void 0);return}y(f,s,t.slice(2),(c=a.label)===null||c===void 0?void 0:c.color)}function y(t,f,a,c){t.beginPath(),t.moveTo(a[0],a[1]);for(var s=0;s<=a.length/2-1;s++){var I=a[2*s],E=a[2*s+1];t.lineTo(I,E)}t.lineCap="round",t.lineJoin="round",t.lineWidth=f,c&&(t.strokeStyle=c),t.globalCompositeOperation=c?"source-over":"destination-out",t.stroke()}function W(t,f,a){t.globalCompositeOperation=a?"source-over":"destination-out",a&&(t.fillStyle=a);for(var c=0;c<=f.length/2-1;c++){var s=f[2*c],I=f[2*c+1];t.fillRect(s,I,1,1)}}function V(t){if(!t||t.length==0)return 0;var f=0,a=(0,rn.Z)(t),c;try{for(a.s();!(c=a.n()).done;){var s=c.value;s.frontendId>f&&(f=s.frontendId)}}catch(I){a.e(I)}finally{a.f()}return f}function K(t,f){return t=="rubber"||f==2?"rubber":"brush"}function q(t){var f=(0,G.useState)(),a=(0,Y.Z)(f,2),c=a[0],s=a[1],I=function(_){var m,O;if(!(t.currentTool!="brush"&&t.currentTool!="rubber"||!((m=t.currentLabel)!==null&&m!==void 0&&m.color)||!t.brushSize)){var o=_.mouseX,j=_.mouseY,b=K(t.currentTool,_.e.evt.button),h=t.frontendIdOps.frontendId>0?t.frontendIdOps.frontendId:V(t.annotations)+1;h!=t.frontendIdOps.frontendId&&t.frontendIdOps.setFrontendId(h);var R=g({width:t.brushSize||10,color:(O=t.currentLabel)===null||O===void 0?void 0:O.color,points:[o,j,o,j],type:b,frontendId:h});if(!!R){s(b);var A={dataId:t.dataId,label:t.currentLabel,frontendId:h,result:R};t.onAnnotationAdd(A)}}},E=function(_){var m;if(!(!c||!t.currentAnnotation||!t.currentAnnotation.result||t.currentAnnotation.result.length<2||!((m=t.currentLabel)!==null&&m!==void 0&&m.color))){var O=_.mouseX,o=_.mouseY,j=t.currentAnnotation.result+",".concat(O,",").concat(o);t.onAnnotationModify((0,k.Z)((0,k.Z)({},t.currentAnnotation),{},{result:j}))}},D=function(){t.currentTool!="brush"&&t.currentTool!="rubber"||(s(void 0),t.onMouseUp())};return{onMouseDown:I,onMouseMove:E,onMouseUp:D,drawAnnotation:d}}},14836:function(p,H,n){"use strict";n.d(H,{Z:function(){return D}});var k=n(54421),Y=n(38272),rn=n(57663),G=n(71577),M=n(91220),g=n(67294),d=n(56159),P=n.n(d),y=n(49111),W=n(19650),V=n(2824),K=n(8870),q=n(85024),t=n.n(q),f=n(63097),a=n(85893),c=function(_){var m=(0,K.Z)({},_.annotation),O=(0,g.useState)(m.invisible),o=(0,V.Z)(O,2),j=o[0],b=o[1],h=(0,g.useState)(0),R=(0,V.Z)(h,2),A=R[0],L=R[1];(0,g.useEffect)(function(){b(_.annotation.invisible)},[_.annotation.invisible]);var x=(0,a.jsxs)(Y.ZP.Item,{className:"".concat(t().listItem," ").concat(_.active?t().listItemActive:""),unselectable:"on",onClick:function(){_.onClick(m)},children:[(0,a.jsxs)(W.Z,{align:"center",size:5,children:[(0,a.jsx)("a",{className:t().eye,style:{backgroundImage:j?"url(./pics/hide.png)":"url(./pics/show.png)"},onClick:function(e){e.stopPropagation(),b(!j),_.onAnnotationModify(m)}})," ",(0,a.jsx)("span",{className:t().annotationId,children:m.frontendId}),(0,a.jsx)("span",{className:t().labelName,children:m.label.name}),(0,a.jsx)(f.Z,{color:m.label.color})]}),(0,a.jsx)("a",{className:t().delete,onClick:function(e){e.stopPropagation();var l=new Date().getTime();l-A<300||(L(l),_.onAnnotationDelete(m))}})]});return x},s=c,I=n(48971),E=function(_){var m=(0,I.YB)(),O=m.formatMessage({id:"component.PPAnnotationList.annotationList"}),o=m.formatMessage({id:"component.PPAnnotationList.addAnnotation"}),j=new Set,b=[],h=(0,M.Z)(_.annotations),R;try{for(h.s();!(R=h.n()).done;){var A=R.value;j.has(A.frontendId)||(b.push(A),j.add(A.frontendId))}}catch(L){h.e(L)}finally{h.f()}return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(Y.ZP,{className:P().labelList,size:"large",header:(0,a.jsx)("div",{className:P().listHeader,children:O}),bordered:!0,dataSource:b,renderItem:function(x){var J;return(0,a.jsx)(s,{onClick:_.onAnnotationSelect,annotation:x,active:x.frontendId==((J=_.currAnnotation)===null||J===void 0?void 0:J.frontendId),onAnnotationDelete:_.onAnnotationDelete,onAnnotationModify:_.onAnnotationModify})},footer:(0,a.jsx)("div",{children:(0,a.jsx)(G.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",onClick:function(){_.onAnnotationAdd()},block:!0,children:o})})})})},D=E},27992:function(p,H,n){"use strict";var k=n(20136),Y=n(55241),rn=n(13062),G=n(71230),M=n(77883),g=n(70507),d=n(89032),P=n(15746),y=n(66126),W=n(75454),V=n(2824),K=n(67294),q=n(61541),t=n(26647),f=n.n(t),a=n(85893),c=0,s=100,I=10,E=function(i){var _=(0,K.useState)(R(i.size)),m=(0,V.Z)(_,2),O=m[0],o=m[1];function j(A){o(R(A))}var b=i.minSize==null?c:i.minSize,h=i.maxSize==null?s:i.maxSize;function R(A){return A==null?I:A<=b?b:A>=h?h:A}return(0,K.useEffect)(function(){j(i.size)},[i.size]),(0,a.jsxs)(Y.Z,{overlayClassName:"".concat(f().popover," ").concat(i.disLoc=="left"?f().popoverLeft:""),placement:i.disLoc||"right",content:(0,a.jsxs)(G.Z,{children:[(0,a.jsx)(P.Z,{span:16,children:(0,a.jsx)(W.Z,{className:f().slider,value:O,max:h,min:b,onChange:function(L){var x;(x=i.onChange)===null||x===void 0||x.call(0,L)},tooltipVisible:!1})}),(0,a.jsx)(P.Z,{span:8,children:(0,a.jsx)(g.Z,{min:b,max:h,value:O,onChange:function(L){var x;(x=i.onChange)===null||x===void 0||x.call(0,L)},step:10})})]}),trigger:"hover",children:[" ",(0,a.jsx)(q.Z,{imgSrc:i.imgSrc||"",onClick:i.onClick,active:i.active,children:i.children})]})};H.Z=E},85871:function(p,H,n){"use strict";var k=n(71194),Y=n(50146),rn=n(49111),G=n(19650),M=n(57663),g=n(71577),d=n(13062),P=n(71230),y=n(89032),W=n(15746),V=n(77883),K=n(70507),q=n(34792),t=n(48086),f=n(9715),a=n(93766),c=n(2824),s=n(67294),I=n(48971),E=n(6277),D=n.n(E),i=n(85893),_=function(O){var o=(0,I.YB)(),j=(0,s.useState)(60),b=(0,c.Z)(j,2),h=b[0],R=b[1],A=(0,s.useState)(20),L=(0,c.Z)(A,2),x=L[0],J=L[1],e=(0,s.useState)(20),l=(0,c.Z)(e,2),v=l[0],C=l[1],S=(0,s.useState)(!1),B=(0,c.Z)(S,2),N=B[0],X=B[1],z=o.formatMessage({id:"pages.toolBar.divideData"}),Q=o.formatMessage({id:"component.PPDivideDataModal.train"}),Z=o.formatMessage({id:"component.PPDivideDataModal.validation"}),en=o.formatMessage({id:"component.PPDivideDataModal.test"}),sn=o.formatMessage({id:"component.PPCreater.cancel"}),w=o.formatMessage({id:"component.PPSegMode.ok"}),on=a.Z.useForm(),T=(0,c.Z)(on,1),$=T[0];return(0,i.jsx)(Y.Z,{className:D().modal,title:z,visible:O.visible,onCancel:O.onCancel,footer:null,children:(0,i.jsxs)(a.Z,{form:$,name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!1},onFinish:function(){if(h+x+v!=100){t.default.error("Train, Validation and Test total percent should equal 100!");return}console.log("x trainData: ".concat(h,", validationData: ").concat(x,", testData: ").concat(v,", props.project.curr.projectId: ").concat(O.project.curr.projectId)),X(!0),O.splitDataset(O.project.curr.projectId,{train:h*.01,val:x*.01,test:v*.01}).then(function(){var an;console.log("success"),t.default.success(o.formatMessage({id:"component.PPDivideDataModal.success"})),(an=O.onFinish)===null||an===void 0||an.call(0)}).finally(function(){X(!1)})},autoComplete:"off",layout:"vertical",children:[(0,i.jsxs)(P.Z,{children:[(0,i.jsx)(W.Z,{span:8,children:(0,i.jsx)(a.Z.Item,{label:Q,name:"train",children:(0,i.jsx)(K.Z,{addonAfter:"%",defaultValue:60,precision:0,min:0,max:100,value:h,onChange:R})})}),(0,i.jsx)(W.Z,{span:8,children:(0,i.jsx)(a.Z.Item,{label:Z,name:"validation",children:(0,i.jsx)(K.Z,{addonAfter:"%",defaultValue:20,precision:0,min:0,max:100,value:x,onChange:J})})}),(0,i.jsx)(W.Z,{span:8,children:(0,i.jsx)(a.Z.Item,{label:en,name:"test",children:(0,i.jsx)(K.Z,{addonAfter:"%",defaultValue:20,precision:0,min:0,max:100,value:v,onChange:C})})})]}),(0,i.jsx)(a.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,i.jsxs)(G.Z,{children:[(0,i.jsx)(g.Z,{onClick:function(){var an;(an=O.onCancel)===null||an===void 0||an.call(0),$.resetFields()},children:sn}),(0,i.jsx)(g.Z,{type:"primary",htmlType:"submit",loading:N,children:w})]})})]})})};H.Z=_},62850:function(p,H,n){"use strict";var k=n(71194),Y=n(50146),rn=n(49111),G=n(19650),M=n(57663),g=n(71577),d=n(47673),P=n(24044),y=n(34792),W=n(48086),V=n(9715),K=n(93766),q=n(2824),t=n(67294),f=n(48971),a=n(45092),c=n.n(a),s=n(85893),I=function(D){var i=(0,f.YB)(),_=(0,t.useState)(!1),m=(0,q.Z)(_,2),O=m[0],o=m[1],j=i.formatMessage({id:"component.PPCreater.cancel"}),b=K.Z.useForm(),h=(0,q.Z)(b,1),R=h[0];return(0,s.jsx)(Y.Z,{className:c().modal,title:i.formatMessage({id:"component.PPExportModal.title"}),visible:D.visible,onCancel:D.onCancel,footer:null,children:(0,s.jsxs)(K.Z,{form:R,name:"basic",labelCol:{span:6},wrapperCol:{span:16},initialValues:{remember:!1},onFinish:function(L){console.log(L);var x=L.path;if(!x){W.default.error(i.formatMessage({id:"component.PPExportModal.pathNotNull"}));return}o(!0),D.exportDataset(D.project.curr.projectId,x).then(function(){var J;W.default.success(i.formatMessage({id:"component.PPExportModal.exportSuccess"})),(J=D.onFinish)===null||J===void 0||J.call(0)}).finally(function(){o(!1)})},autoComplete:"off",children:[(0,s.jsx)(K.Z.Item,{label:i.formatMessage({id:"component.PPExportModal.path"}),name:"path",children:(0,s.jsx)(P.Z,{})}),(0,s.jsx)(K.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,s.jsxs)(G.Z,{children:[(0,s.jsx)(g.Z,{onClick:function(){var L;(L=D.onCancel)===null||L===void 0||L.call(0),R.resetFields()},children:j}),(0,s.jsx)(g.Z,{type:"primary",htmlType:"submit",loading:O,children:i.formatMessage({id:"component.PPExportModal.export"})})]})})]})})};H.Z=I},91861:function(p,H,n){"use strict";n.d(H,{Ad:function(){return Y},k3:function(){return rn},Vd:function(){return G},td:function(){return M}});var k=40;function Y(){localStorage.removeItem("history"),rn([])}function rn(g){var d=localStorage.getItem("history"),P=d?JSON.parse(d):{index:-1,items:[]};if(JSON.stringify(P.items[P.index])!=JSON.stringify(g)){var y=P.index>k?P.index-k:0,W=P.items.splice(y,P.index==0?1:P.index+1);P.items=W.concat([g]),P.index<=k?P.index++:P.index=k+1,localStorage.setItem("history",JSON.stringify(P))}}function G(){var g=localStorage.getItem("history");if(!!g){var d=JSON.parse(g);if(!!d&&!(d.index>=d.items.length-1))return d.index++,localStorage.setItem("history",JSON.stringify(d)),d.items[d.index]}}function M(){var g=localStorage.getItem("history");if(!!g){var d=JSON.parse(g);if(!(!d||!d.index)&&!(d.index<=0))return d.index--,localStorage.setItem("history",JSON.stringify(d)),d.items[d.index]}}},44583:function(p,H,n){"use strict";n.r(H),n.d(H,{MOST_HISTORY_STEPS:function(){return A},default:function(){return J}});var k=n(57663),Y=n(71577),rn=n(34669),G=n(54458),M=n(2824),g=n(91220),d=n(67294),P=n(8088),y=n(61541),W=n(44434),V=n(27992),K=n(5041),q=n(57436),t=n(14836),f=n(48971),a=n(91861),c=n(85871),s=n(62850),I=n(8978),E=n(8870),D=n(65031);function i(e){var l=0;if(!e)return l;var v=_createForOfIteratorHelper(e),C;try{for(v.s();!(C=v.n()).done;){var S=C.value;!S||!S.frontendId||S.frontendId>l&&(l=S.frontendId)}}catch(B){v.e(B)}finally{v.f()}return l}function _(e){var l=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return l?{r:parseInt(l[1],16),g:parseInt(l[2],16),b:parseInt(l[3],16)}:null}function m(e){var l=e.toString(16);return l.length==1?"0"+l:l}function O(e,l,v){return"#"+m(e)+m(l)+m(v)}var o=n(85893);function j(e,l){if(!(!e||!l))return{color:e,points:l}}function b(e){if(!e.annotation||!e.annotation.lines||!e.annotation.lines[0])return(0,o.jsx)(o.Fragment,{});var l=e.annotation.lines[0].points,v=e.annotation.lines[0].color,C=_(v);if(!C)return(0,o.jsx)(o.Fragment,{});var S=.3,B=void 0,N=[];return l.forEach(function(X,z){if(!B){B=X;return}N.push((0,o.jsx)(D.Cd,{onMouseDown:function(){e.currentTool=="editor"&&e.onSelect(e.annotation)},draggable:e.currentTool=="editor",onDragMove:function(Z){var en;Z.cancelBubble=!0;var sn=(en=e.stageRef)===null||en===void 0?void 0:en.current,w=sn.findOne(".baseImage"),on=!1,T=Z.target.x();T>w.width()/2&&(T=w.width()/2,on=!0),T<-w.width()/2&&(T=-w.width()/2,on=!0);var $=Z.target.y();$>w.height()/2&&($=w.height()/2,on=!0),$<-w.height()/2&&($=-w.height()/2,on=!0),on&&Z.target.setPosition({x:T,y:$}),l[z-1]=T,l[z]=$;var un=(0,E.Z)((0,E.Z)({},e.annotation),{},{points:[{color:v,points:l}]});e.onDrag(un)},onMouseOver:function(){var Z;e.currentTool=="editor"&&(Z=e.stageRef)!==null&&Z!==void 0&&Z.current&&(e.stageRef.current.container().style.cursor="cell")},onMouseOut:function(){var Z;e.currentTool=="editor"&&(Z=e.stageRef)!==null&&Z!==void 0&&Z.current&&(e.stageRef.current.container().style.cursor="default")},x:B,y:X,radius:5/e.scale,fill:v})),B=void 0}),(0,o.jsxs)(D.ZA,{children:[(0,o.jsx)(D.x1,{onMouseOver:function(){e.currentTool=="editor"&&(document.body.style.cursor="pointer")},onMouseOut:function(){document.body.style.cursor="default"},onClick:function(){e.currentTool=="editor"&&e.onSelect(e.annotation)},stroke:v,strokeWidth:2/e.scale,globalCompositeOperation:"source-over",lineCap:"round",points:l,tension:0,closed:!0,fill:"rgba(".concat(C.r,", ").concat(C.g,", ").concat(C.b,", ").concat(S,")")}),N]},e.annotation.frontendId)}function h(e){var l=0;if(!e)return l;var v=(0,g.Z)(e),C;try{for(v.s();!(C=v.n()).done;){var S=C.value;!S||!S.frontendId||S.frontendId>l&&(l=S.frontendId)}}catch(B){v.e(B)}finally{v.f()}return l}function R(e){var l=function(N,X){var z,Q=j((z=e.currentLabel)===null||z===void 0?void 0:z.color,[N,X]);!Q||e.onAnnotationAdd({dataId:e.dataId,type:"polygon",frontendId:h(e.annotations)+1,label:e.currentLabel,lines:[Q]})},v=function(N,X){var z,Q;if(!!e.currentAnnotation){var Z=e.currentAnnotation.lines||[],en=j((z=e.currentLabel)===null||z===void 0?void 0:z.color,(Q=Z[0])===null||Q===void 0?void 0:Q.points.concat([N,X]));if(!!en){var sn={dataId:e.dataId,type:"polygon",frontendId:e.currentAnnotation.frontendId,label:e.currentAnnotation.label,points:[en]};e.onAnnotationModify(sn)}}},C=function(N){e.currentTool=="polygon"&&(e.currentAnnotation?v(N.mouseX,N.mouseY):l(N.mouseX,N.mouseY))},S=function(){e.currentTool=="polygon"&&e.onMouseUp()};return{onMouseDown:C,onMouseMove:function(){},onMouseUp:S,drawAnnotation:b}}var A=40;function L(e){var l=0;if(!e)return l;var v=(0,g.Z)(e),C;try{for(v.s();!(C=v.n()).done;){var S=C.value;!S.labelId||S.labelId>l&&(l=S.labelId)}}catch(B){v.e(B)}finally{v.f()}return l}var x=function(){var l=(0,d.useState)([]),v=(0,M.Z)(l,2),C=v[0],S=v[1],B=(0,d.useState)(!1),N=(0,M.Z)(B,2),X=N[0],z=N[1],Q=(0,d.useState)(!1),Z=(0,M.Z)(Q,2),en=Z[0],sn=Z[1],w=(0,d.useState)(void 0),on=(0,M.Z)(w,2),T=on[0],$=on[1],un=(0,d.useState)(new Set),an=(0,M.Z)(un,2),mn=an[0],Bn=an[1],jn=(0,d.useState)(),Mn=(0,M.Z)(jn,2),dn=Mn[0],Zn=Mn[1],Rn=(0,d.useState)([]),hn=(0,M.Z)(Rn,2),nn=hn[0],ln=hn[1],Un=(0,d.useState)(0),En=(0,M.Z)(Un,2),Cn=En[0],cn=En[1],Wn=(0,d.useState)(10),In=(0,M.Z)(Wn,2),Pn=In[0],Dn=In[1],Kn=(0,d.useState)(60),On=(0,M.Z)(Kn,2),An=On[0],Fn=On[1],pn=(0,d.useState)(1),xn=(0,M.Z)(pn,2),fn=xn[0],gn=xn[1],Sn=function(r){r||gn(1),r<.1||r>20?gn(1):gn(r)},vn=function(r){var tn=new Set;r!=null&&r.labelId&&tn.add(r.labelId),Bn(tn)},F=function(r){Zn(r),r!=null&&r.label&&vn(r.label),cn(r?r.frontendId:0)};(0,d.useEffect)(function(){(0,a.Ad)()},[]);var yn=function(r){nn.pop(),nn.push(r),F(r),ln(nn)},Ln={dataId:0,currentLabel:C.find(function(u){return u.labelId==mn.values().next().value}),brushSize:Pn,scale:fn,currentTool:T,annotations:nn,currentAnnotation:dn,onAnnotationAdd:function(r){var tn=nn.concat([r]);ln(tn),F(r)},onAnnotationModify:yn,onMouseUp:function(){(0,a.k3)({annos:nn,currAnno:dn})},frontendIdOps:{frontendId:Cn,setFrontendId:cn}},U=(0,f.YB)(),Nn=(0,I.Z)(Ln),zn=R(Ln),$n=T=="polygon"?zn:Nn;return(0,o.jsxs)(P.Z,{className:"segment",children:[(0,o.jsxs)(W.Z,{children:[(0,o.jsx)(y.Z,{imgSrc:"./pics/buttons/polygon.png",active:T=="polygon",onClick:function(){$("polygon"),F(void 0)},children:U.formatMessage({id:"pages.toolBar.polygon"})}),(0,o.jsx)(y.Z,{active:T=="editor",imgSrc:"./pics/buttons/edit.png",onClick:function(){$("editor"),F(void 0)},children:U.formatMessage({id:"pages.toolBar.edit"})}),(0,o.jsx)(V.Z,{imgSrc:"./pics/buttons/brush.png",size:Pn,active:T=="brush",onClick:function(){T!="rubber"&&T!="brush"&&F(void 0),$("brush")},onChange:function(r){Dn(r)},children:U.formatMessage({id:"pages.toolBar.brush"})}),(0,o.jsx)(V.Z,{size:Pn,active:T=="rubber",onClick:function(){T!="rubber"&&T!="brush"&&F(void 0),$("rubber")},onChange:function(r){Dn(r)},imgSrc:"./pics/buttons/rubber.png",children:U.formatMessage({id:"pages.toolBar.rubber"})}),(0,o.jsx)(y.Z,{imgSrc:"./pics/buttons/zoom_in.png",onClick:function(){Sn(fn+.1)},children:U.formatMessage({id:"pages.toolBar.zoomIn"})}),(0,o.jsx)(y.Z,{imgSrc:"./pics/buttons/zoom_out.png",onClick:function(){Sn(fn-.1)},children:U.formatMessage({id:"pages.toolBar.zoomOut"})}),(0,o.jsx)(y.Z,{imgSrc:"./pics/buttons/save.png",children:U.formatMessage({id:"pages.toolBar.save"})}),(0,o.jsx)(y.Z,{active:T=="mover",imgSrc:"./pics/buttons/move.png",onClick:function(){$("mover")},children:U.formatMessage({id:"pages.toolBar.move"})}),(0,o.jsx)(y.Z,{imgSrc:"./pics/buttons/prev.png",onClick:function(){var r=(0,a.td)();r&&(ln(r.annos),F(r.currAnno))},children:U.formatMessage({id:"pages.toolBar.unDo"})}),(0,o.jsx)(y.Z,{imgSrc:"./pics/buttons/next.png",onClick:function(){var r=(0,a.Vd)();r&&(ln(r.annos),F(r.currAnno))},children:U.formatMessage({id:"pages.toolBar.reDo"})}),(0,o.jsx)(y.Z,{imgSrc:"./pics/buttons/clear_mark.png",children:U.formatMessage({id:"pages.toolBar.clearMark"})})]}),(0,o.jsxs)("div",{id:"dr",className:"mainStage",children:[(0,o.jsx)("div",{className:"draw",children:(0,o.jsx)(q.Z,{scale:fn,annotations:nn,currentTool:T,currentAnnotation:dn,setCurrentAnnotation:F,onAnnotationModify:yn,onAnnotationModifyComplete:function(){(0,a.k3)({annos:nn,currAnno:dn})},frontendIdOps:{frontendId:Cn,setFrontendId:cn},imgSrc:void 0,transparency:An,onAnnotationAdd:function(r){var tn=nn.concat([r]);ln(tn),dn||F(r)},drawTool:$n})}),(0,o.jsx)("div",{className:"pblock",children:(0,o.jsxs)("div",{className:"progress",children:[(0,o.jsx)(G.Z,{className:"progressBar",percent:10,status:"active",showInfo:!1})," ",(0,o.jsx)("span",{className:"progressDesc",children:"Current labeling 1 of 300. Already labeled 20."})]})}),(0,o.jsx)("div",{className:"prevTask",onClick:function(){!task.prevTask()||(F(void 0),ln([]))}}),(0,o.jsx)("div",{className:"nextTask",onClick:function(){!task.nextTask()||(F(void 0),ln([]))}})]}),(0,o.jsxs)(W.Z,{disLoc:"right",children:[(0,o.jsx)(y.Z,{imgSrc:"./pics/buttons/intelligent_interaction.png",children:U.formatMessage({id:"pages.toolBar.interactor"})}),(0,o.jsx)(V.Z,{imgSrc:"./pics/buttons/threshold.png",disLoc:"left",children:U.formatMessage({id:"pages.toolBar.segmentThreshold"})}),(0,o.jsx)(V.Z,{imgSrc:"./pics/buttons/alpha.png",disLoc:"left",size:An,maxSize:100,minSize:0,onChange:function(r){Fn(r)},children:U.formatMessage({id:"pages.toolBar.transparency"})}),(0,o.jsx)(V.Z,{imgSrc:"./pics/buttons/radius.png",disLoc:"left",children:U.formatMessage({id:"pages.toolBar.visualRadius"})}),(0,o.jsx)(y.Z,{imgSrc:"./pics/buttons/data_division.png",onClick:function(){z(!0)},children:U.formatMessage({id:"pages.toolBar.divideData"})}),(0,o.jsx)(y.Z,{imgSrc:"./pics/buttons/export.png",onClick:function(){sn(!0)},children:U.formatMessage({id:"pages.toolBar.export"})})]}),(0,o.jsxs)("div",{className:"rightSideBar",children:[(0,o.jsx)("div",{className:"determinOutline",children:(0,o.jsx)(Y.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",block:!0,onClick:function(){F(void 0)},children:U.formatMessage({id:"pages.toolBar.determineOutline"})})}),(0,o.jsx)(K.Z,{labels:C,activeIds:mn,onLabelSelect:function(r){vn(r),F(void 0)},onLabelModify:function(){},onLabelDelete:function(r){var tn=[],_n=(0,g.Z)(C),Tn;try{for(_n.s();!(Tn=_n.n()).done;){var bn=Tn.value;bn.labelId!=r.labelId&&tn.push(bn)}}catch(Hn){_n.e(Hn)}finally{_n.f()}S(tn),r.labelId&&mn.has(r.labelId)&&vn(void 0)},onLabelAdd:function(r){r.labelId||(r.labelId=L(C)+1),C.push(r),S(C),vn(r),F(void 0)}}),(0,o.jsx)(t.Z,{currAnnotation:dn,annotations:nn,onAnnotationSelect:function(r){r!=null&&r.delete||F(r)},onAnnotationAdd:function(){},onAnnotationModify:function(){},onAnnotationDelete:function(r){ln(nn.filter(function(tn){return tn.frontendId!=r.frontendId})),F(void 0)}})]}),(0,o.jsx)(c.Z,{visible:X,onCancel:function(){z(!1)},onFinish:function(){z(!1)}}),(0,o.jsx)(s.Z,{visible:en,onCancel:function(){sn(!1)},onFinish:function(){sn(!1)}})]})},J=x}}]);
