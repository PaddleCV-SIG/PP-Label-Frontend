(self.webpackChunkpp_label_frontend=self.webpackChunkpp_label_frontend||[]).push([[813],{85024:function(W){W.exports={listItem:"listItem___u4Q82",eye:"eye___BwaRm",delete:"delete___31JB_",roundBall:"roundBall___23A7l",popover:"popover___1BNET",annotationId:"annotationId___zAzX4",labelName:"labelName___2ohxn",listItemActive:"listItemActive___2QnA3"}},56159:function(W){W.exports={labelList:"labelList___v7C6K",listHeader:"listHeader___1aY8R",eye:"eye___2MKbp",roundBall:"roundBall___187XH"}},26647:function(W){W.exports={toolBarButtonContainerWrapper:"toolBarButtonContainerWrapper___1FTWb",toolBarButtonContainer:"toolBarButtonContainer___1Vahn",toolBarButton:"toolBarButton___3mR2H",buttonText:"buttonText___Y0WDm",toolBarButtonContainerWrapperActive:"toolBarButtonContainerWrapperActive___3lRZ8",popover:"popover___3zzu2",slider:"slider___ALra-",popoverLeft:"popoverLeft___15lGe"}},6277:function(W){W.exports={modal:"modal___26yNn"}},45092:function(W){W.exports={modal:"modal___1H_FQ"}},14836:function(W,J,t){"use strict";t.d(J,{Z:function(){return X}});var $=t(54421),G=t(38272),sn=t(57663),tn=t(71577),en=t(67294),c=t(56159),s=t.n(c),h=t(49111),S=t(19650),b=t(2824),k=t(11849),K=t(85024),Y=t.n(K),on=t(63097),r=t(85893),P=function(o){var e=(0,k.Z)({},o.annotation),H=(0,en.useState)(e.invisible),B=(0,b.Z)(H,2),F=B[0],N=B[1],z=(0,en.useState)(0),j=(0,b.Z)(z,2),w=j[0],Z=j[1];(0,en.useEffect)(function(){N(o.annotation.invisible)},[o.annotation.invisible]);var L=(0,r.jsxs)(G.ZP.Item,{className:"".concat(Y().listItem," ").concat(o.active?Y().listItemActive:""),unselectable:"on",onClick:function(){o.onClick(e)},children:[(0,r.jsxs)(S.Z,{align:"center",size:5,children:[(0,r.jsx)("a",{className:Y().eye,style:{backgroundImage:F?"url(./pics/hide.png)":"url(./pics/show.png)"},onClick:function(q){q.stopPropagation(),N(!F),o.onAnnotationModify(e)}})," ",(0,r.jsx)("span",{className:Y().annotationId,children:e.frontendId}),(0,r.jsx)("span",{className:Y().labelName,children:e.label.name}),(0,r.jsx)(on.Z,{color:e.label.color})]}),(0,r.jsx)("a",{className:Y().delete,onClick:function(q){q.stopPropagation();var n=new Date().getTime();n-w<300||(Z(n),o.onAnnotationDelete(e))}})]});return L},p=P,D=t(48971),I=function(o){var e=(0,D.YB)().formatMessage({id:"component.PPAnnotationList.annotationList"}),H=(0,D.YB)().formatMessage({id:"component.PPAnnotationList.addAnnotation"});return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(G.ZP,{className:s().labelList,size:"large",header:(0,r.jsx)("div",{className:s().listHeader,children:e}),bordered:!0,dataSource:o.annotations,renderItem:function(F){var N;return(0,r.jsx)(p,{onClick:o.onAnnotationSelect,annotation:F,active:F.frontendId==((N=o.currAnnotation)===null||N===void 0?void 0:N.frontendId),onAnnotationDelete:o.onAnnotationDelete,onAnnotationModify:o.onAnnotationModify})},footer:(0,r.jsx)("div",{children:(0,r.jsx)(tn.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",onClick:function(){o.onAnnotationAdd()},block:!0,children:H})})})})},X=I},27992:function(W,J,t){"use strict";var $=t(20136),G=t(55241),sn=t(13062),tn=t(71230),en=t(77883),c=t(70507),s=t(89032),h=t(15746),S=t(66126),b=t(75454),k=t(2824),K=t(67294),Y=t(61541),on=t(26647),r=t.n(on),P=t(85893),p=0,D=100,I=10,X=function(o){var e=(0,K.useState)(w(o.size)),H=(0,k.Z)(e,2),B=H[0],F=H[1];function N(Z){F(w(Z))}var z=o.minSize==null?p:o.minSize,j=o.maxSize==null?D:o.maxSize;function w(Z){return Z==null?I:Z<=z?z:Z>=j?j:Z}return(0,K.useEffect)(function(){N(o.size)},[o.size]),(0,P.jsxs)(G.Z,{overlayClassName:"".concat(r().popover," ").concat(o.disLoc=="left"?r().popoverLeft:""),placement:o.disLoc||"right",content:(0,P.jsxs)(tn.Z,{children:[(0,P.jsx)(h.Z,{span:16,children:(0,P.jsx)(b.Z,{className:r().slider,value:B,max:j,min:z,onChange:function(L){var A;(A=o.onChange)===null||A===void 0||A.call(0,L)},tooltipVisible:!1})}),(0,P.jsx)(h.Z,{span:8,children:(0,P.jsx)(c.Z,{min:z,max:j,value:B,onChange:function(L){var A;(A=o.onChange)===null||A===void 0||A.call(0,L)},step:10})})]}),trigger:"hover",children:[" ",(0,P.jsx)(Y.Z,{imgSrc:o.imgSrc||"",onClick:o.onClick,active:o.active,children:o.children})]})};J.Z=X},85871:function(W,J,t){"use strict";var $=t(71194),G=t(50146),sn=t(49111),tn=t(19650),en=t(57663),c=t(71577),s=t(13062),h=t(71230),S=t(89032),b=t(15746),k=t(77883),K=t(70507),Y=t(34792),on=t(48086),r=t(9715),P=t(93766),p=t(2824),D=t(67294),I=t(48971),X=t(6277),V=t.n(X),o=t(85893),e=function(B){var F=(0,I.YB)(),N=(0,D.useState)(60),z=(0,p.Z)(N,2),j=z[0],w=z[1],Z=(0,D.useState)(20),L=(0,p.Z)(Z,2),A=L[0],q=L[1],n=(0,D.useState)(20),i=(0,p.Z)(n,2),d=i[0],f=i[1],u=(0,D.useState)(!1),g=(0,p.Z)(u,2),C=g[0],x=g[1],M=(0,I.YB)().formatMessage({id:"pages.toolBar.divideData"}),_=(0,I.YB)().formatMessage({id:"component.PPDivideDataModal.train"}),m=(0,I.YB)().formatMessage({id:"component.PPDivideDataModal.validation"}),O=(0,I.YB)().formatMessage({id:"component.PPDivideDataModal.test"}),R=(0,I.YB)().formatMessage({id:"component.PPCreater.cancel"}),T=(0,I.YB)().formatMessage({id:"component.PPSegMode.ok"}),y=P.Z.useForm(),v=(0,p.Z)(y,1),E=v[0];return(0,o.jsx)(G.Z,{className:V().modal,title:M,visible:B.visible,onCancel:B.onCancel,footer:null,children:(0,o.jsxs)(P.Z,{form:E,name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!1},onFinish:function(){if(j+A+d!=100){on.default.error("Train, Validation and Test total percent should equal 100!");return}console.log("x trainData: ".concat(j,", validationData: ").concat(A,", testData: ").concat(d,", props.project.curr.projectId: ").concat(B.project.curr.projectId)),x(!0),B.splitDataset(B.project.curr.projectId,{train:j*.01,validation:A*.01,test:d*.01}).then(function(){var an;console.log("success"),on.default.success(F.formatMessage({id:"component.PPDivideDataModal.success"})),(an=B.onFinish)===null||an===void 0||an.call(0)}).finally(function(){x(!1)})},autoComplete:"off",layout:"vertical",children:[(0,o.jsxs)(h.Z,{children:[(0,o.jsx)(b.Z,{span:8,children:(0,o.jsx)(P.Z.Item,{label:_,name:"train",children:(0,o.jsx)(K.Z,{addonAfter:"%",defaultValue:60,precision:0,min:0,max:100,value:j,onChange:w})})}),(0,o.jsx)(b.Z,{span:8,children:(0,o.jsx)(P.Z.Item,{label:m,name:"validation",children:(0,o.jsx)(K.Z,{addonAfter:"%",defaultValue:20,precision:0,min:0,max:100,value:A,onChange:q})})}),(0,o.jsx)(b.Z,{span:8,children:(0,o.jsx)(P.Z.Item,{label:O,name:"test",children:(0,o.jsx)(K.Z,{addonAfter:"%",defaultValue:20,precision:0,min:0,max:100,value:d,onChange:f})})})]}),(0,o.jsx)(P.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,o.jsxs)(tn.Z,{children:[(0,o.jsx)(c.Z,{onClick:function(){var an;(an=B.onCancel)===null||an===void 0||an.call(0),E.resetFields()},children:R}),(0,o.jsx)(c.Z,{type:"primary",htmlType:"submit",loading:C,children:T})]})})]})})};J.Z=e},62850:function(W,J,t){"use strict";var $=t(71194),G=t(50146),sn=t(49111),tn=t(19650),en=t(57663),c=t(71577),s=t(47673),h=t(24044),S=t(34792),b=t(48086),k=t(9715),K=t(93766),Y=t(2824),on=t(67294),r=t(48971),P=t(45092),p=t.n(P),D=t(85893),I=function(V){var o=(0,r.YB)(),e=(0,on.useState)(!1),H=(0,Y.Z)(e,2),B=H[0],F=H[1],N=(0,r.YB)().formatMessage({id:"component.PPCreater.cancel"}),z=K.Z.useForm(),j=(0,Y.Z)(z,1),w=j[0];return(0,D.jsx)(G.Z,{className:p().modal,title:(0,r.YB)().formatMessage({id:"component.PPExportModal.title"}),visible:V.visible,onCancel:V.onCancel,footer:null,children:(0,D.jsxs)(K.Z,{form:w,name:"basic",labelCol:{span:6},wrapperCol:{span:16},initialValues:{remember:!1},onFinish:function(L){console.log(L);var A=L.path;if(!A){b.default.error(o.formatMessage({id:"component.PPExportModal.pathNotNull"}));return}F(!0),V.exportDataset(V.project.curr.projectId,A).then(function(){var q;b.default.success(o.formatMessage({id:"component.PPExportModal.exportSuccess"})),(q=V.onFinish)===null||q===void 0||q.call(0)}).finally(function(){F(!1)})},autoComplete:"off",children:[(0,D.jsx)(K.Z.Item,{label:o.formatMessage({id:"component.PPExportModal.path"}),name:"path",children:(0,D.jsx)(h.Z,{})}),(0,D.jsx)(K.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,D.jsxs)(tn.Z,{children:[(0,D.jsx)(c.Z,{onClick:function(){var L;(L=V.onCancel)===null||L===void 0||L.call(0),w.resetFields()},children:N}),(0,D.jsx)(c.Z,{type:"primary",htmlType:"submit",loading:B,children:o.formatMessage({id:"component.PPExportModal.export"})})]})})]})})};J.Z=I},91861:function(W,J,t){"use strict";t.d(J,{Ad:function(){return G},k3:function(){return sn},Vd:function(){return tn},td:function(){return en}});var $=40;function G(){localStorage.removeItem("history"),sn([])}function sn(c){var s=localStorage.getItem("history"),h=s?JSON.parse(s):{index:-1,items:[]};if(JSON.stringify(h.items[h.index])!=JSON.stringify(c)){var S=h.index>$?h.index-$:0,b=h.items.splice(S,h.index==0?1:h.index+1);h.items=b.concat([c]),h.index<=$?h.index++:h.index=$+1,localStorage.setItem("history",JSON.stringify(h))}}function tn(){var c=localStorage.getItem("history");if(!!c){var s=JSON.parse(c);if(!!s&&!(s.index>=s.items.length-1))return s.index++,localStorage.setItem("history",JSON.stringify(s)),s.items[s.index]}}function en(){var c=localStorage.getItem("history");if(!!c){var s=JSON.parse(c);if(!(!s||!s.index)&&!(s.index<=0))return s.index--,localStorage.setItem("history",JSON.stringify(s)),s.items[s.index]}}},4813:function(W,J,t){"use strict";t.r(J),t.d(J,{MOST_HISTORY_STEPS:function(){return L},default:function(){return q}});var $=t(91220),G=t(57663),sn=t(71577),tn=t(34669),en=t(54458),c=t(2824),s=t(67294),h=t(8088),S=t(61541),b=t(44434),k=t(27992),K=t(5041),Y=t(57436),on=t(14836),r=t(48971),P=t(91861),p=t(85871),D=t(62850),I=t(11849),X=t(65031);function V(n){var i=0;if(!n)return i;var d=(0,$.Z)(n),f;try{for(d.s();!(f=d.n()).done;){var u=f.value;!u||!u.frontendId||u.frontendId>i&&(i=u.frontendId)}}catch(g){d.e(g)}finally{d.f()}return i}function o(n){var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null}var e=t(85893);function H(n,i,d,f){if(!(!n||!i||!d||!f))return{width:n,color:i,points:d,tool:f}}function B(n){var i,d;if(console.log("drawLine: ",n.annotation),!n.annotation)return(0,e.jsx)(e.Fragment,{});var f=n.annotation.png?(0,e.jsx)(X.Ee,{image:n.annotation.png}):(0,e.jsx)(e.Fragment,{}),u=(i=n.canvasRef.current)===null||i===void 0?void 0:i.getContext("2d");if(!u||!n.annotation.lines)return f;var g=(0,$.Z)(n.annotation.lines),C;try{for(g.s();!(C=g.n()).done;){var x=C.value,M=x.points;u.beginPath(),u.moveTo(M[0],M[1]);for(var _=0;_<=M.length/2-1;_++){var m=M[2*_],O=M[2*_+1];u.lineTo(m,O)}u.lineCap="round",u.lineJoin="round",u.lineWidth=x.width,u.strokeStyle=x.color,u.globalCompositeOperation=x.tool=="brush"?"source-over":"destination-out",u.stroke()}}catch(R){g.e(R)}finally{g.f()}return(d=n.layerRef.current)===null||d===void 0||d.batchDraw(),(0,e.jsx)(X.ZA,{draggable:!1,children:f})}function F(n,i){return n=="rubber"||i==2?"rubber":"brush"}function N(n){var i=(0,s.useState)(),d=(0,c.Z)(i,2),f=d[0],u=d[1],g=function(_){var m,O;if(!(n.currentTool!="brush"&&n.currentTool!="rubber"||!((m=n.currentLabel)!==null&&m!==void 0&&m.color))){var R=_.mouseX,T=_.mouseY,y=F(n.currentTool,_.e.evt.button),v=H(n.brushSize||10,(O=n.currentLabel)===null||O===void 0?void 0:O.color,[R,T,R,T],y);if(!!v)if(u(y),n.currentAnnotation){var E,dn={type:"brush",frontendId:n.currentAnnotation.frontendId,label:n.currentAnnotation.label,lines:(E=n.currentAnnotation.lines)===null||E===void 0?void 0:E.concat([v]),dataId:n.dataId};n.onAnnotationModify(dn)}else{if(y=="rubber")return;n.onAnnotationAdd({dataId:n.dataId,type:y,frontendId:V(n.annotations)+1,label:n.currentLabel,lines:[v]})}}},C=function(_){var m,O;if(!(!f||!n.currentAnnotation||!((m=n.currentLabel)!==null&&m!==void 0&&m.color))){var R=_.mouseX,T=_.mouseY,y=[R,T],v=[];(O=n.currentAnnotation)!==null&&O!==void 0&&O.lines&&(y=n.currentAnnotation.lines[n.currentAnnotation.lines.length-1].points.concat(y),v=n.currentAnnotation.lines);var E=H(n.brushSize||10,n.currentLabel.color,y,f);!E||(v.pop(),v.push(E),n.onAnnotationModify((0,I.Z)((0,I.Z)({},n.currentAnnotation),{},{lines:v,type:f})))}},x=function(){n.currentTool!="brush"&&n.currentTool!="rubber"||(u(void 0),n.onMouseUp())};return{onMouseDown:g,onMouseMove:C,onMouseUp:x,createElementsFunc:B}}function z(n,i){if(!(!n||!i))return{color:n,points:i}}function j(n){if(!n.annotation||!n.annotation.lines||!n.annotation.lines[0])return(0,e.jsx)(e.Fragment,{});var i=n.annotation.lines[0].points,d=n.annotation.lines[0].color,f=o(d);if(!f)return(0,e.jsx)(e.Fragment,{});var u=.3,g=void 0,C=[];return i.forEach(function(x,M){if(!g){g=x;return}C.push((0,e.jsx)(X.Cd,{onMouseDown:function(){n.currentTool=="editor"&&n.onSelect(n.annotation)},draggable:n.currentTool=="editor",onDragMove:function(m){var O;m.cancelBubble=!0;var R=(O=n.stageRef)===null||O===void 0?void 0:O.current,T=R.findOne(".baseImage"),y=!1,v=m.target.x();v>T.width()/2&&(v=T.width()/2,y=!0),v<-T.width()/2&&(v=-T.width()/2,y=!0);var E=m.target.y();E>T.height()/2&&(E=T.height()/2,y=!0),E<-T.height()/2&&(E=-T.height()/2,y=!0),y&&m.target.setPosition({x:v,y:E}),i[M-1]=v,i[M]=E;var dn=(0,I.Z)((0,I.Z)({},n.annotation),{},{points:[{color:d,points:i}]});n.onDrag(dn)},onMouseOver:function(){var m;n.currentTool=="editor"&&(m=n.stageRef)!==null&&m!==void 0&&m.current&&(n.stageRef.current.container().style.cursor="cell")},onMouseOut:function(){var m;n.currentTool=="editor"&&(m=n.stageRef)!==null&&m!==void 0&&m.current&&(n.stageRef.current.container().style.cursor="default")},x:g,y:x,radius:5/n.scale,fill:d})),g=void 0}),(0,e.jsxs)(X.ZA,{children:[(0,e.jsx)(X.x1,{onMouseOver:function(){n.currentTool=="editor"&&(document.body.style.cursor="pointer")},onMouseOut:function(){document.body.style.cursor="default"},onClick:function(){n.currentTool=="editor"&&n.onSelect(n.annotation)},stroke:d,strokeWidth:2/n.scale,globalCompositeOperation:"source-over",lineCap:"round",points:i,tension:0,closed:!0,fill:"rgba(".concat(f.r,", ").concat(f.g,", ").concat(f.b,", ").concat(u,")")}),C]},n.annotation.frontendId)}function w(n){var i=0;if(!n)return i;var d=(0,$.Z)(n),f;try{for(d.s();!(f=d.n()).done;){var u=f.value;!u||!u.frontendId||u.frontendId>i&&(i=u.frontendId)}}catch(g){d.e(g)}finally{d.f()}return i}function Z(n){var i=function(C,x){var M,_=z((M=n.currentLabel)===null||M===void 0?void 0:M.color,[C,x]);!_||n.onAnnotationAdd({dataId:n.dataId,type:"polygon",frontendId:w(n.annotations)+1,label:n.currentLabel,lines:[_]})},d=function(C,x){var M,_;if(!!n.currentAnnotation){var m=n.currentAnnotation.lines||[],O=z((M=n.currentLabel)===null||M===void 0?void 0:M.color,(_=m[0])===null||_===void 0?void 0:_.points.concat([C,x]));if(!!O){var R={dataId:n.dataId,type:"polygon",frontendId:n.currentAnnotation.frontendId,label:n.currentAnnotation.label,points:[O]};n.onAnnotationModify(R)}}},f=function(C){n.currentTool=="polygon"&&(n.currentAnnotation?d(C.mouseX,C.mouseY):i(C.mouseX,C.mouseY))},u=function(){n.currentTool=="polygon"&&n.onMouseUp()};return{onMouseDown:f,onMouseMove:function(){},onMouseUp:u,createElementsFunc:j}}var L=40,A=function(){var i=(0,s.useState)([]),d=(0,c.Z)(i,2),f=d[0],u=d[1],g=(0,s.useState)(!1),C=(0,c.Z)(g,2),x=C[0],M=C[1],_=(0,s.useState)(!1),m=(0,c.Z)(_,2),O=m[0],R=m[1],T=(0,s.useState)(void 0),y=(0,c.Z)(T,2),v=y[0],E=y[1],dn=(0,s.useState)(),an=(0,c.Z)(dn,2),cn=an[0],vn=an[1],yn=(0,s.useState)(),gn=(0,c.Z)(yn,2),un=gn[0],In=gn[1],Ln=(0,s.useState)([]),Mn=(0,c.Z)(Ln,2),nn=Mn[0],ln=Mn[1],Tn=(0,s.useState)(10),Pn=(0,c.Z)(Tn,2),mn=Pn[0],hn=Pn[1],bn=(0,s.useState)(60),En=(0,c.Z)(bn,2),Cn=En[0],jn=En[1],Zn=(0,s.useState)(1),xn=(0,c.Z)(Zn,2),fn=xn[0],_n=xn[1],Dn=function(a){a||_n(1),a<.1||a>3?_n(1):_n(a)},U=function(a){In(a),a!=null&&a.label&&vn(a.label)};(0,s.useEffect)(function(){(0,P.Ad)()},[]);var An=function(a){for(var Q=[],rn=0;rn<nn.length;rn++)nn[rn].frontendId==a.frontendId?Q.push(a):Q.push(nn[rn]);U(a),ln(Q)},On={dataId:0,currentLabel:cn,brushSize:mn,scale:fn,currentTool:v,annotations:nn,currentAnnotation:un,onAnnotationAdd:function(a){var Q=nn.concat([a]);ln(Q),un||U(a)},onAnnotationModify:An,onMouseUp:function(){(0,P.k3)({annos:nn,currAnno:un})}},Rn=N(On),Un=Z(On),Wn=v=="polygon"?Un:Rn,Kn=(0,r.YB)().formatMessage({id:"pages.toolBar.polygon"}),Yn=(0,r.YB)().formatMessage({id:"pages.toolBar.brush"}),Fn=(0,r.YB)().formatMessage({id:"pages.toolBar.rubber"}),Nn=(0,r.YB)().formatMessage({id:"pages.toolBar.zoomIn"}),zn=(0,r.YB)().formatMessage({id:"pages.toolBar.zoomOut"}),$n=(0,r.YB)().formatMessage({id:"pages.toolBar.move"}),pn=(0,r.YB)().formatMessage({id:"pages.toolBar.unDo"}),Vn=(0,r.YB)().formatMessage({id:"pages.toolBar.reDo"}),Hn=(0,r.YB)().formatMessage({id:"pages.toolBar.save"}),Jn=(0,r.YB)().formatMessage({id:"pages.toolBar.edit"}),Xn=(0,r.YB)().formatMessage({id:"pages.toolBar.clearMark"}),Qn=(0,r.YB)().formatMessage({id:"pages.toolBar.interactor"}),Gn=(0,r.YB)().formatMessage({id:"pages.toolBar.segmentThreshold"}),kn=(0,r.YB)().formatMessage({id:"pages.toolBar.visualRadius"}),wn=(0,r.YB)().formatMessage({id:"pages.toolBar.determineOutline"}),qn=(0,r.YB)().formatMessage({id:"pages.toolBar.divideData"}),nt=(0,r.YB)().formatMessage({id:"pages.toolBar.export"});return(0,e.jsxs)(h.Z,{className:"segment",children:[(0,e.jsxs)(b.Z,{children:[(0,e.jsx)(S.Z,{imgSrc:"./pics/buttons/polygon.png",active:v=="polygon",onClick:function(){E("polygon"),U(void 0)},children:Kn}),(0,e.jsx)(S.Z,{active:v=="editor",imgSrc:"./pics/buttons/edit.png",onClick:function(){E("editor"),U(void 0)},children:Jn}),(0,e.jsx)(k.Z,{imgSrc:"./pics/buttons/brush.png",size:mn,active:v=="brush",onClick:function(){v!="rubber"&&v!="brush"&&U(void 0),E("brush")},onChange:function(a){hn(a)},children:Yn}),(0,e.jsx)(k.Z,{size:mn,active:v=="rubber",onClick:function(){v!="rubber"&&v!="brush"&&U(void 0),E("rubber")},onChange:function(a){hn(a)},imgSrc:"./pics/buttons/rubber.png",children:Fn}),(0,e.jsx)(S.Z,{imgSrc:"./pics/buttons/zoom_in.png",onClick:function(){Dn(fn+.1)},children:Nn}),(0,e.jsx)(S.Z,{imgSrc:"./pics/buttons/zoom_out.png",onClick:function(){Dn(fn-.1)},children:zn}),(0,e.jsx)(S.Z,{imgSrc:"./pics/buttons/save.png",children:Hn}),(0,e.jsx)(S.Z,{active:v=="mover",imgSrc:"./pics/buttons/move.png",onClick:function(){E("mover")},children:$n}),(0,e.jsx)(S.Z,{imgSrc:"./pics/buttons/prev.png",onClick:function(){var a=(0,P.td)();a&&(ln(a.annos),U(a.currAnno))},children:pn}),(0,e.jsx)(S.Z,{imgSrc:"./pics/buttons/next.png",onClick:function(){var a=(0,P.Vd)();a&&(ln(a.annos),U(a.currAnno))},children:Vn}),(0,e.jsx)(S.Z,{imgSrc:"./pics/buttons/clear_mark.png",children:Xn})]}),(0,e.jsxs)("div",{id:"dr",className:"mainStage",children:[(0,e.jsx)("div",{className:"draw",children:(0,e.jsx)(Y.Z,{scale:fn,annotations:nn,currentTool:v,currentAnnotation:un,setCurrentAnnotation:U,onAnnotationModify:An,onAnnotationModifyComplete:function(){(0,P.k3)({annos:nn,currAnno:un})},imgSrc:void 0,transparency:Cn,onAnnotationAdd:function(a){var Q=nn.concat([a]);ln(Q),un||U(a)},drawTool:Wn})}),(0,e.jsx)("div",{className:"pblock",children:(0,e.jsxs)("div",{className:"progress",children:[(0,e.jsx)(en.Z,{className:"progressBar",percent:10,status:"active",showInfo:!1})," ",(0,e.jsx)("span",{className:"progressDesc",children:"Current labeling 1 of 300. Already labeled 20."})]})}),(0,e.jsx)("div",{className:"prevTask",onClick:function(){!task.prevTask()||(U(void 0),ln([]))}}),(0,e.jsx)("div",{className:"nextTask",onClick:function(){!task.nextTask()||(U(void 0),ln([]))}})]}),(0,e.jsxs)(b.Z,{disLoc:"right",children:[(0,e.jsx)(S.Z,{imgSrc:"./pics/buttons/intelligent_interaction.png",children:Qn}),(0,e.jsx)(k.Z,{imgSrc:"./pics/buttons/threshold.png",disLoc:"left",children:Gn}),(0,e.jsx)(k.Z,{imgSrc:"./pics/buttons/alpha.png",disLoc:"left",size:Cn,maxSize:100,minSize:0,onChange:function(a){jn(a)},children:(0,r.YB)().formatMessage({id:"pages.toolBar.transparency"})}),(0,e.jsx)(k.Z,{imgSrc:"./pics/buttons/radius.png",disLoc:"left",children:kn}),(0,e.jsx)(S.Z,{imgSrc:"./pics/buttons/data_division.png",onClick:function(){M(!0)},children:qn}),(0,e.jsx)(S.Z,{imgSrc:"./pics/buttons/export.png",onClick:function(){R(!0)},children:nt})]}),(0,e.jsxs)("div",{className:"rightSideBar",children:[(0,e.jsx)("div",{className:"determinOutline",children:(0,e.jsx)(sn.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",block:!0,onClick:function(){U(void 0)},children:wn})}),(0,e.jsx)(K.Z,{labels:f,activeIds:new Set([cn]),onLabelSelect:function(a){vn(a),U(void 0)},onLabelModify:function(){},onLabelDelete:function(a){var Q=[],rn=(0,$.Z)(f),Sn;try{for(rn.s();!(Sn=rn.n()).done;){var Bn=Sn.value;Bn.labelId!=a.labelId&&Q.push(Bn)}}catch(tt){rn.e(tt)}finally{rn.f()}u(Q),(cn==null?void 0:cn.labelId)==a.labelId&&vn(void 0)},onLabelAdd:function(a){f.push(a),u(f),vn(a)}}),(0,e.jsx)(on.Z,{currAnnotation:un,annotations:nn,onAnnotationSelect:function(a){a!=null&&a.delete||U(a)},onAnnotationAdd:function(){},onAnnotationModify:function(){},onAnnotationDelete:function(a){ln(nn.filter(function(Q){return Q.frontendId!=a.frontendId})),U(void 0)}})]}),(0,e.jsx)(p.Z,{visible:x,onCancel:function(){M(!1)},onFinish:function(){M(!1)}}),(0,e.jsx)(D.Z,{visible:O,onCancel:function(){R(!1)},onFinish:function(){R(!1)}})]})},q=A}}]);
