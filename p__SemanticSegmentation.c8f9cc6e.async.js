(self.webpackChunkpp_labeling_frontend=self.webpackChunkpp_labeling_frontend||[]).push([[540],{91220:function(B,S,n){"use strict";n.d(S,{Z:function(){return I}});var W=n(64254);function I(s,h){var C;if(typeof Symbol=="undefined"||s[Symbol.iterator]==null){if(Array.isArray(s)||(C=(0,W.Z)(s))||h&&s&&typeof s.length=="number"){C&&(s=C);var m=0,D=function(){};return{s:D,n:function(){return m>=s.length?{done:!0}:{done:!1,value:s[m++]}},e:function(o){throw o},f:D}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l=!0,O=!1,A;return{s:function(){C=s[Symbol.iterator]()},n:function(){var o=C.next();return l=o.done,o},e:function(o){O=!0,A=o},f:function(){try{!l&&C.return!=null&&C.return()}finally{if(O)throw A}}}}},57560:function(B){B.exports={toolBarButtonContainerWrapper:"toolBarButtonContainerWrapper___147XP",toolBarButtonContainer:"toolBarButtonContainer___ZEvhK",toolBarButton:"toolBarButton___1s2Rh",buttonText:"buttonText___3NTCv",toolBarButtonContainerWrapperActive:"toolBarButtonContainerWrapperActive___2Utx8",popover:"popover___3PRoi"}},26647:function(B){B.exports={toolBarButtonContainerWrapper:"toolBarButtonContainerWrapper___1FTWb",toolBarButtonContainer:"toolBarButtonContainer___1Vahn",toolBarButton:"toolBarButton___3mR2H",buttonText:"buttonText___Y0WDm",toolBarButtonContainerWrapperActive:"toolBarButtonContainerWrapperActive___3lRZ8",popover:"popover___3zzu2"}},54777:function(B){B.exports={segment:"segment___1YMcl",mainStage:"mainStage___2otee",rightSideBar:"rightSideBar___2X7jK",determinOutline:"determinOutline___2ls57"}},43801:function(B,S,n){"use strict";n.d(S,{Z:function(){return A}});var W=n(11849),I=n(2824),s=n(91220),h=n(67294),C=n(65031),m=n(85893);function D(t,o,u,c){if(!(!t||!o||!u||!c))return{width:t,color:o,points:u,tool:c,element:(0,m.jsx)(C.x1,{stroke:o,strokeWidth:t,globalCompositeOperation:c==="brush"?"source-over":"destination-out",lineCap:"round",points:u,tension:.01})}}function l(t,o){return t=="rubber"||o==2?"rubber":"brush"}function O(t){var o=0,u=(0,s.Z)(t),c;try{for(u.s();!(c=u.n()).done;){var g=c.value;!g||g.annotationId>o&&(o=g.annotationId)}}catch(M){u.e(M)}finally{u.f()}return o}function A(t){var o=(0,h.useState)(),u=(0,I.Z)(o,2),c=u[0],g=u[1],M=function(L,b){var v;if(console.log(t.currentTool),!(t.currentTool!="brush"&&t.currentTool!="rubber")){var d=L.evt.offsetX/b,E=L.evt.offsetY/b,f=l(t.currentTool,L.evt.button),r=D(t.brushSize||10,(v=t.currentLabel)===null||v===void 0?void 0:v.color,[d,E,d,E],f);if(!!r)if(g(f),t.currentAnnotation){var _,Z={annotationId:t.currentAnnotation.annotationId,label:t.currentAnnotation.label,lines:(_=t.currentAnnotation.lines)===null||_===void 0?void 0:_.concat([r])};t.onAnnotationModify(Z)}else{if(f=="rubber")return;t.onAnnotationAdd({annotationId:O(t.annotations)+1,label:t.currentLabel,lines:[r]})}}},R=function(L,b){var v;if(!(!c||!t.currentAnnotation)){var d=L.evt.offsetX/b,E=L.evt.offsetY/b,f=[d,E],r=[];(v=t.currentAnnotation)!==null&&v!==void 0&&v.lines&&(f=t.currentAnnotation.lines[t.currentAnnotation.lines.length-1].points.concat(f),r=t.currentAnnotation.lines);var _=D(t.brushSize||10,t.currentLabel.color,f,c);!_||(r.pop(),r.push(_),t.onAnnotationModify((0,W.Z)((0,W.Z)({},t.currentAnnotation),{},{lines:r})))}},e=function(){t.currentTool!="brush"&&t.currentTool!="rubber"||g(void 0)};return{onMouseDown:M,onMouseMove:R,onMouseUp:e}}},58967:function(B,S,n){"use strict";var W=n(20136),I=n(55241),s=n(77883),h=n(70507),C=n(57663),m=n(71577),D=n(2824),l=n(67294),O=n(61541),A=n(57560),t=n.n(A),o=n(85893),u=1,c=50,g=10;function M(e){return e?e<=u?u:e>=c?c:e:g}var R=function(i){var L=(0,l.useState)(M(i.size)),b=(0,D.Z)(L,2),v=b[0],d=b[1],E=function(r){d(M(r))};return(0,l.useEffect)(function(){E(i.size)},[i.size]),(0,o.jsxs)(I.Z,{overlayClassName:t().popover,placement:"right",content:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(m.Z,{type:"text",onClick:function(){var r,_=M(v-1);E(_),(r=i.onChange)===null||r===void 0||r.call(0,_)},children:"-"}),(0,o.jsx)(h.Z,{min:u,max:c,value:v,onChange:function(r){var _;(_=i.onChange)===null||_===void 0||_.call(0,r)},controls:!1,style:{textAlign:"center"}}),(0,o.jsx)(m.Z,{type:"text",onClick:function(){var r,_=M(v+1);E(_),(r=i.onChange)===null||r===void 0||r.call(0,_)},children:"+"})]}),trigger:i.active?"hover":"click",children:[" ",(0,o.jsx)(O.Z,{active:i.active,imgSrc:i.imgSrc||"./pics/buttons/brush.png",onClick:i.onClick,children:i.children||"Brush"})]})};S.Z=R},27992:function(B,S,n){"use strict";var W=n(20136),I=n(55241),s=n(77883),h=n(70507),C=n(57663),m=n(71577),D=n(2824),l=n(67294),O=n(61541),A=n(26647),t=n.n(A),o=n(85893),u=1,c=100,g=10;function M(e){return e?e<=u?u:e>=c?c:e:g}var R=function(i){var L=(0,l.useState)(M(i.size)),b=(0,D.Z)(L,2),v=b[0],d=b[1],E=function(r){d(M(r))};return(0,l.useEffect)(function(){E(i.size)},[i.size]),(0,o.jsxs)(I.Z,{overlayClassName:t().popover,placement:i.disLoc||"right",content:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(m.Z,{type:"text",onClick:function(){var r,_=M(v-1);E(_),(r=i.onChange)===null||r===void 0||r.call(0,_)},children:"-"}),(0,o.jsx)(h.Z,{min:u,max:c,value:v,onChange:function(r){var _;(_=i.onChange)===null||_===void 0||_.call(0,r)},controls:!1,style:{textAlign:"center"}}),(0,o.jsx)(m.Z,{type:"text",onClick:function(){var r,_=M(v+1);E(_),(r=i.onChange)===null||r===void 0||r.call(0,_)},children:"+"})]}),trigger:"hover",children:[" ",(0,o.jsx)(O.Z,{imgSrc:i.imgSrc,onClick:i.onClick,children:i.children})]})};S.Z=R},86089:function(B,S,n){"use strict";n.r(S);var W=n(57663),I=n(71577),s=n(2824),h=n(67294),C=n(54777),m=n.n(C),D=n(8088),l=n(61541),O=n(44434),A=n(58967),t=n(27992),o=n(5041),u=n(57436),c=n(14836),g=n(29919),M=n(43801),R=n(13931),e=n(85893),i=function(){var b=(0,h.useState)(void 0),v=(0,s.Z)(b,2),d=v[0],E=v[1],f=(0,h.useState)({color:"",name:""}),r=(0,s.Z)(f,2),_=r[0],Z=r[1],J=(0,h.useState)(),N=(0,s.Z)(J,2),U=N[0],Q=N[1],k=(0,h.useState)([]),X=(0,s.Z)(k,2),T=X[0],j=X[1],w=(0,h.useState)(10),Y=(0,s.Z)(w,2),K=Y[0],$=Y[1],q=(0,h.useState)(1),H=(0,s.Z)(q,2),z=H[0],V=H[1],x=function(a){Q(a),a!=null&&a.label&&Z(a.label)},G=function(a){for(var y=[],p=0;p<T.length;p++)T[p].annotationId==a.annotationId?y.push(a):y.push(T[p]);x(a),j(y)},nn=(0,M.Z)({currentLabel:_,brushSize:K,currentTool:d,annotations:T,currentAnnotation:U,onAnnotationAdd:function(a){j(T.concat([a])),U||x(a)},onAnnotationModify:G}),tn=(0,R.Z)({currentLabel:_,brushSize:K,currentTool:d,annotations:T,currentAnnotation:U,onAnnotationAdd:function(a){j(T.concat([a])),U||x(a)},onAnnotationModify:G}),F=d=="polygon"?tn:nn;return(0,e.jsxs)(D.Z,{className:m().segment,children:[(0,e.jsxs)(O.Z,{children:[(0,e.jsx)(l.Z,{imgSrc:"./pics/buttons/intelligent_interaction.png",children:"Intelligent Interaction"}),(0,e.jsx)(g.Z,{active:d=="polygon",onClick:function(){E("polygon"),x(void 0)},children:"Polygon"}),(0,e.jsx)(A.Z,{size:K,active:d=="brush",onClick:function(){d!="rubber"&&d!="brush"&&x(void 0),E("brush")},onChange:function(a){$(a)},children:"Brush"}),(0,e.jsx)(A.Z,{size:K,active:d=="rubber",onClick:function(){d!="rubber"&&d!="brush"&&x(void 0),E("rubber")},onChange:function(a){$(a)},imgSrc:"./pics/buttons/rubber.png",children:"Rubber"}),(0,e.jsx)(l.Z,{imgSrc:"./pics/buttons/zoom_in.png",onClick:function(){V(z+.1)},children:"Zoom in"}),(0,e.jsx)(l.Z,{imgSrc:"./pics/buttons/zoom_out.png",onClick:function(){V(z-.1)},children:"Zoom out"}),(0,e.jsx)(l.Z,{imgSrc:"./pics/buttons/save.png",children:"Save"}),(0,e.jsx)(l.Z,{imgSrc:"./pics/buttons/move.png",children:"Move"}),(0,e.jsx)(l.Z,{imgSrc:"./pics/buttons/export.png",children:"Export"}),(0,e.jsx)(l.Z,{imgSrc:"./pics/buttons/data_division.png",children:"Divide Data"}),(0,e.jsx)(l.Z,{imgSrc:"./pics/buttons/prev.png",children:"Undo"}),(0,e.jsx)(l.Z,{imgSrc:"./pics/buttons/next.png",children:"Redo"}),(0,e.jsx)(l.Z,{imgSrc:"./pics/buttons/clear_mark.png",children:"Clear Mark"})]}),(0,e.jsx)("div",{className:m().mainStage,children:(0,e.jsx)(u.Z,{scale:z,annotations:T,onMouseDown:F.onMouseDown,onMouseMove:F.onMouseMove,onMouseUp:F.onMouseUp})}),(0,e.jsxs)(O.Z,{disLoc:"right",children:[(0,e.jsx)(t.Z,{imgSrc:"./pics/buttons/threshold.png",disLoc:"left",children:"Segment Threshold"}),(0,e.jsx)(t.Z,{imgSrc:"./pics/buttons/alpha.png",disLoc:"left",children:"Diaphaneity"}),(0,e.jsx)(t.Z,{imgSrc:"./pics/buttons/radius.png",disLoc:"left",children:"Visual Radius"})]}),(0,e.jsxs)("div",{className:m().rightSideBar,children:[(0,e.jsx)("div",{className:m().determinOutline,children:(0,e.jsx)(I.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",block:!0,onClick:function(){x(void 0)},children:"Determine Outline"})}),(0,e.jsx)(o.Z,{selectedLabel:_,onLabelSelect:function(a){Z(a),x(void 0)},onLabelModify:function(){},onLabelDelete:function(){},onLabelAdd:function(){}}),(0,e.jsx)(c.Z,{selectedAnnotation:U,annotations:T,onAnnotationSelect:function(a){a!=null&&a.delete||x(a)},onAnnotationAdd:function(){},onAnnotationModify:function(){},onAnnotationDelete:function(a){j(T.filter(function(y){return y.annotationId!=a.annotationId})),x(void 0)}})]})]})};S.default=i}}]);
