(self.webpackChunkpp_labeling_frontend=self.webpackChunkpp_labeling_frontend||[]).push([[540],{91220:function(O,A,n){"use strict";n.d(A,{Z:function(){return x}});var W=n(64254);function x(C,I){var P;if(typeof Symbol=="undefined"||C[Symbol.iterator]==null){if(Array.isArray(C)||(P=(0,W.Z)(C))||I&&C&&typeof C.length=="number"){P&&(C=P);var E=0,D=function(){};return{s:D,n:function(){return E>=C.length?{done:!0}:{done:!1,value:C[E++]}},e:function(o){throw o},f:D}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v=!0,L=!1,u;return{s:function(){P=C[Symbol.iterator]()},n:function(){var o=P.next();return v=o.done,o},e:function(o){L=!0,u=o},f:function(){try{!v&&P.return!=null&&P.return()}finally{if(L)throw u}}}}},57560:function(O){O.exports={toolBarButtonContainerWrapper:"toolBarButtonContainerWrapper___147XP",toolBarButtonContainer:"toolBarButtonContainer___ZEvhK",toolBarButton:"toolBarButton___1s2Rh",buttonText:"buttonText___3NTCv",toolBarButtonContainerWrapperActive:"toolBarButtonContainerWrapperActive___2Utx8",popover:"popover___3PRoi"}},26647:function(O){O.exports={toolBarButtonContainerWrapper:"toolBarButtonContainerWrapper___1FTWb",toolBarButtonContainer:"toolBarButtonContainer___1Vahn",toolBarButton:"toolBarButton___3mR2H",buttonText:"buttonText___Y0WDm",toolBarButtonContainerWrapperActive:"toolBarButtonContainerWrapperActive___3lRZ8",popover:"popover___3zzu2"}},54777:function(O){O.exports={segment:"segment___1YMcl",mainStage:"mainStage___2otee",draw:"draw___equn4",pblock:"pblock___2bT7z",progress:"progress___1porz",rightSideBar:"rightSideBar___2X7jK",determinOutline:"determinOutline___2ls57"}},43801:function(O,A,n){"use strict";n.d(A,{Z:function(){return u}});var W=n(11849),x=n(2824),C=n(91220),I=n(67294),P=n(65031),E=n(85893);function D(t,o,s,d){if(!(!t||!o||!s||!d))return{width:t,color:o,points:s,tool:d,element:(0,E.jsx)(P.x1,{stroke:o,strokeWidth:t,globalCompositeOperation:d==="brush"?"source-over":"destination-out",lineCap:"round",points:s,tension:.01})}}function v(t,o){return t=="rubber"||o==2?"rubber":"brush"}function L(t){var o=0,s=(0,C.Z)(t),d;try{for(s.s();!(d=s.n()).done;){var g=d.value;!g||g.annotationId>o&&(o=g.annotationId)}}catch(m){s.e(m)}finally{s.f()}return o}function u(t){var o=(0,I.useState)(),s=(0,x.Z)(o,2),d=s[0],g=s[1],m=function(e,b){var f;if(console.log(t.currentTool),!(t.currentTool!="brush"&&t.currentTool!="rubber")){var B=e.evt.offsetX/b,h=e.evt.offsetY/b,l=v(t.currentTool,e.evt.button),r=D(t.brushSize||10,(f=t.currentLabel)===null||f===void 0?void 0:f.color,[B,h,B,h],l);if(!!r)if(g(l),t.currentAnnotation){var _,Z={annotationId:t.currentAnnotation.annotationId,label:t.currentAnnotation.label,lines:(_=t.currentAnnotation.lines)===null||_===void 0?void 0:_.concat([r])};t.onAnnotationModify(Z)}else{if(l=="rubber")return;t.onAnnotationAdd({annotationId:L(t.annotations)+1,label:t.currentLabel,lines:[r]})}}},R=function(e,b){var f;if(!(!d||!t.currentAnnotation)){var B=e.evt.offsetX/b,h=e.evt.offsetY/b,l=[B,h],r=[];(f=t.currentAnnotation)!==null&&f!==void 0&&f.lines&&(l=t.currentAnnotation.lines[t.currentAnnotation.lines.length-1].points.concat(l),r=t.currentAnnotation.lines);var _=D(t.brushSize||10,t.currentLabel.color,l,d);!_||(r.pop(),r.push(_),t.onAnnotationModify((0,W.Z)((0,W.Z)({},t.currentAnnotation),{},{lines:r})))}},M=function(){t.currentTool!="brush"&&t.currentTool!="rubber"||g(void 0)};return{onMouseDown:m,onMouseMove:R,onMouseUp:M}}},58967:function(O,A,n){"use strict";var W=n(20136),x=n(55241),C=n(77883),I=n(70507),P=n(57663),E=n(71577),D=n(2824),v=n(67294),L=n(61541),u=n(57560),t=n.n(u),o=n(85893),s=1,d=50,g=10;function m(M){return M?M<=s?s:M>=d?d:M:g}var R=function(i){var e=(0,v.useState)(m(i.size)),b=(0,D.Z)(e,2),f=b[0],B=b[1],h=function(r){B(m(r))};return(0,v.useEffect)(function(){h(i.size)},[i.size]),(0,o.jsxs)(x.Z,{overlayClassName:t().popover,placement:"right",content:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(E.Z,{type:"text",onClick:function(){var r,_=m(f-1);h(_),(r=i.onChange)===null||r===void 0||r.call(0,_)},children:"-"}),(0,o.jsx)(I.Z,{min:s,max:d,value:f,onChange:function(r){var _;(_=i.onChange)===null||_===void 0||_.call(0,r)},controls:!1,style:{textAlign:"center"}}),(0,o.jsx)(E.Z,{type:"text",onClick:function(){var r,_=m(f+1);h(_),(r=i.onChange)===null||r===void 0||r.call(0,_)},children:"+"})]}),trigger:i.active?"hover":"click",children:[" ",(0,o.jsx)(L.Z,{active:i.active,imgSrc:i.imgSrc||"./pics/buttons/brush.png",onClick:i.onClick,children:i.children||"Brush"})]})};A.Z=R},27992:function(O,A,n){"use strict";var W=n(20136),x=n(55241),C=n(77883),I=n(70507),P=n(57663),E=n(71577),D=n(2824),v=n(67294),L=n(61541),u=n(26647),t=n.n(u),o=n(85893),s=1,d=100,g=10;function m(M){return M?M<=s?s:M>=d?d:M:g}var R=function(i){var e=(0,v.useState)(m(i.size)),b=(0,D.Z)(e,2),f=b[0],B=b[1],h=function(r){B(m(r))};return(0,v.useEffect)(function(){h(i.size)},[i.size]),(0,o.jsxs)(x.Z,{overlayClassName:t().popover,placement:i.disLoc||"right",content:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(E.Z,{type:"text",onClick:function(){var r,_=m(f-1);h(_),(r=i.onChange)===null||r===void 0||r.call(0,_)},children:"-"}),(0,o.jsx)(I.Z,{min:s,max:d,value:f,onChange:function(r){var _;(_=i.onChange)===null||_===void 0||_.call(0,r)},controls:!1,style:{textAlign:"center"}}),(0,o.jsx)(E.Z,{type:"text",onClick:function(){var r,_=m(f+1);h(_),(r=i.onChange)===null||r===void 0||r.call(0,_)},children:"+"})]}),trigger:"hover",children:[" ",(0,o.jsx)(L.Z,{imgSrc:i.imgSrc,onClick:i.onClick,children:i.children})]})};A.Z=R},86089:function(O,A,n){"use strict";n.r(A);var W=n(57663),x=n(71577),C=n(34669),I=n(54458),P=n(2824),E=n(67294),D=n(54777),v=n.n(D),L=n(8088),u=n(61541),t=n(44434),o=n(58967),s=n(27992),d=n(5041),g=n(57436),m=n(14836),R=n(29919),M=n(43801),i=n(13931),e=n(85893),b=function(){var B=(0,E.useState)(void 0),h=(0,P.Z)(B,2),l=h[0],r=h[1],_=(0,E.useState)({color:"",name:""}),Z=(0,P.Z)(_,2),z=Z[0],X=Z[1],Q=(0,E.useState)(),Y=(0,P.Z)(Q,2),U=Y[0],w=Y[1],q=(0,E.useState)([]),$=(0,P.Z)(q,2),S=$[0],j=$[1],nn=(0,E.useState)(10),H=(0,P.Z)(nn,2),K=H[0],V=H[1],tn=(0,E.useState)(1),k=(0,P.Z)(tn,2),F=k[0],G=k[1],T=function(a){w(a),a!=null&&a.label&&X(a.label)},J=function(a){for(var y=[],p=0;p<S.length;p++)S[p].annotationId==a.annotationId?y.push(a):y.push(S[p]);T(a),j(y)},en=(0,M.Z)({currentLabel:z,brushSize:K,currentTool:l,annotations:S,currentAnnotation:U,onAnnotationAdd:function(a){j(S.concat([a])),U||T(a)},onAnnotationModify:J}),on=(0,i.Z)({currentLabel:z,brushSize:K,currentTool:l,annotations:S,currentAnnotation:U,onAnnotationAdd:function(a){j(S.concat([a])),U||T(a)},onAnnotationModify:J}),N=l=="polygon"?on:en;return(0,e.jsxs)(L.Z,{className:v().segment,children:[(0,e.jsxs)(t.Z,{children:[(0,e.jsx)(u.Z,{imgSrc:"./pics/buttons/intelligent_interaction.png",children:"Intelligent Interaction"}),(0,e.jsx)(R.Z,{active:l=="polygon",onClick:function(){r("polygon"),T(void 0)},children:"Polygon"}),(0,e.jsx)(o.Z,{size:K,active:l=="brush",onClick:function(){l!="rubber"&&l!="brush"&&T(void 0),r("brush")},onChange:function(a){V(a)},children:"Brush"}),(0,e.jsx)(o.Z,{size:K,active:l=="rubber",onClick:function(){l!="rubber"&&l!="brush"&&T(void 0),r("rubber")},onChange:function(a){V(a)},imgSrc:"./pics/buttons/rubber.png",children:"Rubber"}),(0,e.jsx)(u.Z,{imgSrc:"./pics/buttons/zoom_in.png",onClick:function(){G(F+.1)},children:"Zoom in"}),(0,e.jsx)(u.Z,{imgSrc:"./pics/buttons/zoom_out.png",onClick:function(){G(F-.1)},children:"Zoom out"}),(0,e.jsx)(u.Z,{imgSrc:"./pics/buttons/save.png",children:"Save"}),(0,e.jsx)(u.Z,{imgSrc:"./pics/buttons/move.png",children:"Move"}),(0,e.jsx)(u.Z,{imgSrc:"./pics/buttons/export.png",children:"Export"}),(0,e.jsx)(u.Z,{imgSrc:"./pics/buttons/data_division.png",children:"Divide Data"}),(0,e.jsx)(u.Z,{imgSrc:"./pics/buttons/prev.png",children:"Undo"}),(0,e.jsx)(u.Z,{imgSrc:"./pics/buttons/next.png",children:"Redo"}),(0,e.jsx)(u.Z,{imgSrc:"./pics/buttons/clear_mark.png",children:"Clear Mark"})]}),(0,e.jsxs)("div",{className:v().mainStage,children:[(0,e.jsx)("div",{className:v().draw,children:(0,e.jsx)(g.Z,{scale:F,annotations:S,onMouseDown:N.onMouseDown,onMouseMove:N.onMouseMove,onMouseUp:N.onMouseUp})}),(0,e.jsx)("div",{className:v().pblock,children:(0,e.jsx)("div",{className:v().progress,children:(0,e.jsx)(I.Z,{percent:50,status:"active"})})})]}),(0,e.jsxs)(t.Z,{disLoc:"right",children:[(0,e.jsx)(s.Z,{imgSrc:"./pics/buttons/threshold.png",disLoc:"left",children:"Segment Threshold"}),(0,e.jsx)(s.Z,{imgSrc:"./pics/buttons/alpha.png",disLoc:"left",children:"Diaphaneity"}),(0,e.jsx)(s.Z,{imgSrc:"./pics/buttons/radius.png",disLoc:"left",children:"Visual Radius"})]}),(0,e.jsxs)("div",{className:v().rightSideBar,children:[(0,e.jsx)("div",{className:v().determinOutline,children:(0,e.jsx)(x.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",block:!0,onClick:function(){T(void 0)},children:"Determine Outline"})}),(0,e.jsx)(d.Z,{selectedLabel:z,onLabelSelect:function(a){X(a),T(void 0)},onLabelModify:function(){},onLabelDelete:function(){},onLabelAdd:function(){}}),(0,e.jsx)(m.Z,{selectedAnnotation:U,annotations:S,onAnnotationSelect:function(a){a!=null&&a.delete||T(a)},onAnnotationAdd:function(){},onAnnotationModify:function(){},onAnnotationDelete:function(a){j(S.filter(function(y){return y.annotationId!=a.annotationId})),T(void 0)}})]})]})};A.default=b}}]);
