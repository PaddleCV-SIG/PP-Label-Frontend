(self.webpackChunkpp_labeling_frontend=self.webpackChunkpp_labeling_frontend||[]).push([[972],{85024:function(l){l.exports={listItem:"listItem___u4Q82",eye:"eye___BwaRm",delete:"delete___31JB_",roundBall:"roundBall___23A7l",popover:"popover___1BNET",annotationId:"annotationId___zAzX4",labelName:"labelName___2ohxn",listItemActive:"listItemActive___2QnA3"}},56159:function(l){l.exports={labelList:"labelList___v7C6K",listHeader:"listHeader___1aY8R",eye:"eye___2MKbp",roundBall:"roundBall___187XH"}},57560:function(l){l.exports={toolBarButtonContainerWrapper:"toolBarButtonContainerWrapper___147XP",toolBarButtonContainer:"toolBarButtonContainer___ZEvhK",toolBarButton:"toolBarButton___1s2Rh",buttonText:"buttonText___3NTCv",toolBarButtonContainerWrapperActive:"toolBarButtonContainerWrapperActive___2Utx8",popover:"popover___3PRoi"}},52822:function(l){l.exports={roundBall:"roundBall___1pqu1",popover:"popover___1-PR6"}},5882:function(l){l.exports={listItem:"listItem___vtDXn",eye:"eye___AsLBS",roundBall:"roundBall___1J_R3",popover:"popover___1x-2R",listItemActive:"listItemActive___3FRb7"}},56131:function(l){l.exports={labelList:"labelList___jvD05",listHeader:"listHeader___UM5UF",eye:"eye___II3Po",roundBall:"roundBall___j752J"}},78677:function(l){l.exports={container:"container___G0FNe"}},83930:function(l){l.exports={stage:"stage___3H5QL"}},80961:function(l){l.exports={leftToolbar:"leftToolbar___1xi4t",rightToolbar:"rightToolbar___3dNSB"}},82499:function(l){l.exports={toolBarButtonContainerWrapper:"toolBarButtonContainerWrapper___1SHWL",toolBarButtonContainer:"toolBarButtonContainer___1jKUz",toolBarButton:"toolBarButton___3Ouq1",buttonText:"buttonText___10ls7",toolBarButtonContainerWrapperActive:"toolBarButtonContainerWrapperActive___3AA28"}},14836:function(l,h,n){"use strict";n.d(h,{Z:function(){return r}});var T=n(54421),E=n(38272),M=n(57663),f=n(71577),_=n(67294),i=n(56159),m=n.n(i),v=n(49111),x=n(19650),j=n(2824),t=n(11849),o=n(85024),a=n.n(o),d=n(63097),e=n(85893),B=function(s){var c=(0,t.Z)({},s.annotation),A=(0,_.useState)(c.invisible),L=(0,j.Z)(A,2),D=L[0],u=L[1];(0,_.useEffect)(function(){u(s.annotation.invisible)},[s.annotation.invisible]);var C=(0,e.jsxs)(E.ZP.Item,{className:"".concat(a().listItem," ").concat(s.active?a().listItemActive:""),unselectable:"on",onClick:function(){s.onClick(c)},children:[(0,e.jsxs)(x.Z,{align:"center",size:5,children:[(0,e.jsx)("a",{className:a().eye,style:{backgroundImage:D?"url(./pics/hide.png)":"url(./pics/show.png)"},onClick:function(){u(!D),s.onAnnotationModify(c)}})," ",(0,e.jsx)("span",{className:a().annotationId,children:c.annotationId}),(0,e.jsx)("span",{className:a().labelName,children:c.label.name}),(0,e.jsx)(d.Z,{color:c.label.color})]}),(0,e.jsx)("a",{className:a().delete,onClick:function(){c.delete=!0,s.onAnnotationDelete(c)}})]});return C},I=B,b=function(s){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(E.ZP,{className:m().labelList,size:"large",header:(0,e.jsx)("div",{className:m().listHeader,children:"Annotation List"}),bordered:!0,dataSource:s.annotations,renderItem:function(A){var L;return(0,e.jsx)(I,{onClick:s.onAnnotationSelect,annotation:A,active:A.annotationId==((L=s.selectedAnnotation)===null||L===void 0?void 0:L.annotationId),onAnnotationDelete:s.onAnnotationDelete,onAnnotationModify:s.onAnnotationModify})},footer:(0,e.jsx)("div",{children:(0,e.jsx)(f.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",onClick:function(){s.onAnnotationSelect(void 0)},block:!0,children:"Add Annotation"})})})})},r=b},43801:function(l,h,n){"use strict";n.d(h,{Z:function(){return j}});var T=n(11849),E=n(2824),M=n(91220),f=n(67294),_=n(65031),i=n(85893);function m(t,o,a,d){if(!(!t||!o||!a||!d))return{width:t,color:o,points:a,tool:d,element:(0,i.jsx)(_.x1,{stroke:o,strokeWidth:t,globalCompositeOperation:d==="brush"?"source-over":"destination-out",lineCap:"round",points:a,tension:.01})}}function v(t,o){return t=="rubber"||o==2?"rubber":"brush"}function x(t){var o=0,a=(0,M.Z)(t),d;try{for(a.s();!(d=a.n()).done;){var e=d.value;!e||e.annotationId>o&&(o=e.annotationId)}}catch(B){a.e(B)}finally{a.f()}return o}function j(t){var o=(0,f.useState)(),a=(0,E.Z)(o,2),d=a[0],e=a[1],B=function(O,s){var c;if(console.log(t.currentTool),!(t.currentTool!="brush"&&t.currentTool!="rubber")){var A=O.evt.offsetX/s,L=O.evt.offsetY/s,D=v(t.currentTool,O.evt.button),u=m(t.brushSize||10,(c=t.currentLabel)===null||c===void 0?void 0:c.color,[A,L,A,L],D);if(!!u)if(e(D),t.currentAnnotation){var C,N={annotationId:t.currentAnnotation.annotationId,label:t.currentAnnotation.label,lines:(C=t.currentAnnotation.lines)===null||C===void 0?void 0:C.concat([u])};t.onAnnotationModify(N)}else{if(D=="rubber")return;t.onAnnotationAdd({annotationId:x(t.annotations)+1,label:t.currentLabel,lines:[u]})}}},I=function(O,s){var c;if(!(!d||!t.currentAnnotation)){var A=O.evt.offsetX/s,L=O.evt.offsetY/s,D=[A,L],u=[];(c=t.currentAnnotation)!==null&&c!==void 0&&c.lines&&(D=t.currentAnnotation.lines[t.currentAnnotation.lines.length-1].points.concat(D),u=t.currentAnnotation.lines);var C=m(t.brushSize||10,t.currentLabel.color,D,d);!C||(u.pop(),u.push(C),t.onAnnotationModify((0,T.Z)((0,T.Z)({},t.currentAnnotation),{},{lines:u})))}},b=function(){t.currentTool!="brush"&&t.currentTool!="rubber"||e(void 0)};return{onMouseDown:B,onMouseMove:I,onMouseUp:b}}},58967:function(l,h,n){"use strict";var T=n(20136),E=n(55241),M=n(77883),f=n(70507),_=n(57663),i=n(71577),m=n(2824),v=n(67294),x=n(61541),j=n(57560),t=n.n(j),o=n(85893),a=1,d=50,e=10;function B(b){return b?b<=a?a:b>=d?d:b:e}var I=function(r){var O=(0,v.useState)(B(r.size)),s=(0,m.Z)(O,2),c=s[0],A=s[1],L=function(u){A(B(u))};return(0,v.useEffect)(function(){L(r.size)},[r.size]),(0,o.jsxs)(E.Z,{overlayClassName:t().popover,placement:"right",content:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.Z,{type:"text",onClick:function(){var u,C=B(c-1);L(C),(u=r.onChange)===null||u===void 0||u.call(0,C)},children:"-"}),(0,o.jsx)(f.Z,{min:a,max:d,value:c,onChange:function(u){var C;(C=r.onChange)===null||C===void 0||C.call(0,u)},controls:!1,style:{textAlign:"center"}}),(0,o.jsx)(i.Z,{type:"text",onClick:function(){var u,C=B(c+1);L(C),(u=r.onChange)===null||u===void 0||u.call(0,C)},children:"+"})]}),trigger:r.active?"hover":"click",children:[" ",(0,o.jsx)(x.Z,{active:r.active,imgSrc:r.imgSrc||"./pics/buttons/brush.png",onClick:r.onClick,children:r.children||"Brush"})]})};h.Z=I},63097:function(l,h,n){"use strict";var T=n(20136),E=n(55241),M=n(2824),f=n(67294),_=n(52822),i=n.n(_),m=n(63144),v=n(85893),x=function(t){var o=(0,f.useState)(t.color||"#FFF"),a=(0,M.Z)(o,2),d=a[0],e=a[1];return(0,f.useEffect)(function(){e(t.color||"#FFF")},[t]),t.changeable?(0,v.jsx)(E.Z,{getPopupContainer:function(I){return I.parentElement||document.body},overlayClassName:i().popover,openClassName:i().popoverOpenClassName,placement:"bottom",content:(0,v.jsx)(m.xS,{disableAlpha:!0,color:d,onChange:function(I){e(I.hex)},onChangeComplete:t.onChange}),trigger:"click",children:(0,v.jsx)("div",{className:i().roundBall,style:{backgroundColor:d}})}):(0,v.jsx)("div",{className:i().roundBall,style:{backgroundColor:d}})};h.Z=x},5041:function(l,h,n){"use strict";n.d(h,{Z:function(){return X}});var T=n(54421),E=n(38272),M=n(57663),f=n(71577),_=n(2824),i=n(67294),m=n(56131),v=n.n(m),x=n(49111),j=n(19650),t=n(11849),o=n(5882),a=n.n(o),d=n(63097),e=n(85893),B=function(P){var g=(0,t.Z)({},P.label),U=(0,i.useState)(g.invisible),y=(0,_.Z)(U,2),R=y[0],z=y[1],S=(0,e.jsx)(E.ZP.Item,{className:"".concat(a().listItem," ").concat(P.active?a().listItemActive:""),unselectable:"on",onClick:function(){P.onClick(g)},children:(0,e.jsxs)(j.Z,{align:"center",size:5,children:[(0,e.jsx)("a",{className:a().eye,style:{backgroundImage:R?"url(./pics/hide.png)":"url(./pics/show.png)"},onClick:function(){z(!R),P.onLabelModify(g)}})," ",g.name,(0,e.jsx)(d.Z,{color:g.color,changeable:!0,onChange:function(Z){g.color=Z.hex,P.onLabelModify(g)}})]})});return S},I=B,b=n(71194),r=n(50146),O=n(47673),s=n(24044),c=n(9715),A=n(93766),L=["#FF0000","#008000","#0000FF","#FFFF00","#FFA500","#00FFFF","#8B00FF","#FFC0CB","#7CFC00","#007FFF","#800080","#36BF36","#DAA520","#800000","#008B8B","#B22222","#E6D933","#000080","#FF00FF","#FFFF99","#87CEEB","#5C50E6","#CD5C5C","#20B2AA","#E680FF","#4D1F00","#006374","#B399FF","#8B4513","#BA55D3","#C0C0C0","#808080","#000000"],D=function(P){var g,U,y=(0,i.useState)(((g=P.defaultLabel)===null||g===void 0?void 0:g.color)||L[P.order||0]),R=(0,_.Z)(y,2),z=R[0],S=R[1];(0,i.useEffect)(function(){var F;S(((F=P.defaultLabel)===null||F===void 0?void 0:F.color)||L[P.order||0])},[P]);var H=A.Z.useForm(),Z=(0,_.Z)(H,1),K=Z[0];return(0,e.jsx)(r.Z,{title:"Add Label",visible:P.visible,onCancel:P.onCancel,footer:null,children:(0,e.jsxs)(A.Z,{form:K,name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!1,labelname:(U=P.defaultLabel)===null||U===void 0?void 0:U.name},onFinish:function(W){var Y={name:W.labelname,color:z};P.onLabelAdd(Y),K.resetFields()},autoComplete:"off",children:[(0,e.jsx)(A.Z.Item,{label:"Label Name",name:"labelname",rules:[{required:!0,message:"Please input label name!"}],children:(0,e.jsx)(s.Z,{})}),(0,e.jsx)(A.Z.Item,{label:"Select Color",name:"color",children:(0,e.jsx)(d.Z,{color:z,onChange:function(W){S(W.hex)}})}),(0,e.jsx)(A.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,e.jsxs)(j.Z,{children:[(0,e.jsx)(f.Z,{onClick:function(){var W;(W=P.onCancel)===null||W===void 0||W.call(0),K.resetFields()},children:"\u53D6\u6D88"}),(0,e.jsx)(f.Z,{type:"primary",htmlType:"submit",children:"\u786E\u5B9A"})]})})]})})},u=D,C=[{color:"#FF0000",name:"Label 1"},{color:"#008000",name:"Label 2"}],N=function(P){var g=(0,i.useState)(C),U=(0,_.Z)(g,2),y=U[0],R=U[1],z=(0,i.useState)(!1),S=(0,_.Z)(z,2),H=S[0],Z=S[1];return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(E.ZP,{className:v().labelList,size:"large",header:(0,e.jsx)("div",{className:v().listHeader,children:"Label List"}),footer:(0,e.jsx)("div",{children:(0,e.jsx)(f.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",onClick:function(){Z(!0)},block:!0,children:"Add Label"})}),bordered:!0,dataSource:y,renderItem:function(F){var W;return(0,e.jsx)(I,{onClick:P.onLabelSelect,label:F,active:F.name==((W=P.selectedLabel)===null||W===void 0?void 0:W.name),onLabelDelete:P.onLabelDelete,onLabelModify:P.onLabelModify})}}),(0,e.jsx)(u,{order:y.length,visible:H,onLabelAdd:function(F){y.push(F),R(y),Z(!1)},onCancel:function(){Z(!1)}})]})},X=N},8088:function(l,h,n){"use strict";var T=n(67294),E=n(78677),M=n.n(E),f=n(85893),_=function(m){return(0,f.jsx)("div",{className:"".concat(M().container," ").concat(m.className),children:m.children})};h.Z=_},57436:function(l,h,n){"use strict";var T=n(2824),E=n(67294),M=n(65031),f=n(84420),_=n.n(f),i=n(83930),m=n.n(i),v=n(85893),x="./pics/basketball.jpg",j=function(o){var a=_()(x),d=(0,T.Z)(a,1),e=d[0],B=(e==null?void 0:e.width)||0,I=(e==null?void 0:e.height)||0;return(0,v.jsxs)(M.Hf,{width:B*o.scale,height:I*o.scale,className:m().stage,children:[(0,v.jsx)(M.mh,{scaleX:o.scale,scaleY:o.scale,children:(0,v.jsx)(M.Ee,{image:e})}),(0,v.jsxs)(M.mh,{scaleX:o.scale,scaleY:o.scale,onMouseDown:function(r){o.onMouseDown&&o.onMouseDown(r,o.scale)},onMouseMove:function(r){o.onMouseMove&&o.onMouseMove(r,o.scale)},onMouseUp:function(r){o.onMouseUp&&o.onMouseUp(r,o.scale)},onContextMenu:function(r){r.evt.preventDefault()},children:[(0,v.jsx)(M.Ee,{image:e}),o.annotations.map(function(b,r){var O;return(O=b.lines)===null||O===void 0?void 0:O.map(function(s,c){return s.element})})]})]})};h.Z=j},44434:function(l,h,n){"use strict";var T=n(67294),E=n(80961),M=n.n(E),f=n(85893),_=function(m){var v=M().leftToolbar;return m.disLoc=="right"&&(v=M().rightToolbar),(0,f.jsx)("div",{className:v,children:m.children})};h.Z=_},61541:function(l,h,n){"use strict";var T=n(49111),E=n(19650),M=n(67294),f=n(82499),_=n.n(f),i=n(85893),m=function(x){return(0,i.jsx)("div",{unselectable:"on",className:"".concat(_().toolBarButtonContainerWrapper," ").concat(x.active&&_().toolBarButtonContainerWrapperActive),onClick:x.onClick,children:(0,i.jsx)(E.Z,{align:"center",className:_().toolBarButtonContainer,size:0,children:(0,i.jsxs)(E.Z,{align:"center",direction:"vertical",className:_().toolBarButton,size:0,children:[(0,i.jsx)("img",{src:x.imgSrc}),(0,i.jsx)("div",{className:_().buttonText,children:x.children})]})})})};h.Z=m}}]);
