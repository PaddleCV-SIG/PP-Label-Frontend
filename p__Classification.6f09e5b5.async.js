(self.webpackChunkpp_label_frontend=self.webpackChunkpp_label_frontend||[]).push([[672],{41435:function(y,m,e){"use strict";e.d(m,{Z:function(){return g}});var p=e(94663),C=e(80112);function I(d){return Function.toString.call(d).indexOf("[native code]")!==-1}var B=e(18597);function _(d,l,E){return(0,B.Z)()?_=Reflect.construct:_=function(s,L,M){var a=[null];a.push.apply(a,L);var h=Function.bind.apply(s,a),O=new h;return M&&(0,C.Z)(O,M.prototype),O},_.apply(null,arguments)}function g(d){var l=typeof Map=="function"?new Map:void 0;return g=function(o){if(o===null||!I(o))return o;if(typeof o!="function")throw new TypeError("Super expression must either be null or a function");if(typeof l!="undefined"){if(l.has(o))return l.get(o);l.set(o,s)}function s(){return _(o,arguments,(0,p.Z)(this).constructor)}return s.prototype=Object.create(o.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),(0,C.Z)(s,o)},g(d)}},73199:function(){},29214:function(y,m,e){"use strict";e.r(m);var p=e(8870),C=e(20228),I=e(11382),B=e(34669),_=e(54458),g=e(34792),d=e(48086),l=e(2824),E=e(67294),o=e(48971),s=e(73199),L=e.n(s),M=e(8088),a=e(61541),h=e(44434),O=e(5041),S=e(57436),R=e(19424),n=e(85893),Z=function(){var D,j,W=(0,R.$L)(E.useState,E.useEffect,{label:{oneHot:!1,postSetCurr:H},tool:{defaultTool:"mover"},effectTrigger:{postTaskChange:$,postProjectChanged:z}}),i=(0,l.Z)(W,8),b=i[0],T=i[1],A=i[2],P=i[3],c=i[4],x=i[5],u=i[6],r=i[7],v=(0,o.YB)(),K=v.formatMessage({id:"pages.toolBar.zoomIn"}),U=v.formatMessage({id:"pages.toolBar.zoomOut"}),N=v.formatMessage({id:"pages.toolBar.move"}),k=v.formatMessage({id:"pages.toolBar.save"}),F=v.formatMessage({id:"pages.toolBar.autoSave"});function z(){u.curr.labelFormat=="single_class"&&r.setOneHot(!0)}function H(t){if(r.isActive(t))r.isOneHot&&P.clear(),P.create({taskId:c.curr.taskId,labelId:t.labelId,dataId:x.curr.dataId});else{var f=P.all.filter(function(Y){return Y.labelId==t.labelId})[0];P.remove(f.annotationId)}}function $(t,f){T.setCurr(!0),!(!t||!f)&&(r.initActive(f),T.setCurr(!1),console.log("annotations",P.all))}return(0,n.jsxs)(M.Z,{className:L().classes,children:[(0,n.jsxs)(h.Z,{children:[(0,n.jsx)(a.Z,{imgSrc:"./pics/buttons/zoom_in.png",onClick:function(){A.change(.1)},children:K}),(0,n.jsx)(a.Z,{imgSrc:"./pics/buttons/zoom_out.png",onClick:function(){A.change(-.1)},children:U}),(0,n.jsx)(a.Z,{imgSrc:"./pics/buttons/save.png",onClick:function(){d.default.success(F)},children:k}),(0,n.jsx)(a.Z,{imgSrc:"./pics/buttons/move.png",active:b.curr=="mover",onClick:function(){b.setCurr("mover")},children:N})]}),(0,n.jsx)("div",{id:"dr",className:"mainStage",children:(0,n.jsxs)(I.Z,{tip:"loading",spinning:T.curr,children:[(0,n.jsx)("div",{className:"draw",children:(0,n.jsx)(S.Z,{scale:A.curr,currentTool:b.curr,setCurrentAnnotation:function(){},onAnnotationModify:function(){},onAnnotationModifyComplete:function(){},imgSrc:x.imgSrc})}),(0,n.jsx)("div",{className:"pblock",children:(0,n.jsxs)("div",{className:"progress",children:[(0,n.jsx)(_.Z,{className:"progressBar",percent:Math.ceil(u.finished/((D=c.all)===null||D===void 0?void 0:D.length)*100),status:"active",showInfo:!1})," ",(0,n.jsxs)("span",{className:"progressDesc",children:["Current labeling ",c.currIdx==null?1:c.currIdx+1," of"," ",(j=c.all)===null||j===void 0?void 0:j.length,". Already labeled ",u.finished||0,"."]})]})}),(0,n.jsx)("div",{className:"prevTask",onClick:c.prevTask}),(0,n.jsx)("div",{className:"nextTask",onClick:c.nextTask})]})}),(0,n.jsxs)(h.Z,{disLoc:"right",children:[(0,n.jsx)(a.Z,{imgSrc:"./pics/buttons/data_division.png",onClick:function(){o.m8.push("/project_overview?projectId=".concat(u.curr.projectId))},children:"Project Overview"}),(0,n.jsx)(a.Z,{imgSrc:"./pics/buttons/data_division.png",onClick:function(){o.m8.push("/ml?projectId=".concat(u.curr.projectId))},children:"ML Settings"})]}),(0,n.jsx)("div",{className:"rightSideBar",children:(0,n.jsx)(O.Z,{labels:r.all,activeIds:r.activeIds,onLabelSelect:r.onSelect,onLabelAdd:function(f){return r.create((0,p.Z)((0,p.Z)({},f),{},{projectId:u.curr.projectId}))},onLabelDelete:r.remove,onLabelModify:function(){},hideColorPicker:!0,hideEye:!0})})]})};m.default=Z}}]);
