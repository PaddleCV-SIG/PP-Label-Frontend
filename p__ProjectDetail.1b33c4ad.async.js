(self.webpackChunkpp_label_frontend=self.webpackChunkpp_label_frontend||[]).push([[498],{91220:function(W,T,e){"use strict";e.d(T,{Z:function(){return F}});var E=e(64254);function F(l,y){var m;if(typeof Symbol=="undefined"||l[Symbol.iterator]==null){if(Array.isArray(l)||(m=(0,E.Z)(l))||y&&l&&typeof l.length=="number"){m&&(l=m);var o=0,P=function(){};return{s:P,n:function(){return o>=l.length?{done:!0}:{done:!1,value:l[o++]}},e:function(b){throw b},f:P}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p=!0,w=!1,s;return{s:function(){m=l[Symbol.iterator]()},n:function(){var b=m.next();return p=b.done,b},e:function(b){w=!0,s=b},f:function(){try{!p&&m.return!=null&&m.return()}finally{if(w)throw s}}}}},41435:function(W,T,e){"use strict";e.d(T,{Z:function(){return o}});var E=e(94663),F=e(80112);function l(P){return Function.toString.call(P).indexOf("[native code]")!==-1}var y=e(18597);function m(P,p,w){return(0,y.Z)()?m=Reflect.construct:m=function(f,b,B){var h=[null];h.push.apply(h,b);var V=Function.bind.apply(f,h),j=new V;return B&&(0,F.Z)(j,B.prototype),j},m.apply(null,arguments)}function o(P){var p=typeof Map=="function"?new Map:void 0;return o=function(s){if(s===null||!l(s))return s;if(typeof s!="function")throw new TypeError("Super expression must either be null or a function");if(typeof p!="undefined"){if(p.has(s))return p.get(s);p.set(s,f)}function f(){return m(s,arguments,(0,E.Z)(this).constructor)}return f.prototype=Object.create(s.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),(0,F.Z)(f,s)},o(P)}},18398:function(W){W.exports={_ppcard:"_ppcard___1sR0b",title:"title___2fjZe",shadow:"shadow___3SaOl",main:"main___IOVJu",block_l:"block_l___1ywNh",block_r:"block_r___Sg4L7",goup:"goup___1vznA"}},68370:function(W,T,e){"use strict";e.r(T),e.d(T,{default:function(){return d}});var E=e(34792),F=e(48086),l=e(67294),y=e(48971),m=e(57663),o=e(71577),P=e(88983),p=e(47933),w=e(36877),s=e(96607),f=e(47673),b=e(24044),B=e(9715),h=e(93766),V=e(2824),j=e(91220),D=e(89032),_=e(15746),U=e(11849),R=e(13062),I=e(71230),L=e(11700),x=e(18398),C=e.n(x),z=e(37071),v=e(91156),Z=e(64322),t=e(85893),K=[{value:"/app",label:"/app",children:[{value:"data",label:"data",children:[{value:"pplabel",label:"pplabel",children:[{value:"clas_single",label:"clas_single",children:[{value:"PetImages",label:"PetImages"}]}]}]}]}],A=function(n){return(0,t.jsxs)("div",{className:C()._ppcard,style:n.style,children:[(0,t.jsx)(I.Z,{className:C().titleRow,style:{display:n.title?void 0:"none"},children:(0,t.jsx)(L.Z,{className:C().title,children:n.title})}),(0,t.jsx)(I.Z,{style:{marginTop:26},children:(0,t.jsx)(_.Z,{span:24,style:(0,U.Z)({paddingLeft:30,paddingRight:30,textAlign:"center"},n.innerStyle),children:n.children})})]})};function M(r){var n="",O=(0,j.Z)(r),N;try{for(O.s();!(N=O.n()).done;){var k=N.value;k.endsWith("/")?n+=k:n+=k+"/"}}catch($){O.e($)}finally{O.f()}return n}var c=function(n){console.log("render ppcreater",n);var O=(0,Z.Gd)(l.useState),N=z.Z.getQueryVariable("projectId");console.log("projectId",N);var k=function(g){N?O.update(N,{name:g.name,description:g.description,dataDir:M(g.dataDir),labelDir:g.labelDir}).then(function(){y.m8.push("/welcome")}):O.create({name:g.name,description:g.description,taskCategoryId:v.ux[n.taskCategory].id,dataDir:M(g.dataDir),labelDir:g.labelDir}).then(function(Q){y.m8.push("/".concat((0,v.LV)(n.taskCategory),"?projectId=").concat(Q.projectId))}).catch(function(){})},$=n.taskCategory?v.ux[n.taskCategory].name:null,H=h.Z.useForm(),J=(0,V.Z)(H,1),G=J[0];return(0,l.useEffect)(function(){O.getCurr(N).then(function(S){console.log("project",S);var g={name:S==null?void 0:S.name,description:S==null?void 0:S.description};G.setFieldsValue(g)})},[]),(0,t.jsxs)("div",{className:C().shadow,style:n.style,children:[(0,t.jsx)("div",{id:"left",className:C().block_l,children:(0,t.jsx)(A,{title:$,style:{height:760,padding:"1.25rem 0"},children:(0,t.jsxs)(h.Z,{form:G,layout:"horizontal",size:"large",style:{marginTop:"5.69rem"},onFinish:function(g){k(g)},children:[(0,t.jsx)(h.Z.Item,{name:"name",label:"Project Name",labelCol:{span:6},wrapperCol:{span:16},rules:[{required:!0,message:"Please input project name!"}],style:{fontSize:"1.5rem"},children:(0,t.jsx)(b.Z,{size:"large",placeholder:"Words or numbers",style:{height:"3.13rem"}})}),(0,t.jsx)(h.Z.Item,{name:"dataDir",label:"Dataset Path",labelCol:{span:6},wrapperCol:{span:16},rules:[{required:!0,message:"Please input dataset path!"}],style:{fontSize:"1.5rem"},children:(0,t.jsx)(s.Z,{options:K,onChange:function(g){console.log(g)},changeOnSelect:!0})}),(0,t.jsx)(h.Z.Item,{name:"description",label:"Description",labelCol:{span:6},wrapperCol:{span:16},rules:[{required:!1}],style:{fontSize:"1.5rem"},children:(0,t.jsx)(b.Z,{size:"large",placeholder:"Words or numbers",style:{height:"3.13rem"}})}),(0,t.jsx)(h.Z.Item,{name:"maxPoints",label:"MaxPoints",labelCol:{span:6},wrapperCol:{span:16},rules:[{required:n.taskCategory=="keypointDetection",message:"Please input max points!"}],style:{fontSize:"1.5rem",display:n.taskCategory=="keypointDetection"?void 0:"none"},children:(0,t.jsx)(b.Z,{size:"large",placeholder:"Numbers (Int)",style:{height:"3.13rem"}})}),(0,t.jsx)(h.Z.Item,{name:"segmentationMode",label:"AnnotationMode",labelCol:{span:6},wrapperCol:{span:16},rules:[{required:n.taskCategory=="semanticSegmentation",message:"Please select task category!"}],style:{fontSize:"1.5rem",display:n.taskCategory=="semanticSegmentation"?void 0:"none"},children:(0,t.jsx)("div",{className:C().goup,children:(0,t.jsxs)(p.ZP.Group,{defaultValue:1,size:"large",style:{height:"3.13rem"},children:[(0,t.jsx)(p.ZP,{value:1,children:"Pixel model"}),(0,t.jsx)(p.ZP,{value:2,children:"Polygon mode"})]})})}),(0,t.jsxs)(h.Z.Item,{wrapperCol:{span:16,offset:6},children:[(0,t.jsx)(o.Z,{htmlType:"submit",type:"primary",style:{height:"2.5rem",width:"48%"},block:!0,children:N?"Update":"Create"}),"\xA0\xA0",(0,t.jsx)(o.Z,{htmlType:"button",style:{height:"2.5rem",width:"48%"},block:!0,onClick:function(){y.m8.push("/welcome")},children:"Cancel"})]})]})})}),(0,t.jsx)("div",{id:"right",className:C().block_r,children:(0,t.jsx)(A,{style:{height:"43.63rem",padding:"0.5rem 0"},children:(0,t.jsx)("img",{src:n.imgSrc,style:{height:"43.63rem",width:"60rem"}})})})]})},i=c,u=e(11428),a=function(){var n=(0,v.os)(z.Z.getQueryVariable("taskCategory"));return n||(F.default.error("Task Category not present in url"),y.m8.push("/project_creation")),n in v.ux||(F.default.error("Invalid task category "+n),y.m8.push("/project_creation")),(0,t.jsx)(u.Z,{children:(0,t.jsx)(i,{imgSrc:"./pics/illustration.jpg",taskCategory:n})})},d=a},64322:function(W,T,e){"use strict";e.d(T,{gu:function(){return f},_D:function(){return B},Gd:function(){return h}});var E=e(3182),F=e(34792),l=e(48086),y=e(2824),m=e(94043),o=e.n(m),P=e(37071),p=e(81139),w=localStorage.getItem("basePath"),s=new p.VK(w?{basePath:w}:void 0),f=function(D){return JSON.parse(JSON.stringify(D))};function b(j){return j&&(j.toLowerCase().replace(/([-_][a-z])/g,function(D){return D.toUpperCase().replace("-","").replace("_","")}),j)}var B=function(D){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[.1,3],U=D(1),R=(0,y.Z)(U,2),I=R[0],L=R[1],x=I,C=function(v){var Z=I;Z+=v,Z<_[0]&&(Z=_[0],l.default.error("Smallest scale is "+_[0])),Z>_[1]&&(Z=_[1],l.default.error("Largest scale is "+_[1])),L(Z)};return{curr:x,change:C}},h=function(D){var _=D([]),U=(0,y.Z)(_,2),R=U[0],I=U[1],L=D(),x=(0,y.Z)(L,2),C=x[0],z=x[1],v=new p.U(s),Z=function(){var c=(0,E.Z)(o().mark(function i(){return o().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:v.getAll().then(function(d){I(d)}).catch(function(d){console.log("prject getall err",d),P.Z.parseError(d,l.default)});case 1:case"end":return a.stop()}},i)}));return function(){return c.apply(this,arguments)}}(),t=function(){var c=(0,E.Z)(o().mark(function i(u){var a;return o().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(u){r.next=2;break}return r.abrupt("return");case 2:return r.prev=2,r.next=5,v.get(u);case 5:return a=r.sent,z(a),r.abrupt("return",a);case 10:r.prev=10,r.t0=r.catch(2),console.log("prject getcurr err",r.t0),P.Z.parseError(r.t0,l.default);case 14:case"end":return r.stop()}},i,null,[[2,10]])}));return function(u){return c.apply(this,arguments)}}(),K=function(){var c=(0,E.Z)(o().mark(function i(u){return o().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:v.remove(u.projectId),Z();case 2:case"end":return d.stop()}},i)}));return function(u){return c.apply(this,arguments)}}(),A=function(){var c=(0,E.Z)(o().mark(function i(u){var a;return o().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,v.create(u);case 3:return a=r.sent,console.log(a),r.abrupt("return",a);case 8:r.prev=8,r.t0=r.catch(0),console.log("project create err",r.t0),P.Z.parseError(r.t0,l.default);case 12:case"end":return r.stop()}},i,null,[[0,8]])}));return function(u){return c.apply(this,arguments)}}(),M=function(){var c=(0,E.Z)(o().mark(function i(u,a){return o().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:v.update(u,{name:a.name,description:a.description,dataDir:a.dataDir,labelDir:a.labelDir}).then(function(n){console.log("project update res",n)}).catch(function(n){console.log("project update err ",n),P.Z.parseError(n,l.default)});case 1:case"end":return r.stop()}},i)}));return function(u,a){return c.apply(this,arguments)}}();return{curr:C,all:R,getAll:Z,getCurr:t,remove:K,create:A,update:M}},V=function(D,_){var U=_.pageOnSelect,R=D([]),I=_slicedToArray(R,2),L=I[0],x=I[1],C=new ProjectApi(s),z=function(){var A=_asyncToGenerator(_regeneratorRuntime.mark(function M(c){return _regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:C.getLabels(c).then(function(a){var d=_createForOfIteratorHelper(a),r;try{for(d.s();!(r=d.n()).done;){var n=r.value;n.active=!0}}catch(O){d.e(O)}finally{d.f()}x(a)});case 1:case"end":return u.stop()}},M)}));return function(c){return A.apply(this,arguments)}}(),v=function(M){var c=L.filter(function(i){return i.labelId==M.labelId})[0];c.active=!c.active,U(c),x(_toConsumableArray(L))},Z=function(){},t=function(){},K=function(){};return{labels:L,reqLabels:z,onSelect:v,onAdd:Z,onDelete:t,onModify:K}}}}]);
