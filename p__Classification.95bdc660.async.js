(self.webpackChunkpp_label_frontend=self.webpackChunkpp_label_frontend||[]).push([[672],{41435:function(y,P,e){"use strict";e.d(P,{Z:function(){return m}});var v=e(94663),C=e(80112);function D(u){return Function.toString.call(u).indexOf("[native code]")!==-1}var j=e(18597);function d(u,l,p){return(0,j.Z)()?d=Reflect.construct:d=function(s,L,g){var a=[null];a.push.apply(a,L);var E=Function.bind.apply(s,a),M=new E;return g&&(0,C.Z)(M,g.prototype),M},d.apply(null,arguments)}function m(u){var l=typeof Map=="function"?new Map:void 0;return m=function(o){if(o===null||!D(o))return o;if(typeof o!="function")throw new TypeError("Super expression must either be null or a function");if(typeof l!="undefined"){if(l.has(o))return l.get(o);l.set(o,s)}function s(){return d(o,arguments,(0,v.Z)(this).constructor)}return s.prototype=Object.create(o.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),(0,C.Z)(s,o)},m(u)}},73199:function(){},29214:function(y,P,e){"use strict";e.r(P);var v=e(8870),C=e(20228),D=e(11382),j=e(34669),d=e(54458),m=e(34792),u=e(48086),l=e(2824),p=e(67294),o=e(48971),s=e(73199),L=e.n(s),g=e(8088),a=e(61541),E=e(44434),M=e(5041),S=e(57436),R=e(50501),n=e(85893),Z=function(){var I,b,W=(0,R.$L)(p.useState,p.useEffect,{label:{oneHot:!1,postSetCurr:V},tool:{defaultTool:"mover"},effectTrigger:{postTaskChange:Y,postProjectChanged:$}}),i=(0,l.Z)(W,8),x=i[0],B=i[1],T=i[2],O=i[3],c=i[4],A=i[5],h=i[6],r=i[7],_=(0,o.YB)(),K=_.formatMessage({id:"pages.toolBar.zoomIn"}),U=_.formatMessage({id:"pages.toolBar.zoomOut"}),N=_.formatMessage({id:"pages.toolBar.move"}),k=_.formatMessage({id:"pages.toolBar.save"}),F=_.formatMessage({id:"pages.toolBar.autoSave"}),z=_.formatMessage({id:"pages.toolBar.divideData"}),H=_.formatMessage({id:"pages.toolBar.export"});function $(){h.curr.labelFormat=="single_class"&&r.setOneHot(!0)}function V(t){if(r.isActive(t))r.isOneHot&&O.clear(),O.create({taskId:c.curr.taskId,labelId:t.labelId,dataId:A.curr.dataId});else{var f=O.all.filter(function(G){return G.labelId==t.labelId})[0];O.remove(f.annotationId)}}function Y(t,f){B.setCurr(!0),!(!t||!f)&&(r.initActive(f),B.setCurr(!1))}return(0,n.jsxs)(g.Z,{className:L().classes,children:[(0,n.jsxs)(E.Z,{children:[(0,n.jsx)(a.Z,{imgSrc:"./pics/buttons/zoom_in.png",onClick:function(){T.change(.1)},children:K}),(0,n.jsx)(a.Z,{imgSrc:"./pics/buttons/zoom_out.png",onClick:function(){T.change(-.1)},children:U}),(0,n.jsx)(a.Z,{imgSrc:"./pics/buttons/save.png",onClick:function(){u.default.success(F)},children:k}),(0,n.jsx)(a.Z,{imgSrc:"./pics/buttons/move.png",active:x.curr=="mover",onClick:function(){x.setCurr("mover")},children:N})]}),(0,n.jsx)("div",{id:"dr",className:"mainStage",children:(0,n.jsxs)(D.Z,{tip:"loading",spinning:B.curr,children:[(0,n.jsx)("div",{className:"draw",children:(0,n.jsx)(S.Z,{scale:T.curr,currentTool:x.curr,setCurrentAnnotation:function(){},onAnnotationModify:function(){},onAnnotationModifyComplete:function(){},imgSrc:A.imgSrc})}),(0,n.jsx)("div",{className:"pblock",children:(0,n.jsxs)("div",{className:"progress",children:[(0,n.jsx)(d.Z,{className:"progressBar",percent:Math.ceil(h.finished/((I=c.all)===null||I===void 0?void 0:I.length)*100),status:"active",showInfo:!1})," ",(0,n.jsxs)("span",{className:"progressDesc",children:["Current labeling ",c.currIdx==null?1:c.currIdx+1," of"," ",(b=c.all)===null||b===void 0?void 0:b.length,". Already labeled ",h.finished||0,"."]})]})}),(0,n.jsx)("div",{className:"prevTask",onClick:c.prevTask}),(0,n.jsx)("div",{className:"nextTask",onClick:c.nextTask})]})}),(0,n.jsxs)(E.Z,{disLoc:"right",children:[(0,n.jsx)(a.Z,{imgSrc:"./pics/buttons/data_division.png",onClick:function(){setDivideModalVisible(!0)},children:z}),(0,n.jsx)(a.Z,{imgSrc:"./pics/buttons/export.png",onClick:function(){setExportModalVisible(!0)},children:H})]}),(0,n.jsx)("div",{className:"rightSideBar",children:(0,n.jsx)(M.Z,{labels:r.all,activeIds:r.activeIds,onLabelSelect:r.onSelect,onLabelAdd:function(f){return r.create((0,v.Z)((0,v.Z)({},f),{},{projectId:h.curr.projectId}))},onLabelDelete:r.remove,onLabelModify:function(){},hideColorPicker:!0,hideEye:!0})})]})};P.default=Z}}]);
