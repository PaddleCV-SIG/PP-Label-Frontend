(self.webpackChunkpp_label_frontend=self.webpackChunkpp_label_frontend||[]).push([[813],{85024:function(R){R.exports={listItem:"listItem___u4Q82",eye:"eye___BwaRm",delete:"delete___31JB_",roundBall:"roundBall___23A7l",popover:"popover___1BNET",annotationId:"annotationId___zAzX4",labelName:"labelName___2ohxn",listItemActive:"listItemActive___2QnA3"}},56159:function(R){R.exports={labelList:"labelList___v7C6K",listHeader:"listHeader___1aY8R",eye:"eye___2MKbp",roundBall:"roundBall___187XH"}},26647:function(R){R.exports={toolBarButtonContainerWrapper:"toolBarButtonContainerWrapper___1FTWb",toolBarButtonContainer:"toolBarButtonContainer___1Vahn",toolBarButton:"toolBarButton___3mR2H",buttonText:"buttonText___Y0WDm",toolBarButtonContainerWrapperActive:"toolBarButtonContainerWrapperActive___3lRZ8",popover:"popover___3zzu2",slider:"slider___ALra-",popoverLeft:"popoverLeft___15lGe"}},6277:function(R){R.exports={modal:"modal___26yNn"}},45092:function(R){R.exports={modal:"modal___1H_FQ"}},14836:function(R,V,t){"use strict";t.d(V,{Z:function(){return o}});var J=t(54421),G=t(38272),rn=t(57663),nn=t(71577),tn=t(67294),f=t(56159),u=t.n(f),h=t(49111),I=t(19650),T=t(2824),k=t(11849),U=t(85024),F=t.n(U),en=t(63097),l=t(85893),M=function(a){var y=(0,k.Z)({},a.annotation),$=(0,tn.useState)(y.invisible),A=(0,T.Z)($,2),Y=A[0],N=A[1],H=(0,tn.useState)(0),L=(0,T.Z)(H,2),on=L[0],b=L[1];(0,tn.useEffect)(function(){N(a.annotation.invisible)},[a.annotation.invisible]);var O=(0,l.jsxs)(G.ZP.Item,{className:"".concat(F().listItem," ").concat(a.active?F().listItemActive:""),unselectable:"on",onClick:function(){a.onClick(y)},children:[(0,l.jsxs)(I.Z,{align:"center",size:5,children:[(0,l.jsx)("a",{className:F().eye,style:{backgroundImage:Y?"url(./pics/hide.png)":"url(./pics/show.png)"},onClick:function(X){X.stopPropagation(),N(!Y),a.onAnnotationModify(y)}})," ",(0,l.jsx)("span",{className:F().annotationId,children:y.frontendId}),(0,l.jsx)("span",{className:F().labelName,children:y.label.name}),(0,l.jsx)(en.Z,{color:y.label.color})]}),(0,l.jsx)("a",{className:F().delete,onClick:function(X){X.stopPropagation();var dn=new Date().getTime();dn-on<300||(b(dn),a.onAnnotationDelete(y))}})]});return O},p=M,D=t(48971),B=function(a){var y=(0,D.YB)().formatMessage({id:"component.PPAnnotationList.annotationList"}),$=(0,D.YB)().formatMessage({id:"component.PPAnnotationList.addAnnotation"});return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(G.ZP,{className:u().labelList,size:"large",header:(0,l.jsx)("div",{className:u().listHeader,children:y}),bordered:!0,dataSource:a.annotations,renderItem:function(Y){var N;return(0,l.jsx)(p,{onClick:a.onAnnotationSelect,annotation:Y,active:Y.frontendId==((N=a.currAnnotation)===null||N===void 0?void 0:N.frontendId),onAnnotationDelete:a.onAnnotationDelete,onAnnotationModify:a.onAnnotationModify})},footer:(0,l.jsx)("div",{children:(0,l.jsx)(nn.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",onClick:function(){a.onAnnotationAdd()},block:!0,children:$})})})})},o=B},27992:function(R,V,t){"use strict";var J=t(20136),G=t(55241),rn=t(13062),nn=t(71230),tn=t(77883),f=t(70507),u=t(89032),h=t(15746),I=t(66126),T=t(75454),k=t(2824),U=t(67294),F=t(61541),en=t(26647),l=t.n(en),M=t(85893),p=0,D=100,B=10,o=function(a){var y=(0,U.useState)(on(a.size)),$=(0,k.Z)(y,2),A=$[0],Y=$[1];function N(b){Y(on(b))}var H=a.minSize==null?p:a.minSize,L=a.maxSize==null?D:a.maxSize;function on(b){return b==null?B:b<=H?H:b>=L?L:b}return(0,U.useEffect)(function(){N(a.size)},[a.size]),(0,M.jsxs)(G.Z,{overlayClassName:"".concat(l().popover," ").concat(a.disLoc=="left"?l().popoverLeft:""),placement:a.disLoc||"right",content:(0,M.jsxs)(nn.Z,{children:[(0,M.jsx)(h.Z,{span:16,children:(0,M.jsx)(T.Z,{className:l().slider,value:A,max:L,min:H,onChange:function(O){var S;(S=a.onChange)===null||S===void 0||S.call(0,O)},tooltipVisible:!1})}),(0,M.jsx)(h.Z,{span:8,children:(0,M.jsx)(f.Z,{min:H,max:L,value:A,onChange:function(O){var S;(S=a.onChange)===null||S===void 0||S.call(0,O)},step:10})})]}),trigger:"hover",children:[" ",(0,M.jsx)(F.Z,{imgSrc:a.imgSrc||"",onClick:a.onClick,active:a.active,children:a.children})]})};V.Z=o},85871:function(R,V,t){"use strict";var J=t(71194),G=t(50146),rn=t(49111),nn=t(19650),tn=t(57663),f=t(71577),u=t(13062),h=t(71230),I=t(89032),T=t(15746),k=t(77883),U=t(70507),F=t(34792),en=t(48086),l=t(9715),M=t(93766),p=t(2824),D=t(67294),B=t(48971),o=t(6277),z=t.n(o),a=t(85893),y=function(A){var Y=(0,B.YB)(),N=(0,D.useState)(60),H=(0,p.Z)(N,2),L=H[0],on=H[1],b=(0,D.useState)(20),O=(0,p.Z)(b,2),S=O[0],X=O[1],dn=(0,D.useState)(20),vn=(0,p.Z)(dn,2),un=vn[0],Mn=vn[1],Pn=(0,D.useState)(!1),_n=(0,p.Z)(Pn,2),n=_n[0],e=_n[1],r=(0,B.YB)().formatMessage({id:"pages.toolBar.divideData"}),d=(0,B.YB)().formatMessage({id:"component.PPDivideDataModal.train"}),s=(0,B.YB)().formatMessage({id:"component.PPDivideDataModal.validation"}),v=(0,B.YB)().formatMessage({id:"component.PPDivideDataModal.test"}),_=(0,B.YB)().formatMessage({id:"component.PPCreater.cancel"}),E=(0,B.YB)().formatMessage({id:"component.PPSegMode.ok"}),m=M.Z.useForm(),C=(0,p.Z)(m,1),g=C[0];return(0,a.jsx)(G.Z,{className:z().modal,title:r,visible:A.visible,onCancel:A.onCancel,footer:null,children:(0,a.jsxs)(M.Z,{form:g,name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!1},onFinish:function(){if(L+S+un!=100){en.default.error("Train, Validation and Test total percent should equal 100!");return}console.log("x trainData: ".concat(L,", validationData: ").concat(S,", testData: ").concat(un,", props.project.curr.projectId: ").concat(A.project.curr.projectId)),e(!0),A.splitDataset(A.project.curr.projectId,{train:L*.01,val:S*.01,test:un*.01}).then(function(){var x;console.log("success"),en.default.success(Y.formatMessage({id:"component.PPDivideDataModal.success"})),(x=A.onFinish)===null||x===void 0||x.call(0)}).finally(function(){e(!1)})},autoComplete:"off",layout:"vertical",children:[(0,a.jsxs)(h.Z,{children:[(0,a.jsx)(T.Z,{span:8,children:(0,a.jsx)(M.Z.Item,{label:d,name:"train",children:(0,a.jsx)(U.Z,{addonAfter:"%",defaultValue:60,precision:0,min:0,max:100,value:L,onChange:on})})}),(0,a.jsx)(T.Z,{span:8,children:(0,a.jsx)(M.Z.Item,{label:s,name:"validation",children:(0,a.jsx)(U.Z,{addonAfter:"%",defaultValue:20,precision:0,min:0,max:100,value:S,onChange:X})})}),(0,a.jsx)(T.Z,{span:8,children:(0,a.jsx)(M.Z.Item,{label:v,name:"test",children:(0,a.jsx)(U.Z,{addonAfter:"%",defaultValue:20,precision:0,min:0,max:100,value:un,onChange:Mn})})})]}),(0,a.jsx)(M.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,a.jsxs)(nn.Z,{children:[(0,a.jsx)(f.Z,{onClick:function(){var x;(x=A.onCancel)===null||x===void 0||x.call(0),g.resetFields()},children:_}),(0,a.jsx)(f.Z,{type:"primary",htmlType:"submit",loading:n,children:E})]})})]})})};V.Z=y},62850:function(R,V,t){"use strict";var J=t(71194),G=t(50146),rn=t(49111),nn=t(19650),tn=t(57663),f=t(71577),u=t(47673),h=t(24044),I=t(34792),T=t(48086),k=t(9715),U=t(93766),F=t(2824),en=t(67294),l=t(48971),M=t(45092),p=t.n(M),D=t(85893),B=function(z){var a=(0,l.YB)(),y=(0,en.useState)(!1),$=(0,F.Z)(y,2),A=$[0],Y=$[1],N=(0,l.YB)().formatMessage({id:"component.PPCreater.cancel"}),H=U.Z.useForm(),L=(0,F.Z)(H,1),on=L[0];return(0,D.jsx)(G.Z,{className:p().modal,title:(0,l.YB)().formatMessage({id:"component.PPExportModal.title"}),visible:z.visible,onCancel:z.onCancel,footer:null,children:(0,D.jsxs)(U.Z,{form:on,name:"basic",labelCol:{span:6},wrapperCol:{span:16},initialValues:{remember:!1},onFinish:function(O){console.log(O);var S=O.path;if(!S){T.default.error(a.formatMessage({id:"component.PPExportModal.pathNotNull"}));return}Y(!0),z.exportDataset(z.project.curr.projectId,S).then(function(){var X;T.default.success(a.formatMessage({id:"component.PPExportModal.exportSuccess"})),(X=z.onFinish)===null||X===void 0||X.call(0)}).finally(function(){Y(!1)})},autoComplete:"off",children:[(0,D.jsx)(U.Z.Item,{label:a.formatMessage({id:"component.PPExportModal.path"}),name:"path",children:(0,D.jsx)(h.Z,{})}),(0,D.jsx)(U.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,D.jsxs)(nn.Z,{children:[(0,D.jsx)(f.Z,{onClick:function(){var O;(O=z.onCancel)===null||O===void 0||O.call(0),on.resetFields()},children:N}),(0,D.jsx)(f.Z,{type:"primary",htmlType:"submit",loading:A,children:a.formatMessage({id:"component.PPExportModal.export"})})]})})]})})};V.Z=B},91861:function(R,V,t){"use strict";t.d(V,{Ad:function(){return G},k3:function(){return rn},Vd:function(){return nn},td:function(){return tn}});var J=40;function G(){localStorage.removeItem("history"),rn([])}function rn(f){var u=localStorage.getItem("history"),h=u?JSON.parse(u):{index:-1,items:[]};if(JSON.stringify(h.items[h.index])!=JSON.stringify(f)){var I=h.index>J?h.index-J:0,T=h.items.splice(I,h.index==0?1:h.index+1);h.items=T.concat([f]),h.index<=J?h.index++:h.index=J+1,localStorage.setItem("history",JSON.stringify(h))}}function nn(){var f=localStorage.getItem("history");if(!!f){var u=JSON.parse(f);if(!!u&&!(u.index>=u.items.length-1))return u.index++,localStorage.setItem("history",JSON.stringify(u)),u.items[u.index]}}function tn(){var f=localStorage.getItem("history");if(!!f){var u=JSON.parse(f);if(!(!u||!u.index)&&!(u.index<=0))return u.index--,localStorage.setItem("history",JSON.stringify(u)),u.items[u.index]}}},4813:function(R,V,t){"use strict";t.r(V),t.d(V,{MOST_HISTORY_STEPS:function(){return Mn},default:function(){return _n}});var J=t(91220),G=t(57663),rn=t(71577),nn=t(34669),tn=t(54458),f=t(2824),u=t(67294),h=t(8088),I=t(61541),T=t(44434),k=t(27992),U=t(5041),F=t(57436),en=t(14836),l=t(48971),M=t(91861),p=t(85871),D=t(62850),B=t(11849),o=t(85893);function z(n){if(!n||!n.width||!n.color||!n.points||n.points.length<2||n.frontendId==null)return"";var e=n.type=="brush"?0:n.frontendId;return"".concat(n.width,",").concat(e,",").concat(n.points.join(","))}function a(n){var e,r=n.canvasRef,d=n.annotation,s=d.result;if(!s)return(0,o.jsx)(o.Fragment,{});var v=(e=r.current)===null||e===void 0?void 0:e.getContext("2d");if(!v)return(0,o.jsx)(o.Fragment,{});for(var _=[],E=0,m=0;m<s.length;m++)s.at(m)==","?(_.push(parseFloat(s.slice(E,m))),E=m+1):s.at(m)=="|"?(_.push(parseFloat(s.slice(E,m))),y(_,v,d),_=[],E=m+1):m==s.length-1&&(_.push(parseFloat(s.slice(E,s.length))),y(_,v,d));return(0,o.jsx)(o.Fragment,{})}function y(n,e,r){var d;if(n.length<4){console.log("found incorrect points:",n);return}var s=n[0],v=n[1];if(s==0){var _;A(e,n.slice(2),r==null||(_=r.label)===null||_===void 0?void 0:_.color);return}if(v==0){$(e,s,n.slice(2),void 0);return}$(e,s,n.slice(2),r==null||(d=r.label)===null||d===void 0?void 0:d.color)}function $(n,e,r,d){n.beginPath(),n.moveTo(r[0],r[1]);for(var s=0;s<=r.length/2-1;s++){var v=r[2*s],_=r[2*s+1];n.lineTo(v,_)}n.lineCap="round",n.lineJoin="round",n.lineWidth=e,d&&(n.strokeStyle=d),n.globalCompositeOperation=d?"source-over":"destination-out",n.stroke()}function A(n,e,r){n.globalCompositeOperation=r?"source-over":"destination-out",r&&(n.fillStyle=r);for(var d=0;d<=e.length/2-1;d++){var s=e[2*d],v=e[2*d+1];n.fillRect(s,v,1,1)}}function Y(n){if(!n||n.length==0)return 0;var e=0,r=(0,J.Z)(n),d;try{for(r.s();!(d=r.n()).done;){var s=d.value;s.frontendId>e&&(e=s.frontendId)}}catch(v){r.e(v)}finally{r.f()}return e}function N(n,e){return n=="rubber"||e==2?"rubber":"brush"}function H(n){var e=(0,u.useState)(),r=(0,f.Z)(e,2),d=r[0],s=r[1],v=function(C){var g,j;if(!(n.currentTool!="brush"&&n.currentTool!="rubber"||!((g=n.currentLabel)!==null&&g!==void 0&&g.color)||!n.brushSize)){var x=C.mouseX,W=C.mouseY,w=N(n.currentTool,C.e.evt.button),P=n.frontendIdOps.frontendId>0?n.frontendIdOps.frontendId:Y(n.annotations);P!=n.frontendIdOps.frontendId&&n.frontendIdOps.setFrontendId(P);var K=z({width:n.brushSize||10,color:(j=n.currentLabel)===null||j===void 0?void 0:j.color,points:[x,W,x,W],type:w,frontendId:P});if(!!K){s(w);var cn={dataId:n.dataId,label:n.currentLabel,frontendId:P,lines:K};n.onAnnotationAdd(cn)}}},_=function(C){var g;if(!(!d||!n.currentAnnotation||!n.currentAnnotation.result||n.currentAnnotation.result.length<2||!((g=n.currentLabel)!==null&&g!==void 0&&g.color))){var j=C.mouseX,x=C.mouseY,W=n.currentAnnotation.result+",".concat(j,",").concat(x);n.onAnnotationModify((0,B.Z)((0,B.Z)({},n.currentAnnotation),{},{result:W}))}},E=function(){n.currentTool!="brush"&&n.currentTool!="rubber"||(s(void 0),n.onMouseUp())};return{onMouseDown:v,onMouseMove:_,onMouseUp:E,drawAnnotation:a}}var L=t(65031);function on(n){var e=0;if(!n)return e;var r=_createForOfIteratorHelper(n),d;try{for(r.s();!(d=r.n()).done;){var s=d.value;!s||!s.frontendId||s.frontendId>e&&(e=s.frontendId)}}catch(v){r.e(v)}finally{r.f()}return e}function b(n){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}function O(n){var e=n.toString(16);return e.length==1?"0"+e:e}function S(n,e,r){return"#"+O(n)+O(e)+O(r)}function X(n,e){if(!(!n||!e))return{color:n,points:e}}function dn(n){if(!n.annotation||!n.annotation.lines||!n.annotation.lines[0])return(0,o.jsx)(o.Fragment,{});var e=n.annotation.lines[0].points,r=n.annotation.lines[0].color,d=b(r);if(!d)return(0,o.jsx)(o.Fragment,{});var s=.3,v=void 0,_=[];return e.forEach(function(E,m){if(!v){v=E;return}_.push((0,o.jsx)(L.Cd,{onMouseDown:function(){n.currentTool=="editor"&&n.onSelect(n.annotation)},draggable:n.currentTool=="editor",onDragMove:function(g){var j;g.cancelBubble=!0;var x=(j=n.stageRef)===null||j===void 0?void 0:j.current,W=x.findOne(".baseImage"),w=!1,P=g.target.x();P>W.width()/2&&(P=W.width()/2,w=!0),P<-W.width()/2&&(P=-W.width()/2,w=!0);var K=g.target.y();K>W.height()/2&&(K=W.height()/2,w=!0),K<-W.height()/2&&(K=-W.height()/2,w=!0),w&&g.target.setPosition({x:P,y:K}),e[m-1]=P,e[m]=K;var cn=(0,B.Z)((0,B.Z)({},n.annotation),{},{points:[{color:r,points:e}]});n.onDrag(cn)},onMouseOver:function(){var g;n.currentTool=="editor"&&(g=n.stageRef)!==null&&g!==void 0&&g.current&&(n.stageRef.current.container().style.cursor="cell")},onMouseOut:function(){var g;n.currentTool=="editor"&&(g=n.stageRef)!==null&&g!==void 0&&g.current&&(n.stageRef.current.container().style.cursor="default")},x:v,y:E,radius:5/n.scale,fill:r})),v=void 0}),(0,o.jsxs)(L.ZA,{children:[(0,o.jsx)(L.x1,{onMouseOver:function(){n.currentTool=="editor"&&(document.body.style.cursor="pointer")},onMouseOut:function(){document.body.style.cursor="default"},onClick:function(){n.currentTool=="editor"&&n.onSelect(n.annotation)},stroke:r,strokeWidth:2/n.scale,globalCompositeOperation:"source-over",lineCap:"round",points:e,tension:0,closed:!0,fill:"rgba(".concat(d.r,", ").concat(d.g,", ").concat(d.b,", ").concat(s,")")}),_]},n.annotation.frontendId)}function vn(n){var e=0;if(!n)return e;var r=(0,J.Z)(n),d;try{for(r.s();!(d=r.n()).done;){var s=d.value;!s||!s.frontendId||s.frontendId>e&&(e=s.frontendId)}}catch(v){r.e(v)}finally{r.f()}return e}function un(n){var e=function(_,E){var m,C=X((m=n.currentLabel)===null||m===void 0?void 0:m.color,[_,E]);!C||n.onAnnotationAdd({dataId:n.dataId,type:"polygon",frontendId:vn(n.annotations)+1,label:n.currentLabel,lines:[C]})},r=function(_,E){var m,C;if(!!n.currentAnnotation){var g=n.currentAnnotation.lines||[],j=X((m=n.currentLabel)===null||m===void 0?void 0:m.color,(C=g[0])===null||C===void 0?void 0:C.points.concat([_,E]));if(!!j){var x={dataId:n.dataId,type:"polygon",frontendId:n.currentAnnotation.frontendId,label:n.currentAnnotation.label,points:[j]};n.onAnnotationModify(x)}}},d=function(_){n.currentTool=="polygon"&&(n.currentAnnotation?r(_.mouseX,_.mouseY):e(_.mouseX,_.mouseY))},s=function(){n.currentTool=="polygon"&&n.onMouseUp()};return{onMouseDown:d,onMouseMove:function(){},onMouseUp:s,drawAnnotation:dn,drawLineInData}}var Mn=40,Pn=function(){var e=(0,u.useState)([]),r=(0,f.Z)(e,2),d=r[0],s=r[1],v=(0,u.useState)(!1),_=(0,f.Z)(v,2),E=_[0],m=_[1],C=(0,u.useState)(!1),g=(0,f.Z)(C,2),j=g[0],x=g[1],W=(0,u.useState)(void 0),w=(0,f.Z)(W,2),P=w[0],K=w[1],cn=(0,u.useState)(),Cn=(0,f.Z)(cn,2),fn=Cn[0],mn=Cn[1],Rn=(0,u.useState)(),Dn=(0,f.Z)(Rn,2),ln=Dn[0],Un=Dn[1],Wn=(0,u.useState)([]),xn=(0,f.Z)(Wn,2),q=xn[0],sn=xn[1],Kn=(0,u.useState)(0),In=(0,f.Z)(Kn,2),Fn=In[0],Yn=In[1],Nn=(0,u.useState)(1),An=(0,f.Z)(Nn,2),hn=An[0],On=An[1],pn=(0,u.useState)(60),Sn=(0,f.Z)(pn,2),Bn=Sn[0],zn=Sn[1],$n=(0,u.useState)(10),yn=(0,f.Z)($n,2),gn=yn[0],En=yn[1],Ln=function(i){i||En(1),i<.1||i>20?En(1):En(i)},Z=function(i){Un(i),i!=null&&i.label&&mn(i.label)};(0,u.useEffect)(function(){(0,M.Ad)()},[]);var Tn=function(i){for(var Q=[],an=0;an<q.length;an++)q[an].frontendId==i.frontendId?Q.push(i):Q.push(q[an]);Z(i),sn(Q)},bn={dataId:0,currentLabel:fn,brushSize:hn,scale:gn,currentTool:P,annotations:q,currentAnnotation:ln,onAnnotationAdd:function(i){var Q=q.concat([i]);sn(Q),ln||Z(i)},onAnnotationModify:Tn,onMouseUp:function(){(0,M.k3)({annos:q,currAnno:ln})}},Hn=H(bn),Vn=un(bn),Jn=P=="polygon"?Vn:Hn;return(0,o.jsxs)(h.Z,{className:"segment",children:[(0,o.jsxs)(T.Z,{children:[(0,o.jsx)(I.Z,{imgSrc:"./pics/buttons/polygon.png",active:P=="polygon",onClick:function(){K("polygon"),Z(void 0)},children:(0,l.YB)().formatMessage({id:"pages.toolBar.polygon"})}),(0,o.jsx)(I.Z,{active:P=="editor",imgSrc:"./pics/buttons/edit.png",onClick:function(){K("editor"),Z(void 0)},children:(0,l.YB)().formatMessage({id:"pages.toolBar.edit"})}),(0,o.jsx)(k.Z,{imgSrc:"./pics/buttons/brush.png",size:hn,active:P=="brush",onClick:function(){P!="rubber"&&P!="brush"&&Z(void 0),K("brush")},onChange:function(i){On(i)},children:(0,l.YB)().formatMessage({id:"pages.toolBar.brush"})}),(0,o.jsx)(k.Z,{size:hn,active:P=="rubber",onClick:function(){P!="rubber"&&P!="brush"&&Z(void 0),K("rubber")},onChange:function(i){On(i)},imgSrc:"./pics/buttons/rubber.png",children:(0,l.YB)().formatMessage({id:"pages.toolBar.rubber"})}),(0,o.jsx)(I.Z,{imgSrc:"./pics/buttons/zoom_in.png",onClick:function(){Ln(gn+.1)},children:(0,l.YB)().formatMessage({id:"pages.toolBar.zoomIn"})}),(0,o.jsx)(I.Z,{imgSrc:"./pics/buttons/zoom_out.png",onClick:function(){Ln(gn-.1)},children:(0,l.YB)().formatMessage({id:"pages.toolBar.zoomOut"})}),(0,o.jsx)(I.Z,{imgSrc:"./pics/buttons/save.png",children:(0,l.YB)().formatMessage({id:"pages.toolBar.save"})}),(0,o.jsx)(I.Z,{active:P=="mover",imgSrc:"./pics/buttons/move.png",onClick:function(){K("mover")},children:(0,l.YB)().formatMessage({id:"pages.toolBar.move"})}),(0,o.jsx)(I.Z,{imgSrc:"./pics/buttons/prev.png",onClick:function(){var i=(0,M.td)();i&&(sn(i.annos),Z(i.currAnno))},children:(0,l.YB)().formatMessage({id:"pages.toolBar.unDo"})}),(0,o.jsx)(I.Z,{imgSrc:"./pics/buttons/next.png",onClick:function(){var i=(0,M.Vd)();i&&(sn(i.annos),Z(i.currAnno))},children:(0,l.YB)().formatMessage({id:"pages.toolBar.reDo"})}),(0,o.jsx)(I.Z,{imgSrc:"./pics/buttons/clear_mark.png",children:(0,l.YB)().formatMessage({id:"pages.toolBar.clearMark"})})]}),(0,o.jsxs)("div",{id:"dr",className:"mainStage",children:[(0,o.jsx)("div",{className:"draw",children:(0,o.jsx)(F.Z,{scale:gn,annotations:q,currentTool:P,currentAnnotation:ln,setCurrentAnnotation:Z,onAnnotationModify:Tn,onAnnotationModifyComplete:function(){(0,M.k3)({annos:q,currAnno:ln})},frontendIdOps:{frontendId:Fn,setFrontendId:Yn},imgSrc:void 0,transparency:Bn,onAnnotationAdd:function(i){var Q=q.concat([i]);sn(Q),ln||Z(i)},drawTool:Jn})}),(0,o.jsx)("div",{className:"pblock",children:(0,o.jsxs)("div",{className:"progress",children:[(0,o.jsx)(tn.Z,{className:"progressBar",percent:10,status:"active",showInfo:!1})," ",(0,o.jsx)("span",{className:"progressDesc",children:"Current labeling 1 of 300. Already labeled 20."})]})}),(0,o.jsx)("div",{className:"prevTask",onClick:function(){!task.prevTask()||(Z(void 0),sn([]))}}),(0,o.jsx)("div",{className:"nextTask",onClick:function(){!task.nextTask()||(Z(void 0),sn([]))}})]}),(0,o.jsxs)(T.Z,{disLoc:"right",children:[(0,o.jsx)(I.Z,{imgSrc:"./pics/buttons/intelligent_interaction.png",children:(0,l.YB)().formatMessage({id:"pages.toolBar.interactor"})}),(0,o.jsx)(k.Z,{imgSrc:"./pics/buttons/threshold.png",disLoc:"left",children:(0,l.YB)().formatMessage({id:"pages.toolBar.segmentThreshold"})}),(0,o.jsx)(k.Z,{imgSrc:"./pics/buttons/alpha.png",disLoc:"left",size:Bn,maxSize:100,minSize:0,onChange:function(i){zn(i)},children:(0,l.YB)().formatMessage({id:"pages.toolBar.transparency"})}),(0,o.jsx)(k.Z,{imgSrc:"./pics/buttons/radius.png",disLoc:"left",children:(0,l.YB)().formatMessage({id:"pages.toolBar.visualRadius"})}),(0,o.jsx)(I.Z,{imgSrc:"./pics/buttons/data_division.png",onClick:function(){m(!0)},children:(0,l.YB)().formatMessage({id:"pages.toolBar.divideData"})}),(0,o.jsx)(I.Z,{imgSrc:"./pics/buttons/export.png",onClick:function(){x(!0)},children:(0,l.YB)().formatMessage({id:"pages.toolBar.export"})})]}),(0,o.jsxs)("div",{className:"rightSideBar",children:[(0,o.jsx)("div",{className:"determinOutline",children:(0,o.jsx)(rn.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",block:!0,onClick:function(){Z(void 0)},children:(0,l.YB)().formatMessage({id:"pages.toolBar.determineOutline"})})}),(0,o.jsx)(U.Z,{labels:d,activeIds:new Set([fn]),onLabelSelect:function(i){mn(i),Z(void 0)},onLabelModify:function(){},onLabelDelete:function(i){var Q=[],an=(0,J.Z)(d),jn;try{for(an.s();!(jn=an.n()).done;){var Zn=jn.value;Zn.labelId!=i.labelId&&Q.push(Zn)}}catch(Xn){an.e(Xn)}finally{an.f()}s(Q),(fn==null?void 0:fn.labelId)==i.labelId&&mn(void 0)},onLabelAdd:function(i){d.push(i),s(d),mn(i)}}),(0,o.jsx)(en.Z,{currAnnotation:ln,annotations:q,onAnnotationSelect:function(i){i!=null&&i.delete||Z(i)},onAnnotationAdd:function(){},onAnnotationModify:function(){},onAnnotationDelete:function(i){sn(q.filter(function(Q){return Q.frontendId!=i.frontendId})),Z(void 0)}})]}),(0,o.jsx)(p.Z,{visible:E,onCancel:function(){m(!1)},onFinish:function(){m(!1)}}),(0,o.jsx)(D.Z,{visible:j,onCancel:function(){x(!1)},onFinish:function(){x(!1)}})]})},_n=Pn}}]);
