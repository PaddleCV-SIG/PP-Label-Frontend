(self.webpackChunkpp_label_frontend=self.webpackChunkpp_label_frontend||[]).push([[322],{64322:function(te,B,O){"use strict";O.d(B,{gu:function(){return V},_D:function(){return Q},Gd:function(){return X},jL:function(){return Y},iA:function(){return q},CV:function(){return x},A5:function(){return ee}});var H=O(86582),$=O(91220),P=O(3182),ue=O(34792),h=O(48086),D=O(2824),N=O(94043),l=O.n(N),L=O(37071),j=O(81139),K=localStorage.getItem("basePath"),T=new j.VK(K?{basePath:K}:void 0),C=new j.U(T),G=new j.sD(T),J=new j.W6(T),W=new j.Cl(T),V=function(c){return JSON.parse(JSON.stringify(c))};function le(w){return w&&(w.toLowerCase().replace(/([-_][a-z])/g,function(c){return c.toUpperCase().replace("-","").replace("_","")}),w)}var z=function(c,p,_){if(!!_){for(var s=0;s<p.length;s++)if(c[_]==p[s][_])return s}},Q=function(c){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[.1,3],_=c(1),s=(0,D.Z)(_,2),A=s[0],E=s[1],b=function(m){var t=A;t+=m,t<p[0]&&(t=p[0],h.default.error("Smallest scale is "+p[0])),t>p[1]&&(t=p[1],h.default.error("Largest scale is "+p[1])),E(t)};return{curr:A,change:b}},X=function(c){var p=c([]),_=(0,D.Z)(p,2),s=_[0],A=_[1],E=c(),b=(0,D.Z)(E,2),u=b[0],m=b[1],t=function(){var o=(0,P.Z)(l().mark(function a(){var f;return l().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,d.next=3,C.getAll();case 3:return f=d.sent,A(f),d.abrupt("return",f);case 8:d.prev=8,d.t0=d.catch(0),console.log("project getAll err",d.t0),L.Z.parseError(d.t0,h.default);case 12:case"end":return d.stop()}},a,null,[[0,8]])}));return function(){return o.apply(this,arguments)}}(),v=function(){var o=(0,P.Z)(l().mark(function a(f){var e;return l().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(f!=null){n.next=2;break}return n.abrupt("return",void 0);case 2:if(!(s.length>1)){n.next=5;break}return h.default.error("Currently have multiple projects stored, use turnTo instead"),n.abrupt("return");case 5:return n.prev=5,n.next=8,C.get(f);case 8:return e=n.sent,A([e]),m(0),n.abrupt("return",e);case 14:n.prev=14,n.t0=n.catch(5),console.log("prject getcurr err",n.t0),L.Z.parseError(n.t0,h.default);case 18:case"end":return n.stop()}},a,null,[[5,14]])}));return function(f){return o.apply(this,arguments)}}(),g=function(){var o=(0,P.Z)(l().mark(function a(f){return l().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:typeof f=="number"?C.remove(f):C.remove(f.projectId),t();case 2:case"end":return d.stop()}},a)}));return function(f){return o.apply(this,arguments)}}(),i=function(){var o=(0,P.Z)(l().mark(function a(f){var e;return l().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,C.create(f);case 3:return e=n.sent,console.log(e),n.abrupt("return",e);case 8:n.prev=8,n.t0=n.catch(0),console.log("project create err",n.t0),L.Z.parseError(n.t0,h.default);case 12:case"end":return n.stop()}},a,null,[[0,8]])}));return function(f){return o.apply(this,arguments)}}(),r=function(){var o=(0,P.Z)(l().mark(function a(f,e){return l().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:C.update(f,e).then(function(M){console.log("project update res",M)}).catch(function(M){console.log("project update err ",M),L.Z.parseError(M,h.default)});case 1:case"end":return n.stop()}},a)}));return function(f,e){return o.apply(this,arguments)}}();return{all:s,getAll:t,getCurr:v,remove:g,create:i,update:r,get curr(){if(u!=null)return s[u]}}},Y=function(c,p){var _=p.oneHot,s=_===void 0?!0:_,A=p.pageOnSelect,E=c([]),b=(0,D.Z)(E,2),u=b[0],m=b[1],t=c(),v=(0,D.Z)(t,2),g=v[0],i=v[1],r=c(s),o=(0,D.Z)(r,2),a=o[0],f=o[1],e=function(){var k=(0,P.Z)(l().mark(function I(U){var S,y,R,F;return l().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.prev=0,Z.next=3,C.getLabels(U);case 3:S=Z.sent,y=(0,$.Z)(S);try{for(y.s();!(R=y.n()).done;)F=R.value,F.active=!1}catch(ae){y.e(ae)}finally{y.f()}return m(S),Z.abrupt("return",S);case 10:Z.prev=10,Z.t0=Z.catch(0),console.log("label getall err ",Z.t0),L.Z.parseError(Z.t0,h.default);case 14:case"end":return Z.stop()}},I,null,[[0,10]])}));return function(U){return k.apply(this,arguments)}}(),d=function(I){var U=z(I,u,"labelId");if(i(U),console.log("onehot",a),a){var S=(0,$.Z)(u),y;try{for(S.s();!(y=S.n()).done;){var R=y.value;R.active=!1}}catch(F){S.e(F)}finally{S.f()}u[U].active=!0,console.log("all",u)}else u[U].active=!u[U].active;A(u[U]),m((0,H.Z)(u))},n=function(){},M=function(){},re=function(){},ne=function(){f(!a)};return{all:u,getAll:e,setAll:m,onSelect:d,onAdd:n,onDelete:M,onModify:re,toggleOneHot:ne,get curr(){if(g!=null)return u[g]}}},q=function(c){var p=c(),_=(0,D.Z)(p,2),s=_[0],A=_[1],E=c(),b=(0,D.Z)(E,2),u=b[0],m=b[1],t=function(i){if(i<0){h.default.error("This is the first image. No previous image.");return}if(i==s.length){h.default.error("This is the final image. No next image.");return}console.log("turning to",i),m(i)},v=function(){var g=(0,P.Z)(l().mark(function i(r,o){var a;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.getTasks(r);case 3:if(a=e.sent,A(a),o==null){e.next=9;break}return console.log("getall turnto"),t(o),e.abrupt("return",[a,a[o]]);case 9:return e.abrupt("return",a);case 12:e.prev=12,e.t0=e.catch(0),console.log("task getall err ",e.t0),L.Z.parseError(e.t0,h.default);case 16:case"end":return e.stop()}},i,null,[[0,12]])}));return function(r,o){return g.apply(this,arguments)}}();return{currIdx:u,all:s,turnTo:t,getAll:v,get curr(){if(!(u==null||s==null))return console.log("task.curr",s[u]),s[u]}}},x=function(c){var p=c(),_=(0,D.Z)(p,2),s=_[0],A=_[1],E=function(){var m=(0,P.Z)(l().mark(function t(v){var g;return l().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,J.getAnnotations(v);case 3:return g=r.sent,r.next=6,A(g);case 6:return r.abrupt("return",g);case 9:r.prev=9,r.t0=r.catch(0),console.log("ann getAll err",r.t0),L.Z.parseError(r.t0,h.default);case 13:case"end":return r.stop()}},t,null,[[0,9]])}));return function(v){return m.apply(this,arguments)}}(),b=function(){var m=(0,P.Z)(l().mark(function t(v){var g;return l().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("create",v),r.prev=1,r.next=4,W.create(v);case 4:return g=r.sent,E(v.dataId),r.abrupt("return",g);case 9:r.prev=9,r.t0=r.catch(1),console.log("annotation create err",r.t0),L.Z.parseError(r.t0,h.default);case 13:case"end":return r.stop()}},t,null,[[1,9]])}));return function(v){return m.apply(this,arguments)}}(),u=function(){var m=(0,P.Z)(l().mark(function t(v){return l().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:try{W.remove(v)}catch(r){console.log("annotation remove err",r),L.Z.parseError(r,h.default)}case 1:case"end":return i.stop()}},t)}));return function(v){return m.apply(this,arguments)}}();return{all:s,getAll:E,create:b,remove:u}},ee=function(c){var p=c(),_=(0,D.Z)(p,2),s=_[0],A=_[1],E=c([]),b=(0,D.Z)(E,2),u=b[0],m=b[1],t=function(){var g=(0,P.Z)(l().mark(function i(r){return l().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:A(r);case 1:case"end":return a.stop()}},i)}));return function(r){return g.apply(this,arguments)}}(),v=function(){var g=(0,P.Z)(l().mark(function i(r,o){var a;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.getDatas(r);case 3:if(a=e.sent,m(a),o==null){e.next=8;break}return t(o),e.abrupt("return",[a,a[o]]);case 8:return e.abrupt("return",a);case 11:e.prev=11,e.t0=e.catch(0),console.log("data getall err ",e.t0),L.Z.parseError(e.t0,h.default);case 15:case"end":return e.stop()}},i,null,[[0,11]])}));return function(r,o){return g.apply(this,arguments)}}();return{all:u,getAll:v,turnTo:t,get curr(){if(!(s==null||u==null))return u[s]}}}}}]);
