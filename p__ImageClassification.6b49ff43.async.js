(self.webpackChunkpp_labeling_frontend=self.webpackChunkpp_labeling_frontend||[]).push([[845],{52822:function(s){s.exports={roundBall:"roundBall___1pqu1",popover:"popover___1-PR6"}},5882:function(s){s.exports={listItem:"listItem___vtDXn",eye:"eye___AsLBS",roundBall:"roundBall___1J_R3",popover:"popover___1x-2R",listItemActive:"listItemActive___3FRb7"}},56131:function(s){s.exports={labelList:"labelList___jvD05",listHeader:"listHeader___UM5UF",eye:"eye___II3Po",roundBall:"roundBall___j752J"}},78677:function(s){s.exports={container:"container___G0FNe"}},83930:function(s){s.exports={stage:"stage___3H5QL"}},80961:function(s){s.exports={toolbar:"toolbar___3vxli"}},82499:function(s){s.exports={toolBarButtonContainerWrapper:"toolBarButtonContainerWrapper___1SHWL",toolBarButtonContainer:"toolBarButtonContainer___1jKUz",toolBarButton:"toolBarButton___3Ouq1",buttonText:"buttonText___10ls7",toolBarButtonContainerWrapperActive:"toolBarButtonContainerWrapperActive___3AA28"}},8881:function(s){s.exports={classes:"classes___GWIJ0",mainStage:"mainStage___3H7Up",rightSideBar:"rightSideBar___2sEdt"}},31154:function(s,M,e){"use strict";e.d(M,{Z:function(){return T}});var D=e(11849),d=e(2824),v=e(91220),i=e(67294),r=e(65031),o=e(85893);function P(n,l,_,u){if(!(!n||!l||!_||!u))return{width:n,color:l,points:_,tool:u,element:(0,o.jsx)(r.x1,{stroke:l,strokeWidth:n,globalCompositeOperation:u==="brush"?"source-over":"destination-out",lineCap:"round",points:_,tension:.01})}}function c(n,l){return n=="rubber"||l==2?"rubber":"brush"}function A(n){var l=0,_=(0,v.Z)(n),u;try{for(_.s();!(u=_.n()).done;){var t=u.value;!t||t.annotationId>l&&(l=t.annotationId)}}catch(h){_.e(h)}finally{_.f()}return l}function T(n){var l=(0,i.useState)(),_=(0,d.Z)(l,2),u=_[0],t=_[1],h=function(C){var O,F=c(n.currentTool,C.evt.button),E=P(n.brushSize||10,(O=n.currentLabel)===null||O===void 0?void 0:O.color,[C.evt.offsetX,C.evt.offsetY,C.evt.offsetX,C.evt.offsetY],F);if(!!E)if(t(F),!n.currentAnnotation)n.onAnnotationAdd({annotationId:A(n.annotations)+1,label:n.currentLabel,lines:[E]});else{var b,W={annotationId:n.currentAnnotation.annotationId,label:n.currentAnnotation.label,lines:(b=n.currentAnnotation.lines)===null||b===void 0?void 0:b.concat([E])};n.onAnnotationModify(W),console.log(W)}},B=function(C){var O;if(!(!u||!n.currentAnnotation)){var F=[C.evt.offsetX,C.evt.offsetY],E=[];(O=n.currentAnnotation)!==null&&O!==void 0&&O.lines&&(F=n.currentAnnotation.lines[n.currentAnnotation.lines.length-1].points.concat(F),E=n.currentAnnotation.lines);var b=P(n.brushSize||10,n.currentLabel.color,F,u);!b||(E.pop(),E.push(b),n.onAnnotationModify((0,D.Z)((0,D.Z)({},n.currentAnnotation),{},{lines:E})))}},j=function(){t(void 0)};return{onMouseDown:h,onMouseMove:B,onMouseUp:j}}},63097:function(s,M,e){"use strict";var D=e(20136),d=e(55241),v=e(2824),i=e(67294),r=e(52822),o=e.n(r),P=e(63144),c=e(85893),A=function(n){var l=(0,i.useState)(n.color||"#FFF"),_=(0,v.Z)(l,2),u=_[0],t=_[1];return(0,i.useEffect)(function(){t(n.color||"#FFF")},[n]),n.changeable?(0,c.jsx)(d.Z,{getPopupContainer:function(B){return B.parentElement||document.body},overlayClassName:o().popover,openClassName:o().popoverOpenClassName,placement:"bottom",content:(0,c.jsx)(P.xS,{disableAlpha:!0,color:u,onChange:function(B){t(B.hex)},onChangeComplete:n.onChange}),trigger:"click",children:(0,c.jsx)("div",{className:o().roundBall,style:{backgroundColor:u}})}):(0,c.jsx)("div",{className:o().roundBall,style:{backgroundColor:u}})};M.Z=A},5041:function(s,M,e){"use strict";e.d(M,{Z:function(){return U}});var D=e(54421),d=e(38272),v=e(57663),i=e(71577),r=e(2824),o=e(67294),P=e(56131),c=e.n(P),A=e(49111),T=e(19650),n=e(11849),l=e(5882),_=e.n(l),u=e(63097),t=e(85893),h=function(a){var m=(0,n.Z)({},a.label),S=(0,o.useState)(m.invisible),x=(0,r.Z)(S,2),Z=x[0],N=x[1],R=(0,t.jsx)(d.ZP.Item,{className:"".concat(_().listItem," ").concat(a.active?_().listItemActive:""),unselectable:"on",onClick:function(){a.onClick(m)},children:(0,t.jsxs)(T.Z,{align:"center",size:5,children:[(0,t.jsx)("a",{className:_().eye,style:{backgroundImage:Z?"url(./pics/hide.png)":"url(./pics/show.png)"},onClick:function(){N(!Z),a.onLabelModify(m)}})," ",m.name,(0,t.jsx)(u.Z,{color:m.color,changeable:!0,onChange:function(K){m.color=K.hex,a.onLabelModify(m)}})]})});return R},B=h,j=e(71194),L=e(50146),C=e(47673),O=e(24044),F=e(9715),E=e(93766),b=["#FF0000","#008000","#0000FF","#FFFF00","#FFA500","#00FFFF","#8B00FF","#FFC0CB","#7CFC00","#007FFF","#800080","#36BF36","#DAA520","#800000","#008B8B","#B22222","#E6D933","#000080","#FF00FF","#FFFF99","#87CEEB","#5C50E6","#CD5C5C","#20B2AA","#E680FF","#4D1F00","#006374","#B399FF","#8B4513","#BA55D3","#C0C0C0","#808080","#000000"],W=function(a){var m,S,x=(0,o.useState)(((m=a.defaultLabel)===null||m===void 0?void 0:m.color)||b[a.order||0]),Z=(0,r.Z)(x,2),N=Z[0],R=Z[1];(0,o.useEffect)(function(){var g;R(((g=a.defaultLabel)===null||g===void 0?void 0:g.color)||b[a.order||0])},[a]);var p=E.Z.useForm(),K=(0,r.Z)(p,1),y=K[0];return(0,t.jsx)(L.Z,{title:"Add Label",visible:a.visible,onCancel:a.onCancel,footer:null,children:(0,t.jsxs)(E.Z,{form:y,name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!1,labelname:(S=a.defaultLabel)===null||S===void 0?void 0:S.name},onFinish:function(I){var X={name:I.labelname,color:N};a.onLabelAdd(X),y.resetFields()},autoComplete:"off",children:[(0,t.jsx)(E.Z.Item,{label:"Label Name",name:"labelname",rules:[{required:!0,message:"Please input label name!"}],children:(0,t.jsx)(O.Z,{})}),(0,t.jsx)(E.Z.Item,{label:"Select Color",name:"color",children:(0,t.jsx)(u.Z,{color:N,onChange:function(I){R(I.hex)}})}),(0,t.jsx)(E.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,t.jsxs)(T.Z,{children:[(0,t.jsx)(i.Z,{onClick:function(){var I;(I=a.onCancel)===null||I===void 0||I.call(0),y.resetFields()},children:"\u53D6\u6D88"}),(0,t.jsx)(i.Z,{type:"primary",htmlType:"submit",children:"\u786E\u5B9A"})]})})]})})},z=W,$=[{color:"#FF0000",name:"Label 1"},{color:"#008000",name:"Label 2"}],H=function(a){var m=(0,o.useState)($),S=(0,r.Z)(m,2),x=S[0],Z=S[1],N=(0,o.useState)(!1),R=(0,r.Z)(N,2),p=R[0],K=R[1];return(0,o.useEffect)(function(){a.selectedLabel||a.onLabelSelect(x[0])},[x,a]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.ZP,{className:c().labelList,size:"large",header:(0,t.jsx)("div",{className:c().listHeader,children:"Label List"}),footer:(0,t.jsx)("div",{children:(0,t.jsx)(i.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",onClick:function(){K(!0)},block:!0,children:"Add Label"})}),bordered:!0,dataSource:x,renderItem:function(g){var I;return(0,t.jsx)(B,{onClick:a.onLabelSelect,label:g,active:g.name==((I=a.selectedLabel)===null||I===void 0?void 0:I.name),onLabelDelete:a.onLabelDelete,onLabelModify:a.onLabelModify})}}),(0,t.jsx)(z,{order:x.length,visible:p,onLabelAdd:function(g){x.push(g),Z(x),K(!1)},onCancel:function(){K(!1)}})]})},U=H},8088:function(s,M,e){"use strict";var D=e(67294),d=e(78677),v=e.n(d),i=e(85893),r=function(P){return(0,i.jsx)("div",{className:"".concat(v().container," ").concat(P.className),children:P.children})};M.Z=r},57436:function(s,M,e){"use strict";var D=e(2824),d=e(67294),v=e(65031),i=e(84420),r=e.n(i),o=e(83930),P=e.n(o),c=e(85893),A="./pics/basketball.jpg",T=function(l){var _=r()(A),u=(0,D.Z)(_,1),t=u[0],h=(t==null?void 0:t.width)||0,B=(t==null?void 0:t.height)||0;return(0,c.jsxs)(v.Hf,{width:h,height:B,className:P().stage,children:[(0,c.jsx)(v.mh,{children:(0,c.jsx)(v.Ee,{image:t})}),(0,c.jsxs)(v.mh,{onMouseDown:function(L){l.onMouseDown&&l.onMouseDown(L)},onMouseMove:function(L){l.onMouseMove&&l.onMouseMove(L)},onMouseUp:function(L){l.onMouseUp&&l.onMouseUp(L)},onContextMenu:function(L){L.evt.preventDefault()},children:[(0,c.jsx)(v.Ee,{image:t}),l.annotations.map(function(j,L){var C;return(C=j.lines)===null||C===void 0?void 0:C.map(function(O,F){return O.element})})]})]})};M.Z=T},44434:function(s,M,e){"use strict";var D=e(67294),d=e(80961),v=e.n(d),i=e(85893),r=function(P){return(0,i.jsx)("div",{className:v().toolbar,children:P.children})};M.Z=r},61541:function(s,M,e){"use strict";var D=e(49111),d=e(19650),v=e(67294),i=e(82499),r=e.n(i),o=e(85893),P=function(A){return(0,o.jsx)("div",{unselectable:"on",className:"".concat(r().toolBarButtonContainerWrapper," ").concat(A.active&&r().toolBarButtonContainerWrapperActive),onClick:A.onClick,children:(0,o.jsx)(d.Z,{align:"center",className:r().toolBarButtonContainer,size:0,children:(0,o.jsxs)(d.Z,{align:"center",direction:"vertical",className:r().toolBarButton,size:0,children:[(0,o.jsx)("img",{src:A.imgSrc}),(0,o.jsx)("div",{className:r().buttonText,children:A.children})]})})})};M.Z=P},27682:function(s,M,e){"use strict";e.r(M);var D=e(2824),d=e(67294),v=e(8881),i=e.n(v),r=e(8088),o=e(61541),P=e(44434),c=e(5041),A=e(57436),T=e(31154),n=e(85893),l=function(){var u=(0,d.useState)({color:"",name:""}),t=(0,D.Z)(u,2),h=t[0],B=t[1],j=(0,d.useState)(),L=(0,D.Z)(j,2),C=L[0],O=L[1],F=(0,d.useState)([]),E=(0,D.Z)(F,2),b=E[0],W=E[1],z=function(f){O(f),f!=null&&f.label&&B(f.label)},$=function(f){for(var a=[],m=0;m<b.length;m++)b[m].annotationId==f.annotationId?a.push(f):a.push(b[m]);z(f),W(a)},H=(0,T.Z)({currentLabel:h,annotations:b,currentAnnotation:C,onAnnotationAdd:function(f){W(b.concat([f])),C||z(f)},onAnnotationModify:$});return(0,n.jsxs)(r.Z,{className:i().classes,children:[(0,n.jsxs)(P.Z,{children:[(0,n.jsx)(o.Z,{imgSrc:"./pics/buttons/zoom_in.png",children:"Zoom in"}),(0,n.jsx)(o.Z,{imgSrc:"./pics/buttons/zoom_out.png",children:"Zoom out"}),(0,n.jsx)(o.Z,{imgSrc:"./pics/buttons/save.png",children:"Save"}),(0,n.jsx)(o.Z,{imgSrc:"./pics/buttons/move.png",children:"Move"}),(0,n.jsx)(o.Z,{imgSrc:"./pics/buttons/export.png",children:"Export"}),(0,n.jsx)(o.Z,{imgSrc:"./pics/buttons/data_division.png",children:"Divide Data"}),(0,n.jsx)(o.Z,{imgSrc:"./pics/buttons/prev.png",children:"Undo"}),(0,n.jsx)(o.Z,{imgSrc:"./pics/buttons/next.png",children:"Redo"}),(0,n.jsx)(o.Z,{imgSrc:"./pics/buttons/clear_mark.png",children:"Clear Mark"})]}),(0,n.jsx)("div",{className:i().mainStage,children:(0,n.jsx)(A.Z,{annotations:b,onMouseDown:H.onMouseDown,onMouseMove:H.onMouseMove,onMouseUp:H.onMouseUp})}),(0,n.jsx)("div",{className:i().rightSideBar,children:(0,n.jsx)(c.Z,{selectedLabel:h,onLabelSelect:function(f){B(f),z(void 0)},onLabelModify:function(){},onLabelDelete:function(){},onLabelAdd:function(){}})})]})};M.default=l}}]);
