(self.webpackChunkpp_labeling_frontend=self.webpackChunkpp_labeling_frontend||[]).push([[90],{74607:function(){(function(w){var E={};function s(f){if(E[f])return E[f].exports;var c=E[f]={i:f,l:!1,exports:{}};return w[f].call(c.exports,c,c.exports,s),c.l=!0,c.exports}s.m=w,s.c=E,s.d=function(f,c,y){s.o(f,c)||Object.defineProperty(f,c,{enumerable:!0,get:y})},s.r=function(f){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},s.t=function(f,c){if(1&c&&(f=s(f)),8&c||4&c&&typeof f=="object"&&f&&f.__esModule)return f;var y=Object.create(null);if(s.r(y),Object.defineProperty(y,"default",{enumerable:!0,value:f}),2&c&&typeof f!="string")for(var _ in f)s.d(y,_,function(T){return f[T]}.bind(null,_));return y},s.n=function(f){var c=f&&f.__esModule?function(){return f.default}:function(){return f};return s.d(c,"a",c),c},s.o=function(f,c){return Object.prototype.hasOwnProperty.call(f,c)},s.p="",s(s.s=65)})([function(w,E,s){var f=s(133);w.exports=function(c,y,_){var T=c==null?void 0:f(c,y);return T===void 0?_:T}},function(w,E,s){"use strict";var f=this&&this.__importDefault||function(Y){return Y&&Y.__esModule?Y:{default:Y}};Object.defineProperty(E,"__esModule",{value:!0});var c=s(6),y=s(9),_=f(s(143)),T=s(15),A=f(s(144));function z(Y,O){var S=y.getCoords(Y),N=y.getCoords(O);if(S.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(N.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var Z=S[0][0],C=S[0][1],D=S[1][0],g=S[1][1],k=N[0][0],B=N[0][1],H=N[1][0],G=N[1][1],q=(G-B)*(D-Z)-(H-k)*(g-C);if(q==0)return null;var K=((H-k)*(C-B)-(G-B)*(Z-k))/q,Q=((D-Z)*(C-B)-(g-C)*(Z-k))/q;if(0<=K&&K<=1&&0<=Q&&Q<=1){var it=Z+K*(D-Z),pt=C+K*(g-C);return c.point([it,pt])}return null}E.default=function(Y,O){var S={},N=[];if(Y.type==="LineString"&&(Y=c.feature(Y)),O.type==="LineString"&&(O=c.feature(O)),Y.type==="Feature"&&O.type==="Feature"&&Y.geometry!==null&&O.geometry!==null&&Y.geometry.type==="LineString"&&O.geometry.type==="LineString"&&Y.geometry.coordinates.length===2&&O.geometry.coordinates.length===2){var Z=z(Y,O);return Z&&N.push(Z),c.featureCollection(N)}var C=A.default();return C.load(_.default(O)),T.featureEach(_.default(Y),function(D){T.featureEach(C.search(D),function(g){var k=z(D,g);if(k){var B=y.getCoords(k).join(",");S[B]||(S[B]=!0,N.push(k))}})}),c.featureCollection(N)}},function(w,E){w.exports=function(s){var f=typeof s;return s!=null&&(f=="object"||f=="function")}},function(w,E,s){var f=s(29),c=typeof self=="object"&&self&&self.Object===Object&&self,y=f||c||Function("return this")();w.exports=y},function(w,E){w.exports=function(s){return s!=null&&typeof s=="object"}},function(w,E){var s=Array.isArray;w.exports=s},function(w,E,s){"use strict";function f(C,D,g){g===void 0&&(g={});var k={type:"Feature"};return g.id!==0&&!g.id||(k.id=g.id),g.bbox&&(k.bbox=g.bbox),k.properties=D||{},k.geometry=C,k}function c(C,D,g){return g===void 0&&(g={}),f({type:"Point",coordinates:C},D,g)}function y(C,D,g){g===void 0&&(g={});for(var k=0,B=C;k<B.length;k++){var H=B[k];if(H.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var G=0;G<H[H.length-1].length;G++)if(H[H.length-1][G]!==H[0][G])throw new Error("First and last Position are not equivalent.")}return f({type:"Polygon",coordinates:C},D,g)}function _(C,D,g){if(g===void 0&&(g={}),C.length<2)throw new Error("coordinates must be an array of two or more positions");return f({type:"LineString",coordinates:C},D,g)}function T(C,D){D===void 0&&(D={});var g={type:"FeatureCollection"};return D.id&&(g.id=D.id),D.bbox&&(g.bbox=D.bbox),g.features=C,g}function A(C,D,g){return g===void 0&&(g={}),f({type:"MultiLineString",coordinates:C},D,g)}function z(C,D,g){return g===void 0&&(g={}),f({type:"MultiPoint",coordinates:C},D,g)}function Y(C,D,g){return g===void 0&&(g={}),f({type:"MultiPolygon",coordinates:C},D,g)}function O(C,D){D===void 0&&(D="kilometers");var g=E.factors[D];if(!g)throw new Error(D+" units is invalid");return C*g}function S(C,D){D===void 0&&(D="kilometers");var g=E.factors[D];if(!g)throw new Error(D+" units is invalid");return C/g}function N(C){return C%(2*Math.PI)*180/Math.PI}function Z(C){return!isNaN(C)&&C!==null&&!Array.isArray(C)&&!/^\s*$/.test(C)}Object.defineProperty(E,"__esModule",{value:!0}),E.earthRadius=63710088e-1,E.factors={centimeters:100*E.earthRadius,centimetres:100*E.earthRadius,degrees:E.earthRadius/111325,feet:3.28084*E.earthRadius,inches:39.37*E.earthRadius,kilometers:E.earthRadius/1e3,kilometres:E.earthRadius/1e3,meters:E.earthRadius,metres:E.earthRadius,miles:E.earthRadius/1609.344,millimeters:1e3*E.earthRadius,millimetres:1e3*E.earthRadius,nauticalmiles:E.earthRadius/1852,radians:1,yards:E.earthRadius/1.0936},E.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/E.earthRadius,yards:1/1.0936},E.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},E.feature=f,E.geometry=function(C,D,g){switch(g===void 0&&(g={}),C){case"Point":return c(D).geometry;case"LineString":return _(D).geometry;case"Polygon":return y(D).geometry;case"MultiPoint":return z(D).geometry;case"MultiLineString":return A(D).geometry;case"MultiPolygon":return Y(D).geometry;default:throw new Error(C+" is invalid")}},E.point=c,E.points=function(C,D,g){return g===void 0&&(g={}),T(C.map(function(k){return c(k,D)}),g)},E.polygon=y,E.polygons=function(C,D,g){return g===void 0&&(g={}),T(C.map(function(k){return y(k,D)}),g)},E.lineString=_,E.lineStrings=function(C,D,g){return g===void 0&&(g={}),T(C.map(function(k){return _(k,D)}),g)},E.featureCollection=T,E.multiLineString=A,E.multiPoint=z,E.multiPolygon=Y,E.geometryCollection=function(C,D,g){return g===void 0&&(g={}),f({type:"GeometryCollection",geometries:C},D,g)},E.round=function(C,D){if(D===void 0&&(D=0),D&&!(0<=D))throw new Error("precision must be a positive number");var g=Math.pow(10,D||0);return Math.round(C*g)/g},E.radiansToLength=O,E.lengthToRadians=S,E.lengthToDegrees=function(C,D){return N(S(C,D))},E.bearingToAzimuth=function(C){var D=C%360;return D<0&&(D+=360),D},E.radiansToDegrees=N,E.degreesToRadians=function(C){return C%360*Math.PI/180},E.convertLength=function(C,D,g){if(D===void 0&&(D="kilometers"),g===void 0&&(g="kilometers"),!(0<=C))throw new Error("length must be a positive number");return O(S(C,D),g)},E.convertArea=function(C,D,g){if(D===void 0&&(D="meters"),g===void 0&&(g="kilometers"),!(0<=C))throw new Error("area must be a positive number");var k=E.areaFactors[D];if(!k)throw new Error("invalid original units");var B=E.areaFactors[g];if(!B)throw new Error("invalid final units");return C/k*B},E.isNumber=Z,E.isObject=function(C){return!!C&&C.constructor===Object},E.validateBBox=function(C){if(!C)throw new Error("bbox is required");if(!Array.isArray(C))throw new Error("bbox must be an Array");if(C.length!==4&&C.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");C.forEach(function(D){if(!Z(D))throw new Error("bbox must only contain numbers")})},E.validateId=function(C){if(!C)throw new Error("id is required");if(["string","number"].indexOf(typeof C)===-1)throw new Error("id must be a number or a string")},E.radians2degrees=function(){throw new Error("method has been renamed to `radiansToDegrees`")},E.degrees2radians=function(){throw new Error("method has been renamed to `degreesToRadians`")},E.distanceToDegrees=function(){throw new Error("method has been renamed to `lengthToDegrees`")},E.distanceToRadians=function(){throw new Error("method has been renamed to `lengthToRadians`")},E.radiansToDistance=function(){throw new Error("method has been renamed to `radiansToLength`")},E.bearingToAngle=function(){throw new Error("method has been renamed to `bearingToAzimuth`")},E.convertDistance=function(){throw new Error("method has been renamed to `convertLength`")}},function(w,E,s){"use strict";Object.defineProperty(E,"__esModule",{value:!0});var f=s(6);function c(y,_,T,A,z,Y,O,S){var N,Z,C,D,g={x:null,y:null,onLine1:!1,onLine2:!1};return(N=(S-Y)*(T-y)-(O-z)*(A-_))==0?g.x!==null&&g.y!==null&&g:(D=(T-y)*(Z=_-Y)-(A-_)*(C=y-z),Z=((O-z)*Z-(S-Y)*C)/N,C=D/N,g.x=y+Z*(T-y),g.y=_+Z*(A-_),0<=Z&&Z<=1&&(g.onLine1=!0),0<=C&&C<=1&&(g.onLine2=!0),!(!g.onLine1||!g.onLine2)&&[g.x,g.y])}E.default=function(y){var _,T,A={type:"FeatureCollection",features:[]};if((T=y.type==="Feature"?y.geometry:y).type==="LineString")_=[T.coordinates];else if(T.type==="MultiLineString")_=T.coordinates;else if(T.type==="MultiPolygon")_=[].concat.apply([],T.coordinates);else{if(T.type!=="Polygon")throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");_=T.coordinates}return _.forEach(function(z){_.forEach(function(Y){for(var O=0;O<z.length-1;O++)for(var S=O;S<Y.length-1;S++)if(!(z===Y&&(Math.abs(O-S)===1||O===0&&S===z.length-2&&z[O][0]===z[z.length-1][0]&&z[O][1]===z[z.length-1][1]))){var N=c(z[O][0],z[O][1],z[O+1][0],z[O+1][1],Y[S][0],Y[S][1],Y[S+1][0],Y[S+1][1]);N&&A.features.push(f.point([N[0],N[1]]))}})}),A}},function(w,E,s){var f=s(18),c=s(81),y=s(82),_=f?f.toStringTag:void 0;w.exports=function(T){return T==null?T===void 0?"[object Undefined]":"[object Null]":_&&_ in Object(T)?c(T):y(T)}},function(w,E,s){"use strict";Object.defineProperty(E,"__esModule",{value:!0});var f=s(6);E.getCoord=function(c){if(!c)throw new Error("coord is required");if(!Array.isArray(c)){if(c.type==="Feature"&&c.geometry!==null&&c.geometry.type==="Point")return c.geometry.coordinates;if(c.type==="Point")return c.coordinates}if(Array.isArray(c)&&2<=c.length&&!Array.isArray(c[0])&&!Array.isArray(c[1]))return c;throw new Error("coord must be GeoJSON Point or an Array of numbers")},E.getCoords=function(c){if(Array.isArray(c))return c;if(c.type==="Feature"){if(c.geometry!==null)return c.geometry.coordinates}else if(c.coordinates)return c.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")},E.containsNumber=function c(y){if(1<y.length&&f.isNumber(y[0])&&f.isNumber(y[1]))return!0;if(Array.isArray(y[0])&&y[0].length)return c(y[0]);throw new Error("coordinates must only contain numbers")},E.geojsonType=function(c,y,_){if(!y||!_)throw new Error("type and name required");if(!c||c.type!==y)throw new Error("Invalid input to "+_+": must be a "+y+", given "+c.type)},E.featureOf=function(c,y,_){if(!c)throw new Error("No feature passed");if(!_)throw new Error(".featureOf() requires a name");if(!c||c.type!=="Feature"||!c.geometry)throw new Error("Invalid input to "+_+", Feature with geometry required");if(!c.geometry||c.geometry.type!==y)throw new Error("Invalid input to "+_+": must be a "+y+", given "+c.geometry.type)},E.collectionOf=function(c,y,_){if(!c)throw new Error("No featureCollection passed");if(!_)throw new Error(".collectionOf() requires a name");if(!c||c.type!=="FeatureCollection")throw new Error("Invalid input to "+_+", FeatureCollection required");for(var T=0,A=c.features;T<A.length;T++){var z=A[T];if(!z||z.type!=="Feature"||!z.geometry)throw new Error("Invalid input to "+_+", Feature with geometry required");if(!z.geometry||z.geometry.type!==y)throw new Error("Invalid input to "+_+": must be a "+y+", given "+z.geometry.type)}},E.getGeom=function(c){return c.type==="Feature"?c.geometry:c},E.getType=function(c,y){return c.type==="FeatureCollection"?"FeatureCollection":c.type==="GeometryCollection"?"GeometryCollection":c.type==="Feature"&&c.geometry!==null?c.geometry.type:c.type}},function(w,E,s){var f=s(69),c=s(70),y=s(71),_=s(72),T=s(73);function A(z){var Y=-1,O=z==null?0:z.length;for(this.clear();++Y<O;){var S=z[Y];this.set(S[0],S[1])}}A.prototype.clear=f,A.prototype.delete=c,A.prototype.get=y,A.prototype.has=_,A.prototype.set=T,w.exports=A},function(w,E,s){var f=s(12);w.exports=function(c,y){for(var _=c.length;_--;)if(f(c[_][0],y))return _;return-1}},function(w,E){w.exports=function(s,f){return s===f||s!=s&&f!=f}},function(w,E,s){var f=s(16)(Object,"create");w.exports=f},function(w,E,s){var f=s(95);w.exports=function(c,y){var _=c.__data__;return f(y)?_[typeof y=="string"?"string":"hash"]:_.map}},function(w,E,s){"use strict";Object.defineProperty(E,"__esModule",{value:!0});var f=s(6);function c(O,S,N){if(O!==null)for(var Z,C,D,g,k,B,H,G,q=0,K=0,Q=O.type,it=Q==="FeatureCollection",pt=Q==="Feature",bt=it?O.features.length:1,J=0;J<bt;J++){k=(G=!!(H=it?O.features[J].geometry:pt?O.geometry:O)&&H.type==="GeometryCollection")?H.geometries.length:1;for(var Mt=0;Mt<k;Mt++){var Bt=0,Gt=0;if((g=G?H.geometries[Mt]:H)!==null){B=g.coordinates;var Ot=g.type;switch(q=!N||Ot!=="Polygon"&&Ot!=="MultiPolygon"?0:1,Ot){case null:break;case"Point":if(S(B,K,J,Bt,Gt)===!1)return!1;K++,Bt++;break;case"LineString":case"MultiPoint":for(Z=0;Z<B.length;Z++){if(S(B[Z],K,J,Bt,Gt)===!1)return!1;K++,Ot==="MultiPoint"&&Bt++}Ot==="LineString"&&Bt++;break;case"Polygon":case"MultiLineString":for(Z=0;Z<B.length;Z++){for(C=0;C<B[Z].length-q;C++){if(S(B[Z][C],K,J,Bt,Gt)===!1)return!1;K++}Ot==="MultiLineString"&&Bt++,Ot==="Polygon"&&Gt++}Ot==="Polygon"&&Bt++;break;case"MultiPolygon":for(Z=0;Z<B.length;Z++){for(C=Gt=0;C<B[Z].length;C++){for(D=0;D<B[Z][C].length-q;D++){if(S(B[Z][C][D],K,J,Bt,Gt)===!1)return!1;K++}Gt++}Bt++}break;case"GeometryCollection":for(Z=0;Z<g.geometries.length;Z++)if(c(g.geometries[Z],S,N)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function y(O,S){var N;switch(O.type){case"FeatureCollection":for(N=0;N<O.features.length&&S(O.features[N].properties,N)!==!1;N++);break;case"Feature":S(O.properties,0)}}function _(O,S){if(O.type==="Feature")S(O,0);else if(O.type==="FeatureCollection")for(var N=0;N<O.features.length&&S(O.features[N],N)!==!1;N++);}function T(O,S){var N,Z,C,D,g,k,B,H,G,q,K=0,Q=O.type==="FeatureCollection",it=O.type==="Feature",pt=Q?O.features.length:1;for(N=0;N<pt;N++){for(k=Q?O.features[N].geometry:it?O.geometry:O,H=Q?O.features[N].properties:it?O.properties:{},G=Q?O.features[N].bbox:it?O.bbox:void 0,q=Q?O.features[N].id:it?O.id:void 0,g=(B=!!k&&k.type==="GeometryCollection")?k.geometries.length:1,C=0;C<g;C++)if((D=B?k.geometries[C]:k)!==null)switch(D.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(S(D,K,H,G,q)===!1)return!1;break;case"GeometryCollection":for(Z=0;Z<D.geometries.length;Z++)if(S(D.geometries[Z],K,H,G,q)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(S(null,K,H,G,q)===!1)return!1;K++}}function A(O,S){T(O,function(N,Z,C,D,g){var k,B=N===null?null:N.type;switch(B){case null:case"Point":case"LineString":case"Polygon":return S(f.feature(N,C,{bbox:D,id:g}),Z,0)!==!1&&void 0}switch(B){case"MultiPoint":k="Point";break;case"MultiLineString":k="LineString";break;case"MultiPolygon":k="Polygon"}for(var H=0;H<N.coordinates.length;H++){var G={type:k,coordinates:N.coordinates[H]};if(S(f.feature(G,C),Z,H)===!1)return!1}})}function z(O,S){A(O,function(N,Z,C){var D=0;if(N.geometry){var g=N.geometry.type;if(g!=="Point"&&g!=="MultiPoint"){var k,B=0,H=0,G=0;return c(N,function(q,K,Q,it,pt){if(k===void 0||B<Z||H<it||G<pt)return k=q,B=Z,H=it,G=pt,void(D=0);var bt=f.lineString([k,q],N.properties);if(S(bt,Z,C,pt,D)===!1)return!1;D++,k=q})!==!1&&void 0}}})}function Y(O,S){if(!O)throw new Error("geojson is required");A(O,function(N,Z,C){if(N.geometry!==null){var D=N.geometry.type,g=N.geometry.coordinates;switch(D){case"LineString":if(S(N,Z,C,0,0)===!1)return!1;break;case"Polygon":for(var k=0;k<g.length;k++)if(S(f.lineString(g[k],N.properties),Z,C,k)===!1)return!1}}})}E.coordEach=c,E.coordReduce=function(O,S,N,Z){var C=N;return c(O,function(D,g,k,B,H){C=g===0&&N===void 0?D:S(C,D,g,k,B,H)},Z),C},E.propEach=y,E.propReduce=function(O,S,N){var Z=N;return y(O,function(C,D){Z=D===0&&N===void 0?C:S(Z,C,D)}),Z},E.featureEach=_,E.featureReduce=function(O,S,N){var Z=N;return _(O,function(C,D){Z=D===0&&N===void 0?C:S(Z,C,D)}),Z},E.coordAll=function(O){var S=[];return c(O,function(N){S.push(N)}),S},E.geomEach=T,E.geomReduce=function(O,S,N){var Z=N;return T(O,function(C,D,g,k,B){Z=D===0&&N===void 0?C:S(Z,C,D,g,k,B)}),Z},E.flattenEach=A,E.flattenReduce=function(O,S,N){var Z=N;return A(O,function(C,D,g){Z=D===0&&g===0&&N===void 0?C:S(Z,C,D,g)}),Z},E.segmentEach=z,E.segmentReduce=function(O,S,N){var Z=N,C=!1;return z(O,function(D,g,k,B,H){Z=C===!1&&N===void 0?D:S(Z,D,g,k,B,H),C=!0}),Z},E.lineEach=Y,E.lineReduce=function(O,S,N){var Z=N;return Y(O,function(C,D,g,k){Z=D===0&&N===void 0?C:S(Z,C,D,g,k)}),Z},E.findSegment=function(O,S){if(S=S||{},!f.isObject(S))throw new Error("options is invalid");var N,Z=S.featureIndex||0,C=S.multiFeatureIndex||0,D=S.geometryIndex||0,g=S.segmentIndex||0,k=S.properties;switch(O.type){case"FeatureCollection":Z<0&&(Z=O.features.length+Z),k=k||O.features[Z].properties,N=O.features[Z].geometry;break;case"Feature":k=k||O.properties,N=O.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":N=O;break;default:throw new Error("geojson is invalid")}if(N===null)return null;var B=N.coordinates;switch(N.type){case"Point":case"MultiPoint":return null;case"LineString":return g<0&&(g=B.length+g-1),f.lineString([B[g],B[g+1]],k,S);case"Polygon":return D<0&&(D=B.length+D),g<0&&(g=B[D].length+g-1),f.lineString([B[D][g],B[D][g+1]],k,S);case"MultiLineString":return C<0&&(C=B.length+C),g<0&&(g=B[C].length+g-1),f.lineString([B[C][g],B[C][g+1]],k,S);case"MultiPolygon":return C<0&&(C=B.length+C),D<0&&(D=B[C].length+D),g<0&&(g=B[C][D].length-g-1),f.lineString([B[C][D][g],B[C][D][g+1]],k,S)}throw new Error("geojson is invalid")},E.findPoint=function(O,S){if(S=S||{},!f.isObject(S))throw new Error("options is invalid");var N,Z=S.featureIndex||0,C=S.multiFeatureIndex||0,D=S.geometryIndex||0,g=S.coordIndex||0,k=S.properties;switch(O.type){case"FeatureCollection":Z<0&&(Z=O.features.length+Z),k=k||O.features[Z].properties,N=O.features[Z].geometry;break;case"Feature":k=k||O.properties,N=O.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":N=O;break;default:throw new Error("geojson is invalid")}if(N===null)return null;var B=N.coordinates;switch(N.type){case"Point":return f.point(B,k,S);case"MultiPoint":return C<0&&(C=B.length+C),f.point(B[C],k,S);case"LineString":return g<0&&(g=B.length+g),f.point(B[g],k,S);case"Polygon":return D<0&&(D=B.length+D),g<0&&(g=B[D].length+g),f.point(B[D][g],k,S);case"MultiLineString":return C<0&&(C=B.length+C),g<0&&(g=B[C].length+g),f.point(B[C][g],k,S);case"MultiPolygon":return C<0&&(C=B.length+C),D<0&&(D=B[C].length+D),g<0&&(g=B[C][D].length-g),f.point(B[C][D][g],k,S)}throw new Error("geojson is invalid")}},function(w,E,s){var f=s(79),c=s(86);w.exports=function(y,_){var T=c(y,_);return f(T)?T:void 0}},function(w,E,s){var f=s(8),c=s(2);w.exports=function(y){if(!c(y))return!1;var _=f(y);return _=="[object Function]"||_=="[object GeneratorFunction]"||_=="[object AsyncFunction]"||_=="[object Proxy]"}},function(w,E,s){var f=s(3).Symbol;w.exports=f},function(w,E,s){var f=s(32);w.exports=function(c,y,_){y=="__proto__"&&f?f(c,y,{configurable:!0,enumerable:!0,value:_,writable:!0}):c[y]=_}},function(w,E){w.exports=function(s){return s.webpackPolyfill||(s.deprecate=function(){},s.paths=[],s.children||(s.children=[]),Object.defineProperty(s,"loaded",{enumerable:!0,get:function(){return s.l}}),Object.defineProperty(s,"id",{enumerable:!0,get:function(){return s.i}}),s.webpackPolyfill=1),s}},function(w,E,s){var f=s(110),c=s(4),y=Object.prototype,_=y.hasOwnProperty,T=y.propertyIsEnumerable,A=f(function(){return arguments}())?f:function(z){return c(z)&&_.call(z,"callee")&&!T.call(z,"callee")};w.exports=A},function(w,E,s){var f=s(17),c=s(23);w.exports=function(y){return y!=null&&c(y.length)&&!f(y)}},function(w,E){w.exports=function(s){return typeof s=="number"&&-1<s&&s%1==0&&s<=9007199254740991}},function(w,E){var s=/^(?:0|[1-9]\d*)$/;w.exports=function(f,c){var y=typeof f;return!!(c=c==null?9007199254740991:c)&&(y=="number"||y!="symbol"&&s.test(f))&&-1<f&&f%1==0&&f<c}},function(w,E,s){var f=s(8),c=s(4);w.exports=function(y){return typeof y=="symbol"||c(y)&&f(y)=="[object Symbol]"}},function(w,E,s){var f=s(67),c=s(124)(function(y,_,T){f(y,_,T)});w.exports=c},function(w,E,s){(function(f){w.exports=function(){"use strict";function c(X,d){if(!(X instanceof d))throw new TypeError("Cannot call a class as a function")}function y(X,d){for(var b=0;b<d.length;b++){var I=d[b];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(X,I.key,I)}}function _(X,d,b){return d&&y(X.prototype,d),b&&y(X,b),X}var T=function X(d,b){c(this,X),this.next=null,this.key=d,this.data=b,this.left=null,this.right=null};function A(X,d){return d<X?1:X<d?-1:0}function z(X,d,b){for(var I=new T(null,null),V=I,W=I;;){var at=b(X,d.key);if(at<0){if(d.left===null)break;if(b(X,d.left.key)<0){var rt=d.left;if(d.left=rt.right,rt.right=d,(d=rt).left===null)break}W.left=d,d=(W=d).left}else{if(!(0<at)||d.right===null)break;if(0<b(X,d.right.key)){var ot=d.right;if(d.right=ot.left,ot.left=d,(d=ot).right===null)break}V.right=d,d=(V=d).right}}return V.right=d.left,W.left=d.right,d.left=I.right,d.right=I.left,d}function Y(X,d,b,I){var V=new T(X,d);if(b===null)return V.left=V.right=null,V;var W=I(X,(b=z(X,b,I)).key);return W<0?(V.left=b.left,(V.right=b).left=null):0<=W&&(V.right=b.right,(V.left=b).right=null),V}function O(X,d,b){var I=null,V=null;if(d){var W=b((d=z(X,d,b)).key,X);W===0?(I=d.left,V=d.right):W<0?(V=d.right,d.right=null,I=d):(I=d.left,d.left=null,V=d)}return{left:I,right:V}}var S=function(){function X(){var d=0<arguments.length&&arguments[0]!==void 0?arguments[0]:A;c(this,X),this._root=null,this._size=0,this._comparator=d}return _(X,[{key:"insert",value:function(d,b){return this._size++,this._root=Y(d,b,this._root,this._comparator)}},{key:"add",value:function(d,b){var I=new T(d,b);this._root===null&&(I.left=I.right=null,this._size++,this._root=I);var V=this._comparator,W=z(d,this._root,V),at=V(d,W.key);return at===0?this._root=W:(at<0?(I.left=W.left,(I.right=W).left=null):0<at&&(I.right=W.right,(I.left=W).right=null),this._size++,this._root=I),this._root}},{key:"remove",value:function(d){this._root=this._remove(d,this._root,this._comparator)}},{key:"_remove",value:function(d,b,I){var V;return b===null?null:I(d,(b=z(d,b,I)).key)===0?(b.left===null?V=b.right:(V=z(d,b.left,I)).right=b.right,this._size--,V):b}},{key:"pop",value:function(){var d=this._root;if(d){for(;d.left;)d=d.left;return this._root=z(d.key,this._root,this._comparator),this._root=this._remove(d.key,this._root,this._comparator),{key:d.key,data:d.data}}return null}},{key:"findStatic",value:function(d){for(var b=this._root,I=this._comparator;b;){var V=I(d,b.key);if(V===0)return b;b=V<0?b.left:b.right}return null}},{key:"find",value:function(d){return this._root&&(this._root=z(d,this._root,this._comparator),this._comparator(d,this._root.key)!==0)?null:this._root}},{key:"contains",value:function(d){for(var b=this._root,I=this._comparator;b;){var V=I(d,b.key);if(V===0)return!0;b=V<0?b.left:b.right}return!1}},{key:"forEach",value:function(d,b){for(var I=this._root,V=[],W=!1;!W;)I!==null?(V.push(I),I=I.left):V.length!==0?(I=V.pop(),d.call(b,I),I=I.right):W=!0;return this}},{key:"range",value:function(d,b,I,V){for(var W=[],at=this._comparator,rt=this._root;W.length!==0||rt;)if(rt)W.push(rt),rt=rt.left;else{if(0<at((rt=W.pop()).key,b))break;if(0<=at(rt.key,d)&&I.call(V,rt))return this;rt=rt.right}return this}},{key:"keys",value:function(){var d=[];return this.forEach(function(b){var I=b.key;return d.push(I)}),d}},{key:"values",value:function(){var d=[];return this.forEach(function(b){var I=b.data;return d.push(I)}),d}},{key:"min",value:function(){return this._root?this.minNode(this._root).key:null}},{key:"max",value:function(){return this._root?this.maxNode(this._root).key:null}},{key:"minNode",value:function(){var d=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._root;if(d)for(;d.left;)d=d.left;return d}},{key:"maxNode",value:function(){var d=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._root;if(d)for(;d.right;)d=d.right;return d}},{key:"at",value:function(d){for(var b=this._root,I=!1,V=0,W=[];!I;)if(b)W.push(b),b=b.left;else if(0<W.length){if(b=W.pop(),V===d)return b;V++,b=b.right}else I=!0;return null}},{key:"next",value:function(d){var b=this._root,I=null;if(d.right){for(I=d.right;I.left;)I=I.left;return I}for(var V=this._comparator;b;){var W=V(d.key,b.key);if(W===0)break;b=W<0?(I=b).left:b.right}return I}},{key:"prev",value:function(d){var b=this._root,I=null;if(d.left!==null){for(I=d.left;I.right;)I=I.right;return I}for(var V=this._comparator;b;){var W=V(d.key,b.key);if(W===0)break;b=W<0?b.left:(I=b).right}return I}},{key:"clear",value:function(){return this._root=null,this._size=0,this}},{key:"toList",value:function(){return function(d){for(var b=d,I=[],V=!1,W=new T(null,null),at=W;!V;)b?(I.push(b),b=b.left):0<I.length?b=(b=at=at.next=I.pop()).right:V=!0;return at.next=null,W.next}(this._root)}},{key:"load",value:function(d){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[],I=2<arguments.length&&arguments[2]!==void 0&&arguments[2],V=d.length,W=this._comparator;if(I&&function rt(ot,ut,gt,dt,_t){if(!(dt<=gt)){for(var kt=ot[gt+dt>>1],vt=gt-1,xt=dt+1;;){for(;_t(ot[++vt],kt)<0;);for(;0<_t(ot[--xt],kt););if(xt<=vt)break;var Ct=ot[vt];ot[vt]=ot[xt],ot[xt]=Ct,Ct=ut[vt],ut[vt]=ut[xt],ut[xt]=Ct}rt(ot,ut,gt,xt,_t),rt(ot,ut,xt+1,dt,_t)}}(d,b,0,V-1,W),this._root===null)this._root=function rt(ot,ut,gt,dt){var _t=dt-gt;if(0<_t){var kt=gt+Math.floor(_t/2),vt=ot[kt],xt=ut[kt],Ct=new T(vt,xt);return Ct.left=rt(ot,ut,gt,kt),Ct.right=rt(ot,ut,kt+1,dt),Ct}return null}(d,b,0,V),this._size=V;else{var at=function(rt,ot,ut){for(var gt=new T(null,null),dt=gt,_t=rt,kt=ot;_t!==null&&kt!==null;)ut(_t.key,kt.key)<0?_t=(dt.next=_t).next:kt=(dt.next=kt).next,dt=dt.next;return _t!==null?dt.next=_t:kt!==null&&(dt.next=kt),gt.next}(this.toList(),function(rt,ot){for(var ut=new T(null,null),gt=ut,dt=0;dt<rt.length;dt++)gt=gt.next=new T(rt[dt],ot[dt]);return gt.next=null,ut.next}(d,b),W);V=this._size+V,this._root=function rt(ot,ut,gt){var dt=gt-ut;if(0<dt){var _t=ut+Math.floor(dt/2),kt=rt(ot,ut,_t),vt=ot.head;return vt.left=kt,ot.head=ot.head.next,vt.right=rt(ot,_t+1,gt),vt}return null}({head:at},0,V)}return this}},{key:"isEmpty",value:function(){return this._root===null}},{key:"toString",value:function(){var d=0<arguments.length&&arguments[0]!==void 0?arguments[0]:function(I){return String(I.key)},b=[];return function I(V,W,at,rt,ot){if(V){rt("".concat(W).concat(at?"\u2514\u2500\u2500 ":"\u251C\u2500\u2500 ").concat(ot(V),`
`));var ut=W+(at?"    ":"\u2502   ");V.left&&I(V.left,ut,!1,rt,ot),V.right&&I(V.right,ut,!0,rt,ot)}}(this._root,"",!0,function(I){return b.push(I)},d),b.join("")}},{key:"update",value:function(d,b,I){var V=this._comparator,W=O(d,this._root,V),at=W.left,rt=W.right;V(d,b)<0?rt=Y(b,I,rt,V):at=Y(b,I,at,V),this._root=function(ot,ut,gt){return ut===null?ot:(ot===null||((ut=z(ot.key,ut,gt)).left=ot),ut)}(at,rt,V)}},{key:"split",value:function(d){return O(d,this._root,this._comparator)}},{key:"size",get:function(){return this._size}},{key:"root",get:function(){return this._root}}]),X}(),N=function(X,d){return X.ll.x<=d.x&&d.x<=X.ur.x&&X.ll.y<=d.y&&d.y<=X.ur.y},Z=function(X,d){if(d.ur.x<X.ll.x||X.ur.x<d.ll.x||d.ur.y<X.ll.y||X.ur.y<d.ll.y)return null;var b=X.ll.x<d.ll.x?d.ll.x:X.ll.x,I=X.ur.x<d.ur.x?X.ur.x:d.ur.x;return{ll:{x:b,y:X.ll.y<d.ll.y?d.ll.y:X.ll.y},ur:{x:I,y:X.ur.y<d.ur.y?X.ur.y:d.ur.y}}},C=Number.EPSILON;C===void 0&&(C=Math.pow(2,-52));var D=C*C,g=function(X,d){if(-C<X&&X<C&&-C<d&&d<C)return 0;var b=X-d;return b*b<D*X*d?0:X<d?-1:1},k=function(){function X(){c(this,X),this.reset()}return _(X,[{key:"reset",value:function(){this.xRounder=new B,this.yRounder=new B}},{key:"round",value:function(d,b){return{x:this.xRounder.round(d),y:this.yRounder.round(b)}}}]),X}(),B=function(){function X(){c(this,X),this.tree=new S,this.round(0)}return _(X,[{key:"round",value:function(d){var b=this.tree.add(d),I=this.tree.prev(b);if(I!==null&&g(b.key,I.key)===0)return this.tree.remove(d),I.key;var V=this.tree.next(b);return V!==null&&g(b.key,V.key)===0?(this.tree.remove(d),V.key):d}}]),X}(),H=new k,G=function(X,d){return X.x*d.y-X.y*d.x},q=function(X,d){return X.x*d.x+X.y*d.y},K=function(X,d,b){var I={x:d.x-X.x,y:d.y-X.y},V={x:b.x-X.x,y:b.y-X.y},W=G(I,V);return g(W,0)},Q=function(X){return Math.sqrt(q(X,X))},it=function(X,d,b){var I={x:d.x-X.x,y:d.y-X.y},V={x:b.x-X.x,y:b.y-X.y};return G(V,I)/Q(V)/Q(I)},pt=function(X,d,b){var I={x:d.x-X.x,y:d.y-X.y},V={x:b.x-X.x,y:b.y-X.y};return q(V,I)/Q(V)/Q(I)},bt=function(X,d,b){return d.y===0?null:{x:X.x+d.x/d.y*(b-X.y),y:b}},J=function(X,d,b){return d.x===0?null:{x:b,y:X.y+d.y/d.x*(b-X.x)}},Mt=function(){function X(d,b){c(this,X),d.events===void 0?d.events=[this]:d.events.push(this),this.point=d,this.isLeft=b}return _(X,null,[{key:"compare",value:function(d,b){var I=X.comparePoints(d.point,b.point);return I!==0?I:(d.point!==b.point&&d.link(b),d.isLeft!==b.isLeft?d.isLeft?1:-1:Gt.compare(d.segment,b.segment))}},{key:"comparePoints",value:function(d,b){return d.x<b.x?-1:d.x>b.x?1:d.y<b.y?-1:d.y>b.y?1:0}}]),_(X,[{key:"link",value:function(d){if(d.point===this.point)throw new Error("Tried to link already linked events");for(var b=d.point.events,I=0,V=b.length;I<V;I++){var W=b[I];this.point.events.push(W),W.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var d=this.point.events.length,b=0;b<d;b++){var I=this.point.events[b];if(I.segment.consumedBy===void 0)for(var V=b+1;V<d;V++){var W=this.point.events[V];W.consumedBy===void 0&&I.otherSE.point.events===W.otherSE.point.events&&I.segment.consume(W.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var d=[],b=0,I=this.point.events.length;b<I;b++){var V=this.point.events[b];V!==this&&!V.segment.ringOut&&V.segment.isInResult()&&d.push(V)}return d}},{key:"getLeftmostComparator",value:function(d){var b=this,I=new Map,V=function(W){var at=W.otherSE;I.set(W,{sine:it(b.point,d.point,at.point),cosine:pt(b.point,d.point,at.point)})};return function(W,at){I.has(W)||V(W),I.has(at)||V(at);var rt=I.get(W),ot=rt.sine,ut=rt.cosine,gt=I.get(at),dt=gt.sine,_t=gt.cosine;return 0<=ot&&0<=dt?ut<_t?1:_t<ut?-1:0:ot<0&&dt<0?ut<_t?-1:_t<ut?1:0:dt<ot?-1:ot<dt?1:0}}}]),X}(),Bt=0,Gt=function(){function X(d,b,I,V){c(this,X),this.id=++Bt,(this.leftSE=d).segment=this,d.otherSE=b,(this.rightSE=b).segment=this,b.otherSE=d,this.rings=I,this.windings=V}return _(X,null,[{key:"compare",value:function(d,b){var I=d.leftSE.point.x,V=b.leftSE.point.x,W=d.rightSE.point.x,at=b.rightSE.point.x;if(at<I)return 1;if(W<V)return-1;var rt=d.leftSE.point.y,ot=b.leftSE.point.y,ut=d.rightSE.point.y,gt=b.rightSE.point.y;if(I<V){if(ot<rt&&ot<ut)return 1;if(rt<ot&&ut<ot)return-1;var dt=d.comparePoint(b.leftSE.point);if(dt<0)return 1;if(0<dt)return-1;var _t=b.comparePoint(d.rightSE.point);return _t!==0?_t:-1}if(V<I){if(rt<ot&&rt<gt)return-1;if(ot<rt&&gt<rt)return 1;var kt=b.comparePoint(d.leftSE.point);if(kt!==0)return kt;var vt=d.comparePoint(b.rightSE.point);return vt<0?1:0<vt?-1:1}if(rt<ot)return-1;if(ot<rt)return 1;if(W<at){var xt=b.comparePoint(d.rightSE.point);if(xt!==0)return xt}if(at<W){var Ct=d.comparePoint(b.rightSE.point);if(Ct<0)return 1;if(0<Ct)return-1}if(W!==at){var Rt=ut-rt,te=W-I,Yt=gt-ot,Ft=at-V;if(te<Rt&&Yt<Ft)return 1;if(Rt<te&&Ft<Yt)return-1}return at<W?1:W<at||ut<gt?-1:gt<ut?1:d.id<b.id?-1:d.id>b.id?1:0}}]),_(X,[{key:"replaceRightSE",value:function(d){this.rightSE=d,(this.rightSE.segment=this).rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var d=this.leftSE.point.y,b=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:d<b?d:b},ur:{x:this.rightSE.point.x,y:b<d?d:b}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(d){return d.x===this.leftSE.point.x&&d.y===this.leftSE.point.y||d.x===this.rightSE.point.x&&d.y===this.rightSE.point.y}},{key:"comparePoint",value:function(d){if(this.isAnEndpoint(d))return 0;var b=this.leftSE.point,I=this.rightSE.point,V=this.vector();if(b.x===I.x)return d.x===b.x?0:d.x<b.x?1:-1;var W=(d.y-b.y)/V.y,at=b.x+W*V.x;if(d.x===at)return 0;var rt=(d.x-b.x)/V.x,ot=b.y+rt*V.y;return d.y===ot?0:d.y<ot?-1:1}},{key:"getIntersection",value:function(d){var b=this.bbox(),I=d.bbox(),V=Z(b,I);if(V===null)return null;var W=this.leftSE.point,at=this.rightSE.point,rt=d.leftSE.point,ot=d.rightSE.point,ut=N(b,rt)&&this.comparePoint(rt)===0,gt=N(I,W)&&d.comparePoint(W)===0,dt=N(b,ot)&&this.comparePoint(ot)===0,_t=N(I,at)&&d.comparePoint(at)===0;if(gt&&ut)return _t&&!dt?at:!_t&&dt?ot:null;if(gt)return dt&&W.x===ot.x&&W.y===ot.y?null:W;if(ut)return _t&&at.x===rt.x&&at.y===rt.y?null:rt;if(_t&&dt)return null;if(_t)return at;if(dt)return ot;var kt=function(vt,xt,Ct,Rt){if(xt.x===0)return J(Ct,Rt,vt.x);if(Rt.x===0)return J(vt,xt,Ct.x);if(xt.y===0)return bt(Ct,Rt,vt.y);if(Rt.y===0)return bt(vt,xt,Ct.y);var te=G(xt,Rt);if(te==0)return null;var Yt={x:Ct.x-vt.x,y:Ct.y-vt.y},Ft=G(Yt,xt)/te,le=G(Yt,Rt)/te;return{x:(vt.x+le*xt.x+(Ct.x+Ft*Rt.x))/2,y:(vt.y+le*xt.y+(Ct.y+Ft*Rt.y))/2}}(W,this.vector(),rt,d.vector());return kt===null?null:N(V,kt)?H.round(kt.x,kt.y):null}},{key:"split",value:function(d){var b=[],I=d.events!==void 0,V=new Mt(d,!0),W=new Mt(d,!1),at=this.rightSE;this.replaceRightSE(W),b.push(W),b.push(V);var rt=new X(V,at,this.rings.slice(),this.windings.slice());return 0<Mt.comparePoints(rt.leftSE.point,rt.rightSE.point)&&rt.swapEvents(),0<Mt.comparePoints(this.leftSE.point,this.rightSE.point)&&this.swapEvents(),I&&(V.checkForConsuming(),W.checkForConsuming()),b}},{key:"swapEvents",value:function(){var d=this.rightSE;this.rightSE=this.leftSE,this.leftSE=d,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var b=0,I=this.windings.length;b<I;b++)this.windings[b]*=-1}},{key:"consume",value:function(d){for(var b=this,I=d;b.consumedBy;)b=b.consumedBy;for(;I.consumedBy;)I=I.consumedBy;var V=X.compare(b,I);if(V!==0){if(0<V){var W=b;b=I,I=W}if(b.prev===I){var at=b;b=I,I=at}for(var rt=0,ot=I.rings.length;rt<ot;rt++){var ut=I.rings[rt],gt=I.windings[rt],dt=b.rings.indexOf(ut);dt===-1?(b.rings.push(ut),b.windings.push(gt)):b.windings[dt]+=gt}I.rings=null,I.windings=null,I.consumedBy=b,I.leftSE.consumedBy=b.leftSE,I.rightSE.consumedBy=b.rightSE}}},{key:"prevInResult",value:function(){return this._prevInResult!==void 0||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(this._beforeState!==void 0)return this._beforeState;if(this.prev){var d=this.prev.consumedBy||this.prev;this._beforeState=d.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(this._afterState!==void 0)return this._afterState;var d=this.beforeState();this._afterState={rings:d.rings.slice(0),windings:d.windings.slice(0),multiPolys:[]};for(var b=this._afterState.rings,I=this._afterState.windings,V=this._afterState.multiPolys,W=0,at=this.rings.length;W<at;W++){var rt=this.rings[W],ot=this.windings[W],ut=b.indexOf(rt);ut===-1?(b.push(rt),I.push(ot)):I[ut]+=ot}for(var gt=[],dt=[],_t=0,kt=b.length;_t<kt;_t++)if(I[_t]!==0){var vt=b[_t],xt=vt.poly;if(dt.indexOf(xt)===-1)if(vt.isExterior)gt.push(xt);else{dt.indexOf(xt)===-1&&dt.push(xt);var Ct=gt.indexOf(vt.poly);Ct!==-1&&gt.splice(Ct,1)}}for(var Rt=0,te=gt.length;Rt<te;Rt++){var Yt=gt[Rt].multiPoly;V.indexOf(Yt)===-1&&V.push(Yt)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;var d=this.beforeState().multiPolys,b=this.afterState().multiPolys;switch(Et.type){case"union":var I=d.length===0,V=b.length===0;this._isInResult=I!=V;break;case"intersection":var W,at;at=d.length<b.length?(W=d.length,b.length):(W=b.length,d.length),this._isInResult=at===Et.numMultiPolys&&W<at;break;case"xor":var rt=Math.abs(d.length-b.length);this._isInResult=rt%2==1;break;case"difference":var ot=function(ut){return ut.length===1&&ut[0].isSubject};this._isInResult=ot(d)!==ot(b);break;default:throw new Error("Unrecognized operation type found ".concat(Et.type))}return this._isInResult}}],[{key:"fromRing",value:function(d,b,I){var V,W,at,rt=Mt.comparePoints(d,b);if(rt<0)V=d,W=b,at=1;else{if(!(0<rt))throw new Error("Tried to create degenerate segment at [".concat(d.x,", ").concat(d.y,"]"));V=b,W=d,at=-1}return new X(new Mt(V,!0),new Mt(W,!1),[I],[at])}}]),X}(),Ot=function(){function X(d,b,I){if(c(this,X),!Array.isArray(d)||d.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=b,this.isExterior=I,this.segments=[],typeof d[0][0]!="number"||typeof d[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var V=H.round(d[0][0],d[0][1]);this.bbox={ll:{x:V.x,y:V.y},ur:{x:V.x,y:V.y}};for(var W=V,at=1,rt=d.length;at<rt;at++){if(typeof d[at][0]!="number"||typeof d[at][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var ot=H.round(d[at][0],d[at][1]);ot.x===W.x&&ot.y===W.y||(this.segments.push(Gt.fromRing(W,ot,this)),ot.x<this.bbox.ll.x&&(this.bbox.ll.x=ot.x),ot.y<this.bbox.ll.y&&(this.bbox.ll.y=ot.y),ot.x>this.bbox.ur.x&&(this.bbox.ur.x=ot.x),ot.y>this.bbox.ur.y&&(this.bbox.ur.y=ot.y),W=ot)}V.x===W.x&&V.y===W.y||this.segments.push(Gt.fromRing(W,V,this))}return _(X,[{key:"getSweepEvents",value:function(){for(var d=[],b=0,I=this.segments.length;b<I;b++){var V=this.segments[b];d.push(V.leftSE),d.push(V.rightSE)}return d}}]),X}(),ce=function(){function X(d,b){if(c(this,X),!Array.isArray(d))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new Ot(d[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var I=1,V=d.length;I<V;I++){var W=new Ot(d[I],this,!1);W.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=W.bbox.ll.x),W.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=W.bbox.ll.y),W.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=W.bbox.ur.x),W.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=W.bbox.ur.y),this.interiorRings.push(W)}this.multiPoly=b}return _(X,[{key:"getSweepEvents",value:function(){for(var d=this.exteriorRing.getSweepEvents(),b=0,I=this.interiorRings.length;b<I;b++)for(var V=this.interiorRings[b].getSweepEvents(),W=0,at=V.length;W<at;W++)d.push(V[W]);return d}}]),X}(),Lt=function(){function X(d,b){if(c(this,X),!Array.isArray(d))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof d[0][0][0]=="number"&&(d=[d])}catch(at){}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var I=0,V=d.length;I<V;I++){var W=new ce(d[I],this);W.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=W.bbox.ll.x),W.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=W.bbox.ll.y),W.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=W.bbox.ur.x),W.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=W.bbox.ur.y),this.polys.push(W)}this.isSubject=b}return _(X,[{key:"getSweepEvents",value:function(){for(var d=[],b=0,I=this.polys.length;b<I;b++)for(var V=this.polys[b].getSweepEvents(),W=0,at=V.length;W<at;W++)d.push(V[W]);return d}}]),X}(),Be=function(){function X(d){c(this,X),this.events=d;for(var b=0,I=d.length;b<I;b++)d[b].segment.ringOut=this;this.poly=null}return _(X,null,[{key:"factory",value:function(d){for(var b=[],I=0,V=d.length;I<V;I++){var W=d[I];if(W.isInResult()&&!W.ringOut){for(var at=null,rt=W.leftSE,ot=W.rightSE,ut=[rt],gt=rt.point,dt=[];at=rt,rt=ot,ut.push(rt),rt.point!==gt;)for(;;){var _t=rt.getAvailableLinkedEvents();if(_t.length===0){var kt=ut[0].point,vt=ut[ut.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(kt.x,",")+" ".concat(kt.y,"]. Last matching segment found ends at")+" [".concat(vt.x,", ").concat(vt.y,"]."))}if(_t.length===1){ot=_t[0].otherSE;break}for(var xt=null,Ct=0,Rt=dt.length;Ct<Rt;Ct++)if(dt[Ct].point===rt.point){xt=Ct;break}if(xt===null){dt.push({index:ut.length,point:rt.point});var te=rt.getLeftmostComparator(at);ot=_t.sort(te)[0].otherSE;break}var Yt=dt.splice(xt)[0],Ft=ut.splice(Yt.index);Ft.unshift(Ft[0].otherSE),b.push(new X(Ft.reverse()))}b.push(new X(ut))}}return b}}]),_(X,[{key:"getGeom",value:function(){for(var d=this.events[0].point,b=[d],I=1,V=this.events.length-1;I<V;I++){var W=this.events[I].point,at=this.events[I+1].point;K(W,d,at)!==0&&(b.push(W),d=W)}if(b.length===1)return null;var rt=b[0],ot=b[1];K(rt,d,ot)===0&&b.shift(),b.push(b[0]);for(var ut=this.isExteriorRing()?1:-1,gt=this.isExteriorRing()?0:b.length-1,dt=this.isExteriorRing()?b.length:-1,_t=[],kt=gt;kt!=dt;kt+=ut)_t.push([b[kt].x,b[kt].y]);return _t}},{key:"isExteriorRing",value:function(){if(this._isExteriorRing===void 0){var d=this.enclosingRing();this._isExteriorRing=!d||!d.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var d=this.events[0],b=1,I=this.events.length;b<I;b++){var V=this.events[b];0<Mt.compare(d,V)&&(d=V)}for(var W=d.segment.prevInResult(),at=W?W.prevInResult():null;;){if(!W)return null;if(!at)return W.ringOut;if(at.ringOut!==W.ringOut)return at.ringOut.enclosingRing()!==W.ringOut?W.ringOut:W.ringOut.enclosingRing();at=(W=at.prevInResult())?W.prevInResult():null}}}]),X}(),Tt=function(){function X(d){c(this,X),((this.exteriorRing=d).poly=this).interiorRings=[]}return _(X,[{key:"addInterior",value:function(d){this.interiorRings.push(d),d.poly=this}},{key:"getGeom",value:function(){var d=[this.exteriorRing.getGeom()];if(d[0]===null)return null;for(var b=0,I=this.interiorRings.length;b<I;b++){var V=this.interiorRings[b].getGeom();V!==null&&d.push(V)}return d}}]),X}(),Dt=function(){function X(d){c(this,X),this.rings=d,this.polys=this._composePolys(d)}return _(X,[{key:"getGeom",value:function(){for(var d=[],b=0,I=this.polys.length;b<I;b++){var V=this.polys[b].getGeom();V!==null&&d.push(V)}return d}},{key:"_composePolys",value:function(d){for(var b=[],I=0,V=d.length;I<V;I++){var W=d[I];if(!W.poly)if(W.isExteriorRing())b.push(new Tt(W));else{var at=W.enclosingRing();at.poly||b.push(new Tt(at)),at.poly.addInterior(W)}}return b}}]),X}(),oe=function(){function X(d){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:Gt.compare;c(this,X),this.queue=d,this.tree=new S(b),this.segments=[]}return _(X,[{key:"process",value:function(d){var b=d.segment,I=[];if(d.consumedBy)return d.isLeft?this.queue.remove(d.otherSE):this.tree.remove(b),I;var V=d.isLeft?this.tree.insert(b):this.tree.find(b);if(!V)throw new Error("Unable to find segment #".concat(b.id," ")+"[".concat(b.leftSE.point.x,", ").concat(b.leftSE.point.y,"] -> ")+"[".concat(b.rightSE.point.x,", ").concat(b.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var W=V,at=V,rt=void 0,ot=void 0;rt===void 0;)(W=this.tree.prev(W))===null?rt=null:W.key.consumedBy===void 0&&(rt=W.key);for(;ot===void 0;)(at=this.tree.next(at))===null?ot=null:at.key.consumedBy===void 0&&(ot=at.key);if(d.isLeft){var ut=null;if(rt){var gt=rt.getIntersection(b);if(gt!==null&&(b.isAnEndpoint(gt)||(ut=gt),!rt.isAnEndpoint(gt)))for(var dt=this._splitSafely(rt,gt),_t=0,kt=dt.length;_t<kt;_t++)I.push(dt[_t])}var vt=null;if(ot){var xt=ot.getIntersection(b);if(xt!==null&&(b.isAnEndpoint(xt)||(vt=xt),!ot.isAnEndpoint(xt)))for(var Ct=this._splitSafely(ot,xt),Rt=0,te=Ct.length;Rt<te;Rt++)I.push(Ct[Rt])}if(ut!==null||vt!==null){var Yt=null;ut===null?Yt=vt:vt===null?Yt=ut:Yt=Mt.comparePoints(ut,vt)<=0?ut:vt,this.queue.remove(b.rightSE),I.push(b.rightSE);for(var Ft=b.split(Yt),le=0,ne=Ft.length;le<ne;le++)I.push(Ft[le])}0<I.length?(this.tree.remove(b),I.push(d)):(this.segments.push(b),b.prev=rt)}else{if(rt&&ot){var $t=rt.getIntersection(ot);if($t!==null){if(!rt.isAnEndpoint($t))for(var fe=this._splitSafely(rt,$t),ae=0,_e=fe.length;ae<_e;ae++)I.push(fe[ae]);if(!ot.isAnEndpoint($t))for(var Oe=this._splitSafely(ot,$t),Le=0,ze=Oe.length;Le<ze;Le++)I.push(Oe[Le])}}this.tree.remove(b)}return I}},{key:"_splitSafely",value:function(d,b){this.tree.remove(d);var I=d.rightSE;this.queue.remove(I);var V=d.split(b);return V.push(I),d.consumedBy===void 0&&this.tree.insert(d),V}}]),X}(),Ut=f!==void 0&&f.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,Nt=f!==void 0&&f.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,Et=new(function(){function X(){c(this,X)}return _(X,[{key:"run",value:function(d,b,I){Et.type=d,H.reset();for(var V=[new Lt(b,!0)],W=0,at=I.length;W<at;W++)V.push(new Lt(I[W],!1));if(Et.numMultiPolys=V.length,Et.type==="difference")for(var rt=V[0],ot=1;ot<V.length;)Z(V[ot].bbox,rt.bbox)!==null?ot++:V.splice(ot,1);if(Et.type==="intersection"){for(var ut=0,gt=V.length;ut<gt;ut++)for(var dt=V[ut],_t=ut+1,kt=V.length;_t<kt;_t++)if(Z(dt.bbox,V[_t].bbox)===null)return[]}for(var vt=new S(Mt.compare),xt=0,Ct=V.length;xt<Ct;xt++)for(var Rt=V[xt].getSweepEvents(),te=0,Yt=Rt.length;te<Yt;te++)if(vt.insert(Rt[te]),vt.size>Ut)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var Ft=new oe(vt),le=vt.size,ne=vt.pop();ne;){var $t=ne.key;if(vt.size===le){var fe=$t.segment;throw new Error("Unable to pop() ".concat($t.isLeft?"left":"right"," SweepEvent ")+"[".concat($t.point.x,", ").concat($t.point.y,"] from segment #").concat(fe.id," ")+"[".concat(fe.leftSE.point.x,", ").concat(fe.leftSE.point.y,"] -> ")+"[".concat(fe.rightSE.point.x,", ").concat(fe.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(vt.size>Ut)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(Ft.segments.length>Nt)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var ae=Ft.process($t),_e=0,Oe=ae.length;_e<Oe;_e++){var Le=ae[_e];Le.consumedBy===void 0&&vt.insert(Le)}le=vt.size,ne=vt.pop()}H.reset();var ze=Be.factory(Ft.segments);return new Dt(ze).getGeom()}}]),X}());return{union:function(X){for(var d=arguments.length,b=new Array(1<d?d-1:0),I=1;I<d;I++)b[I-1]=arguments[I];return Et.run("union",X,b)},intersection:function(X){for(var d=arguments.length,b=new Array(1<d?d-1:0),I=1;I<d;I++)b[I-1]=arguments[I];return Et.run("intersection",X,b)},xor:function(X){for(var d=arguments.length,b=new Array(1<d?d-1:0),I=1;I<d;I++)b[I-1]=arguments[I];return Et.run("xor",X,b)},difference:function(X){for(var d=arguments.length,b=new Array(1<d?d-1:0),I=1;I<d;I++)b[I-1]=arguments[I];return Et.run("difference",X,b)}}}()}).call(this,s(149))},function(w,E,s){var f=s(16)(s(3),"Map");w.exports=f},function(w,E,s){(function(f){var c=typeof f=="object"&&f&&f.Object===Object&&f;w.exports=c}).call(this,s(80))},function(w,E,s){var f=s(87),c=s(94),y=s(96),_=s(97),T=s(98);function A(z){var Y=-1,O=z==null?0:z.length;for(this.clear();++Y<O;){var S=z[Y];this.set(S[0],S[1])}}A.prototype.clear=f,A.prototype.delete=c,A.prototype.get=y,A.prototype.has=_,A.prototype.set=T,w.exports=A},function(w,E,s){var f=s(19),c=s(12);w.exports=function(y,_,T){(T===void 0||c(y[_],T))&&(T!==void 0||_ in y)||f(y,_,T)}},function(w,E,s){var f=s(16),c=function(){try{var y=f(Object,"defineProperty");return y({},"",{}),y}catch(_){}}();w.exports=c},function(w,E,s){var f=s(109)(Object.getPrototypeOf,Object);w.exports=f},function(w,E){var s=Object.prototype;w.exports=function(f){var c=f&&f.constructor;return f===(typeof c=="function"&&c.prototype||s)}},function(w,E,s){(function(f){var c=s(3),y=s(112),_=E&&!E.nodeType&&E,T=_&&typeof f=="object"&&f&&!f.nodeType&&f,A=T&&T.exports===_?c.Buffer:void 0,z=(A?A.isBuffer:void 0)||y;f.exports=z}).call(this,s(20)(w))},function(w,E,s){var f=s(114),c=s(115),y=s(116),_=y&&y.isTypedArray,T=_?c(_):f;w.exports=T},function(w,E){w.exports=function(s,f){if((f!=="constructor"||typeof s[f]!="function")&&f!="__proto__")return s[f]}},function(w,E,s){var f=s(120),c=s(122),y=s(22);w.exports=function(_){return y(_)?f(_,!0):c(_)}},function(w,E){w.exports=function(s){return s}},function(w,E,s){var f=s(5),c=s(134),y=s(135),_=s(138);w.exports=function(T,A){return f(T)?T:c(T,A)?[T]:y(_(T))}},function(w,E,s){var f=s(25);w.exports=function(c){if(typeof c=="string"||f(c))return c;var y=c+"";return y=="0"&&1/c==-1/0?"-0":y}},function(w,E,s){"use strict";Object.defineProperty(E,"__esModule",{value:!0});var f=s(15);E.default=function(c){var y=[1/0,1/0,-1/0,-1/0];return f.coordEach(c,function(_){y[0]>_[0]&&(y[0]=_[0]),y[1]>_[1]&&(y[1]=_[1]),y[2]<_[0]&&(y[2]=_[0]),y[3]<_[1]&&(y[3]=_[1])}),y}},function(w){w.exports=JSON.parse('{"a":"2.9.0"}')},function(w){w.exports=JSON.parse('{"tooltips":{"placeMarker":"Click to place marker","firstVertex":"Click to place first vertex","continueLine":"Click to continue drawing","finishLine":"Click any existing marker to finish","finishPoly":"Click first marker to finish","finishRect":"Click to finish","startCircle":"Click to place circle center","finishCircle":"Click to finish circle","placeCircleMarker":"Click to place circle marker"},"actions":{"finish":"Finish","cancel":"Cancel","removeLastVertex":"Remove Last Vertex"},"buttonTitles":{"drawMarkerButton":"Draw Marker","drawPolyButton":"Draw Polygons","drawLineButton":"Draw Polyline","drawCircleButton":"Draw Circle","drawRectButton":"Draw Rectangle","editButton":"Edit Layers","dragButton":"Drag Layers","cutButton":"Cut Layers","deleteButton":"Remove Layers","drawCircleMarkerButton":"Draw Circle Marker","snappingButton":"Snap dragged marker to other layers and vertices","pinningButton":"Pin shared vertices together"}}')},function(w){w.exports=JSON.parse('{"tooltips":{"placeMarker":"Platziere den Marker mit Klick","firstVertex":"Platziere den ersten Marker mit Klick","continueLine":"Klicke, um weiter zu zeichnen","finishLine":"Beende mit Klick auf existierenden Marker","finishPoly":"Beende mit Klick auf ersten Marker","finishRect":"Beende mit Klick","startCircle":"Platziere das Kreiszentrum mit Klick","finishCircle":"Beende den Kreis mit Klick","placeCircleMarker":"Platziere den Kreismarker mit Klick"},"actions":{"finish":"Beenden","cancel":"Abbrechen","removeLastVertex":"Letzten Vertex l\xF6schen"},"buttonTitles":{"drawMarkerButton":"Marker zeichnen","drawPolyButton":"Polygon zeichnen","drawLineButton":"Polyline zeichnen","drawCircleButton":"Kreis zeichnen","drawRectButton":"Rechteck zeichnen","editButton":"Layer editieren","dragButton":"Layer bewegen","cutButton":"Layer schneiden","deleteButton":"Layer l\xF6schen","drawCircleMarkerButton":"Kreismarker zeichnen","snappingButton":"Bewegter Layer an andere Layer oder Vertexe einhacken","pinningButton":"Vertexe an der gleichen Position verkn\xFCpfen"}}')},function(w){w.exports=JSON.parse(`{"tooltips":{"placeMarker":"Clicca per posizionare un Marker","firstVertex":"Clicca per posizionare il primo vertice","continueLine":"Clicca per continuare a disegnare","finishLine":"Clicca qualsiasi marker esistente per terminare","finishPoly":"Clicca il primo marker per terminare","finishRect":"Clicca per terminare","startCircle":"Clicca per posizionare il punto centrale del cerchio","finishCircle":"Clicca per terminare il cerchio","placeCircleMarker":"Clicca per posizionare un Marker del cherchio"},"actions":{"finish":"Termina","cancel":"Annulla","removeLastVertex":"Rimuovi l'ultimo vertice"},"buttonTitles":{"drawMarkerButton":"Disegna Marker","drawPolyButton":"Disegna Poligoni","drawLineButton":"Disegna Polilinea","drawCircleButton":"Disegna Cerchio","drawRectButton":"Disegna Rettangolo","editButton":"Modifica Livelli","dragButton":"Sposta Livelli","cutButton":"Ritaglia Livelli","deleteButton":"Elimina Livelli","drawCircleMarkerButton":"Disegna Marker del Cerchio","snappingButton":"Snap ha trascinato il pennarello su altri strati e vertici","pinningButton":"Pin condiviso vertici insieme"}}`)},function(w){w.exports=JSON.parse('{"tooltips":{"placeMarker":"Klik untuk menempatkan marker","firstVertex":"Klik untuk menempatkan vertex pertama","continueLine":"Klik untuk meneruskan digitasi","finishLine":"Klik pada sembarang marker yang ada untuk mengakhiri","finishPoly":"Klik marker pertama untuk mengakhiri","finishRect":"Klik untuk mengakhiri","startCircle":"Klik untuk menempatkan titik pusat lingkaran","finishCircle":"Klik untuk mengakhiri lingkaran","placeCircleMarker":"Klik untuk menempatkan penanda lingkarann"},"actions":{"finish":"Selesai","cancel":"Batal","removeLastVertex":"Hilangkan Vertex Terakhir"},"buttonTitles":{"drawMarkerButton":"Digitasi Marker","drawPolyButton":"Digitasi Polygon","drawLineButton":"Digitasi Polyline","drawCircleButton":"Digitasi Lingkaran","drawRectButton":"Digitasi Segi Empat","editButton":"Edit Layer","dragButton":"Geser Layer","cutButton":"Potong Layer","deleteButton":"Hilangkan Layer","drawCircleMarkerButton":"Digitasi Penanda Lingkaran","snappingButton":"Jepretkan penanda yang ditarik ke lapisan dan simpul lain","pinningButton":"Sematkan simpul bersama bersama"}}')},function(w){w.exports=JSON.parse('{"tooltips":{"placeMarker":"Adaug\u0103 un punct","firstVertex":"Apas\u0103 aici pentru a ad\u0103uga primul Vertex","continueLine":"Apas\u0103 aici pentru a continua desenul","finishLine":"Apas\u0103 pe orice obiect pentru a finisa desenul","finishPoly":"Apas\u0103 pe primul obiect pentru a finisa","finishRect":"Apas\u0103 pentru a finisa","startCircle":"Apas\u0103 pentru a desena un cerc","finishCircle":"Apas\u0103 pentru a finisa un cerc","placeCircleMarker":"Adaug\u0103 un punct"},"actions":{"finish":"Termin\u0103","cancel":"Anuleaz\u0103","removeLastVertex":"\u0218terge ultimul Vertex"},"buttonTitles":{"drawMarkerButton":"Adaug\u0103 o bulin\u0103","drawPolyButton":"Deseneaz\u0103 un poligon","drawLineButton":"Deseneaz\u0103 o linie","drawCircleButton":"Deseneaz\u0103 un cerc","drawRectButton":"Deseneaz\u0103 un dreptunghi","editButton":"Editeaz\u0103 straturile","dragButton":"Mut\u0103 straturile","cutButton":"Taie straturile","deleteButton":"\u0218terge straturile","drawCircleMarkerButton":"Deseneaz\u0103 marcatorul cercului","snappingButton":"Fixa\u021Bi marcatorul glisat pe alte straturi \u0219i v\xE2rfuri","pinningButton":"Fixa\u021Bi v\xE2rfurile partajate \xEEmpreun\u0103"}}')},function(w){w.exports=JSON.parse('{"tooltips":{"placeMarker":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043C\u0430\u0440\u043A\u0435\u0440","firstVertex":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043F\u0435\u0440\u0432\u044B\u0439 \u043E\u0431\u044A\u0435\u043A\u0442","continueLine":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u044C \u0440\u0438\u0441\u043E\u0432\u0430\u043D\u0438\u0435","finishLine":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435 \u043B\u044E\u0431\u043E\u0439 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044E\u0449\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440 \u0434\u043B\u044F \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u0438\u044F","finishPoly":"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043F\u0435\u0440\u0432\u0443\u044E \u0442\u043E\u0447\u043A\u0443, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u043A\u043E\u043D\u0447\u0438\u0442\u044C","finishRect":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u043A\u043E\u043D\u0447\u0438\u0442\u044C","startCircle":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0446\u0435\u043D\u0442\u0440 \u043A\u0440\u0443\u0433\u0430","finishCircle":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u0434\u0430\u0442\u044C \u0440\u0430\u0434\u0438\u0443\u0441","placeCircleMarker":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043A\u0440\u0443\u0433\u043E\u0432\u043E\u0439 \u043C\u0430\u0440\u043A\u0435\u0440"},"actions":{"finish":"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044C","cancel":"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C","removeLastVertex":"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C \u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0435\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435"},"buttonTitles":{"drawMarkerButton":"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043C\u0430\u0440\u043A\u0435\u0440","drawPolyButton":"\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043F\u043E\u043B\u0438\u0433\u043E\u043D","drawLineButton":"\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043A\u0440\u0438\u0432\u0443\u044E","drawCircleButton":"\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043A\u0440\u0443\u0433","drawRectButton":"\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043F\u0440\u044F\u043C\u043E\u0443\u0433\u043E\u043B\u044C\u043D\u0438\u043A","editButton":"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u043B\u043E\u0439","dragButton":"\u041F\u0435\u0440\u0435\u043D\u0435\u0441\u0442\u0438 \u0441\u043B\u043E\u0439","cutButton":"\u0412\u044B\u0440\u0435\u0437\u0430\u0442\u044C \u0441\u043B\u043E\u0439","deleteButton":"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0441\u043B\u043E\u0439","drawCircleMarkerButton":"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043A\u0440\u0443\u0433\u043E\u0432\u043E\u0439 \u043C\u0430\u0440\u043A\u0435\u0440","snappingButton":"\u041F\u0440\u0438\u0432\u044F\u0437\u0430\u0442\u044C \u043F\u0435\u0440\u0435\u0442\u0430\u0441\u043A\u0438\u0432\u0430\u0435\u043C\u044B\u0439 \u043C\u0430\u0440\u043A\u0435\u0440 \u043A \u0434\u0440\u0443\u0433\u0438\u043C \u0441\u043B\u043E\u044F\u043C \u0438 \u0432\u0435\u0440\u0448\u0438\u043D\u0430\u043C","pinningButton":"\u0421\u0432\u044F\u0437\u0430\u0442\u044C \u043E\u0431\u0449\u0438\u0435 \u0442\u043E\u0447\u043A\u0438 \u0432\u043C\u0435\u0441\u0442\u0435"}}')},function(w){w.exports=JSON.parse('{"tooltips":{"placeMarker":"Presiona para colocar un marcador","firstVertex":"Presiona para colocar el primer v\xE9rtice","continueLine":"Presiona para continuar dibujando","finishLine":"Presiona cualquier marcador existente para finalizar","finishPoly":"Presiona el primer marcador para finalizar","finishRect":"Presiona para finalizar","startCircle":"Presiona para colocar el centro del circulo","finishCircle":"Presiona para finalizar el circulo","placeCircleMarker":"Presiona para colocar un marcador de circulo"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Remover ultimo v\xE9rtice"},"buttonTitles":{"drawMarkerButton":"Dibujar Marcador","drawPolyButton":"Dibujar Pol\xEDgono","drawLineButton":"Dibujar L\xEDnea","drawCircleButton":"Dibujar Circulo","drawRectButton":"Dibujar Rect\xE1ngulo","editButton":"Editar Capas","dragButton":"Arrastrar Capas","cutButton":"Cortar Capas","deleteButton":"Remover Capas","drawCircleMarkerButton":"Dibujar Marcador de Circulo","snappingButton":"El marcador de Snap arrastrado a otras capas y v\xE9rtices","pinningButton":"Fijar juntos los v\xE9rtices compartidos"}}')},function(w){w.exports=JSON.parse('{"tooltips":{"placeMarker":"Klik om een marker te plaatsen","firstVertex":"Klik om het eerste punt te plaatsen","continueLine":"Klik om te blijven tekenen","finishLine":"Klik op een bestaand punt om te be\xEBindigen","finishPoly":"Klik op het eerst punt om te be\xEBindigen","finishRect":"Klik om te be\xEBindigen","startCircle":"Klik om het middelpunt te plaatsen","finishCircle":"Klik om de cirkel te be\xEBindigen","placeCircleMarker":"Klik om een marker te plaatsen"},"actions":{"finish":"Bewaar","cancel":"Annuleer","removeLastVertex":"Verwijder laatste punt"},"buttonTitles":{"drawMarkerButton":"Plaats Marker","drawPolyButton":"Teken een vlak","drawLineButton":"Teken een lijn","drawCircleButton":"Teken een cirkel","drawRectButton":"Teken een vierkant","editButton":"Bewerk","dragButton":"Verplaats","cutButton":"Knip","deleteButton":"Verwijder","drawCircleMarkerButton":"Plaats Marker","snappingButton":"Snap gesleepte marker naar andere lagen en hoekpunten","pinningButton":"Speld gedeelde hoekpunten samen"}}')},function(w){w.exports=JSON.parse(`{"tooltips":{"placeMarker":"Cliquez pour placer un marqueur","firstVertex":"Cliquez pour placer le premier sommet","continueLine":"Cliquez pour continuer \xE0 dessiner","finishLine":"Cliquez sur n'importe quel marqueur pour terminer","finishPoly":"Cliquez sur le premier marqueur pour terminer","finishRect":"Cliquez pour terminer","startCircle":"Cliquez pour placer le centre du cercle","finishCircle":"Cliquez pour finir le cercle","placeCircleMarker":"Cliquez pour placer le marqueur circulaire"},"actions":{"finish":"Terminer","cancel":"Annuler","removeLastVertex":"Retirer le dernier sommet"},"buttonTitles":{"drawMarkerButton":"Placer des marqueurs","drawPolyButton":"Dessiner des polygones","drawLineButton":"Dessiner des polylignes","drawCircleButton":"Dessiner un cercle","drawRectButton":"Dessiner un rectangle","editButton":"\xC9diter des calques","dragButton":"D\xE9placer des calques","cutButton":"Couper des calques","deleteButton":"Supprimer des calques","drawCircleMarkerButton":"Dessiner un marqueur circulaire","snappingButton":"Glisser le marqueur vers d'autres couches et sommets","pinningButton":"\xC9pingler ensemble les sommets partag\xE9s"}}`)},function(w){w.exports=JSON.parse('{"tooltips":{"placeMarker":"\u5355\u51FB\u653E\u7F6E\u6807\u8BB0","firstVertex":"\u5355\u51FB\u653E\u7F6E\u9996\u4E2A\u9876\u70B9","continueLine":"\u5355\u51FB\u7EE7\u7EED\u7ED8\u5236","finishLine":"\u5355\u51FB\u4EFB\u4F55\u5B58\u5728\u7684\u6807\u8BB0\u4EE5\u5B8C\u6210","finishPoly":"\u5355\u51FB\u7B2C\u4E00\u4E2A\u6807\u8BB0\u4EE5\u5B8C\u6210","finishRect":"\u5355\u51FB\u5B8C\u6210","startCircle":"\u5355\u51FB\u653E\u7F6E\u5706\u5FC3","finishCircle":"\u5355\u51FB\u5B8C\u6210\u5706\u5F62","placeCircleMarker":"\u70B9\u51FB\u653E\u7F6E\u5706\u5F62\u6807\u8BB0"},"actions":{"finish":"\u5B8C\u6210","cancel":"\u53D6\u6D88","removeLastVertex":"\u79FB\u9664\u6700\u540E\u7684\u9876\u70B9"},"buttonTitles":{"drawMarkerButton":"\u7ED8\u5236\u6807\u8BB0","drawPolyButton":"\u7ED8\u5236\u591A\u8FB9\u5F62","drawLineButton":"\u7ED8\u5236\u7EBF\u6BB5","drawCircleButton":"\u7ED8\u5236\u5706\u5F62","drawRectButton":"\u7ED8\u5236\u957F\u65B9\u5F62","editButton":"\u7F16\u8F91\u56FE\u5C42","dragButton":"\u62D6\u62FD\u56FE\u5C42","cutButton":"\u526A\u5207\u56FE\u5C42","deleteButton":"\u5220\u9664\u56FE\u5C42","drawCircleMarkerButton":"\u753B\u5706\u5708\u6807\u8BB0","snappingButton":"\u5C06\u62D6\u52A8\u7684\u6807\u8BB0\u6355\u6349\u5230\u5176\u4ED6\u56FE\u5C42\u548C\u9876\u70B9","pinningButton":"\u5C06\u5171\u4EAB\u9876\u70B9\u56FA\u5B9A\u5728\u4E00\u8D77"}}')},function(w){w.exports=JSON.parse('{"tooltips":{"placeMarker":"\u55AE\u64CA\u653E\u7F6E\u6A19\u8A18","firstVertex":"\u55AE\u64CA\u653E\u7F6E\u7B2C\u4E00\u500B\u9802\u9EDE","continueLine":"\u55AE\u64CA\u7E7C\u7E8C\u7E6A\u88FD","finishLine":"\u55AE\u64CA\u4EFB\u4F55\u5B58\u5728\u7684\u6A19\u8A18\u4EE5\u5B8C\u6210","finishPoly":"\u55AE\u64CA\u7B2C\u4E00\u500B\u6A19\u8A18\u4EE5\u5B8C\u6210","finishRect":"\u55AE\u64CA\u5B8C\u6210","startCircle":"\u55AE\u64CA\u653E\u7F6E\u5713\u5FC3","finishCircle":"\u55AE\u64CA\u5B8C\u6210\u5713\u5F62","placeCircleMarker":"\u9EDE\u64CA\u653E\u7F6E\u5713\u5F62\u6A19\u8A18"},"actions":{"finish":"\u5B8C\u6210","cancel":"\u53D6\u6D88","removeLastVertex":"\u79FB\u9664\u6700\u5F8C\u4E00\u500B\u9802\u9EDE"},"buttonTitles":{"drawMarkerButton":"\u653E\u7F6E\u6A19\u8A18","drawPolyButton":"\u7E6A\u88FD\u591A\u908A\u5F62","drawLineButton":"\u7E6A\u88FD\u7DDA\u6BB5","drawCircleButton":"\u7E6A\u88FD\u5713\u5F62","drawRectButton":"\u7E6A\u88FD\u65B9\u5F62","editButton":"\u7DE8\u8F2F\u5716\u5F62","dragButton":"\u79FB\u52D5\u5716\u5F62","cutButton":"\u88C1\u5207\u5716\u5F62","deleteButton":"\u522A\u9664\u5716\u5F62","drawCircleMarkerButton":"\u756B\u5713\u5708\u6A19\u8A18","snappingButton":"\u5C07\u62D6\u52D5\u7684\u6A19\u8A18\u5C0D\u9F4A\u5230\u5176\u4ED6\u5716\u5C64\u548C\u9802\u9EDE","pinningButton":"\u5C07\u5171\u4EAB\u9802\u9EDE\u56FA\u5B9A\u5728\u4E00\u8D77"}}')},function(w){w.exports=JSON.parse('{"tooltips":{"placeMarker":"Clique para posicionar o marcador","firstVertex":"Clique para posicionar o primeiro v\xE9rtice","continueLine":"Clique para continuar desenhando","finishLine":"Clique em qualquer marcador existente para finalizar","finishPoly":"Clique no primeiro ponto para fechar o pol\xEDgono","finishRect":"Clique para finalizar","startCircle":"Clique para posicionar o centro do c\xEDrculo","finishCircle":"Clique para fechar o c\xEDrculo","placeCircleMarker":"Clique para posicionar o marcador circular"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Remover \xFAltimo v\xE9rtice"},"buttonTitles":{"drawMarkerButton":"Desenhar um marcador","drawPolyButton":"Desenhar um pol\xEDgono","drawLineButton":"Desenhar uma polilinha","drawCircleButton":"Desenhar um c\xEDrculo","drawRectButton":"Desenhar um ret\xE2ngulo","editButton":"Editar camada(s)","dragButton":"Mover camada(s)","cutButton":"Recortar camada(s)","deleteButton":"Remover camada(s)","drawCircleMarkerButton":"Marcador de c\xEDrculos de desenho","snappingButton":"Marcador arrastado para outras camadas e v\xE9rtices","pinningButton":"V\xE9rtices compartilhados de pinos juntos"}}')},function(w){w.exports=JSON.parse('{"tooltips":{"placeMarker":"Kliknij, aby ustawi\u0107 znacznik","firstVertex":"Kliknij, aby ustawi\u0107 pierwszy punkt","continueLine":"Kliknij, aby kontynuowa\u0107 rysowanie","finishLine":"Kliknij dowolny punkt, aby zako\u0144czy\u0107","finishPoly":"Kliknij pierwszy punkt, aby zako\u0144czy\u0107","finishRect":"Kliknij, aby zako\u0144czy\u0107","startCircle":"Kliknij, aby ustawi\u0107 \u015Brodek ko\u0142a","finishCircle":"Kliknij, aby zako\u0144czy\u0107 rysowanie ko\u0142a","placeCircleMarker":"Kliknij, aby ustawi\u0107 okr\u0105g\u0142y znacznik"},"actions":{"finish":"Zako\u0144cz","cancel":"Anuluj","removeLastVertex":"Usu\u0144 ostatni punkt"},"buttonTitles":{"drawMarkerButton":"Narysuj znacznik","drawPolyButton":"Narysuj wielok\u0105t","drawLineButton":"Narysuj \u015Bcie\u017Ck\u0119","drawCircleButton":"Narysuj ko\u0142o","drawRectButton":"Narysuj prostok\u0105t","editButton":"Edytuj","dragButton":"Przesu\u0144","cutButton":"Wytnij","deleteButton":"Usu\u0144","drawCircleMarkerButton":"Narysuj okr\u0105g\u0142y znacznik","snappingButton":"Snap przeci\u0105gni\u0119ty marker na inne warstwy i wierzcho\u0142ki","pinningButton":"Sworze\u0144 wsp\xF3lne wierzcho\u0142ki razem"}}')},function(w){w.exports=JSON.parse('{"tooltips":{"placeMarker":"Klicka f\xF6r att placera mark\xF6r","firstVertex":"Klicka f\xF6r att placera f\xF6rsta h\xF6rnet","continueLine":"Klicka f\xF6r att forts\xE4tta rita","finishLine":"Klicka p\xE5 en existerande punkt f\xF6r att slutf\xF6ra","finishPoly":"Klicka p\xE5 den f\xF6rsta punkten f\xF6r att slutf\xF6ra","finishRect":"Klicka f\xF6r att slutf\xF6ra","startCircle":"Klicka f\xF6r att placera cirkelns centrum","finishCircle":"Klicka f\xF6r att slutf\xF6ra cirkeln","placeCircleMarker":"Klicka f\xF6r att placera cirkelmark\xF6r"},"actions":{"finish":"Slutf\xF6r","cancel":"Avbryt","removeLastVertex":"Ta bort sista h\xF6rnet"},"buttonTitles":{"drawMarkerButton":"Rita Mark\xF6r","drawPolyButton":"Rita Polygoner","drawLineButton":"Rita Linje","drawCircleButton":"Rita Cirkel","drawRectButton":"Rita Rektangel","editButton":"Redigera Lager","dragButton":"Dra Lager","cutButton":"Klipp i Lager","deleteButton":"Ta bort Lager","drawCircleMarkerButton":"Rita Cirkelmark\xF6r","snappingButton":"Sn\xE4pp dra mark\xF6ren till andra lager och h\xF6rn","pinningButton":"F\xE4st delade h\xF6rn tillsammans"}}')},function(w){w.exports=JSON.parse('{"tooltips":{"placeMarker":"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C4\u03AE\u03C3\u03B5\u03C4\u03B5 \u0394\u03B5\u03AF\u03BA\u03C4\u03B7","firstVertex":"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C4\u03AE\u03C3\u03B5\u03C4\u03B5 \u03C4\u03BF \u03C0\u03C1\u03CE\u03C4\u03BF \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF","continueLine":"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C3\u03C5\u03BD\u03B5\u03C7\u03AF\u03C3\u03B5\u03C4\u03B5 \u03BD\u03B1 \u03C3\u03C7\u03B5\u03B4\u03B9\u03AC\u03B6\u03B5\u03C4\u03B5","finishLine":"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03C3\u03B5 \u03BF\u03C0\u03BF\u03B9\u03BF\u03BD\u03B4\u03AE\u03C0\u03BF\u03C4\u03B5 \u03C5\u03C0\u03AC\u03C1\u03C7\u03BF\u03BD \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03BF\u03BB\u03BF\u03BA\u03BB\u03B7\u03C1\u03C9\u03B8\u03B5\u03AF","finishPoly":"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03C3\u03C4\u03BF \u03C0\u03C1\u03CE\u03C4\u03BF \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03B5\u03BB\u03B5\u03B9\u03CE\u03C3\u03B5\u03C4\u03B5","finishRect":"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03B5\u03BB\u03B5\u03B9\u03CE\u03C3\u03B5\u03C4\u03B5","startCircle":"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C4\u03AE\u03C3\u03B5\u03C4\u03B5 \u03BA\u03AD\u03BD\u03C4\u03C1\u03BF \u039A\u03CD\u03BA\u03BB\u03BF\u03C5","finishCircle":"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03BF\u03BB\u03BF\u03BA\u03BB\u03B7\u03C1\u03CE\u03C3\u03B5\u03C4\u03B5 \u03C4\u03BF\u03BD \u039A\u03CD\u03BA\u03BB\u03BF","placeCircleMarker":"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C4\u03AE\u03C3\u03B5\u03C4\u03B5 \u039A\u03C5\u03BA\u03BB\u03B9\u03BA\u03CC \u0394\u03B5\u03AF\u03BA\u03C4\u03B7"},"actions":{"finish":"\u03A4\u03AD\u03BB\u03BF\u03C2","cancel":"\u0391\u03BA\u03CD\u03C1\u03C9\u03C3\u03B7","removeLastVertex":"\u039A\u03B1\u03C4\u03AC\u03C1\u03B3\u03B7\u03C3\u03B7 \u03C4\u03B5\u03BB\u03B5\u03C5\u03C4\u03B1\u03AF\u03BF\u03C5 \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF\u03C5"},"buttonTitles":{"drawMarkerButton":"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u0394\u03B5\u03AF\u03BA\u03C4\u03B7","drawPolyButton":"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u03A0\u03BF\u03BB\u03C5\u03B3\u03CE\u03BD\u03BF\u03C5","drawLineButton":"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u0393\u03C1\u03B1\u03BC\u03BC\u03AE\u03C2","drawCircleButton":"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u039A\u03CD\u03BA\u03BB\u03BF\u03C5","drawRectButton":"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u039F\u03C1\u03B8\u03BF\u03B3\u03C9\u03BD\u03AF\u03BF\u03C5","editButton":"\u0395\u03C0\u03B5\u03BE\u03B5\u03C1\u03B3\u03B1\u03C3\u03AF\u03B1 \u0395\u03C0\u03B9\u03C0\u03AD\u03B4\u03C9\u03BD","dragButton":"\u039C\u03B5\u03C4\u03B1\u03C6\u03BF\u03C1\u03AC \u0395\u03C0\u03B9\u03C0\u03AD\u03B4\u03C9\u03BD","cutButton":"\u0391\u03C0\u03BF\u03BA\u03BF\u03C0\u03AE \u0395\u03C0\u03B9\u03C0\u03AD\u03B4\u03C9\u03BD","deleteButton":"\u039A\u03B1\u03C4\u03AC\u03C1\u03B3\u03B7\u03C3\u03B7 \u0395\u03C0\u03B9\u03C0\u03AD\u03B4\u03C9\u03BD","drawCircleMarkerButton":"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u039A\u03C5\u03BA\u03BB\u03B9\u03BA\u03BF\u03CD \u0394\u03B5\u03AF\u03BA\u03C4\u03B7","snappingButton":"\u03A0\u03C1\u03BF\u03C3\u03BA\u03CC\u03BB\u03BB\u03B7\u03C3\u03B7 \u03C4\u03BF\u03C5 \u0394\u03B5\u03AF\u03BA\u03C4\u03B7 \u03BC\u03B5\u03C4\u03B1\u03C6\u03BF\u03C1\u03AC\u03C2 \u03C3\u03B5 \u03AC\u03BB\u03BB\u03B1 \u0395\u03C0\u03AF\u03C0\u03B5\u03B4\u03B1 \u03BA\u03B1\u03B9 \u039A\u03BF\u03C1\u03C5\u03C6\u03AD\u03C2","pinningButton":"\u03A0\u03B5\u03C1\u03B9\u03BA\u03BF\u03C0\u03AE \u03BA\u03BF\u03B9\u03BD\u03CE\u03BD \u03BA\u03BF\u03C1\u03C5\u03C6\u03CE\u03BD \u03BC\u03B1\u03B6\u03AF"}}')},function(w){w.exports=JSON.parse('{"tooltips":{"placeMarker":"Kattintson a jel\xF6l\u0151 elhelyez\xE9s\xE9hez","firstVertex":"Kattintson az els\u0151 pont elhelyez\xE9s\xE9hez","continueLine":"Kattintson a k\xF6vetkez\u0151 pont elhelyez\xE9s\xE9hez","finishLine":"A befejez\xE9shez kattintson egy megl\xE9v\u0151 pontra","finishPoly":"A befejez\xE9shez kattintson az els\u0151 pontra","finishRect":"Kattintson a befejez\xE9shez","startCircle":"Kattintson a k\xF6r k\xF6z\xE9ppontj\xE1nak elhelyez\xE9s\xE9hez","finishCircle":"Kattintson a k\xF6r befejez\xE9s\xE9hez","placeCircleMarker":"Kattintson a k\xF6rjel\xF6l\u0151 elhelyez\xE9s\xE9hez"},"actions":{"finish":"Befejez\xE9s","cancel":"M\xE9gse","removeLastVertex":"Utols\xF3 pont elt\xE1vol\xEDt\xE1sa"},"buttonTitles":{"drawMarkerButton":"Jel\xF6l\u0151 rajzol\xE1sa","drawPolyButton":"Poligon rajzol\xE1sa","drawLineButton":"Vonal rajzol\xE1sa","drawCircleButton":"K\xF6r rajzol\xE1sa","drawRectButton":"N\xE9gyzet rajzol\xE1sa","editButton":"Elemek szerkeszt\xE9se","dragButton":"Elemek mozgat\xE1sa","cutButton":"Elemek v\xE1g\xE1sa","deleteButton":"Elemek t\xF6rl\xE9se","drawCircleMarkerButton":"K\xF6r jel\xF6l\u0151 rajzol\xE1sa","snappingButton":"Kapcsolja a jel\xF6lt\u0151t m\xE1sik elemhez vagy ponthoz","pinningButton":"K\xF6z\xF6s pontok \xF6sszek\xF6t\xE9se"}}')},function(w){w.exports=JSON.parse('{"tooltips":{"placeMarker":"Tryk for at placere en mark\xF8r","firstVertex":"Tryk for at placere det f\xF8rste punkt","continueLine":"Tryk for at forts\xE6tte linjen","finishLine":"Tryk p\xE5 et eksisterende punkt for at afslutte","finishPoly":"Tryk p\xE5 det f\xF8rste punkt for at afslutte","finishRect":"Tryk for at afslutte","startCircle":"Tryk for at placere cirklens center","finishCircle":"Tryk for at afslutte cirklen","placeCircleMarker":"Tryk for at placere en cirkelmark\xF8r"},"actions":{"finish":"Afslut","cancel":"Afbryd","removeLastVertex":"Fjern sidste punkt"},"buttonTitles":{"drawMarkerButton":"Placer mark\xF8r","drawPolyButton":"Tegn polygon","drawLineButton":"Tegn linje","drawCircleButton":"Tegn cirkel","drawRectButton":"Tegn firkant","editButton":"Rediger","dragButton":"Tr\xE6k","cutButton":"Klip","deleteButton":"Fjern","drawCircleMarkerButton":"Tegn cirkelmark\xF8r","snappingButton":"Fastg\xF8r trukket mark\xF8r til andre elementer","pinningButton":"Sammenl\xE6g delte elementer"}}')},function(w){w.exports=JSON.parse('{"tooltips":{"placeMarker":"Klikk for \xE5 plassere punkt","firstVertex":"Klikk for \xE5 plassere f\xF8rste punkt","continueLine":"Klikk for \xE5 tegne videre","finishLine":"Klikk p\xE5 et eksisterende punkt for \xE5 fullf\xF8re","finishPoly":"Klikk f\xF8rste punkt for \xE5 fullf\xF8re","finishRect":"Klikk for \xE5 fullf\xF8re","startCircle":"Klikk for \xE5 sette sirkel midtpunkt","finishCircle":"Klikk for \xE5 fullf\xF8re sirkel","placeCircleMarker":"Klikk for \xE5 plassere sirkel"},"actions":{"finish":"Fullf\xF8r","cancel":"Kanseller","removeLastVertex":"Fjern forrige punkt"},"buttonTitles":{"drawMarkerButton":"Tegn Punkt","drawPolyButton":"Tegn Flate","drawLineButton":"Tegn Linje","drawCircleButton":"Tegn Sirkel","drawRectButton":"Tegn rektangel","editButton":"Rediger Objekter","dragButton":"Dra Objekter","cutButton":"Kutt Objekter","deleteButton":"Fjern Objekter","drawCircleMarkerButton":"Tegn sirkel-punkt","snappingButton":"Fest dratt punkt til andre objekter og punkt","pinningButton":"Pin delte punkt sammen"}}')},function(w){w.exports=JSON.parse('{"tooltips":{"placeMarker":"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u062C\u0627\u0646\u0645\u0627\u06CC\u06CC \u0646\u0634\u0627\u0646","firstVertex":"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0631\u0633\u0645 \u0627\u0648\u0644\u06CC\u0646 \u0631\u0623\u0633","continueLine":"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0627\u062F\u0627\u0645\u0647 \u0631\u0633\u0645","finishLine":"\u06A9\u0644\u06CC\u06A9 \u0631\u0648\u06CC \u0647\u0631 \u0646\u0634\u0627\u0646 \u0645\u0648\u062C\u0648\u062F \u0628\u0631\u0627\u06CC \u067E\u0627\u06CC\u0627\u0646","finishPoly":"\u06A9\u0644\u06CC\u06A9 \u0631\u0648\u06CC \u0627\u0648\u0644\u06CC\u0646 \u0646\u0634\u0627\u0646 \u0628\u0631\u0627\u06CC \u067E\u0627\u06CC\u0627\u0646","finishRect":"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u067E\u0627\u06CC\u0627\u0646","startCircle":"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0631\u0633\u0645 \u0645\u0631\u06A9\u0632 \u062F\u0627\u06CC\u0631\u0647","finishCircle":"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u067E\u0627\u06CC\u0627\u0646 \u0631\u0633\u0645 \u062F\u0627\u06CC\u0631\u0647","placeCircleMarker":"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0631\u0633\u0645 \u0646\u0634\u0627\u0646 \u062F\u0627\u06CC\u0631\u0647"},"actions":{"finish":"\u067E\u0627\u06CC\u0627\u0646","cancel":"\u0644\u0641\u0648","removeLastVertex":"\u062D\u0630\u0641 \u0622\u062E\u0631\u06CC\u0646 \u0631\u0623\u0633"},"buttonTitles":{"drawMarkerButton":"\u062F\u0631\u062C \u0646\u0634\u0627\u0646","drawPolyButton":"\u0631\u0633\u0645 \u0686\u0646\u062F\u0636\u0644\u0639\u06CC","drawLineButton":"\u0631\u0633\u0645 \u062E\u0637","drawCircleButton":"\u0631\u0633\u0645 \u062F\u0627\u06CC\u0631\u0647","drawRectButton":"\u0631\u0633\u0645 \u0686\u0647\u0627\u0631\u0636\u0644\u0639\u06CC","editButton":"\u0648\u06CC\u0631\u0627\u06CC\u0634 \u0644\u0627\u06CC\u0647\u200C\u0647\u0644","dragButton":"\u062C\u0627\u0628\u062C\u0627\u06CC\u06CC \u0644\u0627\u06CC\u0647\u200C\u0647\u0627","cutButton":"\u0628\u0631\u0634 \u0644\u0627\u06CC\u0647\u200C\u0647\u0627","deleteButton":"\u062D\u0630\u0641 \u0644\u0627\u06CC\u0647\u200C\u0647\u0627","drawCircleMarkerButton":"\u0631\u0633\u0645 \u0646\u0634\u0627\u0646 \u062F\u0627\u06CC\u0631\u0647","snappingButton":"\u0646\u0634\u0627\u0646\u06AF\u0631 \u0631\u0627 \u0628\u0647 \u0644\u0627\u06CC\u0647 \u0647\u0627 \u0648 \u0631\u0626\u0648\u0633 \u062F\u06CC\u06AF\u0631 \u0628\u06A9\u0634\u06CC\u062F","pinningButton":"\u0631\u0626\u0648\u0633 \u0645\u0634\u062A\u0631\u06A9 \u0631\u0627 \u0628\u0627 \u0647\u0645 \u067E\u06CC\u0646 \u06A9\u0646\u06CC\u062F"}}')},function(w,E,s){var f=s(141),c=s(142);w.exports=function(y,_){return y!=null&&c(y,_,f)}},function(w,E,s){"use strict";var f=this&&this.__importDefault||function(k){return k&&k.__esModule?k:{default:k}};Object.defineProperty(E,"__esModule",{value:!0});var c=f(s(42)),y=f(s(147)),_=f(s(148)),T=s(9);function A(k,B){var H,G=!1;for(H=0;H<k.coordinates.length;H++)if(D(k.coordinates[H],B.coordinates)){G=!0;break}return G}function z(k,B){for(var H=0,G=B.coordinates;H<G.length;H++){for(var q=G[H],K=!1,Q=0,it=k.coordinates;Q<it.length;Q++)if(D(q,it[Q])){K=!0;break}if(!K)return!1}return!0}function Y(k,B){for(var H=!1,G=0,q=B.coordinates;G<q.length;G++){var K=q[G];if(_.default(K,k,{ignoreEndVertices:!0})&&(H=!0),!_.default(K,k))return!1}return!!H}function O(k,B){for(var H=0,G=B.coordinates;H<G.length;H++){var q=G[H];if(!y.default(q,k,{ignoreBoundary:!0}))return!1}return!0}function S(k,B){for(var H=!1,G=0,q=B.coordinates;G<q.length;G++){var K=q[G];if(_.default({type:"Point",coordinates:K},k,{ignoreEndVertices:!0})&&(H=!0),!_.default({type:"Point",coordinates:K},k,{ignoreEndVertices:!1}))return!1}return H}function N(k,B){var H=!1,G=0;if(!C(c.default(k),c.default(B)))return!1;for(;G<B.coordinates.length-1;G++){var q=g(B.coordinates[G],B.coordinates[G+1]);if(y.default({type:"Point",coordinates:q},k,{ignoreBoundary:!0})){H=!0;break}}return H}function Z(k,B){if(k.type==="Feature"&&k.geometry===null||B.type==="Feature"&&B.geometry===null||!C(c.default(k),c.default(B)))return!1;for(var H=0,G=T.getGeom(B).coordinates;H<G.length;H++)for(var q=0,K=G[H];q<K.length;q++){var Q=K[q];if(!y.default(Q,k))return!1}return!0}function C(k,B){return!(k[0]>B[0]||k[2]<B[2]||k[1]>B[1]||k[3]<B[3])}function D(k,B){return k[0]===B[0]&&k[1]===B[1]}function g(k,B){return[(k[0]+B[0])/2,(k[1]+B[1])/2]}E.default=function(k,B){var H=T.getGeom(k),G=T.getGeom(B),q=T.getType(k),K=T.getType(B),Q=T.getCoords(k),it=T.getCoords(B);switch(q){case"Point":switch(K){case"Point":return D(Q,it);default:throw new Error("feature2 "+K+" geometry not supported")}case"MultiPoint":switch(K){case"Point":return A(H,G);case"MultiPoint":return z(H,G);default:throw new Error("feature2 "+K+" geometry not supported")}case"LineString":switch(K){case"Point":return _.default(G,H,{ignoreEndVertices:!0});case"LineString":return S(H,G);case"MultiPoint":return Y(H,G);default:throw new Error("feature2 "+K+" geometry not supported")}case"Polygon":switch(K){case"Point":return y.default(G,H,{ignoreBoundary:!0});case"LineString":return N(H,G);case"Polygon":return Z(H,G);case"MultiPoint":return O(H,G);default:throw new Error("feature2 "+K+" geometry not supported")}default:throw new Error("feature1 "+q+" geometry not supported")}},E.isPointInMultiPoint=A,E.isMultiPointInMultiPoint=z,E.isMultiPointOnLine=Y,E.isMultiPointInPoly=O,E.isLineOnLine=S,E.isLineInPoly=N,E.isPolyInPoly=Z,E.doBBoxOverlap=C,E.compareCoords=D,E.getMidpoint=g},function(w,E,s){w.exports=s(152)},function(w,E){Array.prototype.findIndex=Array.prototype.findIndex||function(s){if(this===null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof s!="function")throw new TypeError("callback must be a function");for(var f=Object(this),c=f.length>>>0,y=arguments[1],_=0;_<c;_++)if(s.call(y,f[_],_,f))return _;return-1},Array.prototype.find=Array.prototype.find||function(s){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof s!="function")throw new TypeError("callback must be a function");for(var f=Object(this),c=f.length>>>0,y=arguments[1],_=0;_<c;_++){var T=f[_];if(s.call(y,T,_,f))return T}},typeof Object.assign!="function"&&(Object.assign=function(s){"use strict";if(s==null)throw new TypeError("Cannot convert undefined or null to object");s=Object(s);for(var f=1;f<arguments.length;f++){var c=arguments[f];if(c!=null)for(var y in c)Object.prototype.hasOwnProperty.call(c,y)&&(s[y]=c[y])}return s}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(s){s.hasOwnProperty("remove")||Object.defineProperty(s,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(s,f){if(this==null)throw new TypeError('"this" is null or not defined');var c=Object(this),y=c.length>>>0;if(y==0)return!1;for(var _,T,A=0|f,z=Math.max(0<=A?A:y-Math.abs(A),0);z<y;){if((_=c[z])===(T=s)||typeof _=="number"&&typeof T=="number"&&isNaN(_)&&isNaN(T))return!0;z++}return!1}})},function(w,E,s){var f=s(68),c=s(31),y=s(99),_=s(101),T=s(2),A=s(38),z=s(37);w.exports=function Y(O,S,N,Z,C){O!==S&&y(S,function(D,g){if(C=C||new f,T(D))_(O,S,g,N,Y,Z,C);else{var k=Z?Z(z(O,g),D,g+"",O,S,C):void 0;k===void 0&&(k=D),c(O,g,k)}},A)}},function(w,E,s){var f=s(10),c=s(74),y=s(75),_=s(76),T=s(77),A=s(78);function z(Y){var O=this.__data__=new f(Y);this.size=O.size}z.prototype.clear=c,z.prototype.delete=y,z.prototype.get=_,z.prototype.has=T,z.prototype.set=A,w.exports=z},function(w,E){w.exports=function(){this.__data__=[],this.size=0}},function(w,E,s){var f=s(11),c=Array.prototype.splice;w.exports=function(y){var _=this.__data__,T=f(_,y);return!(T<0||(T==_.length-1?_.pop():c.call(_,T,1),--this.size,0))}},function(w,E,s){var f=s(11);w.exports=function(c){var y=this.__data__,_=f(y,c);return _<0?void 0:y[_][1]}},function(w,E,s){var f=s(11);w.exports=function(c){return-1<f(this.__data__,c)}},function(w,E,s){var f=s(11);w.exports=function(c,y){var _=this.__data__,T=f(_,c);return T<0?(++this.size,_.push([c,y])):_[T][1]=y,this}},function(w,E,s){var f=s(10);w.exports=function(){this.__data__=new f,this.size=0}},function(w,E){w.exports=function(s){var f=this.__data__,c=f.delete(s);return this.size=f.size,c}},function(w,E){w.exports=function(s){return this.__data__.get(s)}},function(w,E){w.exports=function(s){return this.__data__.has(s)}},function(w,E,s){var f=s(10),c=s(28),y=s(30);w.exports=function(_,T){var A=this.__data__;if(A instanceof f){var z=A.__data__;if(!c||z.length<199)return z.push([_,T]),this.size=++A.size,this;A=this.__data__=new y(z)}return A.set(_,T),this.size=A.size,this}},function(w,E,s){var f=s(17),c=s(83),y=s(2),_=s(85),T=/^\[object .+?Constructor\]$/,A=Function.prototype,z=Object.prototype,Y=A.toString,O=z.hasOwnProperty,S=RegExp("^"+Y.call(O).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");w.exports=function(N){return!(!y(N)||c(N))&&(f(N)?S:T).test(_(N))}},function(w,E){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch(f){typeof window=="object"&&(s=window)}w.exports=s},function(w,E,s){var f=s(18),c=Object.prototype,y=c.hasOwnProperty,_=c.toString,T=f?f.toStringTag:void 0;w.exports=function(A){var z=y.call(A,T),Y=A[T];try{A[T]=void 0;var O=!0}catch(N){}var S=_.call(A);return O&&(z?A[T]=Y:delete A[T]),S}},function(w,E){var s=Object.prototype.toString;w.exports=function(f){return s.call(f)}},function(w,E,s){var f,c=s(84),y=(f=/[^.]+$/.exec(c&&c.keys&&c.keys.IE_PROTO||""))?"Symbol(src)_1."+f:"";w.exports=function(_){return!!y&&y in _}},function(w,E,s){var f=s(3)["__core-js_shared__"];w.exports=f},function(w,E){var s=Function.prototype.toString;w.exports=function(f){if(f!=null){try{return s.call(f)}catch(c){}try{return f+""}catch(c){}}return""}},function(w,E){w.exports=function(s,f){return s==null?void 0:s[f]}},function(w,E,s){var f=s(88),c=s(10),y=s(28);w.exports=function(){this.size=0,this.__data__={hash:new f,map:new(y||c),string:new f}}},function(w,E,s){var f=s(89),c=s(90),y=s(91),_=s(92),T=s(93);function A(z){var Y=-1,O=z==null?0:z.length;for(this.clear();++Y<O;){var S=z[Y];this.set(S[0],S[1])}}A.prototype.clear=f,A.prototype.delete=c,A.prototype.get=y,A.prototype.has=_,A.prototype.set=T,w.exports=A},function(w,E,s){var f=s(13);w.exports=function(){this.__data__=f?f(null):{},this.size=0}},function(w,E){w.exports=function(s){var f=this.has(s)&&delete this.__data__[s];return this.size-=f?1:0,f}},function(w,E,s){var f=s(13),c=Object.prototype.hasOwnProperty;w.exports=function(y){var _=this.__data__;if(f){var T=_[y];return T==="__lodash_hash_undefined__"?void 0:T}return c.call(_,y)?_[y]:void 0}},function(w,E,s){var f=s(13),c=Object.prototype.hasOwnProperty;w.exports=function(y){var _=this.__data__;return f?_[y]!==void 0:c.call(_,y)}},function(w,E,s){var f=s(13);w.exports=function(c,y){var _=this.__data__;return this.size+=this.has(c)?0:1,_[c]=f&&y===void 0?"__lodash_hash_undefined__":y,this}},function(w,E,s){var f=s(14);w.exports=function(c){var y=f(this,c).delete(c);return this.size-=y?1:0,y}},function(w,E){w.exports=function(s){var f=typeof s;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?s!=="__proto__":s===null}},function(w,E,s){var f=s(14);w.exports=function(c){return f(this,c).get(c)}},function(w,E,s){var f=s(14);w.exports=function(c){return f(this,c).has(c)}},function(w,E,s){var f=s(14);w.exports=function(c,y){var _=f(this,c),T=_.size;return _.set(c,y),this.size+=_.size==T?0:1,this}},function(w,E,s){var f=s(100)();w.exports=f},function(w,E){w.exports=function(s){return function(f,c,y){for(var _=-1,T=Object(f),A=y(f),z=A.length;z--;){var Y=A[s?z:++_];if(c(T[Y],Y,T)===!1)break}return f}}},function(w,E,s){var f=s(31),c=s(102),y=s(103),_=s(106),T=s(107),A=s(21),z=s(5),Y=s(111),O=s(35),S=s(17),N=s(2),Z=s(113),C=s(36),D=s(37),g=s(117);w.exports=function(k,B,H,G,q,K,Q){var it=D(k,H),pt=D(B,H),bt=Q.get(pt);if(bt)f(k,H,bt);else{var J=K?K(it,pt,H+"",k,B,Q):void 0,Mt=J===void 0;if(Mt){var Bt=z(pt),Gt=!Bt&&O(pt),Ot=!Bt&&!Gt&&C(pt);J=pt,Bt||Gt||Ot?J=z(it)?it:Y(it)?_(it):Gt?c(pt,!(Mt=!1)):Ot?y(pt,!(Mt=!1)):[]:Z(pt)||A(pt)?A(J=it)?J=g(it):N(it)&&!S(it)||(J=T(pt)):Mt=!1}Mt&&(Q.set(pt,J),q(J,pt,G,K,Q),Q.delete(pt)),f(k,H,J)}}},function(w,E,s){(function(f){var c=s(3),y=E&&!E.nodeType&&E,_=y&&typeof f=="object"&&f&&!f.nodeType&&f,T=_&&_.exports===y?c.Buffer:void 0,A=T?T.allocUnsafe:void 0;f.exports=function(z,Y){if(Y)return z.slice();var O=z.length,S=A?A(O):new z.constructor(O);return z.copy(S),S}}).call(this,s(20)(w))},function(w,E,s){var f=s(104);w.exports=function(c,y){var _=y?f(c.buffer):c.buffer;return new c.constructor(_,c.byteOffset,c.length)}},function(w,E,s){var f=s(105);w.exports=function(c){var y=new c.constructor(c.byteLength);return new f(y).set(new f(c)),y}},function(w,E,s){var f=s(3).Uint8Array;w.exports=f},function(w,E){w.exports=function(s,f){var c=-1,y=s.length;for(f=f||Array(y);++c<y;)f[c]=s[c];return f}},function(w,E,s){var f=s(108),c=s(33),y=s(34);w.exports=function(_){return typeof _.constructor!="function"||y(_)?{}:f(c(_))}},function(w,E,s){var f=s(2),c=Object.create;function y(){}w.exports=function(_){if(!f(_))return{};if(c)return c(_);y.prototype=_;var T=new y;return y.prototype=void 0,T}},function(w,E){w.exports=function(s,f){return function(c){return s(f(c))}}},function(w,E,s){var f=s(8),c=s(4);w.exports=function(y){return c(y)&&f(y)=="[object Arguments]"}},function(w,E,s){var f=s(22),c=s(4);w.exports=function(y){return c(y)&&f(y)}},function(w,E){w.exports=function(){return!1}},function(w,E,s){var f=s(8),c=s(33),y=s(4),_=Function.prototype,T=Object.prototype,A=_.toString,z=T.hasOwnProperty,Y=A.call(Object);w.exports=function(O){if(!y(O)||f(O)!="[object Object]")return!1;var S=c(O);if(S===null)return!0;var N=z.call(S,"constructor")&&S.constructor;return typeof N=="function"&&N instanceof N&&A.call(N)==Y}},function(w,E,s){var f=s(8),c=s(23),y=s(4),_={};_["[object Float32Array]"]=_["[object Float64Array]"]=_["[object Int8Array]"]=_["[object Int16Array]"]=_["[object Int32Array]"]=_["[object Uint8Array]"]=_["[object Uint8ClampedArray]"]=_["[object Uint16Array]"]=_["[object Uint32Array]"]=!0,_["[object Arguments]"]=_["[object Array]"]=_["[object ArrayBuffer]"]=_["[object Boolean]"]=_["[object DataView]"]=_["[object Date]"]=_["[object Error]"]=_["[object Function]"]=_["[object Map]"]=_["[object Number]"]=_["[object Object]"]=_["[object RegExp]"]=_["[object Set]"]=_["[object String]"]=_["[object WeakMap]"]=!1,w.exports=function(T){return y(T)&&c(T.length)&&!!_[f(T)]}},function(w,E){w.exports=function(s){return function(f){return s(f)}}},function(w,E,s){(function(f){var c=s(29),y=E&&!E.nodeType&&E,_=y&&typeof f=="object"&&f&&!f.nodeType&&f,T=_&&_.exports===y&&c.process,A=function(){try{return _&&_.require&&_.require("util").types||T&&T.binding&&T.binding("util")}catch(z){}}();f.exports=A}).call(this,s(20)(w))},function(w,E,s){var f=s(118),c=s(38);w.exports=function(y){return f(y,c(y))}},function(w,E,s){var f=s(119),c=s(19);w.exports=function(y,_,T,A){var z=!T;T=T||{};for(var Y=-1,O=_.length;++Y<O;){var S=_[Y],N=A?A(T[S],y[S],S,T,y):void 0;N===void 0&&(N=y[S]),z?c(T,S,N):f(T,S,N)}return T}},function(w,E,s){var f=s(19),c=s(12),y=Object.prototype.hasOwnProperty;w.exports=function(_,T,A){var z=_[T];y.call(_,T)&&c(z,A)&&(A!==void 0||T in _)||f(_,T,A)}},function(w,E,s){var f=s(121),c=s(21),y=s(5),_=s(35),T=s(24),A=s(36),z=Object.prototype.hasOwnProperty;w.exports=function(Y,O){var S=y(Y),N=!S&&c(Y),Z=!S&&!N&&_(Y),C=!S&&!N&&!Z&&A(Y),D=S||N||Z||C,g=D?f(Y.length,String):[],k=g.length;for(var B in Y)!O&&!z.call(Y,B)||D&&(B=="length"||Z&&(B=="offset"||B=="parent")||C&&(B=="buffer"||B=="byteLength"||B=="byteOffset")||T(B,k))||g.push(B);return g}},function(w,E){w.exports=function(s,f){for(var c=-1,y=Array(s);++c<s;)y[c]=f(c);return y}},function(w,E,s){var f=s(2),c=s(34),y=s(123),_=Object.prototype.hasOwnProperty;w.exports=function(T){if(!f(T))return y(T);var A=c(T),z=[];for(var Y in T)(Y!="constructor"||!A&&_.call(T,Y))&&z.push(Y);return z}},function(w,E){w.exports=function(s){var f=[];if(s!=null)for(var c in Object(s))f.push(c);return f}},function(w,E,s){var f=s(125),c=s(132);w.exports=function(y){return f(function(_,T){var A=-1,z=T.length,Y=1<z?T[z-1]:void 0,O=2<z?T[2]:void 0;for(Y=3<y.length&&typeof Y=="function"?(z--,Y):void 0,O&&c(T[0],T[1],O)&&(Y=z<3?void 0:Y,z=1),_=Object(_);++A<z;){var S=T[A];S&&y(_,S,A,Y)}return _})}},function(w,E,s){var f=s(39),c=s(126),y=s(128);w.exports=function(_,T){return y(c(_,T,f),_+"")}},function(w,E,s){var f=s(127),c=Math.max;w.exports=function(y,_,T){return _=c(_===void 0?y.length-1:_,0),function(){for(var A=arguments,z=-1,Y=c(A.length-_,0),O=Array(Y);++z<Y;)O[z]=A[_+z];z=-1;for(var S=Array(_+1);++z<_;)S[z]=A[z];return S[_]=T(O),f(y,this,S)}}},function(w,E){w.exports=function(s,f,c){switch(c.length){case 0:return s.call(f);case 1:return s.call(f,c[0]);case 2:return s.call(f,c[0],c[1]);case 3:return s.call(f,c[0],c[1],c[2])}return s.apply(f,c)}},function(w,E,s){var f=s(129),c=s(131)(f);w.exports=c},function(w,E,s){var f=s(130),c=s(32),y=s(39),_=c?function(T,A){return c(T,"toString",{configurable:!0,enumerable:!1,value:f(A),writable:!0})}:y;w.exports=_},function(w,E){w.exports=function(s){return function(){return s}}},function(w,E){var s=Date.now;w.exports=function(f){var c=0,y=0;return function(){var _=s(),T=16-(_-y);if(y=_,0<T){if(800<=++c)return arguments[0]}else c=0;return f.apply(void 0,arguments)}}},function(w,E,s){var f=s(12),c=s(22),y=s(24),_=s(2);w.exports=function(T,A,z){if(!_(z))return!1;var Y=typeof A;return!!(Y=="number"?c(z)&&y(A,z.length):Y=="string"&&A in z)&&f(z[A],T)}},function(w,E,s){var f=s(40),c=s(41);w.exports=function(y,_){for(var T=0,A=(_=f(_,y)).length;y!=null&&T<A;)y=y[c(_[T++])];return T&&T==A?y:void 0}},function(w,E,s){var f=s(5),c=s(25),y=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_=/^\w*$/;w.exports=function(T,A){if(f(T))return!1;var z=typeof T;return!(z!="number"&&z!="symbol"&&z!="boolean"&&T!=null&&!c(T))||_.test(T)||!y.test(T)||A!=null&&T in Object(A)}},function(w,E,s){var f=s(136),c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,y=/\\(\\)?/g,_=f(function(T){var A=[];return T.charCodeAt(0)===46&&A.push(""),T.replace(c,function(z,Y,O,S){A.push(O?S.replace(y,"$1"):Y||z)}),A});w.exports=_},function(w,E,s){var f=s(137);w.exports=function(c){var y=f(c,function(T){return _.size===500&&_.clear(),T}),_=y.cache;return y}},function(w,E,s){var f=s(30);function c(y,_){if(typeof y!="function"||_!=null&&typeof _!="function")throw new TypeError("Expected a function");var T=function(){var A=arguments,z=_?_.apply(this,A):A[0],Y=T.cache;if(Y.has(z))return Y.get(z);var O=y.apply(this,A);return T.cache=Y.set(z,O)||Y,O};return T.cache=new(c.Cache||f),T}c.Cache=f,w.exports=c},function(w,E,s){var f=s(139);w.exports=function(c){return c==null?"":f(c)}},function(w,E,s){var f=s(18),c=s(140),y=s(5),_=s(25),T=f?f.prototype:void 0,A=T?T.toString:void 0;w.exports=function z(Y){if(typeof Y=="string")return Y;if(y(Y))return c(Y,z)+"";if(_(Y))return A?A.call(Y):"";var O=Y+"";return O=="0"&&1/Y==-1/0?"-0":O}},function(w,E){w.exports=function(s,f){for(var c=-1,y=s==null?0:s.length,_=Array(y);++c<y;)_[c]=f(s[c],c,s);return _}},function(w,E){var s=Object.prototype.hasOwnProperty;w.exports=function(f,c){return f!=null&&s.call(f,c)}},function(w,E,s){var f=s(40),c=s(21),y=s(5),_=s(24),T=s(23),A=s(41);w.exports=function(z,Y,O){for(var S=-1,N=(Y=f(Y,z)).length,Z=!1;++S<N;){var C=A(Y[S]);if(!(Z=z!=null&&O(z,C)))break;z=z[C]}return Z||++S!=N?Z:!!(N=z==null?0:z.length)&&T(N)&&_(C,N)&&(y(z)||c(z))}},function(w,E,s){"use strict";Object.defineProperty(E,"__esModule",{value:!0});var f=s(6),c=s(9),y=s(15);E.default=function(_){if(!_)throw new Error("geojson is required");var T=[];return y.flattenEach(_,function(A){(function(z,Y){var O=[],S=z.geometry;if(S!==null){switch(S.type){case"Polygon":O=c.getCoords(S);break;case"LineString":O=[c.getCoords(S)]}O.forEach(function(N){(function(Z,C){var D=[];return Z.reduce(function(g,k){var B=f.lineString([g,k],C);return B.bbox=function(H,G){var q=H[0],K=H[1],Q=G[0],it=G[1];return[q<Q?q:Q,K<it?K:it,Q<q?q:Q,it<K?K:it]}(g,k),D.push(B),k}),D})(N,z.properties).forEach(function(Z){Z.id=Y.length,Y.push(Z)})})}})(A,T)}),f.featureCollection(T)}},function(w,E,s){var f=s(145),c=s(6),y=s(15),_=s(42).default,T=y.featureEach,A=(y.coordEach,c.polygon,c.featureCollection);function z(Y){var O=f(Y);return O.insert=function(S){if(S.type!=="Feature")throw new Error("invalid feature");return S.bbox=S.bbox?S.bbox:_(S),f.prototype.insert.call(this,S)},O.load=function(S){var N=[];return Array.isArray(S)?S.forEach(function(Z){if(Z.type!=="Feature")throw new Error("invalid features");Z.bbox=Z.bbox?Z.bbox:_(Z),N.push(Z)}):T(S,function(Z){if(Z.type!=="Feature")throw new Error("invalid features");Z.bbox=Z.bbox?Z.bbox:_(Z),N.push(Z)}),f.prototype.load.call(this,N)},O.remove=function(S,N){if(S.type!=="Feature")throw new Error("invalid feature");return S.bbox=S.bbox?S.bbox:_(S),f.prototype.remove.call(this,S,N)},O.clear=function(){return f.prototype.clear.call(this)},O.search=function(S){var N=f.prototype.search.call(this,this.toBBox(S));return A(N)},O.collides=function(S){return f.prototype.collides.call(this,this.toBBox(S))},O.all=function(){var S=f.prototype.all.call(this);return A(S)},O.toJSON=function(){return f.prototype.toJSON.call(this)},O.fromJSON=function(S){return f.prototype.fromJSON.call(this,S)},O.toBBox=function(S){var N;if(S.bbox)N=S.bbox;else if(Array.isArray(S)&&S.length===4)N=S;else if(Array.isArray(S)&&S.length===6)N=[S[0],S[1],S[3],S[4]];else if(S.type==="Feature")N=_(S);else{if(S.type!=="FeatureCollection")throw new Error("invalid geojson");N=_(S)}return{minX:N[0],minY:N[1],maxX:N[2],maxY:N[3]}},O}w.exports=z,w.exports.default=z},function(w,E,s){"use strict";w.exports=c,w.exports.default=c;var f=s(146);function c(g,k){if(!(this instanceof c))return new c(g,k);this._maxEntries=Math.max(4,g||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),k&&this._initFormat(k),this.clear()}function y(g,k,B){if(!B)return k.indexOf(g);for(var H=0;H<k.length;H++)if(B(g,k[H]))return H;return-1}function _(g,k){T(g,0,g.children.length,k,g)}function T(g,k,B,H,G){(G=G||C(null)).minX=1/0,G.minY=1/0,G.maxX=-1/0,G.maxY=-1/0;for(var q,K=k;K<B;K++)q=g.children[K],A(G,g.leaf?H(q):q);return G}function A(g,k){return g.minX=Math.min(g.minX,k.minX),g.minY=Math.min(g.minY,k.minY),g.maxX=Math.max(g.maxX,k.maxX),g.maxY=Math.max(g.maxY,k.maxY),g}function z(g,k){return g.minX-k.minX}function Y(g,k){return g.minY-k.minY}function O(g){return(g.maxX-g.minX)*(g.maxY-g.minY)}function S(g){return g.maxX-g.minX+(g.maxY-g.minY)}function N(g,k){return g.minX<=k.minX&&g.minY<=k.minY&&k.maxX<=g.maxX&&k.maxY<=g.maxY}function Z(g,k){return k.minX<=g.maxX&&k.minY<=g.maxY&&k.maxX>=g.minX&&k.maxY>=g.minY}function C(g){return{children:g,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function D(g,k,B,H,G){for(var q,K=[k,B];K.length;)(B=K.pop())-(k=K.pop())<=H||(q=k+Math.ceil((B-k)/H/2)*H,f(g,q,k,B,G),K.push(k,q,q,B))}c.prototype={all:function(){return this._all(this.data,[])},search:function(g){var k=this.data,B=[],H=this.toBBox;if(!Z(g,k))return B;for(var G,q,K,Q,it=[];k;){for(G=0,q=k.children.length;G<q;G++)K=k.children[G],Z(g,Q=k.leaf?H(K):K)&&(k.leaf?B.push(K):N(g,Q)?this._all(K,B):it.push(K));k=it.pop()}return B},collides:function(g){var k=this.data,B=this.toBBox;if(!Z(g,k))return!1;for(var H,G,q,K,Q=[];k;){for(H=0,G=k.children.length;H<G;H++)if(q=k.children[H],Z(g,K=k.leaf?B(q):q)){if(k.leaf||N(g,K))return!0;Q.push(q)}k=Q.pop()}return!1},load:function(g){if(!g||!g.length)return this;if(g.length<this._minEntries){for(var k=0,B=g.length;k<B;k++)this.insert(g[k]);return this}var H=this._build(g.slice(),0,g.length-1,0);if(this.data.children.length)if(this.data.height===H.height)this._splitRoot(this.data,H);else{if(this.data.height<H.height){var G=this.data;this.data=H,H=G}this._insert(H,this.data.height-H.height-1,!0)}else this.data=H;return this},insert:function(g){return g&&this._insert(g,this.data.height-1),this},clear:function(){return this.data=C([]),this},remove:function(g,k){if(!g)return this;for(var B,H,G,q,K=this.data,Q=this.toBBox(g),it=[],pt=[];K||it.length;){if(K||(K=it.pop(),H=it[it.length-1],B=pt.pop(),q=!0),K.leaf&&(G=y(g,K.children,k))!==-1)return K.children.splice(G,1),it.push(K),this._condense(it),this;q||K.leaf||!N(K,Q)?H?(B++,K=H.children[B],q=!1):K=null:(it.push(K),pt.push(B),B=0,K=(H=K).children[0])}return this},toBBox:function(g){return g},compareMinX:z,compareMinY:Y,toJSON:function(){return this.data},fromJSON:function(g){return this.data=g,this},_all:function(g,k){for(var B=[];g;)g.leaf?k.push.apply(k,g.children):B.push.apply(B,g.children),g=B.pop();return k},_build:function(g,k,B,H){var G,q=B-k+1,K=this._maxEntries;if(q<=K)return _(G=C(g.slice(k,B+1)),this.toBBox),G;H||(H=Math.ceil(Math.log(q)/Math.log(K)),K=Math.ceil(q/Math.pow(K,H-1))),(G=C([])).leaf=!1,G.height=H;var Q,it,pt,bt,J=Math.ceil(q/K),Mt=J*Math.ceil(Math.sqrt(K));for(D(g,k,B,Mt,this.compareMinX),Q=k;Q<=B;Q+=Mt)for(D(g,Q,pt=Math.min(Q+Mt-1,B),J,this.compareMinY),it=Q;it<=pt;it+=J)bt=Math.min(it+J-1,pt),G.children.push(this._build(g,it,bt,H-1));return _(G,this.toBBox),G},_chooseSubtree:function(g,k,B,H){for(var G,q,K,Q,it,pt,bt,J,Mt,Bt;H.push(k),!k.leaf&&H.length-1!==B;){for(bt=J=1/0,G=0,q=k.children.length;G<q;G++)it=O(K=k.children[G]),Mt=g,Bt=K,(pt=(Math.max(Bt.maxX,Mt.maxX)-Math.min(Bt.minX,Mt.minX))*(Math.max(Bt.maxY,Mt.maxY)-Math.min(Bt.minY,Mt.minY))-it)<J?(J=pt,bt=it<bt?it:bt,Q=K):pt===J&&it<bt&&(bt=it,Q=K);k=Q||k.children[0]}return k},_insert:function(g,k,B){var H=this.toBBox,G=B?g:H(g),q=[],K=this._chooseSubtree(G,this.data,k,q);for(K.children.push(g),A(K,G);0<=k&&q[k].children.length>this._maxEntries;)this._split(q,k),k--;this._adjustParentBBoxes(G,q,k)},_split:function(g,k){var B=g[k],H=B.children.length,G=this._minEntries;this._chooseSplitAxis(B,G,H);var q=this._chooseSplitIndex(B,G,H),K=C(B.children.splice(q,B.children.length-q));K.height=B.height,K.leaf=B.leaf,_(B,this.toBBox),_(K,this.toBBox),k?g[k-1].children.push(K):this._splitRoot(B,K)},_splitRoot:function(g,k){this.data=C([g,k]),this.data.height=g.height+1,this.data.leaf=!1,_(this.data,this.toBBox)},_chooseSplitIndex:function(g,k,B){var H,G,q,K,Q,it,pt,bt,J,Mt,Bt,Gt,Ot,ce;for(it=pt=1/0,H=k;H<=B-k;H++)J=G=T(g,0,H,this.toBBox),Mt=q=T(g,H,B,this.toBBox),Bt=Math.max(J.minX,Mt.minX),Gt=Math.max(J.minY,Mt.minY),Ot=Math.min(J.maxX,Mt.maxX),ce=Math.min(J.maxY,Mt.maxY),K=Math.max(0,Ot-Bt)*Math.max(0,ce-Gt),Q=O(G)+O(q),K<it?(it=K,bt=H,pt=Q<pt?Q:pt):K===it&&Q<pt&&(pt=Q,bt=H);return bt},_chooseSplitAxis:function(g,k,B){var H=g.leaf?this.compareMinX:z,G=g.leaf?this.compareMinY:Y;this._allDistMargin(g,k,B,H)<this._allDistMargin(g,k,B,G)&&g.children.sort(H)},_allDistMargin:function(g,k,B,H){g.children.sort(H);var G,q,K=this.toBBox,Q=T(g,0,k,K),it=T(g,B-k,B,K),pt=S(Q)+S(it);for(G=k;G<B-k;G++)q=g.children[G],A(Q,g.leaf?K(q):q),pt+=S(Q);for(G=B-k-1;k<=G;G--)q=g.children[G],A(it,g.leaf?K(q):q),pt+=S(it);return pt},_adjustParentBBoxes:function(g,k,B){for(var H=B;0<=H;H--)A(k[H],g)},_condense:function(g){for(var k,B=g.length-1;0<=B;B--)g[B].children.length===0?0<B?(k=g[B-1].children).splice(k.indexOf(g[B]),1):this.clear():_(g[B],this.toBBox)},_initFormat:function(g){var k=["return a"," - b",";"];this.compareMinX=new Function("a","b",k.join(g[0])),this.compareMinY=new Function("a","b",k.join(g[1])),this.toBBox=new Function("a","return {minX: a"+g[0]+", minY: a"+g[1]+", maxX: a"+g[2]+", maxY: a"+g[3]+"};")}}},function(w,E,s){w.exports=function(){"use strict";function f(y,_,T){var A=y[_];y[_]=y[T],y[T]=A}function c(y,_){return y<_?-1:_<y?1:0}return function(y,_,T,A,z){(function Y(O,S,N,Z,C){for(;N<Z;){if(600<Z-N){var D=Z-N+1,g=S-N+1,k=Math.log(D),B=.5*Math.exp(2*k/3),H=.5*Math.sqrt(k*B*(D-B)/D)*(g-D/2<0?-1:1);Y(O,S,Math.max(N,Math.floor(S-g*B/D+H)),Math.min(Z,Math.floor(S+(D-g)*B/D+H)),C)}var G=O[S],q=N,K=Z;for(f(O,N,S),0<C(O[Z],G)&&f(O,N,Z);q<K;){for(f(O,q,K),q++,K--;C(O[q],G)<0;)q++;for(;0<C(O[K],G);)K--}C(O[N],G)===0?f(O,N,K):f(O,++K,Z),K<=S&&(N=K+1),S<=K&&(Z=K-1)}})(y,_,T||0,A||y.length-1,z||c)}}()},function(w,E,s){"use strict";Object.defineProperty(E,"__esModule",{value:!0});var f=s(9);function c(y,_,T){var A=!1;_[0][0]===_[_.length-1][0]&&_[0][1]===_[_.length-1][1]&&(_=_.slice(0,_.length-1));for(var z=0,Y=_.length-1;z<_.length;Y=z++){var O=_[z][0],S=_[z][1],N=_[Y][0],Z=_[Y][1];if(y[1]*(O-N)+S*(N-y[0])+Z*(y[0]-O)==0&&(O-y[0])*(N-y[0])<=0&&(S-y[1])*(Z-y[1])<=0)return!T;S>y[1]!=Z>y[1]&&y[0]<(N-O)*(y[1]-S)/(Z-S)+O&&(A=!A)}return A}E.default=function(y,_,T){if(T===void 0&&(T={}),!y)throw new Error("point is required");if(!_)throw new Error("polygon is required");var A=f.getCoord(y),z=f.getGeom(_),Y=z.type,O=_.bbox,S=z.coordinates;if(O&&function(g,k){return k[0]<=g[0]&&k[1]<=g[1]&&k[2]>=g[0]&&k[3]>=g[1]}(A,O)===!1)return!1;Y==="Polygon"&&(S=[S]);for(var N=!1,Z=0;Z<S.length&&!N;Z++)if(c(A,S[Z][0],T.ignoreBoundary)){for(var C=!1,D=1;D<S[Z].length&&!C;)c(A,S[Z][D],!T.ignoreBoundary)&&(C=!0),D++;C||(N=!0)}return N}},function(w,E,s){"use strict";Object.defineProperty(E,"__esModule",{value:!0});var f=s(9);function c(y,_,T,A){var z=T[0],Y=T[1],O=y[0],S=y[1],N=_[0],Z=_[1],C=N-O,D=Z-S;return(T[0]-O)*D-(T[1]-S)*C==0&&(A?A==="start"?Math.abs(C)>=Math.abs(D)?0<C?O<z&&z<=N:N<=z&&z<O:0<D?S<Y&&Y<=Z:Z<=Y&&Y<S:A==="end"?Math.abs(C)>=Math.abs(D)?0<C?O<=z&&z<N:N<z&&z<=O:0<D?S<=Y&&Y<Z:Z<Y&&Y<=S:A==="both"&&(Math.abs(C)>=Math.abs(D)?0<C?O<z&&z<N:N<z&&z<O:0<D?S<Y&&Y<Z:Z<Y&&Y<S):Math.abs(C)>=Math.abs(D)?0<C?O<=z&&z<=N:N<=z&&z<=O:0<D?S<=Y&&Y<=Z:Z<=Y&&Y<=S)}E.default=function(y,_,T){T===void 0&&(T={});for(var A=f.getCoord(y),z=f.getCoords(_),Y=0;Y<z.length-1;Y++){var O=!1;if(T.ignoreEndVertices&&(Y===0&&(O="start"),Y===z.length-2&&(O="end"),Y===0&&Y+1===z.length-1&&(O="both")),c(z[Y],z[Y+1],A,O))return!0}return!1}},function(w,E){var s,f,c=w.exports={};function y(){throw new Error("setTimeout has not been defined")}function _(){throw new Error("clearTimeout has not been defined")}function T(D){if(s===setTimeout)return setTimeout(D,0);if((s===y||!s)&&setTimeout)return s=setTimeout,setTimeout(D,0);try{return s(D,0)}catch(g){try{return s.call(null,D,0)}catch(k){return s.call(this,D,0)}}}(function(){try{s=typeof setTimeout=="function"?setTimeout:y}catch(D){s=y}try{f=typeof clearTimeout=="function"?clearTimeout:_}catch(D){f=_}})();var A,z=[],Y=!1,O=-1;function S(){Y&&A&&(Y=!1,A.length?z=A.concat(z):O=-1,z.length&&N())}function N(){if(!Y){var D=T(S);Y=!0;for(var g=z.length;g;){for(A=z,z=[];++O<g;)A&&A[O].run();O=-1,g=z.length}A=null,Y=!1,function(k){if(f===clearTimeout)return clearTimeout(k);if((f===_||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(k);try{f(k)}catch(B){try{return f.call(null,k)}catch(H){return f.call(this,k)}}}(D)}}function Z(D,g){this.fun=D,this.array=g}function C(){}c.nextTick=function(D){var g=new Array(arguments.length-1);if(1<arguments.length)for(var k=1;k<arguments.length;k++)g[k-1]=arguments[k];z.push(new Z(D,g)),z.length!==1||Y||T(N)},Z.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=C,c.addListener=C,c.once=C,c.off=C,c.removeListener=C,c.removeAllListeners=C,c.emit=C,c.prependListener=C,c.prependOnceListener=C,c.listeners=function(D){return[]},c.binding=function(D){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(D){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(w,E,s){},function(w,E,s){},function(w,E,s){"use strict";s.r(E),s(66);var f=s(43),c=s(26),y=s.n(c),_=s(44),T=s(45),A=s(46),z=s(47),Y=s(48),O=s(49),S=s(50),N=s(51),Z=s(52),C=s(53),D=s(54),g={en:_,de:T,it:A,id:z,ro:Y,ru:O,es:S,nl:N,fr:Z,pt_br:s(55),zh:C,zh_tw:D,pl:s(56),sv:s(57),el:s(58),hu:s(59),da:s(60),no:s(61),fa:s(62)},k=s(0),B=s.n(k),H=s(63),G=s.n(H);function q(i){var n=L.PM.activeLang;return G()(g,n)||(n="en"),B()(g[n],i)}function K(i){return!function n(o){return o.filter(function(l){return![null,"",void 0].includes(l)}).reduce(function(l,u){return l.concat(Array.isArray(u)?n(u):u)},[])}(i).length}function Q(i){return i.reduce(function(n,o){return o.length!==0&&n.push(Array.isArray(o)?Q(o):o),n},[])}function it(i,n,o){for(var l,u,p,m=6378137,x=63567523142e-4,M=1/298.257223563,P=i.lng,F=i.lat,U=o,j=Math.PI,tt=n*j/180,nt=Math.sin(tt),lt=Math.cos(tt),ht=(1-M)*Math.tan(F*j/180),ct=1/Math.sqrt(1+ht*ht),mt=ht*ct,wt=Math.atan2(ht,lt),jt=ct*nt,At=1-jt*jt,Vt=At*(m*m-x*x)/(x*x),Qt=1+Vt/16384*(4096+Vt*(Vt*(320-175*Vt)-768)),Jt=Vt/1024*(256+Vt*(Vt*(74-47*Vt)-128)),pe=U/(x*Qt),ie=2*Math.PI;1e-12<Math.abs(pe-ie);)l=Math.cos(2*wt+pe),ie=pe,pe=U/(x*Qt)+Jt*(u=Math.sin(pe))*(l+Jt/4*((p=Math.cos(pe))*(2*l*l-1)-Jt/6*l*(4*u*u-3)*(4*l*l-3)));var Pe=mt*u-ct*p*lt,ye=Math.atan2(mt*p+ct*u*lt,(1-M)*Math.sqrt(jt*jt+Pe*Pe)),Ui=M/16*At*(4+M*(4-3*At)),yn=P+180*(Math.atan2(u*nt,ct*p-mt*u*lt)-(1-Ui)*M*jt*(pe+Ui*u*(l+Ui*p*(2*l*l-1))))/j,Hi=180*ye/j;return L.latLng(yn,Hi)}function pt(i,n,o,l){for(var u,p,m=[],x=0;x<o;x+=1)u=it(i,360*x/o+l,n),p=L.latLng(u.lng,u.lat),m.push(p);return m}function bt(i,n,o,l){return function(u,p,m){p=(p+360)%360;var x=Math.PI/180,M=180/Math.PI,P=u.lng*x,F=u.lat*x,U=p*x,j=Math.sin(F),tt=Math.cos(F),nt=Math.cos(m/6378137),lt=Math.sin(m/6378137),ht=Math.asin(j*nt+tt*lt*Math.cos(U)),ct=P+Math.atan2(Math.sin(U)*lt*tt,nt-j*Math.sin(ht));return ct=180<(ct*=M)?ct-360:ct<-180?ct+360:ct,L.latLng([ht*M,ct])}(n,function(u,p,m){var x=u.latLngToContainerPoint(p),M=u.latLngToContainerPoint(m),P=180*Math.atan2(M.y-x.y,M.x-x.x)/Math.PI+90;return P+(P<0?360:0)}(i,n,o),l)}var J={calcMiddleLatLng:function(i,n,o){var l=i.project(n),u=i.project(o);return i.unproject(l._add(u)._divideBy(2))},findLayers:function(i){var n=[];return i.eachLayer(function(o){(o instanceof L.Polyline||o instanceof L.Marker||o instanceof L.Circle||o instanceof L.CircleMarker||o instanceof L.ImageOverlay)&&n.push(o)}),n=(n=n.filter(function(o){return!!o.pm})).filter(function(o){return!o._pmTempLayer})},circleToPolygon:function(i){for(var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:60,o=pt(i.getLatLng(),i.getRadius(),n,0),l=[],u=0;u<o.length;u+=1){var p=[o[u].lat,o[u].lng];l.push(p)}return L.polygon(l,i.options)},disablePopup:function(i){i.getPopup()&&(i._tempPopupCopy=i.getPopup(),i.unbindPopup())},enablePopup:function(i){i._tempPopupCopy&&(i.bindPopup(i._tempPopupCopy),delete i._tempPopupCopy)},_fireEvent:function(i,n,o){var l=3<arguments.length&&arguments[3]!==void 0&&arguments[3];i.fire(n,o,l),this.getAllParentGroups(i).groups.forEach(function(u){u.fire(n,o,l)})},getAllParentGroups:function(i){var n=[],o=[];return!i._pmLastGroupFetch||!i._pmLastGroupFetch.time||1e3<new Date().getTime()-i._pmLastGroupFetch.time?(function l(u){for(var p in u._eventParents)if(n.indexOf(p)===-1){n.push(p);var m=u._eventParents[p];o.push(m),l(m)}}(i),i._pmLastGroupFetch={time:new Date().getTime(),groups:o,groupIds:n},{groupIds:n,groups:o}):{groups:i._pmLastGroupFetch.groups,groupIds:i._pmLastGroupFetch.groupIds}},createGeodesicPolygon:pt,getTranslation:q,findDeepCoordIndex:function(i,n){var o;i.some(function u(p){return function(m,x){var M=p.concat(x);return m.lat&&m.lat===n.lat&&m.lng===n.lng?(o=M,!0):Array.isArray(m)&&m.some(u(M))}}([]));var l={};return o&&(l={indexPath:o,index:o[o.length-1],parentPath:o.slice(0,o.length-1)}),l},_getIndexFromSegment:function(i,n){if(n&&n.length===2){var o=this.findDeepCoordIndex(i,n[0]),l=this.findDeepCoordIndex(i,n[1]),u=Math.max(o.index,l.index);return o.index!==0&&l.index!==0||u===1||(u+=1),{indexA:o,indexB:l,newIndex:u,indexPath:o.indexPath,parentPath:o.parentPath}}return null}};function Mt(i,n){var o=Object.keys(i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);n&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(i,u).enumerable})),o.push.apply(o,l)}return o}function Bt(i){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?arguments[n]:{};n%2?Mt(Object(o),!0).forEach(function(l){Gt(i,l,o[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):Mt(Object(o)).forEach(function(l){Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(o,l))})}return i}function Gt(i,n,o){return n in i?Object.defineProperty(i,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[n]=o,i}var Ot=J.findLayers,ce={_globalEditMode:!1,enableGlobalEditMode:function(i){var n=Bt({snappable:this._globalSnappingEnabled},i);this.Toolbar.toggleButton("editMode",!0),Ot(this.map).forEach(function(o){o.pm.enable(n)}),this.throttledReInitEdit||(this.throttledReInitEdit=L.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this._addedLayers=[],this.map.on("layeradd",this._layerAdded,this),this.map.on("layeradd",this.throttledReInitEdit,this),this.setGlobalEditStatus(!0)},disableGlobalEditMode:function(){Ot(this.map).forEach(function(i){i.pm.disable()}),this.map.off("layeradd",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",!1),this.setGlobalEditStatus(!1)},globalEditEnabled:function(){return this.globalEditModeEnabled()},globalEditModeEnabled:function(){return this._globalEditMode},setGlobalEditStatus:function(i){this._globalEditMode=i,this._fireEditModeEvent(this._globalEditMode)},toggleGlobalEditMode:function(){var i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.globalOptions;this.globalEditModeEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(i)},handleLayerAdditionInGlobalEditMode:function(){var i=this,n=this._addedLayers;this._addedLayers=[],n.forEach(function(o){!o.pm||o._pmTempLayer||!i.globalEditModeEnabled()||o.pm.enable(Bt({},i.globalOptions))})},_layerAdded:function(i){var n=i.layer;this._addedLayers.push(n)},_fireEditModeEvent:function(i){J._fireEvent(this.map,"pm:globaleditmodetoggled",{enabled:i,map:this.map})}},Lt=J.findLayers,Be={enableGlobalDragMode:function(){var i=Lt(this.map);this._globalDragMode=!0,i.forEach(function(n){n.pm.enableLayerDrag()}),this.throttledReInitDrag||(this.throttledReInitDrag=L.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this._globalDragMode),this._fireDragModeEvent(!0)},disableGlobalDragMode:function(){var i=Lt(this.map);this._globalDragMode=!1,i.forEach(function(n){n.pm.disableLayerDrag()}),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this._globalDragMode),this._fireDragModeEvent(!1)},globalDragModeEnabled:function(){return!!this._globalDragMode},toggleGlobalDragMode:function(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode:function(i){var n=i.layer;!n.pm||n._pmTempLayer||!this.globalDragModeEnabled()||(this.disableGlobalDragMode(),this.enableGlobalDragMode())},_fireDragModeEvent:function(i){J._fireEvent(this.map,"pm:globaldragmodetoggled",{enabled:i,map:this.map})}},Tt={enableGlobalRemovalMode:function(){var i=this;this._globalRemovalMode=!0,this.map.eachLayer(function(n){(function(o){return o.pm&&!(o instanceof L.LayerGroup)})(n)&&(n.pm.disable(),n.on("click",i.removeLayer,i))}),this.throttledReInitRemoval||(this.throttledReInitRemoval=L.Util.throttle(this.reinitGlobalRemovalMode,100,this)),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("deleteLayer",this._globalRemovalMode),this._fireRemovalModeEvent(!0)},disableGlobalRemovalMode:function(){var i=this;this._globalRemovalMode=!1,this.map.eachLayer(function(n){n.off("click",i.removeLayer,i)}),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("deleteLayer",this._globalRemovalMode),this._fireRemovalModeEvent(!1)},globalRemovalEnabled:function(){return this.globalRemovalModeEnabled()},globalRemovalModeEnabled:function(){return!!this._globalRemovalMode},toggleGlobalRemovalMode:function(){this.globalRemovalModeEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},reinitGlobalRemovalMode:function(i){var n=i.layer;!n.pm||n._pmTempLayer||!this.globalRemovalModeEnabled()||(this.disableGlobalRemovalMode(),this.enableGlobalRemovalMode())},_fireRemovalModeEvent:function(i){J._fireEvent(this.map,"pm:globalremovalmodetoggled",{enabled:i,map:this.map})},removeLayer:function(i){var n=i.target;n._pmTempLayer||n.pm&&n.pm.dragging()||(n.removeFrom(this.map.pm._getContainingLayer()),n.remove(),n instanceof L.LayerGroup?(J._fireEvent(n,"pm:remove",{layer:n,shape:void 0}),J._fireEvent(this.map,"pm:remove",{layer:n,shape:void 0})):(J._fireEvent(n,"pm:remove",{layer:n,shape:n.pm.getShape()}),J._fireEvent(this.map,"pm:remove",{layer:n,shape:n.pm.getShape()})))}},Dt=J.findLayers,oe=L.Class.extend({includes:[ce,Be,Tt],initialize:function(i){this.map=i,this.Draw=new L.PM.Draw(i),this.Toolbar=new L.PM.Toolbar(i),this._globalRemovalMode=!1,this.globalOptions={snappable:!0,layerGroup:void 0,snappingOrder:["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],panes:{vertexPane:"markerPane",layerPane:"overlayPane",markerPane:"markerPane"}}},setLang:function(){var i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"en",n=1<arguments.length?arguments[1]:void 0,o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"en",l=L.PM.activeLang;n&&(g[i]=y()(g[o],n)),L.PM.activeLang=i,this.map.pm.Toolbar.reinit(),J._fireEvent(this.map,"pm:langchange",{oldLang:l,activeLang:i,fallback:o,translations:g[i]})},addControls:function(i){this.Toolbar.addControls(i)},removeControls:function(){this.Toolbar.removeControls()},toggleControls:function(){this.Toolbar.toggleControls()},controlsVisible:function(){return this.Toolbar.isVisible},enableDraw:function(){var i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"Polygon",n=1<arguments.length?arguments[1]:void 0;i==="Poly"&&(i="Polygon"),this.Draw.enable(i,n)},disableDraw:function(){var i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"Polygon";i==="Poly"&&(i="Polygon"),this.Draw.disable(i)},setPathOptions:function(i){var n=this,o=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).ignoreShapes||[];this.map.pm.Draw.shapes.forEach(function(l){o.indexOf(l)===-1&&n.map.pm.Draw[l].setPathOptions(i)})},getGlobalOptions:function(){return this.globalOptions},setGlobalOptions:function(i){var n=this,o=y()(this.globalOptions,i),l=!1;this.map.pm.Draw.CircleMarker.enabled()&&this.map.pm.Draw.CircleMarker.options.editable!==o.editable&&(this.map.pm.Draw.CircleMarker.disable(),l=!0),this.map.pm.Draw.shapes.forEach(function(u){n.map.pm.Draw[u].setOptions(o)}),l&&this.map.pm.Draw.CircleMarker.enable(),Dt(this.map).forEach(function(u){u.pm.setOptions(o)}),this.applyGlobalOptions(),this.globalOptions=o},applyGlobalOptions:function(){Dt(this.map).forEach(function(i){i.pm.enabled()&&i.pm.applyOptions()})},globalDrawModeEnabled:function(){return!!this.Draw.getActiveShape()},globalCutModeEnabled:function(){return!!this.Draw.Cut.enabled()},enableGlobalCutMode:function(i){return this.Draw.Cut.enable(i)},toggleGlobalCutMode:function(i){return this.Draw.Cut.toggle(i)},disableGlobalCutMode:function(){return this.Draw.Cut.disable()},getGeomanLayers:function(){var i=0<arguments.length&&arguments[0]!==void 0&&arguments[0],n=Dt(this.map);if(!i)return n;var o=L.featureGroup();return o._pmTempLayer=!0,n.forEach(function(l){o.addLayer(l)}),o},getGeomanDrawLayers:function(){var i=0<arguments.length&&arguments[0]!==void 0&&arguments[0],n=Dt(this.map).filter(function(l){return l._drawnByGeoman===!0});if(!i)return n;var o=L.featureGroup();return o._pmTempLayer=!0,n.forEach(function(l){o.addLayer(l)}),o},_getContainingLayer:function(){return this.globalOptions.layerGroup&&this.globalOptions.layerGroup instanceof L.LayerGroup?this.globalOptions.layerGroup:this.map}}),Ut=L.Control.extend({options:{position:"topleft"},initialize:function(i){this._button=Object.assign({},this.options,i)},onAdd:function(i){return this._map=i,this._map.pm.Toolbar.options.oneBlock?this._container=this._map.pm.Toolbar._createContainer(this.options.position):this._button.tool==="edit"?this._container=this._map.pm.Toolbar.editContainer:this._button.tool==="options"?this._container=this._map.pm.Toolbar.optionsContainer:this._button.tool==="custom"?this._container=this._map.pm.Toolbar.customContainer:this._container=this._map.pm.Toolbar.drawContainer,this.buttonsDomNode=this._makeButton(this._button),this._container.appendChild(this.buttonsDomNode),this._container},onRemove:function(){return this.buttonsDomNode.remove(),this._container},getText:function(){return this._button.text},getIconUrl:function(){return this._button.iconUrl},destroy:function(){this._button={},this._update()},toggle:function(i){return this._button.toggleStatus=typeof i=="boolean"?i:!this._button.toggleStatus,this._applyStyleClasses(),this._button.toggleStatus},toggled:function(){return this._button.toggleStatus},onCreate:function(){this.toggle(!1)},_triggerClick:function(i){i&&i.preventDefault(),this._button.onClick(i,{button:this,event:i}),this._clicked(i),this._button.afterClick(i,{button:this,event:i})},_makeButton:function(i){var n=this,o=-1<this.options.position.indexOf("right")?"pos-right":"",l=L.DomUtil.create("div","button-container",this._container),u=L.DomUtil.create("a","leaflet-buttons-control-button",l);u.setAttribute("role","button"),u.setAttribute("tabindex","0"),u.href="#";var p=L.DomUtil.create("div","leaflet-pm-actions-container ".concat(o),l),m=i.actions,x={cancel:{text:q("actions.cancel"),onClick:function(){this._triggerClick()}},finishMode:{text:q("actions.finish"),onClick:function(){this._triggerClick()}},removeLastVertex:{text:q("actions.removeLastVertex"),onClick:function(){this._map.pm.Draw[i.jsClass]._removeLastVertex()}},finish:{text:q("actions.finish"),onClick:function(P){this._map.pm.Draw[i.jsClass]._finishShape(P)}}};m.forEach(function(P){var F;if(x[P])F=x[P];else{if(!P.text)return;F=P}var U=L.DomUtil.create("a","leaflet-pm-action ".concat(o," action-").concat(P),p);U.setAttribute("role","button"),U.setAttribute("tabindex","0"),U.href="#",U.innerHTML=F.text,!i.disabled&&F.onClick&&(L.DomEvent.addListener(U,"click",function(j){j.preventDefault();var tt="",nt=n._map.pm.Toolbar.buttons;for(var lt in nt)if(nt[lt]._button===i){tt=lt;break}J._fireEvent(n._map,"pm:actionclick",{text:F.text,action:F,btnName:tt,button:i})},n),L.DomEvent.addListener(U,"click",F.onClick,n)),L.DomEvent.disableClickPropagation(U)}),i.toggleStatus&&L.DomUtil.addClass(l,"active");var M=L.DomUtil.create("div","control-icon",u);return i.title&&M.setAttribute("title",i.title),i.iconUrl&&M.setAttribute("src",i.iconUrl),i.className&&L.DomUtil.addClass(M,i.className),i.disabled||(L.DomEvent.addListener(u,"click",function(){n._button.disableOtherButtons&&n._map.pm.Toolbar.triggerClickOnToggledButtons(n);var P="",F=n._map.pm.Toolbar.buttons;for(var U in F)if(F[U]._button===i){P=U;break}J._fireEvent(n._map,"pm:buttonclick",{btnName:P,button:i})}),L.DomEvent.addListener(u,"click",this._triggerClick,this)),i.disabled&&(L.DomUtil.addClass(u,"pm-disabled"),L.DomUtil.addClass(M,"pm-disabled")),L.DomEvent.disableClickPropagation(u),l},_applyStyleClasses:function(){this._container&&(this._button.toggleStatus&&this._button.cssToggle!==!1?(L.DomUtil.addClass(this.buttonsDomNode,"active"),L.DomUtil.addClass(this._container,"activeChild")):(L.DomUtil.removeClass(this.buttonsDomNode,"active"),L.DomUtil.removeClass(this._container,"activeChild")))},_clicked:function(){this._button.doToggle&&this.toggle()}});function Nt(i){return(Nt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(i)}L.Control.PMButton=Ut;var Et=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,snappingOption:!0,drawControls:!0,editControls:!0,optionsControls:!0,customControls:!0,oneBlock:!1,position:"topleft",positions:{draw:"",edit:"",options:"",custom:""}},customButtons:[],initialize:function(i){this.init(i)},reinit:function(){var i=this.isVisible;this.removeControls(),this._defineButtons(),i&&this.addControls()},init:function(i){this.map=i,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this.customContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"),this._defineButtons()},_createContainer:function(i){var n="".concat(i,"Container");return this[n]||(this[n]=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-".concat(i," leaflet-bar leaflet-control"))),this[n]},getButtons:function(){return this.buttons},addControls:function(){var i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.options;i.editPolygon!==void 0&&(i.editMode=i.editPolygon),i.deleteLayer!==void 0&&(i.removalMode=i.deleteLayer),L.Util.setOptions(this,i),this.applyIconStyle(),this._showHideButtons(),this.isVisible=!0},applyIconStyle:function(){var i=this.getButtons(),n={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete"}};for(var o in i){var l=i[o];L.Util.setOptions(l,{className:n.geomanIcons[o]})}},removeControls:function(){var i=this.getButtons();for(var n in i)i[n].remove();this.isVisible=!1},toggleControls:function(){var i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.options;this.isVisible?this.removeControls():this.addControls(i)},_addButton:function(i,n){return this.buttons[i]=n,this.options[i]=this.options[i]||!1,this.buttons[i]},triggerClickOnToggledButtons:function(i){var n=["snappingOption"];for(var o in this.buttons)!n.includes(o)&&this.buttons[o]!==i&&this.buttons[o].toggled()&&this.buttons[o]._triggerClick()},toggleButton:function(i,n){return i==="editPolygon"&&(i="editMode"),i==="deleteLayer"&&(i="removalMode"),(!(2<arguments.length&&arguments[2]!==void 0)||arguments[2])&&this.triggerClickOnToggledButtons(this.buttons[i]),!!this.buttons[i]&&this.buttons[i].toggle(n)},_defineButtons:function(){var i=this,n={className:"control-icon leaflet-pm-icon-marker",title:q("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:function(){},afterClick:function(U,j){i.map.pm.Draw[j.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},o={title:q("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:function(){},afterClick:function(U,j){i.map.pm.Draw[j.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},l={className:"control-icon leaflet-pm-icon-polyline",title:q("buttonTitles.drawLineButton"),jsClass:"Line",onClick:function(){},afterClick:function(U,j){i.map.pm.Draw[j.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},u={title:q("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:function(){},afterClick:function(U,j){i.map.pm.Draw[j.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},p={title:q("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:function(){},afterClick:function(U,j){i.map.pm.Draw[j.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},m={title:q("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:function(){},afterClick:function(U,j){i.map.pm.Draw[j.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},x={title:q("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:function(){},afterClick:function(){i.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},M={title:q("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:function(){},afterClick:function(){i.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},P={title:q("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:function(){},afterClick:function(U,j){i.map.pm.Draw[j.button._button.jsClass].toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},F={title:q("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:function(){},afterClick:function(){i.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]};this._addButton("drawMarker",new L.Control.PMButton(n)),this._addButton("drawPolyline",new L.Control.PMButton(l)),this._addButton("drawRectangle",new L.Control.PMButton(m)),this._addButton("drawPolygon",new L.Control.PMButton(o)),this._addButton("drawCircle",new L.Control.PMButton(u)),this._addButton("drawCircleMarker",new L.Control.PMButton(p)),this._addButton("editMode",new L.Control.PMButton(x)),this._addButton("dragMode",new L.Control.PMButton(M)),this._addButton("cutPolygon",new L.Control.PMButton(P)),this._addButton("removalMode",new L.Control.PMButton(F))},_showHideButtons:function(){this.removeControls();var i=this.getButtons(),n=[];for(var o in this.options.drawControls===!1&&(n=n.concat(Object.keys(i).filter(function(u){return!i[u]._button.tool}))),this.options.editControls===!1&&(n=n.concat(Object.keys(i).filter(function(u){return i[u]._button.tool==="edit"}))),this.options.optionsControls===!1&&(n=n.concat(Object.keys(i).filter(function(u){return i[u]._button.tool==="options"}))),this.options.customControls===!1&&(n=n.concat(Object.keys(i).filter(function(u){return i[u]._button.tool==="custom"}))),i)if(this.options[o]&&n.indexOf(o)===-1){var l=i[o]._button.tool;l=l||"draw",i[o].setPosition(this._getBtnPosition(l)),i[o].addTo(this.map)}},_getBtnPosition:function(i){return this.options.positions&&this.options.positions[i]?this.options.positions[i]:this.options.position},setBlockPosition:function(i,n){this.options.positions[i]=n,this._showHideButtons(),this.changeControlOrder()},getBlockPositions:function(){return this.options.positions},copyDrawControl:function(i,n){if(!n)throw new TypeError("Button has no name");Nt(n)!=="object"&&(n={name:n});var o=this._btnNameMapping(i);if(!n.name)throw new TypeError("Button has no name");if(this.buttons[n.name])throw new TypeError("Button with this name already exists");var l=this.map.pm.Draw.createNewDrawInstance(n.name,o),u=this.buttons[o]._button;return n=Object.assign({},u,n),{drawInstance:l,control:this.createCustomControl(n)}},createCustomControl:function(i){if(!i.name)throw new TypeError("Button has no name");if(this.buttons[i.name])throw new TypeError("Button with this name already exists");i.onClick||(i.onClick=function(){}),i.afterClick||(i.afterClick=function(){}),i.toggle!==!1&&(i.toggle=!0),i.block&&(i.block=i.block.toLowerCase()),i.block&&i.block!=="draw"||(i.block=""),i.className?i.className.indexOf("control-icon")===-1&&(i.className="control-icon ".concat(i.className)):i.className="control-icon";var n={tool:i.block,className:i.className,title:i.title||"",jsClass:i.name,onClick:i.onClick,afterClick:i.afterClick,doToggle:i.toggle,toggleStatus:!1,disableOtherButtons:!0,cssToggle:i.toggle,position:this.options.position,actions:i.actions||[],disabled:!!i.disabled};this.options[i.name]!==!1&&(this.options[i.name]=!0);var o=this._addButton(i.name,new L.Control.PMButton(n));return this.changeControlOrder(),o},changeControlOrder:function(){var i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],n=this._shapeMapping(),o=[];i.forEach(function(p){n[p]?o.push(n[p]):o.push(p)});var l=this.getButtons(),u={};o.forEach(function(p){l[p]&&(u[p]=l[p])}),Object.keys(l).filter(function(p){return!l[p]._button.tool}).forEach(function(p){o.indexOf(p)===-1&&(u[p]=l[p])}),Object.keys(l).filter(function(p){return l[p]._button.tool==="edit"}).forEach(function(p){o.indexOf(p)===-1&&(u[p]=l[p])}),Object.keys(l).filter(function(p){return l[p]._button.tool==="options"}).forEach(function(p){o.indexOf(p)===-1&&(u[p]=l[p])}),Object.keys(l).filter(function(p){return l[p]._button.tool==="custom"}).forEach(function(p){o.indexOf(p)===-1&&(u[p]=l[p])}),Object.keys(l).forEach(function(p){o.indexOf(p)===-1&&(u[p]=l[p])}),this.map.pm.Toolbar.buttons=u,this._showHideButtons()},getControlOrder:function(){var i=this.getButtons(),n=[];for(var o in i)n.push(o);return n},changeActionsOfControl:function(i,n){var o=this._btnNameMapping(i);if(!o)throw new TypeError("No name passed");if(!n)throw new TypeError("No actions passed");if(!this.buttons[o])throw new TypeError("Button with this name not exists");this.buttons[o]._button.actions=n,this.changeControlOrder()},setButtonDisabled:function(i,n){var o=this._btnNameMapping(i);this.buttons[o]._button.disabled=!!n,this._showHideButtons()},_shapeMapping:function(){return{Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode"}},_btnNameMapping:function(i){var n=this._shapeMapping();return n[i]?n[i]:i}}),X={_initSnappableMarkers:function(){this.options.snapDistance=this.options.snapDistance||30,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents:function(i){var n=this;i.forEach(function(o){Array.isArray(o)?n._assignEvents(o):(o.off("drag",n._handleSnapping,n),o.on("drag",n._handleSnapping,n),o.off("dragend",n._cleanupSnapping,n),o.on("dragend",n._cleanupSnapping,n))})},_cleanupSnapping:function(){delete this._snapList,this.throttledList&&(this._map.off("layeradd",this.throttledList,this),this.throttledList=void 0),this._map.off("pm:remove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(function(i){i.remove()})},_handleSnapping:function(i){var n=this,o=i.target;if(o._snapped=!1,this.throttledList||(this.throttledList=L.Util.throttle(this._createSnapList,100,this)),i.originalEvent.altKey||(this._snapList===void 0&&(this._createSnapList(),this._map.off("layeradd",this.throttledList,this),this._map.on("layeradd",this.throttledList,this)),this._snapList.length<=0))return!1;var l=this._calcClosestLayer(o.getLatLng(),this._snapList);if(Object.keys(l).length===0)return!1;var u,p=l.layer instanceof L.Marker||l.layer instanceof L.CircleMarker;u=p?l.latlng:this._checkPrioritiySnapping(l);var m=this.options.snapDistance,x={marker:o,shape:this._shape,snapLatLng:u,segment:l.segment,layer:this._layer,workingLayer:this._layer,layerInteractedWith:l.layer,distance:l.distance};if(J._fireEvent(x.marker,"pm:snapdrag",x),J._fireEvent(this._layer,"pm:snapdrag",x),l.distance<m){o._orgLatLng=o.getLatLng(),o.setLatLng(u),o._snapped=!0,o._snapInfo=x;var M=this._snapLatLng||{},P=u||{};M.lat===P.lat&&M.lng===P.lng||(n._snapLatLng=u,J._fireEvent(o,"pm:snap",x),J._fireEvent(n._layer,"pm:snap",x))}else this._snapLatLng&&(this._unsnap(x),o._snapped=!1,J._fireEvent(x.marker,"pm:unsnap",x),J._fireEvent(this._layer,"pm:unsnap",x));return!0},_createSnapList:function(){var i=this,n=[],o=[],l=this._map;l.off("pm:remove",this._handleSnapLayerRemoval,this),l.on("pm:remove",this._handleSnapLayerRemoval,this),l.eachLayer(function(u){if((u instanceof L.Polyline||u instanceof L.Marker||u instanceof L.CircleMarker||u instanceof L.ImageOverlay)&&u.options.snapIgnore!==!0&&(!L.PM.optIn&&!u.options.pmIgnore||L.PM.optIn&&u.options.pmIgnore===!1)){(u instanceof L.Circle||u instanceof L.CircleMarker)&&u.pm&&u.pm._hiddenPolyCircle?n.push(u.pm._hiddenPolyCircle):u instanceof L.ImageOverlay&&(u=L.rectangle(u.getBounds())),n.push(u);var p=L.polyline([],{color:"red",pmIgnore:!0});p._pmTempLayer=!0,o.push(p),(u instanceof L.Circle||u instanceof L.CircleMarker)&&o.push(p)}}),n=(n=(n=n.filter(function(u){return i._layer!==u})).filter(function(u){return u._latlng||u._latlngs&&!K(u._latlngs)})).filter(function(u){return!u._pmTempLayer}),this._otherSnapLayers?this._snapList=n.concat(this._otherSnapLayers):this._snapList=n,this.debugIndicatorLines=o},_handleSnapLayerRemoval:function(i){var n=i.layer,o=this._snapList.findIndex(function(l){return l._leaflet_id===n._leaflet_id});this._snapList.splice(o,1)},_calcClosestLayer:function(i,n){var o=this,l=[],u={};return n.forEach(function(p,m){if(!p._parentCopy||p._parentCopy!==o._layer){var x=o._calcLayerDistances(i,p);o.debugIndicatorLines[m].setLatLngs([i,x.latlng]),(u.distance===void 0||x.distance<=u.distance)&&(x.distance<u.distance&&(l=[]),(u=x).layer=p,l.push(u))}}),this._getClosestLayerByPriority(l)},_calcLayerDistances:function(i,n){var o,l,u=this,p=this._map,m=n instanceof L.Marker||n instanceof L.CircleMarker,x=n instanceof L.Polygon,M=i,P=m?n.getLatLng():n.getLatLngs();if(m)return{latlng:Object.assign({},P),distance:this._getDistance(p,P,M)};(function U(j){j.forEach(function(tt,nt){if(Array.isArray(tt))U(tt);else{var lt,ht=tt;lt=x?nt+1===j.length?0:nt+1:nt+1===j.length?void 0:nt+1;var ct=j[lt];if(ct){var mt=u._getDistanceToSegment(p,M,ht,ct);(l===void 0||mt<l)&&(l=mt,o=[ht,ct])}}})})(P);var F=this._getClosestPointOnSegment(p,i,o[0],o[1]);return{latlng:Object.assign({},F),segment:o,distance:l}},_getClosestLayerByPriority:function(i){i=i.sort(function(u,p){return u._leaflet_id-p._leaflet_id});var n=this._map.pm.globalOptions.snappingOrder||[],o=0,l={};return n.concat(["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"]).forEach(function(u){l[u]||(o+=1,l[u]=o)}),i.sort(function(u,p,m){var x=2<arguments.length&&m!==void 0?m:"asc";if(!p||Object.keys(p).length===0)return function(tt,nt){return tt-nt};for(var M,P=Object.keys(p),F=P.length,U={};F--;)M=P[F],U[M.toLowerCase()]=p[M];function j(tt){return tt instanceof L.Marker?"Marker":tt instanceof L.Circle?"Circle":tt instanceof L.CircleMarker?"CircleMarker":tt instanceof L.Rectangle?"Rectangle":tt instanceof L.Polygon?"Polygon":tt instanceof L.Polyline?"Line":void 0}return function(tt,nt){var lt,ht;if(u==="instanceofShape"){if(lt=j(tt.layer).toLowerCase(),ht=j(nt.layer).toLowerCase(),!lt||!ht)return 0}else{if(!tt.hasOwnProperty(u)||!nt.hasOwnProperty(u))return 0;lt=tt[u].toLowerCase(),ht=nt[u].toLowerCase()}var ct=lt in U?U[lt]:Number.MAX_SAFE_INTEGER,mt=ht in U?U[ht]:Number.MAX_SAFE_INTEGER,wt=0;return ct<mt?wt=-1:mt<ct&&(wt=1),x==="desc"?-1*wt:wt}}("instanceofShape",l)),i[0]||{}},_checkPrioritiySnapping:function(i){var n,o=this._map,l=i.segment[0],u=i.segment[1],p=i.latlng,m=this._getDistance(o,l,p),x=this._getDistance(o,u,p),M=m<x?l:u,P=m<x?m:x;if(this.options.snapMiddle){var F=J.calcMiddleLatLng(o,l,u),U=this._getDistance(o,F,p);U<m&&U<x&&(M=F,P=U)}return n=P<this.options.snapDistance?M:p,Object.assign({},n)},_unsnap:function(){delete this._snapLatLng},_getClosestPointOnSegment:function(i,n,o,l){var u=i.getMaxZoom();u===1/0&&(u=i.getZoom());var p=i.project(n,u),m=i.project(o,u),x=i.project(l,u),M=L.LineUtil.closestPointOnSegment(p,m,x);return i.unproject(M,u)},_getDistanceToSegment:function(i,n,o,l){var u=i.latLngToLayerPoint(n),p=i.latLngToLayerPoint(o),m=i.latLngToLayerPoint(l);return L.LineUtil.pointToSegmentDistance(u,p,m)},_getDistance:function(i,n,o){return i.latLngToLayerPoint(n).distanceTo(i.latLngToLayerPoint(o))}},d=L.Class.extend({includes:[X],options:{snappable:!0,snapDistance:20,snapMiddle:!1,allowSelfIntersection:!0,tooltips:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},pathOptions:null,cursorMarker:!0,finishOn:null,markerStyle:{draggable:!0,icon:L.icon()},hideMiddleMarkers:!1,minRadiusCircle:null,maxRadiusCircle:null,minRadiusCircleMarker:null,maxRadiusCircleMarker:null,editable:!1,markerEditable:!0,continueDrawing:!1},setOptions:function(i){L.Util.setOptions(this,i)},initialize:function(i){var n=this,o=new L.Icon.Default;o.options.tooltipAnchor=[0,0],this.options.markerStyle.icon=o,this._map=i,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut"],this.shapes.forEach(function(l){n[l]=new L.PM.Draw[l](n._map)}),this.Marker.setOptions({continueDrawing:!0}),this.CircleMarker.setOptions({continueDrawing:!0})},setPathOptions:function(i){this.options.pathOptions=i},getShapes:function(){return this.shapes},enable:function(i,n){if(!i)throw new Error("Error: Please pass a shape as a parameter. Possible shapes are: ".concat(this.getShapes().join(",")));this.disable(),this[i].enable(n)},disable:function(){var i=this;this.shapes.forEach(function(n){i[n].disable()})},addControls:function(){var i=this;this.shapes.forEach(function(n){i[n].addButton()})},getActiveShape:function(){var i,n=this;return this.shapes.forEach(function(o){n[o]._enabled&&(i=o)}),i},_setGlobalDrawMode:function(){this._shape==="Cut"?J._fireEvent(this._map,"pm:globalcutmodetoggled",{enabled:!!this._enabled,map:this._map}):J._fireEvent(this._map,"pm:globaldrawmodetoggled",{enabled:this._enabled,shape:this._shape,map:this._map});var i=J.findLayers(this._map);this._enabled?i.forEach(function(n){J.disablePopup(n)}):i.forEach(function(n){J.enablePopup(n)})},createNewDrawInstance:function(i,n){var o=this._getShapeFromBtnName(n);if(this[i])throw new TypeError("Draw Type already exists");if(!L.PM.Draw[o])throw new TypeError("There is no class L.PM.Draw.".concat(o));return this[i]=new L.PM.Draw[o](this._map),this[i].toolbarButtonName=i,this[i]._shape=i,this.shapes.push(i),this[n]&&this[i].setOptions(this[n].options),this[i].setOptions(this[i].options),this[i]},_getShapeFromBtnName:function(i){var n={drawMarker:"Marker",drawCircle:"Circle",drawPolygon:"Polygon",drawPolyline:"Line",drawRectangle:"Rectangle",drawCircleMarker:"CircleMarker",editMode:"Edit",dragMode:"Drag",cutPolygon:"Cut",removalMode:"Removal"};return n[i]?n[i]:this[i]?this[i]._shape:i},_finishLayer:function(i){i.pm.setOptions(this.options),i.pm&&(i.pm._shape=this._shape),this._addDrawnLayerProp(i)},_addDrawnLayerProp:function(i){i._drawnByGeoman=!0},_setPane:function(i,n){n==="layerPane"?i.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":n==="vertexPane"?i.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":n==="markerPane"&&(i.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")}});d.Marker=d.extend({initialize:function(i){this._map=i,this._shape="Marker",this.toolbarButtonName="drawMarker"},enable:function(i){var n=this;L.Util.setOptions(this,i),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker([0,0],this.options.markerStyle),this._setPane(this._hintMarker,"markerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(q("tooltips.placeMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this.options.markerEditable&&this._map.eachLayer(function(o){n.isRelevantMarker(o)&&o.pm.enable()}),J._fireEvent(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer}),this._setGlobalDrawMode()},disable:function(){var i=this;this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(function(n){i.isRelevantMarker(n)&&n.pm.disable()}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),J._fireEvent(this._map,"pm:drawend",{shape:this._shape}),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(i){this.enabled()?this.disable():this.enable(i)},isRelevantMarker:function(i){return i instanceof L.Marker&&i.pm&&!i._pmTempLayer},_syncHintMarker:function(i){if(this._hintMarker.setLatLng(i.latlng),this.options.snappable){var n=i;n.target=this._hintMarker,this._handleSnapping(n)}},_createMarker:function(i){if(i.latlng){this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);var n=this._hintMarker.getLatLng(),o=new L.Marker(n,this.options.markerStyle);this._setPane(o,"markerPane"),this._finishLayer(o),o.addTo(this._map.pm._getContainingLayer()),o.pm||(o.options.draggable=!1),o.addTo(this._map.pm._getContainingLayer()),o.pm&&this.options.markerEditable?o.pm.enable():o.dragging&&o.dragging.disable(),J._fireEvent(this._map,"pm:create",{shape:this._shape,marker:o,layer:o}),this._cleanupSnapping(),this.options.continueDrawing||this.disable()}}});var b=s(7),I=s.n(b);d.Line=d.extend({initialize:function(i){this._map=i,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable:function(i){L.Util.setOptions(this,i),this._enabled=!0,this._layerGroup=new L.LayerGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],this.options.templineStyle),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(q("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map._container.style.cursor="crosshair",this._map.on("click",this._createVertex,this),this.options.finishOn&&this._map.on(this.options.finishOn,this._finishShape,this),this.options.finishOn==="dblclick"&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],J._fireEvent(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer}),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),J._fireEvent(this._map,"pm:drawend",{shape:this._shape}),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(i){this.enabled()?this.disable():this.enable(i)},_syncHintLine:function(){var i=this._layer.getLatLngs();if(0<i.length){var n=i[i.length-1];this._hintline.setLatLngs([n,this._hintMarker.getLatLng()])}},_syncHintMarker:function(i){if(this._hintMarker.setLatLng(i.latlng),this.options.snappable){var n=i;n.target=this._hintMarker,this._handleSnapping(n)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,i.latlng)},hasSelfIntersection:function(){return 0<I()(this._layer.toGeoJSON(15)).features.length},_handleSelfIntersection:function(i,n){var o=L.polyline(this._layer.getLatLngs());i&&(n=n||this._hintMarker.getLatLng(),o.addLatLng(n));var l=I()(o.toGeoJSON(15));this._doesSelfIntersect=0<l.features.length,this._doesSelfIntersect?this._hintline.setStyle({color:"red"}):this._hintline.isEmpty()||this._hintline.setStyle(this.options.hintlineStyle)},_createVertex:function(i){if(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,i.latlng),!this._doesSelfIntersect)){this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);var n=this._hintMarker.getLatLng();if(n.equals(this._layer.getLatLngs()[0]))this._finishShape(i);else{this._layer._latlngInfo=this._layer._latlngInfo||[],this._layer._latlngInfo.push({latlng:n,snapInfo:this._hintMarker._snapInfo}),this._layer.addLatLng(n);var o=this._createMarker(n);this._setTooltipText(),this._hintline.setLatLngs([n,n]),J._fireEvent(this._layer,"pm:vertexadded",{shape:this._shape,workingLayer:this._layer,marker:o,latlng:n})}}},_removeLastVertex:function(){var i=this._layer.getLatLngs(),n=i.pop();if(i.length<1)this.disable();else{var o=this._layerGroup.getLayers().filter(function(l){return l instanceof L.Marker}).filter(function(l){return!L.DomUtil.hasClass(l._icon,"cursor-marker")}).find(function(l){return l.getLatLng()===n});this._layerGroup.removeLayer(o),this._layer.setLatLngs(i),this._syncHintLine(),this._setTooltipText()}},_finishShape:function(){if(this.options.allowSelfIntersection||(this._handleSelfIntersection(!1),!this._doesSelfIntersect)){var i=this._layer.getLatLngs();if(!(i.length<=1)){var n=L.polyline(i,this.options.pathOptions);this._setPane(n,"layerPane"),this._finishLayer(n),n.addTo(this._map.pm._getContainingLayer()),J._fireEvent(this._map,"pm:create",{shape:this._shape,layer:n}),this.options.snappable&&this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()}}},_createMarker:function(i){var n=new L.Marker(i,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(n,"vertexPane"),n._pmTempLayer=!0,this._layerGroup.addLayer(n),n.on("click",this._finishShape,this),n},_setTooltipText:function(){var i;i=q(this._layer.getLatLngs().flat().length<=1?"tooltips.continueLine":"tooltips.finishLine"),this._hintMarker.setTooltipContent(i)}}),d.Polygon=d.Line.extend({initialize:function(i){this._map=i,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},_createMarker:function(i){var n=new L.Marker(i,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(n,"vertexPane"),n._pmTempLayer=!0,this._layerGroup.addLayer(n),this._layer.getLatLngs().flat().length===1?(n.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(n)-1,this.options.snappable&&this._cleanupSnapping()):n.on("click",function(){return 1}),n},_setTooltipText:function(){var i;i=q(this._layer.getLatLngs().flat().length<=2?"tooltips.continueLine":"tooltips.finishPoly"),this._hintMarker.setTooltipContent(i)},_finishShape:function(i){if(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),!this._doesSelfIntersect)){var n=this._layer.getLatLngs();if(!(n.length<=2)){var o=L.polygon(n,this.options.pathOptions);this._setPane(o,"layerPane"),this._finishLayer(o),o.addTo(this._map.pm._getContainingLayer()),J._fireEvent(this._map,"pm:create",{shape:this._shape,layer:o}),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this.disable(),this.options.continueDrawing&&this.enable()}}}}),d.Rectangle=d.extend({initialize:function(i){this._map=i,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable:function(i){if(L.Util.setOptions(this,i),this._enabled=!0,this._layerGroup=new L.LayerGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._startMarker=L.marker([0,0],{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:100,opacity:this.options.cursorMarker?1:0}),this._setPane(this._startMarker,"vertexPane"),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker([0,0],{icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.tooltips&&this._hintMarker.bindTooltip(q("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){L.DomUtil.addClass(this._hintMarker._icon,"visible"),this._styleMarkers=[];for(var n=0;n<2;n+=1){var o=L.marker([0,0],{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});this._setPane(o,"vertexPane"),o._pmTempLayer=!0,this._layerGroup.addLayer(o),this._styleMarkers.push(o)}}this._map._container.style.cursor="crosshair",this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],J._fireEvent(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer}),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),J._fireEvent(this._map,"pm:drawend",{shape:this._shape}),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(i){this.enabled()?this.disable():this.enable(i)},_placeStartingMarkers:function(i){this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);var n=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(n),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(function(o){L.DomUtil.addClass(o._icon,"visible"),o.setLatLng(n)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent(q("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin:function(){var i=this._startMarker.getLatLng();i&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([i,i]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker:function(i){if(this._hintMarker.setLatLng(i.latlng),this.options.snappable){var n=i;n.target=this._hintMarker,this._handleSnapping(n)}},_syncRectangleSize:function(){var i=this,n=this._startMarker.getLatLng(),o=this._hintMarker.getLatLng();if(this._layer.setBounds([n,o]),this.options.cursorMarker&&this._styleMarkers){var l=this._findCorners(),u=[];l.forEach(function(p){p.equals(i._startMarker.getLatLng())||p.equals(i._hintMarker.getLatLng())||u.push(p)}),u.forEach(function(p,m){i._styleMarkers[m].setLatLng(p)})}},_findCorners:function(){var i=this._layer.getBounds();return[i.getNorthWest(),i.getNorthEast(),i.getSouthEast(),i.getSouthWest()]},_finishShape:function(i){this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);var n=this._hintMarker.getLatLng(),o=this._startMarker.getLatLng(),l=L.rectangle([o,n],this.options.pathOptions);this._setPane(l,"layerPane"),this._finishLayer(l),l.addTo(this._map.pm._getContainingLayer()),J._fireEvent(this._map,"pm:create",{shape:this._shape,layer:l}),this.disable(),this.options.continueDrawing&&this.enable()}}),d.Circle=d.extend({initialize:function(i){this._map=i,this._shape="Circle",this.toolbarButtonName="drawCircle"},enable:function(i){L.Util.setOptions(this,i),this.options.radius=0,this._enabled=!0,this._layerGroup=new L.LayerGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.circle([0,0],this.options.templineStyle),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._centerMarker=L.marker([0,0],{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._centerMarker),this._hintMarker=L.marker([0,0],{icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(q("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map._container.style.cursor="crosshair",this._map.on("click",this._placeCenterMarker,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],J._fireEvent(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer}),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),J._fireEvent(this._map,"pm:drawend",{shape:this._shape}),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(i){this.enabled()?this.disable():this.enable(i)},_syncHintLine:function(){var i=this._centerMarker.getLatLng(),n=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([i,n])},_syncCircleRadius:function(){var i,n=this._centerMarker.getLatLng(),o=this._hintMarker.getLatLng();i=this._map.options.crs===L.CRS.Simple?this._map.distance(n,o):n.distanceTo(o),this.options.minRadiusCircle&&i<this.options.minRadiusCircle?this._layer.setRadius(this.options.minRadiusCircle):this.options.maxRadiusCircle&&i>this.options.maxRadiusCircle?this._layer.setRadius(this.options.maxRadiusCircle):this._layer.setRadius(i)},_syncHintMarker:function(i){if(this._hintMarker.setLatLng(i.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){var n=i;n.target=this._hintMarker,this._handleSnapping(n)}this._handleHintMarkerSnapping()},_placeCenterMarker:function(i){this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);var n=this._hintMarker.getLatLng();this._centerMarker.setLatLng(n),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter:function(){var i=this._centerMarker.getLatLng();i&&(this._layer.setLatLng(i),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(q("tooltips.finishCircle")),J._fireEvent(this._layer,"pm:centerplaced",{workingLayer:this._layer,latlng:i,shape:this._shape}))},_finishShape:function(i){this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);var n,o=this._centerMarker.getLatLng(),l=this._hintMarker.getLatLng();n=this._map.options.crs===L.CRS.Simple?this._map.distance(o,l):o.distanceTo(l),this.options.minRadiusCircle&&n<this.options.minRadiusCircle?n=this.options.minRadiusCircle:this.options.maxRadiusCircle&&n>this.options.maxRadiusCircle&&(n=this.options.maxRadiusCircle);var u=Object.assign({},this.options.pathOptions,{radius:n}),p=L.circle(o,u);this._setPane(p,"layerPane"),this._finishLayer(p),p.addTo(this._map.pm._getContainingLayer()),p.pm&&p.pm._updateHiddenPolyCircle(),J._fireEvent(this._map,"pm:create",{shape:this._shape,layer:p}),this.disable(),this.options.continueDrawing&&this.enable()},_getNewDestinationOfHintMarker:function(){var i=this._centerMarker.getLatLng(),n=this._hintMarker.getLatLng(),o=i.distanceTo(n);return this.options.minRadiusCircle&&o<this.options.minRadiusCircle?n=bt(this._map,i,n,this.options.minRadiusCircle):this.options.maxRadiusCircle&&o>this.options.maxRadiusCircle&&(n=bt(this._map,i,n,this.options.maxRadiusCircle)),n},_handleHintMarkerSnapping:function(){if(this._hintMarker._snapped){var i=this._centerMarker.getLatLng(),n=this._hintMarker.getLatLng(),o=i.distanceTo(n);(this.options.minRadiusCircle&&o<this.options.minRadiusCircle||this.options.maxRadiusCircle&&o>this.options.maxRadiusCircle)&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng)}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}}),d.CircleMarker=d.Marker.extend({initialize:function(i){this._map=i,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker",this._layerIsDragging=!1},enable:function(i){var n=this;L.Util.setOptions(this,i),this._enabled=!0,this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this.options.editable?(this._layerGroup=new L.LayerGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.circleMarker([0,0],this.options.templineStyle),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._centerMarker=L.marker([0,0],{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._centerMarker),this._hintMarker=L.marker([0,0],{icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(q("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map.on("click",this._placeCenterMarker,this),this._map._container.style.cursor="crosshair"):(this._map.on("click",this._createMarker,this),this._hintMarker=L.circleMarker([0,0],this.options.templineStyle),this._setPane(this._hintMarker,"layerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this.options.tooltips&&this._hintMarker.bindTooltip(q("tooltips.placeCircleMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip()),this._map.on("mousemove",this._syncHintMarker,this),!this.options.editable&&this.options.markerEditable&&this._map.eachLayer(function(o){n.isRelevantMarker(o)&&o.pm.enable()}),this._layer.bringToBack(),J._fireEvent(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer}),this._setGlobalDrawMode()},disable:function(){var i=this;this._enabled&&(this._enabled=!1,this.options.editable?(this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.removeLayer(this._layerGroup)):(this._map.off("click",this._createMarker,this),this._map.eachLayer(function(n){i.isRelevantMarker(n)&&n.pm.disable()}),this._hintMarker.remove()),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),J._fireEvent(this._map,"pm:drawend",{shape:this._shape}),this._setGlobalDrawMode())},_placeCenterMarker:function(i){this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);var n=this._hintMarker.getLatLng();this._centerMarker.setLatLng(n),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter:function(){var i=this._centerMarker.getLatLng();i&&(this._layer.setLatLng(i),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(q("tooltips.finishCircle")),J._fireEvent(this._layer,"pm:centerplaced",{shape:this._shape,workingLayer:this._layer,latlng:i}))},_syncHintLine:function(){var i=this._centerMarker.getLatLng(),n=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([i,n])},_syncCircleRadius:function(){var i=this._centerMarker.getLatLng(),n=this._hintMarker.getLatLng(),o=this._map.project(i).distanceTo(this._map.project(n));this.options.minRadiusCircleMarker&&o<this.options.minRadiusCircleMarker?this._layer.setRadius(this.options.minRadiusCircleMarker):this.options.maxRadiusCircleMarker&&o>this.options.maxRadiusCircleMarker?this._layer.setRadius(this.options.maxRadiusCircleMarker):this._layer.setRadius(o)},_syncHintMarker:function(i){if(this._hintMarker.setLatLng(i.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){var n=i;n.target=this._hintMarker,this._handleSnapping(n)}this._handleHintMarkerSnapping()},isRelevantMarker:function(i){return i instanceof L.CircleMarker&&!(i instanceof L.Circle)&&i.pm&&!i._pmTempLayer},_createMarker:function(i){if(i.latlng&&!this._layerIsDragging){this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);var n=this._hintMarker.getLatLng(),o=L.circleMarker(n,this.options.pathOptions);this._setPane(o,"layerPane"),this._finishLayer(o),o.addTo(this._map.pm._getContainingLayer()),o.pm&&this.options.markerEditable&&o.pm.enable(),J._fireEvent(this._map,"pm:create",{shape:this._shape,marker:o,layer:o}),this._cleanupSnapping(),this.options.continueDrawing||this.disable()}},_finishShape:function(i){this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);var n=this._centerMarker.getLatLng(),o=this._hintMarker.getLatLng(),l=this._map.project(n).distanceTo(this._map.project(o));this.options.editable&&(this.options.minRadiusCircleMarker&&l<this.options.minRadiusCircleMarker?l=this.options.minRadiusCircleMarker:this.options.maxRadiusCircleMarker&&l>this.options.maxRadiusCircleMarker&&(l=this.options.maxRadiusCircleMarker));var u=Object.assign({},this.options.pathOptions,{radius:l}),p=L.circleMarker(n,u);this._setPane(p,"layerPane"),this._finishLayer(p),p.addTo(this._map.pm._getContainingLayer()),p.pm&&p.pm._updateHiddenPolyCircle(),J._fireEvent(this._map,"pm:create",{shape:this._shape,layer:p}),this.disable(),this.options.continueDrawing&&this.enable()},_getNewDestinationOfHintMarker:function(){var i=this._hintMarker.getLatLng();if(this.options.editable){var n=this._centerMarker.getLatLng(),o=this._map.project(n).distanceTo(this._map.project(i));this.options.minRadiusCircleMarker&&o<this.options.minRadiusCircleMarker?i=bt(this._map,n,i,this._pxRadiusToMeter(this.options.minRadiusCircleMarker)):this.options.maxRadiusCircleMarker&&o>this.options.maxRadiusCircleMarker&&(i=bt(this._map,n,i,this._pxRadiusToMeter(this.options.maxRadiusCircleMarker)))}return i},_handleHintMarkerSnapping:function(){if(this.options.editable){if(this._hintMarker._snapped){var i=this._centerMarker.getLatLng(),n=this._hintMarker.getLatLng(),o=this._map.project(i).distanceTo(this._map.project(n));(this.options.minRadiusCircleMarker&&o<this.options.minRadiusCircleMarker||this.options.maxRadiusCircleMarker&&o>this.options.maxRadiusCircleMarker)&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng)}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}},_pxRadiusToMeter:function(i){var n=this._centerMarker.getLatLng(),o=this._map.project(n),l=L.point(o.x+i,o.y);return this._map.unproject(l).distanceTo(n)}});var V=s(1),W=s.n(V);function at(i,n,o){var l=i[n];i[n]=i[o],i[o]=l}function rt(i,n){return i<n?-1:n<i?1:0}var ot=function(i,n,o,l,u){(function p(m,x,M,P,F){for(;M<P;){if(600<P-M){var U=P-M+1,j=x-M+1,tt=Math.log(U),nt=.5*Math.exp(2*tt/3),lt=.5*Math.sqrt(tt*nt*(U-nt)/U)*(j-U/2<0?-1:1);p(m,x,Math.max(M,Math.floor(x-j*nt/U+lt)),Math.min(P,Math.floor(x+(U-j)*nt/U+lt)),F)}var ht=m[x],ct=M,mt=P;for(at(m,M,x),0<F(m[P],ht)&&at(m,M,P);ct<mt;){for(at(m,ct,mt),ct++,mt--;F(m[ct],ht)<0;)ct++;for(;0<F(m[mt],ht);)mt--}F(m[M],ht)===0?at(m,M,mt):at(m,++mt,P),mt<=x&&(M=mt+1),x<=mt&&(P=mt-1)}})(i,n,o||0,l||i.length-1,u||rt)};function ut(i,n){if(!(this instanceof ut))return new ut(i,n);this._maxEntries=Math.max(4,i||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),n&&this._initFormat(n),this.clear()}function gt(i,n,o){if(!o)return n.indexOf(i);for(var l=0;l<n.length;l++)if(o(i,n[l]))return l;return-1}function dt(i,n){_t(i,0,i.children.length,n,i)}function _t(i,n,o,l,u){(u=u||Ft(null)).minX=1/0,u.minY=1/0,u.maxX=-1/0,u.maxY=-1/0;for(var p,m=n;m<o;m++)p=i.children[m],kt(u,i.leaf?l(p):p);return u}function kt(i,n){return i.minX=Math.min(i.minX,n.minX),i.minY=Math.min(i.minY,n.minY),i.maxX=Math.max(i.maxX,n.maxX),i.maxY=Math.max(i.maxY,n.maxY),i}function vt(i,n){return i.minX-n.minX}function xt(i,n){return i.minY-n.minY}function Ct(i){return(i.maxX-i.minX)*(i.maxY-i.minY)}function Rt(i){return i.maxX-i.minX+(i.maxY-i.minY)}function te(i,n){return i.minX<=n.minX&&i.minY<=n.minY&&n.maxX<=i.maxX&&n.maxY<=i.maxY}function Yt(i,n){return n.minX<=i.maxX&&n.minY<=i.maxY&&n.maxX>=i.minX&&n.maxY>=i.minY}function Ft(i){return{children:i,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function le(i,n,o,l,u){for(var p,m=[n,o];m.length;)(o=m.pop())-(n=m.pop())<=l||(p=n+Math.ceil((o-n)/l/2)*l,ot(i,p,n,o,u),m.push(n,p,p,o))}ut.prototype={all:function(){return this._all(this.data,[])},search:function(i){var n=this.data,o=[],l=this.toBBox;if(!Yt(i,n))return o;for(var u,p,m,x,M=[];n;){for(u=0,p=n.children.length;u<p;u++)m=n.children[u],Yt(i,x=n.leaf?l(m):m)&&(n.leaf?o.push(m):te(i,x)?this._all(m,o):M.push(m));n=M.pop()}return o},collides:function(i){var n=this.data,o=this.toBBox;if(!Yt(i,n))return!1;for(var l,u,p,m,x=[];n;){for(l=0,u=n.children.length;l<u;l++)if(p=n.children[l],Yt(i,m=n.leaf?o(p):p)){if(n.leaf||te(i,m))return!0;x.push(p)}n=x.pop()}return!1},load:function(i){if(!i||!i.length)return this;if(i.length<this._minEntries){for(var n=0,o=i.length;n<o;n++)this.insert(i[n]);return this}var l=this._build(i.slice(),0,i.length-1,0);if(this.data.children.length)if(this.data.height===l.height)this._splitRoot(this.data,l);else{if(this.data.height<l.height){var u=this.data;this.data=l,l=u}this._insert(l,this.data.height-l.height-1,!0)}else this.data=l;return this},insert:function(i){return i&&this._insert(i,this.data.height-1),this},clear:function(){return this.data=Ft([]),this},remove:function(i,n){if(!i)return this;for(var o,l,u,p,m=this.data,x=this.toBBox(i),M=[],P=[];m||M.length;){if(m||(m=M.pop(),l=M[M.length-1],o=P.pop(),p=!0),m.leaf&&(u=gt(i,m.children,n))!==-1)return m.children.splice(u,1),M.push(m),this._condense(M),this;p||m.leaf||!te(m,x)?l?(o++,m=l.children[o],p=!1):m=null:(M.push(m),P.push(o),o=0,m=(l=m).children[0])}return this},toBBox:function(i){return i},compareMinX:vt,compareMinY:xt,toJSON:function(){return this.data},fromJSON:function(i){return this.data=i,this},_all:function(i,n){for(var o=[];i;)i.leaf?n.push.apply(n,i.children):o.push.apply(o,i.children),i=o.pop();return n},_build:function(i,n,o,l){var u,p=o-n+1,m=this._maxEntries;if(p<=m)return dt(u=Ft(i.slice(n,o+1)),this.toBBox),u;l||(l=Math.ceil(Math.log(p)/Math.log(m)),m=Math.ceil(p/Math.pow(m,l-1))),(u=Ft([])).leaf=!1,u.height=l;var x,M,P,F,U=Math.ceil(p/m),j=U*Math.ceil(Math.sqrt(m));for(le(i,n,o,j,this.compareMinX),x=n;x<=o;x+=j)for(le(i,x,P=Math.min(x+j-1,o),U,this.compareMinY),M=x;M<=P;M+=U)F=Math.min(M+U-1,P),u.children.push(this._build(i,M,F,l-1));return dt(u,this.toBBox),u},_chooseSubtree:function(i,n,o,l){for(var u,p,m,x,M,P,F,U,j,tt;l.push(n),!n.leaf&&l.length-1!==o;){for(F=U=1/0,u=0,p=n.children.length;u<p;u++)M=Ct(m=n.children[u]),j=i,tt=m,(P=(Math.max(tt.maxX,j.maxX)-Math.min(tt.minX,j.minX))*(Math.max(tt.maxY,j.maxY)-Math.min(tt.minY,j.minY))-M)<U?(U=P,F=M<F?M:F,x=m):P===U&&M<F&&(F=M,x=m);n=x||n.children[0]}return n},_insert:function(i,n,o){var l=this.toBBox,u=o?i:l(i),p=[],m=this._chooseSubtree(u,this.data,n,p);for(m.children.push(i),kt(m,u);0<=n&&p[n].children.length>this._maxEntries;)this._split(p,n),n--;this._adjustParentBBoxes(u,p,n)},_split:function(i,n){var o=i[n],l=o.children.length,u=this._minEntries;this._chooseSplitAxis(o,u,l);var p=this._chooseSplitIndex(o,u,l),m=Ft(o.children.splice(p,o.children.length-p));m.height=o.height,m.leaf=o.leaf,dt(o,this.toBBox),dt(m,this.toBBox),n?i[n-1].children.push(m):this._splitRoot(o,m)},_splitRoot:function(i,n){this.data=Ft([i,n]),this.data.height=i.height+1,this.data.leaf=!1,dt(this.data,this.toBBox)},_chooseSplitIndex:function(i,n,o){var l,u,p,m,x,M,P,F,U,j,tt,nt,lt,ht;for(M=P=1/0,l=n;l<=o-n;l++)U=u=_t(i,0,l,this.toBBox),j=p=_t(i,l,o,this.toBBox),tt=Math.max(U.minX,j.minX),nt=Math.max(U.minY,j.minY),lt=Math.min(U.maxX,j.maxX),ht=Math.min(U.maxY,j.maxY),m=Math.max(0,lt-tt)*Math.max(0,ht-nt),x=Ct(u)+Ct(p),m<M?(M=m,F=l,P=x<P?x:P):m===M&&x<P&&(P=x,F=l);return F},_chooseSplitAxis:function(i,n,o){var l=i.leaf?this.compareMinX:vt,u=i.leaf?this.compareMinY:xt;this._allDistMargin(i,n,o,l)<this._allDistMargin(i,n,o,u)&&i.children.sort(l)},_allDistMargin:function(i,n,o,l){i.children.sort(l);var u,p,m=this.toBBox,x=_t(i,0,n,m),M=_t(i,o-n,o,m),P=Rt(x)+Rt(M);for(u=n;u<o-n;u++)p=i.children[u],kt(x,i.leaf?m(p):p),P+=Rt(x);for(u=o-n-1;n<=u;u--)p=i.children[u],kt(M,i.leaf?m(p):p),P+=Rt(M);return P},_adjustParentBBoxes:function(i,n,o){for(var l=o;0<=l;l--)kt(n[l],i)},_condense:function(i){for(var n,o=i.length-1;0<=o;o--)i[o].children.length===0?0<o?(n=i[o-1].children).splice(n.indexOf(i[o]),1):this.clear():dt(i[o],this.toBBox)},_initFormat:function(i){var n=["return a"," - b",";"];this.compareMinX=new Function("a","b",n.join(i[0])),this.compareMinY=new Function("a","b",n.join(i[1])),this.toBBox=new Function("a","return {minX: a"+i[0]+", minY: a"+i[1]+", maxX: a"+i[2]+", maxY: a"+i[3]+"};")}};var ne=ut;function $t(i,n,o){if(!Oe(o=o||{}))throw new Error("options is invalid");var l=o.bbox,u=o.id;if(i===void 0)throw new Error("geometry is required");if(n&&n.constructor!==Object)throw new Error("properties must be an Object");l&&Le(l),u&&ze(u);var p={type:"Feature"};return u&&(p.id=u),l&&(p.bbox=l),p.properties=n||{},p.geometry=i,p}function fe(i,n,o){if(!i)throw new Error("coordinates is required");if(i.length<2)throw new Error("coordinates must be an array of two or more positions");if(!_e(i[0][1])||!_e(i[0][1]))throw new Error("coordinates must contain numbers");return $t({type:"LineString",coordinates:i},n,o)}function ae(i,n){if(!Oe(n=n||{}))throw new Error("options is invalid");var o=n.bbox,l=n.id;if(!i)throw new Error("No features passed");if(!Array.isArray(i))throw new Error("features must be an Array");o&&Le(o),l&&ze(l);var u={type:"FeatureCollection"};return l&&(u.id=l),o&&(u.bbox=o),u.features=i,u}function _e(i){return!isNaN(i)&&i!==null&&!Array.isArray(i)}function Oe(i){return!!i&&i.constructor===Object}function Le(i){if(!i)throw new Error("bbox is required");if(!Array.isArray(i))throw new Error("bbox must be an Array");if(i.length!==4&&i.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");i.forEach(function(n){if(!_e(n))throw new Error("bbox must only contain numbers")})}function ze(i){if(!i)throw new Error("id is required");if(["string","number"].indexOf(typeof i)===-1)throw new Error("id must be a number or a string")}function he(i,n,o){if(i!==null)for(var l,u,p,m,x,M,P,F,U=0,j=0,tt=i.type,nt=tt==="FeatureCollection",lt=tt==="Feature",ht=nt?i.features.length:1,ct=0;ct<ht;ct++){x=(F=!!(P=nt?i.features[ct].geometry:lt?i.geometry:i)&&P.type==="GeometryCollection")?P.geometries.length:1;for(var mt=0;mt<x;mt++){var wt=0,jt=0;if((m=F?P.geometries[mt]:P)!==null){M=m.coordinates;var At=m.type;switch(U=!o||At!=="Polygon"&&At!=="MultiPolygon"?0:1,At){case null:break;case"Point":if(n(M,j,ct,wt,jt)===!1)return!1;j++,wt++;break;case"LineString":case"MultiPoint":for(l=0;l<M.length;l++){if(n(M[l],j,ct,wt,jt)===!1)return!1;j++,At==="MultiPoint"&&wt++}At==="LineString"&&wt++;break;case"Polygon":case"MultiLineString":for(l=0;l<M.length;l++){for(u=0;u<M[l].length-U;u++){if(n(M[l][u],j,ct,wt,jt)===!1)return!1;j++}At==="MultiLineString"&&wt++,At==="Polygon"&&jt++}At==="Polygon"&&wt++;break;case"MultiPolygon":for(l=0;l<M.length;l++){for(At==="MultiPolygon"&&(jt=0),u=0;u<M[l].length;u++){for(p=0;p<M[l][u].length-U;p++){if(n(M[l][u][p],j,ct,wt,jt)===!1)return!1;j++}jt++}wt++}break;case"GeometryCollection":for(l=0;l<m.geometries.length;l++)if(he(m.geometries[l],n,o)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function be(i,n){if(i.type==="Feature")n(i,0);else if(i.type==="FeatureCollection")for(var o=0;o<i.features.length&&n(i.features[o],o)!==!1;o++);}function Ki(i,n){(function(o,l){var u,p,m,x,M,P,F,U,j,tt,nt=0,lt=o.type==="FeatureCollection",ht=o.type==="Feature",ct=lt?o.features.length:1;for(u=0;u<ct;u++){for(P=lt?o.features[u].geometry:ht?o.geometry:o,U=lt?o.features[u].properties:ht?o.properties:{},j=lt?o.features[u].bbox:ht?o.bbox:void 0,tt=lt?o.features[u].id:ht?o.id:void 0,M=(F=!!P&&P.type==="GeometryCollection")?P.geometries.length:1,m=0;m<M;m++)if((x=F?P.geometries[m]:P)!==null)switch(x.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(l(x,nt,U,j,tt)===!1)return!1;break;case"GeometryCollection":for(p=0;p<x.geometries.length;p++)if(l(x.geometries[p],nt,U,j,tt)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(l(null,nt,U,j,tt)===!1)return!1;nt++}})(i,function(o,l,u,p,m){var x,M=o===null?null:o.type;switch(M){case null:case"Point":case"LineString":case"Polygon":return n($t(o,u,{bbox:p,id:m}),l,0)!==!1&&void 0}switch(M){case"MultiPoint":x="Point";break;case"MultiLineString":x="LineString";break;case"MultiPolygon":x="Polygon"}for(var P=0;P<o.coordinates.length;P++){var F=o.coordinates[P];if(n($t({type:x,coordinates:F},u),l,P)===!1)return!1}})}function Ii(i){var n=[i[0],i[1]],o=[i[0],i[3]],l=[i[2],i[3]];return{type:"Feature",bbox:i,properties:{},geometry:{type:"Polygon",coordinates:[[n,[i[2],i[1]],l,o,n]]}}}function Ee(i){var n=[1/0,1/0,-1/0,-1/0];return he(i,function(o){n[0]>o[0]&&(n[0]=o[0]),n[1]>o[1]&&(n[1]=o[1]),n[2]<o[0]&&(n[2]=o[0]),n[3]<o[1]&&(n[3]=o[1])}),n}var me=function(i){var n=ne(i);return n.insert=function(o){if(Array.isArray(o)){var l=o;(o=Ii(l)).bbox=l}else o.bbox=o.bbox?o.bbox:Ee(o);return ne.prototype.insert.call(this,o)},n.load=function(o){var l=[];return Array.isArray(o)?o.forEach(function(u){var p=Ii(u);p.bbox=u,l.push(p)}):be(o,function(u){u.bbox=u.bbox?u.bbox:Ee(u),l.push(u)}),ne.prototype.load.call(this,l)},n.remove=function(o){if(Array.isArray(o)){var l=o;(o=Ii(l)).bbox=l}return ne.prototype.remove.call(this,o)},n.clear=function(){return ne.prototype.clear.call(this)},n.search=function(o){return{type:"FeatureCollection",features:ne.prototype.search.call(this,this.toBBox(o))}},n.collides=function(o){return ne.prototype.collides.call(this,this.toBBox(o))},n.all=function(){return{type:"FeatureCollection",features:ne.prototype.all.call(this)}},n.toJSON=function(){return ne.prototype.toJSON.call(this)},n.fromJSON=function(o){return ne.prototype.fromJSON.call(this,o)},n.toBBox=function(o){var l;return{minX:(l=o.bbox?o.bbox:Array.isArray(o)&&o.length===4?o:Ee(o))[0],minY:l[1],maxX:l[2],maxY:l[3]}},n},Wt=63710088e-1,Ji={meters:Wt,metres:Wt,millimeters:1e3*Wt,millimetres:1e3*Wt,centimeters:100*Wt,centimetres:100*Wt,kilometers:Wt/1e3,kilometres:Wt/1e3,miles:Wt/1609.344,nauticalmiles:Wt/1852,inches:39.37*Wt,yards:Wt/1.0936,feet:3.28084*Wt,radians:1,degrees:Wt/111325};function _i(i){if(i==null)throw new Error("degrees is required");return i%360*Math.PI/180}function Ie(i){if(!i)throw new Error("coord is required");if(i.type==="Feature"&&i.geometry!==null&&i.geometry.type==="Point")return i.geometry.coordinates;if(i.type==="Point")return i.coordinates;if(Array.isArray(i)&&2<=i.length&&i[0].length===void 0&&i[1].length===void 0)return i;throw new Error("coord must be GeoJSON Point or an Array of numbers")}var ge=function(i,n,o){if(!function(U){return!!U&&U.constructor===Object}(o=o||{}))throw new Error("options is invalid");var l=o.units,u=Ie(i),p=Ie(n),m=_i(p[1]-u[1]),x=_i(p[0]-u[0]),M=_i(u[1]),P=_i(p[1]),F=Math.pow(Math.sin(m/2),2)+Math.pow(Math.sin(x/2),2)*Math.cos(M)*Math.cos(P);return function(U,j){if(U==null)throw new Error("radians is required");if(j&&typeof j!="string")throw new Error("units must be a string");var tt=Ji[j||"kilometers"];if(!tt)throw new Error(j+" units is invalid");return U*tt}(2*Math.atan2(Math.sqrt(F),Math.sqrt(1-F)),l)},$i=function(i,n){if(!function(m){return!!m&&m.constructor===Object}(n=n||{}))throw new Error("options is invalid");var o=n.precision,l=n.coordinates,u=n.mutate;if(o=o==null||isNaN(o)?6:o,l=l==null||isNaN(l)?3:l,!i)throw new Error("<geojson> is required");if(typeof o!="number")throw new Error("<precision> must be a number");if(typeof l!="number")throw new Error("<coordinates> must be a number");u!==!1&&u!==void 0||(i=JSON.parse(JSON.stringify(i)));var p=Math.pow(10,o);return function m(x,M,P){if(x!==null)for(var F,U,j,tt,nt,lt,ht,ct,mt=0,wt=0,jt=x.type,At=jt==="FeatureCollection",Vt=jt==="Feature",Qt=At?x.features.length:1,Jt=0;Jt<Qt;Jt++){nt=(ct=!!(ht=At?x.features[Jt].geometry:Vt?x.geometry:x)&&ht.type==="GeometryCollection")?ht.geometries.length:1;for(var pe=0;pe<nt;pe++){var ie=0,Pe=0;if((tt=ct?ht.geometries[pe]:ht)!==null){lt=tt.coordinates;var ye=tt.type;switch(mt=!P||ye!=="Polygon"&&ye!=="MultiPolygon"?0:1,ye){case null:break;case"Point":if(M(lt,wt,Jt,ie,Pe)===!1)return!1;wt++,ie++;break;case"LineString":case"MultiPoint":for(F=0;F<lt.length;F++){if(M(lt[F],wt,Jt,ie,Pe)===!1)return!1;wt++,ye==="MultiPoint"&&ie++}ye==="LineString"&&ie++;break;case"Polygon":case"MultiLineString":for(F=0;F<lt.length;F++){for(U=0;U<lt[F].length-mt;U++){if(M(lt[F][U],wt,Jt,ie,Pe)===!1)return!1;wt++}ye==="MultiLineString"&&ie++,ye==="Polygon"&&Pe++}ye==="Polygon"&&ie++;break;case"MultiPolygon":for(F=0;F<lt.length;F++){for(ye==="MultiPolygon"&&(Pe=0),U=0;U<lt[F].length;U++){for(j=0;j<lt[F][U].length-mt;j++){if(M(lt[F][U][j],wt,Jt,ie,Pe)===!1)return!1;wt++}Pe++}ie++}break;case"GeometryCollection":for(F=0;F<tt.geometries.length;F++)if(m(tt.geometries[F],M,P)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}(i,function(m){(function(x,M,P){x.length>P&&x.splice(P,x.length);for(var F=0;F<x.length;F++)x[F]=Math.round(x[F]*M)/M})(m,p,l)}),i};function Xe(i){if(!i)throw new Error("coord is required");if(i.type==="Feature"&&i.geometry!==null&&i.geometry.type==="Point")return i.geometry.coordinates;if(i.type==="Point")return i.coordinates;if(Array.isArray(i)&&2<=i.length&&i[0].length===void 0&&i[1].length===void 0)return i;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function ke(i){if(!i)throw new Error("coords is required");if(i.type==="Feature"&&i.geometry!==null)return i.geometry.coordinates;if(i.coordinates)return i.coordinates;if(Array.isArray(i))return i;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function we(i,n){if(!i)throw new Error((n||"geojson")+" is required");if(i.geometry&&i.geometry.type)return i.geometry.type;if(i.type)return i.type;throw new Error((n||"geojson")+" is invalid")}var Di=function(i){if(!i)throw new Error("geojson is required");var n=[];return Ki(i,function(o){(function(l,u){var p=[],m=l.geometry;switch(m.type){case"Polygon":p=ke(m);break;case"LineString":p=[ke(m)]}p.forEach(function(x){(function(M,P){var F=[];return M.reduce(function(U,j){var tt=fe([U,j],P);return tt.bbox=function(nt,lt){var ht=nt[0],ct=nt[1],mt=lt[0],wt=lt[1];return[ht<mt?ht:mt,ct<wt?ct:wt,mt<ht?ht:mt,wt<ct?ct:wt]}(U,j),F.push(tt),j}),F})(x,l.properties).forEach(function(M){M.id=u.length,u.push(M)})})})(o,n)}),ae(n)};function mi(i,n){var o=ke(i),l=ke(n);if(o.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(l.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var u=o[0][0],p=o[0][1],m=o[1][0],x=o[1][1],M=l[0][0],P=l[0][1],F=l[1][0],U=l[1][1],j=(U-P)*(m-u)-(F-M)*(x-p);if(j==0)return null;var tt=((F-M)*(p-P)-(U-P)*(u-M))/j,nt=((m-u)*(p-P)-(x-p)*(u-M))/j;return 0<=tt&&tt<=1&&0<=nt&&nt<=1?function(lt,ht,ct){if(!lt)throw new Error("coordinates is required");if(!Array.isArray(lt))throw new Error("coordinates must be an Array");if(lt.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!_e(lt[0])||!_e(lt[1]))throw new Error("coordinates must contain numbers");return $t({type:"Point",coordinates:lt},ht,ct)}([u+tt*(m-u),p+tt*(x-p)]):null}function qe(i){if(i==null)throw new Error("degrees is required");return i%360*Math.PI/180}function gi(i){if(!i)throw new Error("coord is required");if(i.type==="Feature"&&i.geometry!==null&&i.geometry.type==="Point")return i.geometry.coordinates;if(i.type==="Point")return i.coordinates;if(Array.isArray(i)&&2<=i.length&&i[0].length===void 0&&i[1].length===void 0)return i;throw new Error("coord must be GeoJSON Point or an Array of numbers")}var Ri=function i(n,o,l){if(!function(j){return!!j&&j.constructor===Object}(l=l||{}))throw new Error("options is invalid");if(l.final===!0)return function(j,tt){var nt=i(tt,j);return(nt+180)%360}(n,o);var u=gi(n),p=gi(o),m=qe(u[0]),x=qe(p[0]),M=qe(u[1]),P=qe(p[1]),F=Math.sin(x-m)*Math.cos(P),U=Math.cos(M)*Math.sin(P)-Math.sin(M)*Math.cos(P)*Math.cos(x-m);return function(j){if(j==null)throw new Error("radians is required");return j%(2*Math.PI)*180/Math.PI}(Math.atan2(F,U))},ee=63710088e-1,Qi={meters:ee,metres:ee,millimeters:1e3*ee,millimetres:1e3*ee,centimeters:100*ee,centimetres:100*ee,kilometers:ee/1e3,kilometres:ee/1e3,miles:ee/1609.344,nauticalmiles:ee/1852,inches:39.37*ee,yards:ee/1.0936,feet:3.28084*ee,radians:1,degrees:ee/111325};function mn(i,n,o){if(!en(o=o||{}))throw new Error("options is invalid");var l=o.bbox,u=o.id;if(i===void 0)throw new Error("geometry is required");if(n&&n.constructor!==Object)throw new Error("properties must be an Object");l&&function(m){if(!m)throw new Error("bbox is required");if(!Array.isArray(m))throw new Error("bbox must be an Array");if(m.length!==4&&m.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");m.forEach(function(x){if(!zi(x))throw new Error("bbox must only contain numbers")})}(l),u&&function(m){if(!m)throw new Error("id is required");if(["string","number"].indexOf(typeof m)===-1)throw new Error("id must be a number or a string")}(u);var p={type:"Feature"};return u&&(p.id=u),l&&(p.bbox=l),p.properties=n||{},p.geometry=i,p}function tn(i){if(i==null)throw new Error("radians is required");return i%(2*Math.PI)*180/Math.PI}function Ai(i){if(i==null)throw new Error("degrees is required");return i%360*Math.PI/180}function zi(i){return!isNaN(i)&&i!==null&&!Array.isArray(i)}function en(i){return!!i&&i.constructor===Object}var Ni=function(i,n,o,l){if(!en(l=l||{}))throw new Error("options is invalid");var u=l.units,p=l.properties,m=function(j){if(!j)throw new Error("coord is required");if(j.type==="Feature"&&j.geometry!==null&&j.geometry.type==="Point")return j.geometry.coordinates;if(j.type==="Point")return j.coordinates;if(Array.isArray(j)&&2<=j.length&&j[0].length===void 0&&j[1].length===void 0)return j;throw new Error("coord must be GeoJSON Point or an Array of numbers")}(i),x=Ai(m[0]),M=Ai(m[1]),P=Ai(o),F=function(j,tt){if(j==null)throw new Error("distance is required");if(tt&&typeof tt!="string")throw new Error("units must be a string");var nt=Qi[tt||"kilometers"];if(!nt)throw new Error(tt+" units is invalid");return j/nt}(n,u),U=Math.asin(Math.sin(M)*Math.cos(F)+Math.cos(M)*Math.sin(F)*Math.cos(P));return function(j,tt,nt){if(!j)throw new Error("coordinates is required");if(!Array.isArray(j))throw new Error("coordinates must be an Array");if(j.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!zi(j[0])||!zi(j[1]))throw new Error("coordinates must contain numbers");return mn({type:"Point",coordinates:j},tt,nt)}([tn(x+Math.atan2(Math.sin(P)*Math.sin(F)*Math.cos(M),Math.cos(F)-Math.sin(M)*Math.sin(U))),tn(U)],p)};function Ne(i,n,o){var l=i[n];i[n]=i[o],i[o]=l}function gn(i,n){return i<n?-1:n<i?1:0}var vn=function(i,n,o,l,u){(function p(m,x,M,P,F){for(;M<P;){if(600<P-M){var U=P-M+1,j=x-M+1,tt=Math.log(U),nt=.5*Math.exp(2*tt/3),lt=.5*Math.sqrt(tt*nt*(U-nt)/U)*(j-U/2<0?-1:1);p(m,x,Math.max(M,Math.floor(x-j*nt/U+lt)),Math.min(P,Math.floor(x+(U-j)*nt/U+lt)),F)}var ht=m[x],ct=M,mt=P;for(Ne(m,M,x),0<F(m[P],ht)&&Ne(m,M,P);ct<mt;){for(Ne(m,ct,mt),ct++,mt--;F(m[ct],ht)<0;)ct++;for(;0<F(m[mt],ht);)mt--}F(m[M],ht)===0?Ne(m,M,mt):Ne(m,++mt,P),mt<=x&&(M=mt+1),x<=mt&&(P=mt-1)}})(i,n,o||0,l||i.length-1,u||gn)};function Ze(i,n){if(!(this instanceof Ze))return new Ze(i,n);this._maxEntries=Math.max(4,i||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),n&&this._initFormat(n),this.clear()}function vi(i,n,o){if(!o)return n.indexOf(i);for(var l=0;l<n.length;l++)if(o(i,n[l]))return l;return-1}function Me(i,n){ri(i,0,i.children.length,n,i)}function ri(i,n,o,l,u){(u=u||Zt(null)).minX=1/0,u.minY=1/0,u.maxX=-1/0,u.maxY=-1/0;for(var p,m=n;m<o;m++)p=i.children[m],oi(u,i.leaf?l(p):p);return u}function oi(i,n){return i.minX=Math.min(i.minX,n.minX),i.minY=Math.min(i.minY,n.minY),i.maxX=Math.max(i.maxX,n.maxX),i.maxY=Math.max(i.maxY,n.maxY),i}function yi(i,n){return i.minX-n.minX}function Ke(i,n){return i.minY-n.minY}function Li(i){return(i.maxX-i.minX)*(i.maxY-i.minY)}function ai(i){return i.maxX-i.minX+(i.maxY-i.minY)}function je(i,n){return i.minX<=n.minX&&i.minY<=n.minY&&n.maxX<=i.maxX&&n.maxY<=i.maxY}function It(i,n){return n.minX<=i.maxX&&n.minY<=i.maxY&&n.maxX>=i.minX&&n.maxY>=i.minY}function Zt(i){return{children:i,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function si(i,n,o,l,u){for(var p,m=[n,o];m.length;)(o=m.pop())-(n=m.pop())<=l||(p=n+Math.ceil((o-n)/l/2)*l,vn(i,p,n,o,u),m.push(n,p,p,o))}Ze.prototype={all:function(){return this._all(this.data,[])},search:function(i){var n=this.data,o=[],l=this.toBBox;if(!It(i,n))return o;for(var u,p,m,x,M=[];n;){for(u=0,p=n.children.length;u<p;u++)m=n.children[u],It(i,x=n.leaf?l(m):m)&&(n.leaf?o.push(m):je(i,x)?this._all(m,o):M.push(m));n=M.pop()}return o},collides:function(i){var n=this.data,o=this.toBBox;if(!It(i,n))return!1;for(var l,u,p,m,x=[];n;){for(l=0,u=n.children.length;l<u;l++)if(p=n.children[l],It(i,m=n.leaf?o(p):p)){if(n.leaf||je(i,m))return!0;x.push(p)}n=x.pop()}return!1},load:function(i){if(!i||!i.length)return this;if(i.length<this._minEntries){for(var n=0,o=i.length;n<o;n++)this.insert(i[n]);return this}var l=this._build(i.slice(),0,i.length-1,0);if(this.data.children.length)if(this.data.height===l.height)this._splitRoot(this.data,l);else{if(this.data.height<l.height){var u=this.data;this.data=l,l=u}this._insert(l,this.data.height-l.height-1,!0)}else this.data=l;return this},insert:function(i){return i&&this._insert(i,this.data.height-1),this},clear:function(){return this.data=Zt([]),this},remove:function(i,n){if(!i)return this;for(var o,l,u,p,m=this.data,x=this.toBBox(i),M=[],P=[];m||M.length;){if(m||(m=M.pop(),l=M[M.length-1],o=P.pop(),p=!0),m.leaf&&(u=vi(i,m.children,n))!==-1)return m.children.splice(u,1),M.push(m),this._condense(M),this;p||m.leaf||!je(m,x)?l?(o++,m=l.children[o],p=!1):m=null:(M.push(m),P.push(o),o=0,m=(l=m).children[0])}return this},toBBox:function(i){return i},compareMinX:yi,compareMinY:Ke,toJSON:function(){return this.data},fromJSON:function(i){return this.data=i,this},_all:function(i,n){for(var o=[];i;)i.leaf?n.push.apply(n,i.children):o.push.apply(o,i.children),i=o.pop();return n},_build:function(i,n,o,l){var u,p=o-n+1,m=this._maxEntries;if(p<=m)return Me(u=Zt(i.slice(n,o+1)),this.toBBox),u;l||(l=Math.ceil(Math.log(p)/Math.log(m)),m=Math.ceil(p/Math.pow(m,l-1))),(u=Zt([])).leaf=!1,u.height=l;var x,M,P,F,U=Math.ceil(p/m),j=U*Math.ceil(Math.sqrt(m));for(si(i,n,o,j,this.compareMinX),x=n;x<=o;x+=j)for(si(i,x,P=Math.min(x+j-1,o),U,this.compareMinY),M=x;M<=P;M+=U)F=Math.min(M+U-1,P),u.children.push(this._build(i,M,F,l-1));return Me(u,this.toBBox),u},_chooseSubtree:function(i,n,o,l){for(var u,p,m,x,M,P,F,U,j,tt;l.push(n),!n.leaf&&l.length-1!==o;){for(F=U=1/0,u=0,p=n.children.length;u<p;u++)M=Li(m=n.children[u]),j=i,tt=m,(P=(Math.max(tt.maxX,j.maxX)-Math.min(tt.minX,j.minX))*(Math.max(tt.maxY,j.maxY)-Math.min(tt.minY,j.minY))-M)<U?(U=P,F=M<F?M:F,x=m):P===U&&M<F&&(F=M,x=m);n=x||n.children[0]}return n},_insert:function(i,n,o){var l=this.toBBox,u=o?i:l(i),p=[],m=this._chooseSubtree(u,this.data,n,p);for(m.children.push(i),oi(m,u);0<=n&&p[n].children.length>this._maxEntries;)this._split(p,n),n--;this._adjustParentBBoxes(u,p,n)},_split:function(i,n){var o=i[n],l=o.children.length,u=this._minEntries;this._chooseSplitAxis(o,u,l);var p=this._chooseSplitIndex(o,u,l),m=Zt(o.children.splice(p,o.children.length-p));m.height=o.height,m.leaf=o.leaf,Me(o,this.toBBox),Me(m,this.toBBox),n?i[n-1].children.push(m):this._splitRoot(o,m)},_splitRoot:function(i,n){this.data=Zt([i,n]),this.data.height=i.height+1,this.data.leaf=!1,Me(this.data,this.toBBox)},_chooseSplitIndex:function(i,n,o){var l,u,p,m,x,M,P,F,U,j,tt,nt,lt,ht;for(M=P=1/0,l=n;l<=o-n;l++)U=u=ri(i,0,l,this.toBBox),j=p=ri(i,l,o,this.toBBox),tt=Math.max(U.minX,j.minX),nt=Math.max(U.minY,j.minY),lt=Math.min(U.maxX,j.maxX),ht=Math.min(U.maxY,j.maxY),m=Math.max(0,lt-tt)*Math.max(0,ht-nt),x=Li(u)+Li(p),m<M?(M=m,F=l,P=x<P?x:P):m===M&&x<P&&(P=x,F=l);return F},_chooseSplitAxis:function(i,n,o){var l=i.leaf?this.compareMinX:yi,u=i.leaf?this.compareMinY:Ke;this._allDistMargin(i,n,o,l)<this._allDistMargin(i,n,o,u)&&i.children.sort(l)},_allDistMargin:function(i,n,o,l){i.children.sort(l);var u,p,m=this.toBBox,x=ri(i,0,n,m),M=ri(i,o-n,o,m),P=ai(x)+ai(M);for(u=n;u<o-n;u++)p=i.children[u],oi(x,i.leaf?m(p):p),P+=ai(x);for(u=o-n-1;n<=u;u--)p=i.children[u],oi(M,i.leaf?m(p):p),P+=ai(M);return P},_adjustParentBBoxes:function(i,n,o){for(var l=o;0<=l;l--)oi(n[l],i)},_condense:function(i){for(var n,o=i.length-1;0<=o;o--)i[o].children.length===0?0<o?(n=i[o-1].children).splice(n.indexOf(i[o]),1):this.clear():Me(i[o],this.toBBox)},_initFormat:function(i){var n=["return a"," - b",";"];this.compareMinX=new Function("a","b",n.join(i[0])),this.compareMinY=new Function("a","b",n.join(i[1])),this.toBBox=new Function("a","return {minX: a"+i[0]+", minY: a"+i[1]+", maxX: a"+i[2]+", maxY: a"+i[3]+"};")}};var se=Ze;function xe(i,n,o){if(!$e(o=o||{}))throw new Error("options is invalid");var l=o.bbox,u=o.id;if(i===void 0)throw new Error("geometry is required");if(n&&n.constructor!==Object)throw new Error("properties must be an Object");l&&de(l),u&&nn(u);var p={type:"Feature"};return u&&(p.id=u),l&&(p.bbox=l),p.properties=n||{},p.geometry=i,p}function Je(i,n,o){if(!i)throw new Error("coordinates is required");if(!Array.isArray(i))throw new Error("coordinates must be an Array");if(i.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Ge(i[0])||!Ge(i[1]))throw new Error("coordinates must contain numbers");return xe({type:"Point",coordinates:i},n,o)}function Pt(i,n,o){if(!i)throw new Error("coordinates is required");if(i.length<2)throw new Error("coordinates must be an array of two or more positions");if(!Ge(i[0][1])||!Ge(i[0][1]))throw new Error("coordinates must contain numbers");return xe({type:"LineString",coordinates:i},n,o)}function Ht(i,n){if(!$e(n=n||{}))throw new Error("options is invalid");var o=n.bbox,l=n.id;if(!i)throw new Error("No features passed");if(!Array.isArray(i))throw new Error("features must be an Array");o&&de(o),l&&nn(l);var u={type:"FeatureCollection"};return l&&(u.id=l),o&&(u.bbox=o),u.features=i,u}function Ge(i){return!isNaN(i)&&i!==null&&!Array.isArray(i)}function $e(i){return!!i&&i.constructor===Object}function de(i){if(!i)throw new Error("bbox is required");if(!Array.isArray(i))throw new Error("bbox must be an Array");if(i.length!==4&&i.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");i.forEach(function(n){if(!Ge(n))throw new Error("bbox must only contain numbers")})}function nn(i){if(!i)throw new Error("id is required");if(["string","number"].indexOf(typeof i)===-1)throw new Error("id must be a number or a string")}function Qe(i,n){if(i.type==="Feature")n(i,0);else if(i.type==="FeatureCollection")for(var o=0;o<i.features.length&&n(i.features[o],o)!==!1;o++);}function Re(i,n){(function(o,l){var u,p,m,x,M,P,F,U,j,tt,nt=0,lt=o.type==="FeatureCollection",ht=o.type==="Feature",ct=lt?o.features.length:1;for(u=0;u<ct;u++){for(P=lt?o.features[u].geometry:ht?o.geometry:o,U=lt?o.features[u].properties:ht?o.properties:{},j=lt?o.features[u].bbox:ht?o.bbox:void 0,tt=lt?o.features[u].id:ht?o.id:void 0,M=(F=!!P&&P.type==="GeometryCollection")?P.geometries.length:1,m=0;m<M;m++)if((x=F?P.geometries[m]:P)!==null)switch(x.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(l(x,nt,U,j,tt)===!1)return!1;break;case"GeometryCollection":for(p=0;p<x.geometries.length;p++)if(l(x.geometries[p],nt,U,j,tt)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(l(null,nt,U,j,tt)===!1)return!1;nt++}})(i,function(o,l,u,p,m){var x,M=o===null?null:o.type;switch(M){case null:case"Point":case"LineString":case"Polygon":return n(xe(o,u,{bbox:p,id:m}),l,0)!==!1&&void 0}switch(M){case"MultiPoint":x="Point";break;case"MultiLineString":x="LineString";break;case"MultiPolygon":x="Polygon"}for(var P=0;P<o.coordinates.length;P++){var F=o.coordinates[P];if(n(xe({type:x,coordinates:F},u),l,P)===!1)return!1}})}function Xt(i){var n=[i[0],i[1]],o=[i[0],i[3]],l=[i[2],i[3]];return{type:"Feature",bbox:i,properties:{},geometry:{type:"Polygon",coordinates:[[n,[i[2],i[1]],l,o,n]]}}}function Ce(i){var n=[1/0,1/0,-1/0,-1/0];return function o(l,u,p){if(l!==null)for(var m,x,M,P,F,U,j,tt,nt=0,lt=0,ht=l.type,ct=ht==="FeatureCollection",mt=ht==="Feature",wt=ct?l.features.length:1,jt=0;jt<wt;jt++){F=(tt=!!(j=ct?l.features[jt].geometry:mt?l.geometry:l)&&j.type==="GeometryCollection")?j.geometries.length:1;for(var At=0;At<F;At++){var Vt=0,Qt=0;if((P=tt?j.geometries[At]:j)!==null){U=P.coordinates;var Jt=P.type;switch(nt=!p||Jt!=="Polygon"&&Jt!=="MultiPolygon"?0:1,Jt){case null:break;case"Point":if(u(U,lt,jt,Vt,Qt)===!1)return!1;lt++,Vt++;break;case"LineString":case"MultiPoint":for(m=0;m<U.length;m++){if(u(U[m],lt,jt,Vt,Qt)===!1)return!1;lt++,Jt==="MultiPoint"&&Vt++}Jt==="LineString"&&Vt++;break;case"Polygon":case"MultiLineString":for(m=0;m<U.length;m++){for(x=0;x<U[m].length-nt;x++){if(u(U[m][x],lt,jt,Vt,Qt)===!1)return!1;lt++}Jt==="MultiLineString"&&Vt++,Jt==="Polygon"&&Qt++}Jt==="Polygon"&&Vt++;break;case"MultiPolygon":for(m=0;m<U.length;m++){for(Jt==="MultiPolygon"&&(Qt=0),x=0;x<U[m].length;x++){for(M=0;M<U[m][x].length-nt;M++){if(u(U[m][x][M],lt,jt,Vt,Qt)===!1)return!1;lt++}Qt++}Vt++}break;case"GeometryCollection":for(m=0;m<P.geometries.length;m++)if(o(P.geometries[m],u,p)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}(i,function(o){n[0]>o[0]&&(n[0]=o[0]),n[1]>o[1]&&(n[1]=o[1]),n[2]<o[0]&&(n[2]=o[0]),n[3]<o[1]&&(n[3]=o[1])}),n}function Se(i){if(!i)throw new Error("coords is required");if(i.type==="Feature"&&i.geometry!==null)return i.geometry.coordinates;if(i.coordinates)return i.coordinates;if(Array.isArray(i))return i;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}var ti=function(i){if(!i)throw new Error("geojson is required");var n=[];return Re(i,function(o){(function(l,u){var p=[],m=l.geometry;switch(m.type){case"Polygon":p=Se(m);break;case"LineString":p=[Se(m)]}p.forEach(function(x){(function(M,P){var F=[];return M.reduce(function(U,j){var tt=Pt([U,j],P);return tt.bbox=function(nt,lt){var ht=nt[0],ct=nt[1],mt=lt[0],wt=lt[1];return[ht<mt?ht:mt,ct<wt?ct:wt,mt<ht?ht:mt,wt<ct?ct:wt]}(U,j),F.push(tt),j}),F})(x,l.properties).forEach(function(M){M.id=u.length,u.push(M)})})})(o,n)}),Ht(n)};function bi(i,n){var o=Se(i),l=Se(n);if(o.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(l.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var u=o[0][0],p=o[0][1],m=o[1][0],x=o[1][1],M=l[0][0],P=l[0][1],F=l[1][0],U=l[1][1],j=(U-P)*(m-u)-(F-M)*(x-p);if(j==0)return null;var tt=((F-M)*(p-P)-(U-P)*(u-M))/j,nt=((m-u)*(p-P)-(x-p)*(u-M))/j;return 0<=tt&&tt<=1&&0<=nt&&nt<=1?Je([u+tt*(m-u),p+tt*(x-p)]):null}var li=function(i,n){var o={},l=[];if(i.type==="LineString"&&(i=xe(i)),n.type==="LineString"&&(n=xe(n)),i.type==="Feature"&&n.type==="Feature"&&i.geometry.type==="LineString"&&n.geometry.type==="LineString"&&i.geometry.coordinates.length===2&&n.geometry.coordinates.length===2){var u=bi(i,n);return u&&l.push(u),Ht(l)}var p=function(m){var x=se(m);return x.insert=function(M){if(Array.isArray(M)){var P=M;(M=Xt(P)).bbox=P}else M.bbox=M.bbox?M.bbox:Ce(M);return se.prototype.insert.call(this,M)},x.load=function(M){var P=[];return Array.isArray(M)?M.forEach(function(F){var U=Xt(F);U.bbox=F,P.push(U)}):Qe(M,function(F){F.bbox=F.bbox?F.bbox:Ce(F),P.push(F)}),se.prototype.load.call(this,P)},x.remove=function(M){if(Array.isArray(M)){var P=M;(M=Xt(P)).bbox=P}return se.prototype.remove.call(this,M)},x.clear=function(){return se.prototype.clear.call(this)},x.search=function(M){return{type:"FeatureCollection",features:se.prototype.search.call(this,this.toBBox(M))}},x.collides=function(M){return se.prototype.collides.call(this,this.toBBox(M))},x.all=function(){return{type:"FeatureCollection",features:se.prototype.all.call(this)}},x.toJSON=function(){return se.prototype.toJSON.call(this)},x.fromJSON=function(M){return se.prototype.fromJSON.call(this,M)},x.toBBox=function(M){var P;return{minX:(P=M.bbox?M.bbox:Array.isArray(M)&&M.length===4?M:Ce(M))[0],minY:P[1],maxX:P[2],maxY:P[3]}},x}();return p.load(ti(n)),Qe(ti(i),function(m){Qe(p.search(m),function(x){var M=bi(m,x);if(M){var P=Se(M).join(",");o[P]||(o[P]=!0,l.push(M))}})}),Ht(l)};function ki(i,n){var o=[],l=me();return Ki(n,function(u){if(o.forEach(function(x,M){x.id=M}),o.length){var p=l.search(u);if(p.features.length){var m=ui(u,p);o=o.filter(function(x){return x.id!==m.id}),l.remove(m),be(hi(m,u),function(x){o.push(x),l.insert(x)})}}else(o=hi(i,u).features).forEach(function(x){x.bbox||(x.bbox=function(M){var P=M[0],F=M[1],U=M[2],j=M[3],tt=ge(M.slice(0,2),[U,F]);if(ge(M.slice(0,2),[P,j])<=tt){var nt=(F+j)/2;return[P,nt-(U-P)/2,U,nt+(U-P)/2]}var lt=(P+U)/2;return[lt-(j-F)/2,F,lt+(j-F)/2,j]}(function(M){var P=[1/0,1/0,-1/0,-1/0];return he(M,function(F){P[0]>F[0]&&(P[0]=F[0]),P[1]>F[1]&&(P[1]=F[1]),P[2]<F[0]&&(P[2]=F[0]),P[3]<F[1]&&(P[3]=F[1])}),P}(x)))}),l.load(ae(o))}),ae(o)}function hi(i,n){var o=[],l=ke(i)[0],u=ke(i)[i.geometry.coordinates.length-1];if(ci(l,Xe(n))||ci(u,Xe(n)))return ae([i]);var p=me(),m=Di(i);p.load(m);var x=p.search(n);if(!x.features.length)return ae([i]);var M=ui(n,x),P=function(F,U,j){var tt=j;return be(F,function(nt,lt){tt=lt===0&&j===void 0?nt:U(tt,nt,lt)}),tt}(m,function(F,U,j){var tt=ke(U)[1],nt=Xe(n);return j===M.id?(F.push(nt),o.push(fe(F)),ci(nt,tt)?[nt]:[nt,tt]):(F.push(tt),F)},[l]);return 1<P.length&&o.push(fe(P)),ae(o)}function ui(i,n){if(!n.features.length)throw new Error("lines must contain features");if(n.features.length===1)return n.features[0];var o,l=1/0;return be(n,function(u){var p=function(m,x,M){if(!$e(M=M||{}))throw new Error("options is invalid");var P=m.geometry?m.geometry.type:m.type;if(P!=="LineString"&&P!=="MultiLineString")throw new Error("lines must be LineString or MultiLineString");var F=Je([1/0,1/0],{dist:1/0}),U=0;return Re(m,function(j){for(var tt=Se(j),nt=0;nt<tt.length-1;nt++){var lt=Je(tt[nt]);lt.properties.dist=ge(x,lt,M);var ht=Je(tt[nt+1]);ht.properties.dist=ge(x,ht,M);var ct=ge(lt,ht,M),mt=Math.max(lt.properties.dist,ht.properties.dist),wt=Ri(lt,ht),jt=Ni(x,mt,wt+90,M),At=Ni(x,mt,wt-90,M),Vt=li(Pt([jt.geometry.coordinates,At.geometry.coordinates]),Pt([lt.geometry.coordinates,ht.geometry.coordinates])),Qt=null;0<Vt.features.length&&((Qt=Vt.features[0]).properties.dist=ge(x,Qt,M),Qt.properties.location=U+ge(lt,Qt,M)),lt.properties.dist<F.properties.dist&&((F=lt).properties.index=nt,F.properties.location=U),ht.properties.dist<F.properties.dist&&((F=ht).properties.index=nt+1,F.properties.location=U+ct),Qt&&Qt.properties.dist<F.properties.dist&&((F=Qt).properties.index=nt),U+=ct}}),F}(u,i).properties.dist;p<l&&(o=u,l=p)}),o}function ci(i,n){return i[0]===n[0]&&i[1]===n[1]}var Zi=function(i,n){if(!i)throw new Error("line is required");if(!n)throw new Error("splitter is required");var o=we(i),l=we(n);if(o!=="LineString")throw new Error("line must be LineString");if(l==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(l==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var u=$i(n,{precision:7});switch(l){case"Point":return hi(i,u);case"MultiPoint":return ki(i,u);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return ki(i,function(p,m){var x={},M=[];if(p.type==="LineString"&&(p=$t(p)),m.type==="LineString"&&(m=$t(m)),p.type==="Feature"&&m.type==="Feature"&&p.geometry.type==="LineString"&&m.geometry.type==="LineString"&&p.geometry.coordinates.length===2&&m.geometry.coordinates.length===2){var P=mi(p,m);return P&&M.push(P),ae(M)}var F=me();return F.load(Di(m)),be(Di(p),function(U){be(F.search(U),function(j){var tt=mi(U,j);if(tt){var nt=ke(tt).join(",");x[nt]||(x[nt]=!0,M.push(tt))}})}),ae(M)}(i,u))}},wi=s(64),rn=s.n(wi),ji=s(27),on=s.n(ji);function St(i){var n={type:"Feature"};return n.geometry=i,n}function ue(i){return i.type==="Feature"?i.geometry:i}function qt(i){return i.geometry.coordinates}function Gi(i){return St({type:"Polygon",coordinates:i})}function Mi(i){return St({type:"MultiPolygon",coordinates:i})}function fi(i,n){(n==null||n>i.length)&&(n=i.length);for(var o=0,l=new Array(n);o<n;o++)l[o]=i[o];return l}d.Cut=d.Polygon.extend({initialize:function(i){this._map=i,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_finishShape:function(){var i=this;if(this._editedLayers=[],this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),!this._doesSelfIntersect)){var n=this._layer.getLatLngs(),o=L.polygon(n,this.options.pathOptions);o._latlngInfos=this._layer._latlngInfo,this.cut(o),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this._editedLayers.forEach(function(l){var u=l.layer,p=l.originalLayer;J._fireEvent(p,"pm:cut",{shape:i._shape,layer:u,originalLayer:p}),J._fireEvent(i._map,"pm:cut",{shape:i._shape,layer:u,originalLayer:p}),J._fireEvent(p,"pm:edit",{layer:p,shape:p.pm.getShape()})}),this._editedLayers=[],this.disable(),this.options.continueDrawing&&this.enable()}},cut:function(i){var n=this,o=this._map._layers,l=i._latlngInfos||[];Object.keys(o).map(function(u){return o[u]}).filter(function(u){return u.pm}).filter(function(u){return u instanceof L.Polyline}).filter(function(u){return u!==i}).filter(function(u){return!n._layerGroup.hasLayer(u)}).filter(function(u){try{return 0<!!W()(i.toGeoJSON(15),u.toGeoJSON(15)).features.length||!!function(p,m){var x=ue(p),M=ue(m),P=on.a.intersection(x.coordinates,M.coordinates);return P.length===0?null:P.length===1?Gi(P[0]):Mi(P)}(i.toGeoJSON(15),u.toGeoJSON(15))}catch(p){return console.error("You cant cut polygons with self-intersections"),!1}}).forEach(function(u){var p;if(u instanceof L.Polygon){var m=(p=L.polygon(u.getLatLngs())).getLatLngs();l.forEach(function(F){if(F&&F.snapInfo){var U=F.latlng,j=n._calcClosestLayer(U,[p]);if(j&&j.segment&&j.distance<n.options.snapDistance){var tt=j.segment;if(tt&&tt.length===2){var nt=J._getIndexFromSegment(m,tt),lt=nt.indexPath,ht=nt.parentPath,ct=nt.newIndex;(1<lt.length?B()(m,ht):m).splice(ct,0,U)}}}})}else p=u;var x=n._cutLayer(i,p),M=L.geoJSON(x,u.options);M.getLayers().length===1&&(M=function(F,U){return function(j){if(Array.isArray(j))return j}(F)||function(j,tt){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(j)){var nt=[],lt=!0,ht=!1,ct=void 0;try{for(var mt,wt=j[Symbol.iterator]();!(lt=(mt=wt.next()).done)&&(nt.push(mt.value),!tt||nt.length!==tt);lt=!0);}catch(jt){ht=!0,ct=jt}finally{try{lt||wt.return==null||wt.return()}finally{if(ht)throw ct}}return nt}}(F,U)||function(j,tt){if(j){if(typeof j=="string")return fi(j,tt);var nt=Object.prototype.toString.call(j).slice(8,-1);return nt==="Object"&&j.constructor&&(nt=j.constructor.name),nt==="Map"||nt==="Set"?Array.from(j):nt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(nt)?fi(j,tt):void 0}}(F,U)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}(M.getLayers(),1)[0]),n._setPane(M,"layerPane");var P=M.addTo(n._map.pm._getContainingLayer());P.pm.enable(n.options),P.pm.disable(),u._pmTempLayer=!0,i._pmTempLayer=!0,u.remove(),u.removeFrom(n._map.pm._getContainingLayer()),i.remove(),i.removeFrom(n._map.pm._getContainingLayer()),P.getLayers&&P.getLayers().length===0&&n._map.pm.removeLayer({target:P}),n._addDrawnLayerProp(P),n._editedLayers.push({layer:P,originalLayer:u})})},_cutLayer:function(i,n){var o,l=L.geoJSON();if(n instanceof L.Polygon)o=function(p,m){var x=ue(p),M=ue(m),P=on.a.difference(x.coordinates,M.coordinates);return P.length===0?null:P.length===1?Gi(P[0]):Mi(P)}(n.toGeoJSON(15),i.toGeoJSON(15));else{var u=function(p){p instanceof L.Polyline&&(p=p.toGeoJSON(15));var m=qt(p),x=function P(F){return Array.isArray(F)?1+P(F[0]):-1}(m),M=[];return 1<x?m.forEach(function(P){M.push(function(F){return St({type:"LineString",coordinates:F})}(P))}):M.push(p),M}(n);u.forEach(function(p){var m=Zi(p,i.toGeoJSON(15));(m&&0<m.features.length?L.geoJSON(m):L.geoJSON(p)).getLayers().forEach(function(x){rn()(i.toGeoJSON(15),x.toGeoJSON(15))||x.addTo(l)})}),o=1<u.length?function(p){var m=[];return p.eachLayer(function(x){m.push(qt(x.toGeoJSON(15)))}),function(x){return St({type:"MultiLineString",coordinates:x})}(m)}(l):l.toGeoJSON(15)}return o}});var Fi={enableLayerDrag:function(){if(this.disable(),this._map||(this._map=this._layer._map),this._layer instanceof L.Marker)return this._layer.on("dragstart",this._fireDragStart,this),this._layer.on("drag",this._fireDrag,this),this._layer.on("dragend",this._fireDragEnd,this),this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),void(this._layer.dragging&&this._layer.dragging.enable());this._layer instanceof L.ImageOverlay&&(this._getDOMElem().ondragstart=function(){return!1}),this._tempDragCoord=null,this._layer._map.options.preferCanvas?(this._layer.on("mouseout",this.removeDraggingClass,this),this._layer.on("mouseover",this.addDraggingClass,this)):this.addDraggingClass(),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0,this._layer.on("mousedown",this._dragMixinOnMouseDown,this)},disableLayerDrag:function(){if(this._layer instanceof L.Marker)return this._layer.off("dragstart",this._fireDragStart,this),this._layer.off("drag",this._fireDrag,this),this._layer.off("dragend",this._fireDragEnd,this),void(this._layer.dragging&&this._layer.dragging.disable());this._layer._map.options.preferCanvas?(this._layer.off("mouseout",this.removeDraggingClass,this),this._layer.off("mouseover",this.addDraggingClass,this)):this.removeDraggingClass(),this._safeToCacheDragState=!1,this._layer.off("mousedown",this._dragMixinOnMouseDown,this)},dragging:function(){return this._dragging},_dragMixinOnMouseDown:function(i){0<i.originalEvent.button||(this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=i.latlng,this._layer._map.on("mouseup",this._dragMixinOnMouseUp,this),this._layer._map.on("mousemove",this._dragMixinOnMouseMove,this))},_dragMixinOnMouseMove:function(i){var n=this._getDOMElem();this._dragging||(this._dragging=!0,L.DomUtil.addClass(n,"leaflet-pm-dragging"),this._layer.bringToFront(),this._originalMapDragState&&this._layer._map.dragging.disable(),this._fireDragStart()),this._onLayerDrag(i)},_dragMixinOnMouseUp:function(){var i=this,n=this._getDOMElem();return this._originalMapDragState&&this._layer._map.dragging.enable(),this._safeToCacheDragState=!0,this._layer._map.off("mousemove",this._dragMixinOnMouseMove,this),this._layer._map.off("mouseup",this._dragMixinOnMouseUp,this),!!this._dragging&&(this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle(),window.setTimeout(function(){i._dragging=!1,L.DomUtil.removeClass(n,"leaflet-pm-dragging"),i._fireDragEnd(),i._fireEdit()},10),!0)},_onLayerDrag:function(i){var n=i.latlng,o=n.lat-this._tempDragCoord.lat,l=n.lng-this._tempDragCoord.lng,u=function F(U){return U.map(function(j){return Array.isArray(j)?F(j):{lat:j.lat+o,lng:j.lng+l}})};if(this._layer instanceof L.Circle||this._layer instanceof L.CircleMarker&&this._layer.options.editable){var p=u([this._layer.getLatLng()]);this._layer.setLatLng(p[0])}else if(this._layer instanceof L.CircleMarker){var m=this._layer.getLatLng();this._layer._snapped&&(m=this._layer._orgLatLng);var x=u([m]);this._layer.setLatLng(x[0])}else if(this._layer instanceof L.ImageOverlay){var M=u([this._layer.getBounds().getNorthWest(),this._layer.getBounds().getSouthEast()]);this._layer.setBounds(M)}else{var P=u(this._layer.getLatLngs());this._layer.setLatLngs(P)}this._tempDragCoord=n,i.layer=this._layer,this._fireDrag(i)},_fireDragStart:function(){J._fireEvent(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()})},_fireDrag:function(i){J._fireEvent(this._layer,"pm:drag",Object.assign({},i,{shape:this.getShape()}))},_fireDragEnd:function(){J._fireEvent(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()})},addDraggingClass:function(){var i=this._getDOMElem();i&&L.DomUtil.addClass(i,"leaflet-pm-draggable")},removeDraggingClass:function(){var i=this._getDOMElem();i&&L.DomUtil.removeClass(i,"leaflet-pm-draggable")},_getDOMElem:function(){var i=null;return this._layer._path?i=this._layer._path:this._layer._renderer&&this._layer._renderer._container?i=this._layer._renderer._container:this._layer._image&&(i=this._layer._image),i}},Kt=L.Class.extend({includes:[Fi,X],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,allowSelfIntersectionEdit:!1,preventMarkerRemoval:!1,removeLayerBelowMinVertexCount:!0,limitMarkersToCount:-1,hideMiddleMarkers:!1,draggable:!0},setOptions:function(i){L.Util.setOptions(this,i)},applyOptions:function(){},isPolygon:function(){return this._layer instanceof L.Polygon},getShape:function(){return this._shape},_setPane:function(i,n){n==="layerPane"?i.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":n==="vertexPane"?i.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":n==="markerPane"&&(i.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")}});function ei(i){return function(n){if(Array.isArray(n))return Fe(n)}(i)||function(n){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(n))return Array.from(n)}(i)||function(n,o){if(n){if(typeof n=="string")return Fe(n,o);var l=Object.prototype.toString.call(n).slice(8,-1);return l==="Object"&&n.constructor&&(l=n.constructor.name),l==="Map"||l==="Set"?Array.from(n):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?Fe(n,o):void 0}}(i)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Fe(i,n){(n==null||n>i.length)&&(n=i.length);for(var o=0,l=new Array(n);o<n;o++)l[o]=i[o];return l}Kt.LayerGroup=L.Class.extend({initialize:function(i){var n=this;this._layerGroup=i,this._layers=this.findLayers(),this._getMap(),this._layers.forEach(function(o){return n._initLayer(o)}),this._layerGroup.on("layeradd",L.Util.throttle(function(o){if(!o.target._pmTempLayer){n._layers=n.findLayers();var l=n._layers.filter(function(u){return!(u.pm._parentLayerGroup&&n._layerGroup._leaflet_id in u.pm._parentLayerGroup)});l.forEach(function(u){n._initLayer(u)}),0<l.length&&n._getMap()&&n._getMap().pm.globalEditModeEnabled()&&n.enabled()&&n.enable(n.getOptions())}},100,this),this),this._layerGroup.on("layerremove",function(o){n._removeLayerFromGroup(o.target)},this),this._layerGroup.on("layerremove",L.Util.throttle(function(o){o.target._pmTempLayer||(n._layers=n.findLayers())},100,this),this)},enable:function(i){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[];this._options=i,this._layers.forEach(function(o){o instanceof L.LayerGroup?n.indexOf(o._leaflet_id)===-1&&(n.push(o._leaflet_id),o.pm.enable(i,n)):o.pm.enable(i)})},disable:function(){var i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[];this._layers.forEach(function(n){n instanceof L.LayerGroup?i.indexOf(n._leaflet_id)===-1&&(i.push(n._leaflet_id),n.pm.disable(i)):n.pm.disable()})},enabled:function(){var i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],n=this._layers.find(function(o){return o instanceof L.LayerGroup?i.indexOf(o._leaflet_id)===-1&&(i.push(o._leaflet_id),o.pm.enabled(i)):o.pm.enabled()});return!!n},toggleEdit:function(i){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[];this._options=i,this._layers.forEach(function(o){o instanceof L.LayerGroup?n.indexOf(o._leaflet_id)===-1&&(n.push(o._leaflet_id),o.pm.toggleEdit(i,n)):o.pm.toggleEdit(i)})},_initLayer:function(i){var n=L.Util.stamp(this._layerGroup);i.pm._parentLayerGroup||(i.pm._parentLayerGroup={}),i.pm._parentLayerGroup[n]=this._layerGroup},_removeLayerFromGroup:function(i){if(i.pm&&i.pm._layerGroup){var n=L.Util.stamp(this._layerGroup);delete i.pm._layerGroup[n]}},findLayers:function(){var i=this._layerGroup.getLayers();return(i=i.filter(function(n){return!!n.pm})).filter(function(n){return!n._pmTempLayer})},dragging:function(){if(this._layers){var i=this._layers.find(function(n){return n.pm.dragging()});return!!i}return!1},getOptions:function(){return this._options},_getMap:function(){var i;return this._map||((i=this._layers.find(function(n){return!!n._map}))===null||i===void 0?void 0:i._map)||null}}),Kt.Marker=Kt.extend({_shape:"Marker",initialize:function(i){this._layer=i,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},enable:function(){var i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{draggable:!0};L.Util.setOptions(this,i),this._map=this._layer._map,this.enabled()||(this.applyOptions(),this._enabled=!0,J._fireEvent(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()}))},disable:function(){this._enabled=!1,this.disableLayerDrag(),this._layer.off("contextmenu",this._removeMarker,this),J._fireEvent(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()}),this._layerEdited&&J._fireEvent(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()}),this._layerEdited=!1},enabled:function(){return this._enabled},toggleEdit:function(i){this.enabled()?this.disable():this.enable(i)},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_removeMarker:function(i){var n=i.target;n.remove(),J._fireEvent(n,"pm:remove",{layer:n,shape:this.getShape()}),J._fireEvent(this._map,"pm:remove",{layer:n,shape:this.getShape()})},_onDragEnd:function(i){var n=i.target;J._fireEvent(n,"pm:edit",{layer:this._layer,shape:this.getShape()}),this._layerEdited=!0},_initSnappableMarkers:function(){var i=this._layer;this.options.snapDistance=this.options.snapDistance||30,i.off("drag",this._handleSnapping,this),i.on("drag",this._handleSnapping,this),i.off("dragend",this._cleanupSnapping,this),i.on("dragend",this._cleanupSnapping,this),i.off("pm:dragstart",this._unsnap,this),i.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){var i=this._layer;i.off("drag",this._handleSnapping,this),i.off("dragend",this._cleanupSnapping,this),i.off("pm:dragstart",this._unsnap,this)}});var ve={filterMarkerGroup:function(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),-1<this.options.limitMarkersToCount&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.applyLimitFilters,this))},_removeMarkerLimitEvents:function(){this._map.off("mousemove",this.applyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache:function(){var i=[].concat(ei(this._markerGroup.getLayers()),ei(this.markerCache));this.markerCache=i.filter(function(n,o,l){return l.indexOf(n)===o})},renderLimits:function(i){var n=this;this.markerCache.forEach(function(o){i.includes(o)?n._markerGroup.addLayer(o):n._markerGroup.removeLayer(o)})},applyLimitFilters:function(i){var n=i.latlng,o=n===void 0?{lat:0,lng:0}:n,l=ei(this._filterClosestMarkers(o));this.renderLimits(l)},_filterClosestMarkers:function(i){var n=ei(this.markerCache),o=this.options.limitMarkersToCount;return n.sort(function(l,u){return l._latlng.distanceTo(i)-u._latlng.distanceTo(i)}),n.filter(function(l,u){return!(-1<o)||u<o})}};function Te(i,n){(n==null||n>i.length)&&(n=i.length);for(var o=0,l=new Array(n);o<n;o++)l[o]=i[o];return l}Kt.Line=Kt.extend({includes:[ve],_shape:"Line",initialize:function(i){this._layer=i,this._enabled=!1},enable:function(i){L.Util.setOptions(this,i),this._map=this._layer._map,this._map&&(this.enabled()||this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this._onLayerRemove,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection?this.cachedColor=void 0:(this._layer.options.color!=="red"?(this.cachedColor=this._layer.options.color,this.isRed=!1):this.isRed=!0,this._handleLayerStyle()),J._fireEvent(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()}))},disable:function(){var i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._layer;if(!this.enabled()||i.pm._dragging)return!1;i.pm._enabled=!1,i.pm._markerGroup.clearLayers(),i.pm._markerGroup.removeFrom(this._map),this._layer.off("remove",this._onLayerRemove,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this);var n=i._path?i._path:this._layer._renderer._container;return L.DomUtil.removeClass(n,"leaflet-pm-draggable"),this.hasSelfIntersection()&&L.DomUtil.removeClass(n,"leaflet-pm-invalid"),this._layerEdited&&J._fireEvent(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()}),this._layerEdited=!1,J._fireEvent(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()}),!0},enabled:function(){return this._enabled},toggleEdit:function(i){return this.enabled()?this.disable():this.enable(i),this.enabled()},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_onLayerRemove:function(i){this.disable(i.target)},_initMarkers:function(){var i=this,n=this._map,o=this._layer.getLatLngs();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.LayerGroup,this._markerGroup._pmTempLayer=!0,this._markers=function l(u){if(Array.isArray(u[0]))return u.map(l,i);var p=u.map(i._createMarker,i);return i.options.hideMiddleMarkers!==!0&&u.map(function(m,x){var M=i.isPolygon()?(x+1)%u.length:x+1;return i._createMiddleMarker(p[x],p[M])}),p}(o),this.filterMarkerGroup(),n.addLayer(this._markerGroup)},_createMarker:function(i){var n=new L.Marker(i,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(n,"vertexPane"),n._pmTempLayer=!0,n.on("click",this._onVertexClick,this),n.on("dragstart",this._onMarkerDragStart,this),n.on("move",this._onMarkerDrag,this),n.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||n.on("contextmenu",this._removeMarker,this),this._markerGroup.addLayer(n),n},_createMiddleMarker:function(i,n){if(!i||!n)return!1;var o=J.calcMiddleLatLng(this._map,i.getLatLng(),n.getLatLng()),l=this._createMarker(o),u=L.divIcon({className:"marker-icon marker-icon-middle"});return l.setIcon(u),l.leftM=i,l.rightM=n,i._middleMarkerNext=l,(n._middleMarkerPrev=l).on("click",this._onMiddleMarkerClick,this),l.on("movestart",this._onMiddleMarkerMoveStart,this),l},_onMiddleMarkerClick:function(i){var n=i.target,o=L.divIcon({className:"marker-icon"});n.setIcon(o),this._addMarker(n,n.leftM,n.rightM)},_onMiddleMarkerMoveStart:function(i){var n=i.target;n.on("moveend",this._onMiddleMarkerMoveEnd,this),this._addMarker(n,n.leftM,n.rightM)},_onMiddleMarkerMoveEnd:function(i){var n=i.target,o=L.divIcon({className:"marker-icon"});n.setIcon(o),n.off("moveend",this._onMiddleMarkerMoveEnd,this)},_addMarker:function(i,n,o){i.off("movestart",this._onMiddleMarkerMoveStart,this),i.off("click",this._onMiddleMarkerClick,this),i.on("click",this._onVertexClick,this);var l=i.getLatLng(),u=this._layer._latlngs;delete i.leftM,delete i.rightM;var p=this.findDeepMarkerIndex(this._markers,n),m=p.indexPath,x=p.index,M=p.parentPath,P=1<m.length?B()(u,M):u,F=1<m.length?B()(this._markers,M):this._markers;P.splice(x+1,0,l),F.splice(x+1,0,i),this._layer.setLatLngs(u),this.options.hideMiddleMarkers!==!0&&(this._createMiddleMarker(n,i),this._createMiddleMarker(i,o)),this._fireEdit(),J._fireEvent(this._layer,"pm:vertexadded",{layer:this._layer,marker:i,indexPath:this.findDeepMarkerIndex(this._markers,i).indexPath,latlng:l,shape:this.getShape()}),this.options.snappable&&this._initSnappableMarkers()},hasSelfIntersection:function(){return 0<I()(this._layer.toGeoJSON(15)).features.length},_handleSelfIntersectionOnVertexRemoval:function(){this._handleLayerStyle(!0),this.hasSelfIntersection()&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle:function(i){var n=this._layer;if(this.hasSelfIntersection()){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!0),this.isRed)return;i?this._flashLayer():(n.setStyle({color:"red"}),this.isRed=!0),J._fireEvent(this._layer,"pm:intersect",{layer:this._layer,intersection:I()(this._layer.toGeoJSON(15)),shape:this.getShape()})}else n.setStyle({color:this.cachedColor}),this.isRed=!1,!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!1)},_flashLayer:function(){var i=this;this.cachedColor||(this.cachedColor=this._layer.options.color),this._layer.setStyle({color:"red"}),this.isRed=!0,window.setTimeout(function(){i._layer.setStyle({color:i.cachedColor}),i.isRed=!1},200)},_updateDisabledMarkerStyle:function(i,n){var o=this;i.forEach(function(l){if(Array.isArray(l))return o._updateDisabledMarkerStyle(l,n);l._icon&&(n&&!o._checkMarkerAllowedToDrag(l)?L.DomUtil.addClass(l._icon,"vertexmarker-disabled"):L.DomUtil.removeClass(l._icon,"vertexmarker-disabled"))})},_removeMarker:function(i){if(!this.options.allowSelfIntersection){var n=this._layer.getLatLngs();this._coordsBeforeEdit=JSON.parse(JSON.stringify(n))}var o=i.target,l=this._layer.getLatLngs(),u=this.findDeepMarkerIndex(this._markers,o),p=u.indexPath,m=u.index,x=u.parentPath;if(p){var M=1<p.length?B()(l,x):l,P=1<p.length?B()(this._markers,x):this._markers;if(this.options.removeLayerBelowMinVertexCount||!(M.length<=2||this.isPolygon()&&M.length<=3)){M.splice(m,1),this._layer.setLatLngs(l),this.isPolygon()&&M.length<=2&&M.splice(0,M.length);var F=!1;if(M.length<=1&&(M.splice(0,M.length),this._layer.setLatLngs(l),this.disable(),this.enable(this.options),F=!0),K(l)&&this._layer.remove(),l=Q(l),this._layer.setLatLngs(l),this._markers=Q(this._markers),!F&&(P=1<p.length?B()(this._markers,x):this._markers,o._middleMarkerPrev&&this._markerGroup.removeLayer(o._middleMarkerPrev),o._middleMarkerNext&&this._markerGroup.removeLayer(o._middleMarkerNext),this._markerGroup.removeLayer(o),P)){var U,j;if(this.isPolygon()?(U=(m+1)%P.length,j=(m+(P.length-1))%P.length):(j=m-1<0?void 0:m-1,U=m+1>=P.length?void 0:m+1),U!==j){var tt=P[j],nt=P[U];this.options.hideMiddleMarkers!==!0&&this._createMiddleMarker(tt,nt)}P.splice(m,1)}this._fireEdit(),J._fireEvent(this._layer,"pm:vertexremoved",{layer:this._layer,marker:o,indexPath:p,shape:this.getShape()})}else this._flashLayer()}},findDeepMarkerIndex:function(i,n){var o;i.some(function u(p){return function(m,x){var M=p.concat(x);return m._leaflet_id===n._leaflet_id?(o=M,!0):Array.isArray(m)&&m.some(u(M))}}([]));var l={};return o&&(l={indexPath:o,index:o[o.length-1],parentPath:o.slice(0,o.length-1)}),l},updatePolygonCoordsFromMarkerDrag:function(i){var n=this._layer.getLatLngs(),o=i.getLatLng(),l=this.findDeepMarkerIndex(this._markers,i),u=l.indexPath,p=l.index,m=l.parentPath;(1<u.length?B()(n,m):n).splice(p,1,o),this._layer.setLatLngs(n)},_getNeighborMarkers:function(i){var n=this.findDeepMarkerIndex(this._markers,i),o=n.indexPath,l=n.index,u=n.parentPath,p=1<o.length?B()(this._markers,u):this._markers,m=(l+1)%p.length;return{prevMarker:p[(l+(p.length-1))%p.length],nextMarker:p[m]}},_checkMarkerAllowedToDrag:function(i){var n=this._getNeighborMarkers(i),o=n.prevMarker,l=n.nextMarker,u=L.polyline([o.getLatLng(),i.getLatLng()]),p=L.polyline([i.getLatLng(),l.getLatLng()]),m=W()(this._layer.toGeoJSON(15),u.toGeoJSON(15)).features.length,x=W()(this._layer.toGeoJSON(15),p.toGeoJSON(15)).features.length;return i.getLatLng()===this._markers[0][0].getLatLng()?x+=1:i.getLatLng()===this._markers[0][this._markers[0].length-1].getLatLng()&&(m+=1),!(m<=2&&x<=2)},_onMarkerDragStart:function(i){var n=i.target,o=this.findDeepMarkerIndex(this._markers,n).indexPath;J._fireEvent(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:i,indexPath:o,shape:this.getShape()}),this.options.allowSelfIntersection||(this._coordsBeforeEdit=this._layer.getLatLngs()),this.cachedColor||(this.cachedColor=this._layer.options.color),!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()?this._markerAllowedToDrag=this._checkMarkerAllowedToDrag(n):this._markerAllowedToDrag=null},_onMarkerDrag:function(i){var n=i.target,o=this.findDeepMarkerIndex(this._markers,n),l=o.indexPath,u=o.index,p=o.parentPath;if(l){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()&&this._markerAllowedToDrag===!1)return this._layer.setLatLngs(this._coordsBeforeEdit),this._initMarkers(),void this._handleLayerStyle();this.updatePolygonCoordsFromMarkerDrag(n);var m=1<l.length?B()(this._markers,p):this._markers,x=(u+1)%m.length,M=(u+(m.length-1))%m.length,P=n.getLatLng(),F=m[M].getLatLng(),U=m[x].getLatLng();if(n._middleMarkerNext){var j=J.calcMiddleLatLng(this._map,P,U);n._middleMarkerNext.setLatLng(j)}if(n._middleMarkerPrev){var tt=J.calcMiddleLatLng(this._map,P,F);n._middleMarkerPrev.setLatLng(tt)}this.options.allowSelfIntersection||this._handleLayerStyle(),J._fireEvent(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:i,shape:this.getShape(),indexPath:l})}},_onMarkerDragEnd:function(i){var n=i.target,o=this.findDeepMarkerIndex(this._markers,n).indexPath;J._fireEvent(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:i,indexPath:o,shape:this.getShape()});var l=this.hasSelfIntersection();if(l&&this.options.allowSelfIntersectionEdit&&this._markerAllowedToDrag&&(l=!1),!this.options.allowSelfIntersection&&l)return this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),void this._handleLayerStyle();!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._handleLayerStyle(),this._fireEdit()},_onVertexClick:function(i){var n=i.target,o=this.findDeepMarkerIndex(this._markers,n).indexPath;J._fireEvent(this._layer,"pm:vertexclick",{layer:this._layer,markerEvent:i,indexPath:o,shape:this.getShape()})},_fireEdit:function(){this._layerEdited=!0,J._fireEvent(this._layer,"pm:edit",{layer:this._layer,shape:this.getShape()})}}),Kt.Polygon=Kt.Line.extend({_shape:"Polygon",_checkMarkerAllowedToDrag:function(i){var n=this._getNeighborMarkers(i),o=n.prevMarker,l=n.nextMarker,u=L.polyline([o.getLatLng(),i.getLatLng()]),p=L.polyline([i.getLatLng(),l.getLatLng()]),m=W()(this._layer.toGeoJSON(15),u.toGeoJSON(15)).features.length,x=W()(this._layer.toGeoJSON(15),p.toGeoJSON(15)).features.length;return!(m<=2&&x<=2)}}),Kt.Rectangle=Kt.Polygon.extend({_shape:"Rectangle",_initMarkers:function(){var i=this._map,n=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.LayerGroup,this._markerGroup._pmTempLayer=!0,i.addLayer(this._markerGroup),this._markers=[],this._markers[0]=n.map(this._createMarker,this);var o=function(l,u){return function(p){if(Array.isArray(p))return p}(l)||function(p,m){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(p)){var x=[],M=!0,P=!1,F=void 0;try{for(var U,j=p[Symbol.iterator]();!(M=(U=j.next()).done)&&(x.push(U.value),!m||x.length!==m);M=!0);}catch(tt){P=!0,F=tt}finally{try{M||j.return==null||j.return()}finally{if(P)throw F}}return x}}(l,u)||function(p,m){if(p){if(typeof p=="string")return Te(p,m);var x=Object.prototype.toString.call(p).slice(8,-1);return x==="Object"&&p.constructor&&(x=p.constructor.name),x==="Map"||x==="Set"?Array.from(p):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?Te(p,m):void 0}}(l,u)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}(this._markers,1);this._cornerMarkers=o[0]},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this._addMarkerEvents()},_createMarker:function(i,n){var o=new L.Marker(i,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(o,"vertexPane"),o._origLatLng=i,o._index=n,o._pmTempLayer=!0,this._markerGroup.addLayer(o),o},_addMarkerEvents:function(){var i=this;this._markers[0].forEach(function(n){n.on("dragstart",i._onMarkerDragStart,i),n.on("drag",i._onMarkerDrag,i),n.on("dragend",i._onMarkerDragEnd,i),n.on("pm:snap",i._adjustRectangleForMarkerSnap,i),i.options.preventMarkerRemoval||n.on("contextmenu",i._removeMarker,i)})},_removeMarker:function(){return null},_onMarkerDragStart:function(i){var n=i.target,o=this._findCorners();n._oppositeCornerLatLng=o[(n._index+2)%4],n._snapped=!1,J._fireEvent(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:i,shape:this.getShape(),indexPath:void 0})},_onMarkerDrag:function(i){var n=i.target;n._index!==void 0&&(n._snapped||this._adjustRectangleForMarkerMove(n),J._fireEvent(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:i,shape:this.getShape(),indexPath:void 0}))},_onMarkerDragEnd:function(i){var n=this._findCorners();this._adjustAllMarkers(n),this._cornerMarkers.forEach(function(o){delete o._oppositeCornerLatLng}),this._layer.setLatLngs(n),J._fireEvent(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:i,shape:this.getShape(),indexPath:void 0}),this._fireEdit()},_adjustRectangleForMarkerMove:function(i){L.extend(i._origLatLng,i._latlng);var n=i.getLatLng();this._layer.setBounds(L.latLngBounds(n,i._oppositeCornerLatLng)),this._adjustAdjacentMarkers(i),this._layer.redraw()},_adjustRectangleForMarkerSnap:function(i){if(this.options.snappable){var n=i.target;this._adjustRectangleForMarkerMove(n)}},_adjustAllMarkers:function(i){i.length&&i.length===4?this._cornerMarkers.forEach(function(n,o){n.setLatLng(i[o])}):console.error("_adjustAllMarkers() requires an array of EXACTLY 4 LatLng coordinates")},_adjustAdjacentMarkers:function(i){if(i&&i.getLatLng&&i._oppositeCornerLatLng){var n=i.getLatLng(),o=i._oppositeCornerLatLng,l=[];this._findCorners().forEach(function(p){p.equals(n)||p.equals(o)||l.push(p)});var u=0;l.length===2&&this._cornerMarkers.forEach(function(p){var m=p.getLatLng();m.equals(n)||m.equals(o)||(p.setLatLng(l[u]),u+=1)})}else console.error("_adjustAdjacentMarkers() requires a valid Marker object")},_findCorners:function(){var i=this._layer.getBounds();return[i.getNorthWest(),i.getNorthEast(),i.getSouthEast(),i.getSouthWest()]}}),Kt.Circle=Kt.extend({_shape:"Circle",initialize:function(i){this._layer=i,this._enabled=!1,this._updateHiddenPolyCircle()},enable:function(i){var n=this;L.Util.setOptions(this,i),this._map=this._layer._map,this.enabled()||this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",function(o){n.disable(o.target)}),this._updateHiddenPolyCircle(),J._fireEvent(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()})},disable:function(){var i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._layer;if(!this.enabled()||i.pm._dragging)return!1;this._centerMarker.off("dragstart",this._fireDragStart,this),this._centerMarker.off("drag",this._fireDrag,this),this._centerMarker.off("dragend",this._fireDragEnd,this),this._outerMarker.off("drag",this._handleOuterMarkerSnapping,this),i.pm._enabled=!1,i.pm._helperLayers.clearLayers();var n=i._path?i._path:this._layer._renderer._container;return L.DomUtil.removeClass(n,"leaflet-pm-draggable"),this._layerEdited&&J._fireEvent(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()}),this._layerEdited=!1,J._fireEvent(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()}),!0},enabled:function(){return this._enabled},toggleEdit:function(i){this.enabled()?this.disable():this.enable(i)},_initMarkers:function(){var i=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.LayerGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(i);var n=this._layer.getLatLng(),o=this._layer._radius,l=this._getLatLngOnCircle(n,o);this._centerMarker=this._createCenterMarker(n),this._outerMarker=this._createOuterMarker(l),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},applyOptions:function(){this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this),this._centerMarker.on("move",this._moveCircle,this)):this._disableSnapping()},_createHintLine:function(i,n){var o=i.getLatLng(),l=n.getLatLng();this._hintline=L.polyline([o,l],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker:function(i){var n=this._createMarker(i);return L.DomUtil.addClass(n._icon,"leaflet-pm-draggable"),n.on("drag",this._moveCircle,this),n.on("dragstart",this._fireDragStart,this),n.on("drag",this._fireDrag,this),n.on("dragend",this._fireDragEnd,this),n},_createOuterMarker:function(i){var n=this._createMarker(i);return n.on("drag",this._resizeCircle,this),n},_createMarker:function(i){var n=new L.Marker(i,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(n,"vertexPane"),n._origLatLng=i,n._pmTempLayer=!0,n.on("dragstart",this._onMarkerDragStart,this),n.on("drag",this._onMarkerDrag,this),n.on("dragend",this._onMarkerDragEnd,this),this._helperLayers.addLayer(n),n},_resizeCircle:function(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_moveCircle:function(i){var n=i.latlng;this._layer.setLatLng(n);var o=this._layer._radius,l=this._getLatLngOnCircle(n,o);this._outerMarker.setLatLng(l),this._syncHintLine(),this._updateHiddenPolyCircle(),J._fireEvent(this._layer,"pm:centerplaced",{layer:this._layer,latlng:n,shape:this.getShape()})},_syncCircleRadius:function(){var i=this._centerMarker.getLatLng(),n=this._outerMarker.getLatLng(),o=i.distanceTo(n);this.options.minRadiusCircle&&o<this.options.minRadiusCircle?this._layer.setRadius(this.options.minRadiusCircle):this.options.maxRadiusCircle&&o>this.options.maxRadiusCircle?this._layer.setRadius(this.options.maxRadiusCircle):this._layer.setRadius(o),this._updateHiddenPolyCircle()},_syncHintLine:function(){var i=this._centerMarker.getLatLng(),n=this._outerMarker.getLatLng();this._hintline.setLatLngs([i,n])},_disableSnapping:function(){var i=this;this._markers.forEach(function(n){n.off("move",i._syncHintLine,i),n.off("move",i._syncCircleRadius,i),n.off("drag",i._handleSnapping,i),n.off("dragend",i._cleanupSnapping,i)}),this._layer.off("pm:dragstart",this._unsnap,this)},_onMarkerDragStart:function(i){J._fireEvent(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:i,shape:this.getShape(),indexPath:void 0})},_onMarkerDrag:function(i){J._fireEvent(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:i,shape:this.getShape(),indexPath:void 0})},_onMarkerDragEnd:function(i){this._fireEdit(),J._fireEvent(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:i,shape:this.getShape(),indexPath:void 0})},_fireEdit:function(){J._fireEvent(this._layer,"pm:edit",{layer:this._layer,shape:this.getShape()}),this._layerEdited=!0},_fireDragStart:function(){J._fireEvent(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()})},_fireDrag:function(i){J._fireEvent(this._layer,"pm:drag",Object.assign({},i,{shape:this.getShape()}))},_fireDragEnd:function(){J._fireEvent(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()})},_updateHiddenPolyCircle:function(){this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(J.circleToPolygon(this._layer,200).getLatLngs()):this._hiddenPolyCircle=J.circleToPolygon(this._layer,200),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)},_getLatLngOnCircle:function(i,n){var o=this._map.project(i),l=L.point(o.x+n,o.y);return this._map.unproject(l)},_getNewDestinationOfOuterMarker:function(){var i=this._centerMarker.getLatLng(),n=this._outerMarker.getLatLng(),o=i.distanceTo(n);return this.options.minRadiusCircle&&o<this.options.minRadiusCircle?n=bt(this._map,i,n,this.options.minRadiusCircle):this.options.maxRadiusCircle&&o>this.options.maxRadiusCircle&&(n=bt(this._map,i,n,this.options.maxRadiusCircle)),n},_handleOuterMarkerSnapping:function(){if(this._outerMarker._snapped){var i=this._centerMarker.getLatLng(),n=this._outerMarker.getLatLng(),o=i.distanceTo(n);(this.options.minRadiusCircle&&o<this.options.minRadiusCircle||this.options.maxRadiusCircle&&o>this.options.maxRadiusCircle)&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())}}),Kt.CircleMarker=Kt.extend({_shape:"CircleMarker",initialize:function(i){this._layer=i,this._enabled=!1,this._updateHiddenPolyCircle()},enable:function(){var i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{draggable:!0,snappable:!0};L.Util.setOptions(this,i),this._map=this._layer._map,this._map&&(this.enabled()&&this.disable(),this.applyOptions(),this._enabled=!0,this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this),this._updateHiddenPolyCircle(),J._fireEvent(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()}))},disable:function(){var i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._layer;return!(i.pm._dragging||(i.pm._helperLayers&&i.pm._helperLayers.clearLayers(),this._map||(this._map=this._layer._map),this.options.editable?(this._map.off("move",this._syncMarkers,this),this._outerMarker&&this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this)):this._map.off("move",this._updateHiddenPolyCircle,this),this.disableLayerDrag(),this._layer.off("contextmenu",this._removeMarker,this),this.enabled()&&(this._layerEdited&&J._fireEvent(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()}),this._layerEdited=!1,J._fireEvent(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()})),i.pm._enabled=!1))},enabled:function(){return this._enabled},toggleEdit:function(i){this.enabled()?this.disable():this.enable(i)},applyOptions:function(){!this.options.editable&&this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.editable?(this._initMarkers(),this._map.on("move",this._syncMarkers,this)):this._map.on("move",this._updateHiddenPolyCircle,this),this.options.snappable?this.options.editable?(this._initSnappableMarkers(),this._centerMarker.on("drag",this._moveCircle,this),this.options.editable&&this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this)):this._initSnappableMarkersDrag():this.options.editable?this._disableSnapping():this._disableSnappingDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_initMarkers:function(){var i=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.LayerGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(i);var n=this._layer.getLatLng(),o=this._layer._radius,l=this._getLatLngOnCircle(n,o);this._centerMarker=this._createCenterMarker(n),this._outerMarker=this._createOuterMarker(l),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle:function(i,n){var o=this._map.project(i),l=L.point(o.x+n,o.y);return this._map.unproject(l)},_createHintLine:function(i,n){var o=i.getLatLng(),l=n.getLatLng();this._hintline=L.polyline([o,l],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker:function(i){var n=this._createMarker(i);return this.options.draggable?L.DomUtil.addClass(n._icon,"leaflet-pm-draggable"):n.dragging.disable(),n},_createOuterMarker:function(i){var n=this._createMarker(i);return n.on("drag",this._resizeCircle,this),n},_createMarker:function(i){var n=new L.Marker(i,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(n,"vertexPane"),n._origLatLng=i,n._pmTempLayer=!0,n.on("dragstart",this._onMarkerDragStart,this),n.on("drag",this._onMarkerDrag,this),n.on("dragend",this._onMarkerDragEnd,this),this._helperLayers.addLayer(n),n},_moveCircle:function(){var i=this._centerMarker.getLatLng();this._layer.setLatLng(i);var n=this._layer._radius,o=this._getLatLngOnCircle(i,n);this._outerMarker.setLatLng(o),this._syncHintLine(),this._updateHiddenPolyCircle(),J._fireEvent(this._layer,"pm:centerplaced",{layer:this._layer,latlng:i,shape:this.getShape()})},_syncMarkers:function(){var i=this._layer.getLatLng(),n=this._layer._radius,o=this._getLatLngOnCircle(i,n);this._outerMarker.setLatLng(o),this._centerMarker.setLatLng(i),this._syncHintLine(),this._updateHiddenPolyCircle()},_resizeCircle:function(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_syncCircleRadius:function(){var i=this._centerMarker.getLatLng(),n=this._outerMarker.getLatLng(),o=this._map.project(i).distanceTo(this._map.project(n));this.options.minRadiusCircleMarker&&o<this.options.minRadiusCircleMarker?this._layer.setRadius(this.options.minRadiusCircleMarker):this.options.maxRadiusCircleMarker&&o>this.options.maxRadiusCircleMarker?this._layer.setRadius(this.options.maxRadiusCircleMarker):this._layer.setRadius(o),this._updateHiddenPolyCircle()},_syncHintLine:function(){var i=this._centerMarker.getLatLng(),n=this._outerMarker.getLatLng();this._hintline.setLatLngs([i,n])},_removeMarker:function(){this.options.editable&&this.disable(),this._layer.remove(),J._fireEvent(this._layer,"pm:remove",{layer:this._layer,shape:this.getShape()}),J._fireEvent(this._map,"pm:remove",{layer:this._layer,shape:this.getShape()})},_onDragStart:function(){this._map.pm.Draw.CircleMarker._layerIsDragging=!0},_onMarkerDragStart:function(i){J._fireEvent(this._layer,"pm:markerdragstart",{markerEvent:i,layer:this._layer,shape:this.getShape(),indexPath:void 0})},_onMarkerDrag:function(i){J._fireEvent(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:i,shape:this.getShape(),indexPath:void 0})},_onMarkerDragEnd:function(i){this._map.pm.Draw.CircleMarker._layerIsDragging=!1,J._fireEvent(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:i,shape:this.getShape(),indexPath:void 0})},_fireEdit:function(){J._fireEvent(this._layer,"pm:edit",{layer:this._layer,shape:this.getShape()}),this._layerEdited=!0},_initSnappableMarkersDrag:function(){var i=this._layer;this.options.snapDistance=this.options.snapDistance||30,i.off("pm:drag",this._handleSnapping,this),i.on("pm:drag",this._handleSnapping,this),i.off("pm:dragend",this._cleanupSnapping,this),i.on("pm:dragend",this._cleanupSnapping,this),i.off("pm:dragstart",this._unsnap,this),i.on("pm:dragstart",this._unsnap,this)},_disableSnappingDrag:function(){var i=this._layer;i.off("pm:drag",this._handleSnapping,this),i.off("pm:dragend",this._cleanupSnapping,this),i.off("pm:dragstart",this._unsnap,this)},_updateHiddenPolyCircle:function(){var i=this._layer._map||this._map;if(i){var n=i.project(this._layer.getLatLng()),o=L.point(n.x+this._layer.getRadius(),n.y),l=this._layer.getLatLng().distanceTo(i.unproject(o)),u=L.circle(this._layer.getLatLng(),this._layer.options);u.setRadius(l),this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(J.circleToPolygon(u,200).getLatLngs()):this._hiddenPolyCircle=J.circleToPolygon(u,200),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}},_getNewDestinationOfOuterMarker:function(){var i=this._centerMarker.getLatLng(),n=this._outerMarker.getLatLng(),o=this._map.project(i).distanceTo(this._map.project(n));return this.options.minRadiusCircleMarker&&o<this.options.minRadiusCircleMarker?n=bt(this._map,i,n,this._pxRadiusToMeter(this.options.minRadiusCircleMarker)):this.options.maxRadiusCircleMarker&&o>this.options.maxRadiusCircleMarker&&(n=bt(this._map,i,n,this._pxRadiusToMeter(this.options.maxRadiusCircleMarker))),n},_handleOuterMarkerSnapping:function(){if(this._outerMarker._snapped){var i=this._centerMarker.getLatLng(),n=this._outerMarker.getLatLng(),o=this._map.project(i).distanceTo(this._map.project(n));(this.options.minRadiusCircleMarker&&o<this.options.minRadiusCircleMarker||this.options.maxRadiusCircleMarker&&o>this.options.maxRadiusCircleMarker)&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())},_pxRadiusToMeter:function(i){var n=this._centerMarker.getLatLng(),o=this._map.project(n),l=L.point(o.x+i,o.y);return this._map.unproject(l).distanceTo(n)}}),Kt.ImageOverlay=Kt.extend({_shape:"ImageOverlay",initialize:function(i){this._layer=i,this._enabled=!1},toggleEdit:function(i){this.enabled()?this.disable():this.enable(i)},enabled:function(){return this._enabled},enable:function(){var i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{draggable:!0,snappable:!0};L.Util.setOptions(this,i),this._map=this._layer._map,this._map&&(this.enabled()||this.disable(),this.enableLayerDrag(),this._enabled=!0,this._otherSnapLayers=L.PM.Edit.Rectangle.prototype._findCorners.apply(this),J._fireEvent(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()}))},disable:function(){var i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._layer;return!(i.pm._dragging||(this._map||(this._map=this._layer._map),this.disableLayerDrag(),this.enabled()||(this._layerEdited&&J._fireEvent(i,"pm:update",{layer:i,shape:this.getShape()}),this._layerEdited=!1,J._fireEvent(i,"pm:disable",{layer:i,shape:this.getShape()})),this._layer.off("contextmenu",this._removeMarker,this),i.pm._enabled=!1))},_fireEdit:function(){J._fireEvent(this._layer,"pm:edit",{layer:this._layer,shape:this.getShape()}),this._layerEdited=!0}}),s(150),s(151),L.PM=L.PM||{version:f.a,Map:oe,Toolbar:Et,Draw:d,Edit:Kt,Utils:J,activeLang:"en",optIn:!1,initialize:function(i){this.addInitHooks(i)},setOptIn:function(i){this.optIn=!!i},addInitHooks:function(){L.Map.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Map(this)):this.options.pmIgnore||(this.pm=new L.PM.Map(this))}),L.LayerGroup.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.LayerGroup(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.LayerGroup(this))}),L.Marker.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Marker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Marker(this))}),L.CircleMarker.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.CircleMarker(this))}),L.Polyline.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))}),L.Polygon.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Polygon(this))}),L.Rectangle.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))}),L.Circle.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))}),L.ImageOverlay.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.ImageOverlay(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.ImageOverlay(this))})},reInitLayer:function(i){var n=this;i instanceof L.LayerGroup?i.eachLayer(function(o){n.reInitLayer(o)}):i.pm||L.PM.optIn&&i.options.pmIgnore!==!1||i.options.pmIgnore||(i instanceof L.Map?i.pm=new L.PM.Map(i):i instanceof L.Marker?i.pm=new L.PM.Edit.Marker(i):i instanceof L.Circle?i.pm=new L.PM.Edit.Circle(i):i instanceof L.CircleMarker?i.pm=new L.PM.Edit.CircleMarker(i):i instanceof L.Rectangle?i.pm=new L.PM.Edit.Rectangle(i):i instanceof L.Polygon?i.pm=new L.PM.Edit.Polygon(i):i instanceof L.Polyline&&(i.pm=new L.PM.Edit.Line(i)))}},L.PM.initialize()}])},15746:function(w,E,s){"use strict";var f=s(21584);E.Z=f.Z},89032:function(w,E,s){"use strict";var f=s(38663),c=s.n(f),y=s(6999)},71230:function(w,E,s){"use strict";var f=s(92820);E.Z=f.Z},13062:function(w,E,s){"use strict";var f=s(38663),c=s.n(f),y=s(6999)},45243:function(w,E){/* @preserve
 * Leaflet 1.7.1, a JS library for interactive maps. http://leafletjs.com
 * (c) 2010-2019 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(s,f){f(E)})(this,function(s){"use strict";var f="1.7.1";function c(t){var e,r,a,h;for(r=1,a=arguments.length;r<a;r++){h=arguments[r];for(e in h)t[e]=h[e]}return t}var y=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function _(t,e){var r=Array.prototype.slice;if(t.bind)return t.bind.apply(t,r.call(arguments,1));var a=r.call(arguments,2);return function(){return t.apply(e,a.length?a.concat(r.call(arguments)):arguments)}}var T=0;function A(t){return t._leaflet_id=t._leaflet_id||++T,t._leaflet_id}function z(t,e,r){var a,h,v,R;return R=function(){a=!1,h&&(v.apply(r,h),h=!1)},v=function(){a?h=arguments:(t.apply(r,arguments),setTimeout(R,e),a=!0)},v}function Y(t,e,r){var a=e[1],h=e[0],v=a-h;return t===a&&r?t:((t-h)%v+v)%v+h}function O(){return!1}function S(t,e){var r=Math.pow(10,e===void 0?6:e);return Math.round(t*r)/r}function N(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Z(t){return N(t).split(/\s+/)}function C(t,e){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?y(t.options):{});for(var r in e)t.options[r]=e[r];return t.options}function D(t,e,r){var a=[];for(var h in t)a.push(encodeURIComponent(r?h.toUpperCase():h)+"="+encodeURIComponent(t[h]));return(!e||e.indexOf("?")===-1?"?":"&")+a.join("&")}var g=/\{ *([\w_-]+) *\}/g;function k(t,e){return t.replace(g,function(r,a){var h=e[a];if(h===void 0)throw new Error("No value provided for variable "+r);return typeof h=="function"&&(h=h(e)),h})}var B=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function H(t,e){for(var r=0;r<t.length;r++)if(t[r]===e)return r;return-1}var G="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function q(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var K=0;function Q(t){var e=+new Date,r=Math.max(0,16-(e-K));return K=e+r,window.setTimeout(t,r)}var it=window.requestAnimationFrame||q("RequestAnimationFrame")||Q,pt=window.cancelAnimationFrame||q("CancelAnimationFrame")||q("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function bt(t,e,r){if(r&&it===Q)t.call(e);else return it.call(window,_(t,e))}function J(t){t&&pt.call(window,t)}var Mt={extend:c,create:y,bind:_,lastId:T,stamp:A,throttle:z,wrapNum:Y,falseFn:O,formatNum:S,trim:N,splitWords:Z,setOptions:C,getParamString:D,template:k,isArray:B,indexOf:H,emptyImageUrl:G,requestFn:it,cancelFn:pt,requestAnimFrame:bt,cancelAnimFrame:J};function Bt(){}Bt.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},r=e.__super__=this.prototype,a=y(r);a.constructor=e,e.prototype=a;for(var h in this)Object.prototype.hasOwnProperty.call(this,h)&&h!=="prototype"&&h!=="__super__"&&(e[h]=this[h]);return t.statics&&(c(e,t.statics),delete t.statics),t.includes&&(Gt(t.includes),c.apply(null,[a].concat(t.includes)),delete t.includes),a.options&&(t.options=c(y(a.options),t.options)),c(a,t),a._initHooks=[],a.callInitHooks=function(){if(!this._initHooksCalled){r.callInitHooks&&r.callInitHooks.call(this),this._initHooksCalled=!0;for(var v=0,R=a._initHooks.length;v<R;v++)a._initHooks[v].call(this)}},e},Bt.include=function(t){return c(this.prototype,t),this},Bt.mergeOptions=function(t){return c(this.prototype.options,t),this},Bt.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),r=typeof t=="function"?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(r),this};function Gt(t){if(!(typeof L=="undefined"||!L||!L.Mixin)){t=B(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ot={on:function(t,e,r){if(typeof t=="object")for(var a in t)this._on(a,t[a],e);else{t=Z(t);for(var h=0,v=t.length;h<v;h++)this._on(t[h],e,r)}return this},off:function(t,e,r){if(!t)delete this._events;else if(typeof t=="object")for(var a in t)this._off(a,t[a],e);else{t=Z(t);for(var h=0,v=t.length;h<v;h++)this._off(t[h],e,r)}return this},_on:function(t,e,r){this._events=this._events||{};var a=this._events[t];a||(a=[],this._events[t]=a),r===this&&(r=void 0);for(var h={fn:e,ctx:r},v=a,R=0,$=v.length;R<$;R++)if(v[R].fn===e&&v[R].ctx===r)return;v.push(h)},_off:function(t,e,r){var a,h,v;if(!!this._events&&(a=this._events[t],!!a)){if(!e){for(h=0,v=a.length;h<v;h++)a[h].fn=O;delete this._events[t];return}if(r===this&&(r=void 0),a)for(h=0,v=a.length;h<v;h++){var R=a[h];if(R.ctx===r&&R.fn===e){R.fn=O,this._firingCount&&(this._events[t]=a=a.slice()),a.splice(h,1);return}}}},fire:function(t,e,r){if(!this.listens(t,r))return this;var a=c({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var h=this._events[t];if(h){this._firingCount=this._firingCount+1||1;for(var v=0,R=h.length;v<R;v++){var $=h[v];$.fn.call($.ctx||this,a)}this._firingCount--}}return r&&this._propagateEvent(a),this},listens:function(t,e){var r=this._events&&this._events[t];if(r&&r.length)return!0;if(e){for(var a in this._eventParents)if(this._eventParents[a].listens(t,e))return!0}return!1},once:function(t,e,r){if(typeof t=="object"){for(var a in t)this.once(a,t[a],e);return this}var h=_(function(){this.off(t,e,r).off(t,h,r)},this);return this.on(t,e,r).on(t,h,r)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[A(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[A(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,c({layer:t.target,propagatedFrom:t.target},t),!0)}};Ot.addEventListener=Ot.on,Ot.removeEventListener=Ot.clearAllEventListeners=Ot.off,Ot.addOneTimeEventListener=Ot.once,Ot.fireEvent=Ot.fire,Ot.hasEventListeners=Ot.listens;var ce=Bt.extend(Ot);function Lt(t,e,r){this.x=r?Math.round(t):t,this.y=r?Math.round(e):e}var Be=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};Lt.prototype={clone:function(){return new Lt(this.x,this.y)},add:function(t){return this.clone()._add(Tt(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(Tt(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new Lt(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new Lt(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Be(this.x),this.y=Be(this.y),this},distanceTo:function(t){t=Tt(t);var e=t.x-this.x,r=t.y-this.y;return Math.sqrt(e*e+r*r)},equals:function(t){return t=Tt(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=Tt(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+S(this.x)+", "+S(this.y)+")"}};function Tt(t,e,r){return t instanceof Lt?t:B(t)?new Lt(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new Lt(t.x,t.y):new Lt(t,e,r)}function Dt(t,e){if(!!t)for(var r=e?[t,e]:t,a=0,h=r.length;a<h;a++)this.extend(r[a])}Dt.prototype={extend:function(t){return t=Tt(t),!this.min&&!this.max?(this.min=t.clone(),this.max=t.clone()):(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)),this},getCenter:function(t){return new Lt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new Lt(this.min.x,this.max.y)},getTopRight:function(){return new Lt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,r;return typeof t[0]=="number"||t instanceof Lt?t=Tt(t):t=oe(t),t instanceof Dt?(e=t.min,r=t.max):e=r=t,e.x>=this.min.x&&r.x<=this.max.x&&e.y>=this.min.y&&r.y<=this.max.y},intersects:function(t){t=oe(t);var e=this.min,r=this.max,a=t.min,h=t.max,v=h.x>=e.x&&a.x<=r.x,R=h.y>=e.y&&a.y<=r.y;return v&&R},overlaps:function(t){t=oe(t);var e=this.min,r=this.max,a=t.min,h=t.max,v=h.x>e.x&&a.x<r.x,R=h.y>e.y&&a.y<r.y;return v&&R},isValid:function(){return!!(this.min&&this.max)}};function oe(t,e){return!t||t instanceof Dt?t:new Dt(t,e)}function Ut(t,e){if(!!t)for(var r=e?[t,e]:t,a=0,h=r.length;a<h;a++)this.extend(r[a])}Ut.prototype={extend:function(t){var e=this._southWest,r=this._northEast,a,h;if(t instanceof Et)a=t,h=t;else if(t instanceof Ut){if(a=t._southWest,h=t._northEast,!a||!h)return this}else return t?this.extend(X(t)||Nt(t)):this;return!e&&!r?(this._southWest=new Et(a.lat,a.lng),this._northEast=new Et(h.lat,h.lng)):(e.lat=Math.min(a.lat,e.lat),e.lng=Math.min(a.lng,e.lng),r.lat=Math.max(h.lat,r.lat),r.lng=Math.max(h.lng,r.lng)),this},pad:function(t){var e=this._southWest,r=this._northEast,a=Math.abs(e.lat-r.lat)*t,h=Math.abs(e.lng-r.lng)*t;return new Ut(new Et(e.lat-a,e.lng-h),new Et(r.lat+a,r.lng+h))},getCenter:function(){return new Et((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Et(this.getNorth(),this.getWest())},getSouthEast:function(){return new Et(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof Et||"lat"in t?t=X(t):t=Nt(t);var e=this._southWest,r=this._northEast,a,h;return t instanceof Ut?(a=t.getSouthWest(),h=t.getNorthEast()):a=h=t,a.lat>=e.lat&&h.lat<=r.lat&&a.lng>=e.lng&&h.lng<=r.lng},intersects:function(t){t=Nt(t);var e=this._southWest,r=this._northEast,a=t.getSouthWest(),h=t.getNorthEast(),v=h.lat>=e.lat&&a.lat<=r.lat,R=h.lng>=e.lng&&a.lng<=r.lng;return v&&R},overlaps:function(t){t=Nt(t);var e=this._southWest,r=this._northEast,a=t.getSouthWest(),h=t.getNorthEast(),v=h.lat>e.lat&&a.lat<r.lat,R=h.lng>e.lng&&a.lng<r.lng;return v&&R},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return t?(t=Nt(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Nt(t,e){return t instanceof Ut?t:new Ut(t,e)}function Et(t,e,r){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,r!==void 0&&(this.alt=+r)}Et.prototype={equals:function(t,e){if(!t)return!1;t=X(t);var r=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return r<=(e===void 0?1e-9:e)},toString:function(t){return"LatLng("+S(this.lat,t)+", "+S(this.lng,t)+")"},distanceTo:function(t){return b.distance(this,X(t))},wrap:function(){return b.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,r=e/Math.cos(Math.PI/180*this.lat);return Nt([this.lat-e,this.lng-r],[this.lat+e,this.lng+r])},clone:function(){return new Et(this.lat,this.lng,this.alt)}};function X(t,e,r){return t instanceof Et?t:B(t)&&typeof t[0]!="object"?t.length===3?new Et(t[0],t[1],t[2]):t.length===2?new Et(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new Et(t.lat,"lng"in t?t.lng:t.lon,t.alt):e===void 0?null:new Et(t,e,r)}var d={latLngToPoint:function(t,e){var r=this.projection.project(t),a=this.scale(e);return this.transformation._transform(r,a)},pointToLatLng:function(t,e){var r=this.scale(e),a=this.transformation.untransform(t,r);return this.projection.unproject(a)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,r=this.scale(t),a=this.transformation.transform(e.min,r),h=this.transformation.transform(e.max,r);return new Dt(a,h)},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?Y(t.lng,this.wrapLng,!0):t.lng,r=this.wrapLat?Y(t.lat,this.wrapLat,!0):t.lat,a=t.alt;return new Et(r,e,a)},wrapLatLngBounds:function(t){var e=t.getCenter(),r=this.wrapLatLng(e),a=e.lat-r.lat,h=e.lng-r.lng;if(a===0&&h===0)return t;var v=t.getSouthWest(),R=t.getNorthEast(),$=new Et(v.lat-a,v.lng-h),et=new Et(R.lat-a,R.lng-h);return new Ut($,et)}},b=c({},d,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var r=Math.PI/180,a=t.lat*r,h=e.lat*r,v=Math.sin((e.lat-t.lat)*r/2),R=Math.sin((e.lng-t.lng)*r/2),$=v*v+Math.cos(a)*Math.cos(h)*R*R,et=2*Math.atan2(Math.sqrt($),Math.sqrt(1-$));return this.R*et}}),I=6378137,V={R:I,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,r=this.MAX_LATITUDE,a=Math.max(Math.min(r,t.lat),-r),h=Math.sin(a*e);return new Lt(this.R*t.lng*e,this.R*Math.log((1+h)/(1-h))/2)},unproject:function(t){var e=180/Math.PI;return new Et((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=I*Math.PI;return new Dt([-t,-t],[t,t])}()};function W(t,e,r,a){if(B(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=e,this._c=r,this._d=a}W.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new Lt((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};function at(t,e,r,a){return new W(t,e,r,a)}var rt=c({},b,{code:"EPSG:3857",projection:V,transformation:function(){var t=.5/(Math.PI*V.R);return at(t,.5,-t,.5)}()}),ot=c({},rt,{code:"EPSG:900913"});function ut(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function gt(t,e){var r="",a,h,v,R,$,et;for(a=0,v=t.length;a<v;a++){for($=t[a],h=0,R=$.length;h<R;h++)et=$[h],r+=(h?"L":"M")+et.x+" "+et.y;r+=e?Xe?"z":"x":""}return r||"M0 0"}var dt=document.documentElement.style,_t="ActiveXObject"in window,kt=_t&&!document.addEventListener,vt="msLaunchUri"in navigator&&!("documentMode"in document),xt=we("webkit"),Ct=we("android"),Rt=we("android 2")||we("android 3"),te=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Yt=Ct&&we("Google")&&te<537&&!("AudioNode"in window),Ft=!!window.opera,le=!vt&&we("chrome"),ne=we("gecko")&&!xt&&!Ft&&!_t,$t=!le&&we("safari"),fe=we("phantom"),ae="OTransition"in dt,_e=navigator.platform.indexOf("Win")===0,Oe=_t&&"transition"in dt,Le="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Rt,ze="MozPerspective"in dt,he=!window.L_DISABLE_3D&&(Oe||Le||ze)&&!ae&&!fe,be=typeof orientation!="undefined"||we("mobile"),Ki=be&&xt,Ii=be&&Le,Ee=!window.PointerEvent&&window.MSPointerEvent,me=!!(window.PointerEvent||Ee),Wt=!window.L_NO_TOUCH&&(me||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),Ji=be&&Ft,_i=be&&ne,Ie=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ge=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",O,e),window.removeEventListener("testPassiveEventSupport",O,e)}catch(r){}return t}(),$i=function(){return!!document.createElement("canvas").getContext}(),Xe=!!(document.createElementNS&&ut("svg").createSVGRect),ke=!Xe&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&typeof e.adj=="object"}catch(r){return!1}}();function we(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Di={ie:_t,ielt9:kt,edge:vt,webkit:xt,android:Ct,android23:Rt,androidStock:Yt,opera:Ft,chrome:le,gecko:ne,safari:$t,phantom:fe,opera12:ae,win:_e,ie3d:Oe,webkit3d:Le,gecko3d:ze,any3d:he,mobile:be,mobileWebkit:Ki,mobileWebkit3d:Ii,msPointer:Ee,pointer:me,touch:Wt,mobileOpera:Ji,mobileGecko:_i,retina:Ie,passiveEvents:ge,canvas:$i,svg:Xe,vml:ke},mi=Ee?"MSPointerDown":"pointerdown",qe=Ee?"MSPointerMove":"pointermove",gi=Ee?"MSPointerUp":"pointerup",Ri=Ee?"MSPointerCancel":"pointercancel",ee={},Qi=!1;function mn(t,e,r,a){return e==="touchstart"?Ai(t,r,a):e==="touchmove"?gn(t,r,a):e==="touchend"&&vn(t,r,a),this}function tn(t,e,r){var a=t["_leaflet_"+e+r];return e==="touchstart"?t.removeEventListener(mi,a,!1):e==="touchmove"?t.removeEventListener(qe,a,!1):e==="touchend"&&(t.removeEventListener(gi,a,!1),t.removeEventListener(Ri,a,!1)),this}function Ai(t,e,r){var a=_(function(h){h.MSPOINTER_TYPE_TOUCH&&h.pointerType===h.MSPOINTER_TYPE_TOUCH&&ve(h),Ne(h,e)});t["_leaflet_touchstart"+r]=a,t.addEventListener(mi,a,!1),Qi||(document.addEventListener(mi,zi,!0),document.addEventListener(qe,en,!0),document.addEventListener(gi,Ni,!0),document.addEventListener(Ri,Ni,!0),Qi=!0)}function zi(t){ee[t.pointerId]=t}function en(t){ee[t.pointerId]&&(ee[t.pointerId]=t)}function Ni(t){delete ee[t.pointerId]}function Ne(t,e){t.touches=[];for(var r in ee)t.touches.push(ee[r]);t.changedTouches=[t],e(t)}function gn(t,e,r){var a=function(h){h.pointerType===(h.MSPOINTER_TYPE_MOUSE||"mouse")&&h.buttons===0||Ne(h,e)};t["_leaflet_touchmove"+r]=a,t.addEventListener(qe,a,!1)}function vn(t,e,r){var a=function(h){Ne(h,e)};t["_leaflet_touchend"+r]=a,t.addEventListener(gi,a,!1),t.addEventListener(Ri,a,!1)}var Ze=Ee?"MSPointerDown":me?"pointerdown":"touchstart",vi=Ee?"MSPointerUp":me?"pointerup":"touchend",Me="_leaflet_";function ri(t,e,r){var a,h,v=!1,R=250;function $(st){if(me){if(!st.isPrimary||st.pointerType==="mouse")return}else if(st.touches.length>1)return;var ft=Date.now(),yt=ft-(a||ft);h=st.touches?st.touches[0]:st,v=yt>0&&yt<=R,a=ft}function et(st){if(v&&!h.cancelBubble){if(me){if(st.pointerType==="mouse")return;var ft={},yt,zt;for(zt in h)yt=h[zt],ft[zt]=yt&&yt.bind?yt.bind(h):yt;h=ft}h.type="dblclick",h.button=0,e(h),a=null}}return t[Me+Ze+r]=$,t[Me+vi+r]=et,t[Me+"dblclick"+r]=e,t.addEventListener(Ze,$,ge?{passive:!1}:!1),t.addEventListener(vi,et,ge?{passive:!1}:!1),t.addEventListener("dblclick",e,!1),this}function oi(t,e){var r=t[Me+Ze+e],a=t[Me+vi+e],h=t[Me+"dblclick"+e];return t.removeEventListener(Ze,r,ge?{passive:!1}:!1),t.removeEventListener(vi,a,ge?{passive:!1}:!1),t.removeEventListener("dblclick",h,!1),this}var yi=Qe(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ke=Qe(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Li=Ke==="webkitTransition"||Ke==="OTransition"?Ke+"End":"transitionend";function ai(t){return typeof t=="string"?document.getElementById(t):t}function je(t,e){var r=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!r||r==="auto")&&document.defaultView){var a=document.defaultView.getComputedStyle(t,null);r=a?a[e]:null}return r==="auto"?null:r}function It(t,e,r){var a=document.createElement(t);return a.className=e||"",r&&r.appendChild(a),a}function Zt(t){var e=t.parentNode;e&&e.removeChild(t)}function si(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function se(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function xe(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function Je(t,e){if(t.classList!==void 0)return t.classList.contains(e);var r=$e(t);return r.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(r)}function Pt(t,e){if(t.classList!==void 0)for(var r=Z(e),a=0,h=r.length;a<h;a++)t.classList.add(r[a]);else if(!Je(t,e)){var v=$e(t);Ge(t,(v?v+" ":"")+e)}}function Ht(t,e){t.classList!==void 0?t.classList.remove(e):Ge(t,N((" "+$e(t)+" ").replace(" "+e+" "," ")))}function Ge(t,e){t.className.baseVal===void 0?t.className=e:t.className.baseVal=e}function $e(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function de(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&nn(t,e)}function nn(t,e){var r=!1,a="DXImageTransform.Microsoft.Alpha";try{r=t.filters.item(a)}catch(h){if(e===1)return}e=Math.round(e*100),r?(r.Enabled=e!==100,r.Opacity=e):t.style.filter+=" progid:"+a+"(opacity="+e+")"}function Qe(t){for(var e=document.documentElement.style,r=0;r<t.length;r++)if(t[r]in e)return t[r];return!1}function Re(t,e,r){var a=e||new Lt(0,0);t.style[yi]=(Oe?"translate("+a.x+"px,"+a.y+"px)":"translate3d("+a.x+"px,"+a.y+"px,0)")+(r?" scale("+r+")":"")}function Xt(t,e){t._leaflet_pos=e,he?Re(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function Ce(t){return t._leaflet_pos||new Lt(0,0)}var Se,ti,bi;if("onselectstart"in document)Se=function(){St(window,"selectstart",ve)},ti=function(){qt(window,"selectstart",ve)};else{var li=Qe(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Se=function(){if(li){var t=document.documentElement.style;bi=t[li],t[li]="none"}},ti=function(){li&&(document.documentElement.style[li]=bi,bi=void 0)}}function ki(){St(window,"dragstart",ve)}function hi(){qt(window,"dragstart",ve)}var ui,ci;function Zi(t){for(;t.tabIndex===-1;)t=t.parentNode;!t.style||(wi(),ui=t,ci=t.style.outline,t.style.outline="none",St(window,"keydown",wi))}function wi(){!ui||(ui.style.outline=ci,ui=void 0,ci=void 0,qt(window,"keydown",wi))}function rn(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function ji(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var on={TRANSFORM:yi,TRANSITION:Ke,TRANSITION_END:Li,get:ai,getStyle:je,create:It,remove:Zt,empty:si,toFront:se,toBack:xe,hasClass:Je,addClass:Pt,removeClass:Ht,setClass:Ge,getClass:$e,setOpacity:de,testProp:Qe,setTransform:Re,setPosition:Xt,getPosition:Ce,disableTextSelection:Se,enableTextSelection:ti,disableImageDrag:ki,enableImageDrag:hi,preventOutline:Zi,restoreOutline:wi,getSizedParentNode:rn,getScale:ji};function St(t,e,r,a){if(typeof e=="object")for(var h in e)fi(t,h,e[h],r);else{e=Z(e);for(var v=0,R=e.length;v<R;v++)fi(t,e[v],r,a)}return this}var ue="_leaflet_events";function qt(t,e,r,a){if(typeof e=="object")for(var h in e)Fi(t,h,e[h],r);else if(e){e=Z(e);for(var v=0,R=e.length;v<R;v++)Fi(t,e[v],r,a)}else{for(var $ in t[ue])Fi(t,$,t[ue][$]);delete t[ue]}return this}function Gi(){if(me)return!(vt||$t)}var Mi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function fi(t,e,r,a){var h=e+A(r)+(a?"_"+A(a):"");if(t[ue]&&t[ue][h])return this;var v=function($){return r.call(a||t,$||window.event)},R=v;me&&e.indexOf("touch")===0?mn(t,e,v,h):Wt&&e==="dblclick"&&!Gi()?ri(t,v,h):"addEventListener"in t?e==="touchstart"||e==="touchmove"||e==="wheel"||e==="mousewheel"?t.addEventListener(Mi[e]||e,v,ge?{passive:!1}:!1):e==="mouseenter"||e==="mouseleave"?(v=function($){$=$||window.event,m(t,$)&&R($)},t.addEventListener(Mi[e],v,!1)):t.addEventListener(e,R,!1):"attachEvent"in t&&t.attachEvent("on"+e,v),t[ue]=t[ue]||{},t[ue][h]=v}function Fi(t,e,r,a){var h=e+A(r)+(a?"_"+A(a):""),v=t[ue]&&t[ue][h];if(!v)return this;me&&e.indexOf("touch")===0?tn(t,e,h):Wt&&e==="dblclick"&&!Gi()?oi(t,h):"removeEventListener"in t?t.removeEventListener(Mi[e]||e,v,!1):"detachEvent"in t&&t.detachEvent("on"+e,v),t[ue][h]=null}function Kt(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,p(t),this}function ei(t){return fi(t,"wheel",Kt),this}function Fe(t){return St(t,"mousedown touchstart dblclick",Kt),fi(t,"click",u),this}function ve(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Te(t){return ve(t),Kt(t),this}function i(t,e){if(!e)return new Lt(t.clientX,t.clientY);var r=ji(e),a=r.boundingClientRect;return new Lt((t.clientX-a.left)/r.x-e.clientLeft,(t.clientY-a.top)/r.y-e.clientTop)}var n=_e&&le?2*window.devicePixelRatio:ne?window.devicePixelRatio:1;function o(t){return vt?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/n:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}var l={};function u(t){l[t.type]=!0}function p(t){var e=l[t.type];return l[t.type]=!1,e}function m(t,e){var r=e.relatedTarget;if(!r)return!0;try{for(;r&&r!==t;)r=r.parentNode}catch(a){return!1}return r!==t}var x={on:St,off:qt,stopPropagation:Kt,disableScrollPropagation:ei,disableClickPropagation:Fe,preventDefault:ve,stop:Te,getMousePosition:i,getWheelDelta:o,fakeStop:u,skipped:p,isExternalTarget:m,addListener:St,removeListener:qt},M=ce.extend({run:function(t,e,r,a){this.stop(),this._el=t,this._inProgress=!0,this._duration=r||.25,this._easeOutPower=1/Math.max(a||.5,.2),this._startPos=Ce(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){!this._inProgress||(this._step(!0),this._complete())},_animate:function(){this._animId=bt(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,r=this._duration*1e3;e<r?this._runFrame(this._easeOut(e/r),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var r=this._startPos.add(this._offset.multiplyBy(t));e&&r._round(),Xt(this._el,r),this.fire("step")},_complete:function(){J(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),P=ce.extend({options:{crs:rt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=C(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=_(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.zoom!==void 0&&(this._zoom=this._limitZoom(e.zoom)),e.center&&e.zoom!==void 0&&this.setView(X(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ke&&he&&!Ji&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),St(this._proxy,Li,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,r){if(e=e===void 0?this._zoom:this._limitZoom(e),t=this._limitCenter(X(t),e,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&r!==!0){r.animate!==void 0&&(r.zoom=c({animate:r.animate},r.zoom),r.pan=c({animate:r.animate,duration:r.duration},r.pan));var a=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,r.zoom):this._tryAnimatedPan(t,r.pan);if(a)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(he?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(he?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,r){var a=this.getZoomScale(e),h=this.getSize().divideBy(2),v=t instanceof Lt?t:this.latLngToContainerPoint(t),R=v.subtract(h).multiplyBy(1-1/a),$=this.containerPointToLatLng(h.add(R));return this.setView($,e,{zoom:r})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():Nt(t);var r=Tt(e.paddingTopLeft||e.padding||[0,0]),a=Tt(e.paddingBottomRight||e.padding||[0,0]),h=this.getBoundsZoom(t,!1,r.add(a));if(h=typeof e.maxZoom=="number"?Math.min(e.maxZoom,h):h,h===Infinity)return{center:t.getCenter(),zoom:h};var v=a.subtract(r).divideBy(2),R=this.project(t.getSouthWest(),h),$=this.project(t.getNorthEast(),h),et=this.unproject(R.add($).divideBy(2).add(v),h);return{center:et,zoom:h}},fitBounds:function(t,e){if(t=Nt(t),!t.isValid())throw new Error("Bounds are not valid.");var r=this._getBoundsCenterZoom(t,e);return this.setView(r.center,r.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(t=Tt(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(e.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new M,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),e.animate!==!1){Pt(this._mapPane,"leaflet-pan-anim");var r=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,r,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,r){if(r=r||{},r.animate===!1||!he)return this.setView(t,e,r);this._stop();var a=this.project(this.getCenter()),h=this.project(t),v=this.getSize(),R=this._zoom;t=X(t),e=e===void 0?R:e;var $=Math.max(v.x,v.y),et=$*this.getZoomScale(R,e),st=h.distanceTo(a)||1,ft=1.42,yt=ft*ft;function zt(re){var _n=re?-1:1,Ir=re?et:$,Dr=et*et-$*$+_n*yt*yt*st*st,Rr=2*Ir*yt*st,Cn=Dr/Rr,er=Math.sqrt(Cn*Cn+1)-Cn,Ar=er<1e-9?-18:Math.log(er);return Ar}function We(re){return(Math.exp(re)-Math.exp(-re))/2}function pi(re){return(Math.exp(re)+Math.exp(-re))/2}function pn(re){return We(re)/pi(re)}var ni=zt(0);function En(re){return $*(pi(ni)/pi(ni+ft*re))}function Sr(re){return $*(pi(ni)*pn(ni+ft*re)-We(ni))/yt}function Tr(re){return 1-Math.pow(1-re,1.5)}var Br=Date.now(),Qn=(zt(1)-ni)/ft,Or=r.duration?1e3*r.duration:1e3*Qn*.8;function tr(){var re=(Date.now()-Br)/Or,_n=Tr(re)*Qn;re<=1?(this._flyToFrame=bt(tr,this),this._move(this.unproject(a.add(h.subtract(a).multiplyBy(Sr(_n)/st)),R),this.getScaleZoom($/En(_n),R),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}return this._moveStart(!0,r.noMoveStart),tr.call(this),this},flyToBounds:function(t,e){var r=this._getBoundsCenterZoom(t,e);return this.flyTo(r.center,r.zoom,e)},setMaxBounds:function(t){if(t=Nt(t),t.isValid())this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds);else return this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds);return this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var r=this.getCenter(),a=this._limitCenter(r,this._zoom,Nt(t));return r.equals(a)||this.panTo(a,e),this._enforcingBounds=!1,this},panInside:function(t,e){e=e||{};var r=Tt(e.paddingTopLeft||e.padding||[0,0]),a=Tt(e.paddingBottomRight||e.padding||[0,0]),h=this.getCenter(),v=this.project(h),R=this.project(t),$=this.getPixelBounds(),et=$.getSize().divideBy(2),st=oe([$.min.add(r),$.max.subtract(a)]);if(!st.contains(R)){this._enforcingBounds=!0;var ft=v.subtract(R),yt=Tt(R.x+ft.x,R.y+ft.y);(R.x<st.min.x||R.x>st.max.x)&&(yt.x=v.x-ft.x,ft.x>0?yt.x+=et.x-r.x:yt.x-=et.x-a.x),(R.y<st.min.y||R.y>st.max.y)&&(yt.y=v.y-ft.y,ft.y>0?yt.y+=et.y-r.y:yt.y-=et.y-a.y),this.panTo(this.unproject(yt),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=c({animate:!1,pan:!0},t===!0?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),a=e.divideBy(2).round(),h=r.divideBy(2).round(),v=a.subtract(h);return!v.x&&!v.y?this:(t.animate&&t.pan?this.panBy(v):(t.pan&&this._rawPanBy(v),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(_(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:r}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=c({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=_(this._handleGeolocationResponse,this),r=_(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,r,t):navigator.geolocation.getCurrentPosition(e,r,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,r=t.message||(e===1?"permission denied":e===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+r+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,r=t.coords.longitude,a=new Et(e,r),h=a.toBounds(t.coords.accuracy*2),v=this._locateOptions;if(v.setView){var R=this.getBoundsZoom(h);this.setView(a,v.maxZoom?Math.min(R,v.maxZoom):R)}var $={latlng:a,bounds:h,timestamp:t.timestamp};for(var et in t.coords)typeof t.coords[et]=="number"&&($[et]=t.coords[et]);this.fire("locationfound",$)},addHandler:function(t,e){if(!e)return this;var r=this[t]=new e(this);return this._handlers.push(r),this.options[t]&&r.enable(),this},remove:function(){if(this._initEvents(!0),this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(e){this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Zt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(J(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)Zt(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var r="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),a=It("div",r,e||this._mapPane);return t&&(this._panes[t]=a),a},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),r=this.unproject(t.getTopRight());return new Ut(e,r)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?Infinity:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,r){t=Nt(t),r=Tt(r||[0,0]);var a=this.getZoom()||0,h=this.getMinZoom(),v=this.getMaxZoom(),R=t.getNorthWest(),$=t.getSouthEast(),et=this.getSize().subtract(r),st=oe(this.project($,a),this.project(R,a)).getSize(),ft=he?this.options.zoomSnap:1,yt=et.x/st.x,zt=et.y/st.y,We=e?Math.max(yt,zt):Math.min(yt,zt);return a=this.getScaleZoom(We,a),ft&&(a=Math.round(a/(ft/100))*(ft/100),a=e?Math.ceil(a/ft)*ft:Math.floor(a/ft)*ft),Math.max(h,Math.min(v,a))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Lt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var r=this._getTopLeftPoint(t,e);return new Dt(r,r.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var r=this.options.crs;return e=e===void 0?this._zoom:e,r.scale(t)/r.scale(e)},getScaleZoom:function(t,e){var r=this.options.crs;e=e===void 0?this._zoom:e;var a=r.zoom(t*r.scale(e));return isNaN(a)?Infinity:a},project:function(t,e){return e=e===void 0?this._zoom:e,this.options.crs.latLngToPoint(X(t),e)},unproject:function(t,e){return e=e===void 0?this._zoom:e,this.options.crs.pointToLatLng(Tt(t),e)},layerPointToLatLng:function(t){var e=Tt(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(X(t))._round();return e._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(X(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(Nt(t))},distance:function(t,e){return this.options.crs.distance(X(t),X(e))},containerPointToLayerPoint:function(t){return Tt(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return Tt(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(Tt(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(X(t)))},mouseEventToContainerPoint:function(t){return i(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=ai(t);if(e){if(e._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");St(e,"scroll",this._onScroll,this),this._containerId=A(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&he,Pt(t,"leaflet-container"+(Wt?" leaflet-touch":"")+(Ie?" leaflet-retina":"")+(kt?" leaflet-oldie":"")+($t?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=je(t,"position");e!=="absolute"&&e!=="relative"&&e!=="fixed"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Xt(this._mapPane,new Lt(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Pt(t.markerPane,"leaflet-zoom-hide"),Pt(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){Xt(this._mapPane,new Lt(0,0));var r=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var a=this._zoom!==e;this._moveStart(a,!1)._move(t,e)._moveEnd(a),this.fire("viewreset"),r&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,r){e===void 0&&(e=this._zoom);var a=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(a||r&&r.pinch)&&this.fire("zoom",r),this.fire("move",r)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return J(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Xt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[A(this._container)]=this;var e=t?qt:St;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),he&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){J(this._resizeRequest),this._resizeRequest=bt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var r=[],a,h=e==="mouseout"||e==="mouseover",v=t.target||t.srcElement,R=!1;v;){if(a=this._targets[A(v)],a&&(e==="click"||e==="preclick")&&!t._simulated&&this._draggableMoved(a)){R=!0;break}if(a&&a.listens(e,!0)&&(h&&!m(v,t)||(r.push(a),h))||v===this._container)break;v=v.parentNode}return!r.length&&!R&&!h&&m(v,t)&&(r=[this]),r},_handleDOMEvent:function(t){if(!(!this._loaded||p(t))){var e=t.type;(e==="mousedown"||e==="keypress"||e==="keyup"||e==="keydown")&&Zi(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,r){if(t.type==="click"){var a=c({},t);a.type="preclick",this._fireDOMEvent(a,a.type,r)}if(!t._stopped&&(r=(r||[]).concat(this._findEventTargets(t,e)),!!r.length)){var h=r[0];e==="contextmenu"&&h.listens(e,!0)&&ve(t);var v={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var R=h.getLatLng&&(!h._radius||h._radius<=10);v.containerPoint=R?this.latLngToContainerPoint(h.getLatLng()):this.mouseEventToContainerPoint(t),v.layerPoint=this.containerPointToLayerPoint(v.containerPoint),v.latlng=R?h.getLatLng():this.layerPointToLatLng(v.layerPoint)}for(var $=0;$<r.length;$++)if(r[$].fire(e,v,!0),v.originalEvent._stopped||r[$].options.bubblingMouseEvents===!1&&H(this._mouseEvents,e)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return Ce(this._mapPane)||new Lt(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){var r=t&&e!==void 0?this._getNewPixelOrigin(t,e):this.getPixelOrigin();return r.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var r=this.getSize()._divideBy(2);return this.project(t,e)._subtract(r)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,r){var a=this._getNewPixelOrigin(r,e);return this.project(t,e)._subtract(a)},_latLngBoundsToNewLayerBounds:function(t,e,r){var a=this._getNewPixelOrigin(r,e);return oe([this.project(t.getSouthWest(),e)._subtract(a),this.project(t.getNorthWest(),e)._subtract(a),this.project(t.getSouthEast(),e)._subtract(a),this.project(t.getNorthEast(),e)._subtract(a)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,r){if(!r)return t;var a=this.project(t,e),h=this.getSize().divideBy(2),v=new Dt(a.subtract(h),a.add(h)),R=this._getBoundsOffset(v,r,e);return R.round().equals([0,0])?t:this.unproject(a.add(R),e)},_limitOffset:function(t,e){if(!e)return t;var r=this.getPixelBounds(),a=new Dt(r.min.add(t),r.max.add(t));return t.add(this._getBoundsOffset(a,e))},_getBoundsOffset:function(t,e,r){var a=oe(this.project(e.getNorthEast(),r),this.project(e.getSouthWest(),r)),h=a.min.subtract(t.min),v=a.max.subtract(t.max),R=this._rebound(h.x,-v.x),$=this._rebound(h.y,-v.y);return new Lt(R,$)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),r=this.getMaxZoom(),a=he?this.options.zoomSnap:1;return a&&(t=Math.round(t/a)*a),Math.max(e,Math.min(r,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ht(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var r=this._getCenterOffset(t)._trunc();return(e&&e.animate)!==!0&&!this.getSize().contains(r)?!1:(this.panBy(r,e),!0)},_createAnimProxy:function(){var t=this._proxy=It("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(e){var r=yi,a=this._proxy.style[r];Re(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),a===this._proxy.style[r]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Zt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();Re(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,r){if(this._animatingZoom)return!0;if(r=r||{},!this._zoomAnimated||r.animate===!1||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var a=this.getZoomScale(e),h=this._getCenterOffset(t)._divideBy(1-1/a);return r.animate!==!0&&!this.getSize().contains(h)?!1:(bt(function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)},this),!0)},_animateZoom:function(t,e,r,a){!this._mapPane||(r&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,Pt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:a}),setTimeout(_(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){!this._animatingZoom||(this._mapPane&&Ht(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),bt(function(){this._moveEnd(!0)},this))}});function F(t,e){return new P(t,e)}var U=Bt.extend({options:{position:"topright"},initialize:function(t){C(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),r=this.getPosition(),a=t._controlCorners[r];return Pt(e,"leaflet-control"),r.indexOf("bottom")!==-1?a.insertBefore(e,a.firstChild):a.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Zt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),j=function(t){return new U(t)};P.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",r=this._controlContainer=It("div",e+"control-container",this._container);function a(h,v){var R=e+h+" "+e+v;t[h+v]=It("div",R,r)}a("top","left"),a("top","right"),a("bottom","left"),a("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)Zt(this._controlCorners[t]);Zt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var tt=U.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,r,a){return r<a?-1:a<r?1:0}},initialize:function(t,e,r){C(this,r),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var a in t)this._addLayer(t[a],a);for(a in e)this._addLayer(e[a],a,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return U.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(A(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){Pt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(Pt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):Ht(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ht(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=It("div",t),r=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Fe(e),ei(e);var a=this._section=It("section",t+"-list");r&&(this._map.on("click",this.collapse,this),Ct||St(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var h=this._layersLink=It("a",t+"-toggle",e);h.href="#",h.title="Layers",Wt?(St(h,"click",Te),St(h,"click",this.expand,this)):St(h,"focus",this.expand,this),r||this.expand(),this._baseLayersList=It("div",t+"-base",a),this._separator=It("div",t+"-separator",a),this._overlaysList=It("div",t+"-overlays",a),e.appendChild(a)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&A(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,r){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:r}),this.options.sortLayers&&this._layers.sort(_(function(a,h){return this.options.sortFunction(a.layer,h.layer,a.name,h.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;si(this._baseLayersList),si(this._overlaysList),this._layerControlInputs=[];var t,e,r,a,h=0;for(r=0;r<this._layers.length;r++)a=this._layers[r],this._addItem(a),e=e||a.overlay,t=t||!a.overlay,h+=a.overlay?0:1;return this.options.hideSingleBase&&(t=t&&h>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(A(t.target)),r=e.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;r&&this._map.fire(r,e)},_createRadioElement:function(t,e){var r='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",a=document.createElement("div");return a.innerHTML=r,a.firstChild},_addItem:function(t){var e=document.createElement("label"),r=this._map.hasLayer(t.layer),a;t.overlay?(a=document.createElement("input"),a.type="checkbox",a.className="leaflet-control-layers-selector",a.defaultChecked=r):a=this._createRadioElement("leaflet-base-layers_"+A(this),r),this._layerControlInputs.push(a),a.layerId=A(t.layer),St(a,"click",this._onInputClick,this);var h=document.createElement("span");h.innerHTML=" "+t.name;var v=document.createElement("div");e.appendChild(v),v.appendChild(a),v.appendChild(h);var R=t.overlay?this._overlaysList:this._baseLayersList;return R.appendChild(e),this._checkDisabledLayers(),e},_onInputClick:function(){var t=this._layerControlInputs,e,r,a=[],h=[];this._handlingClick=!0;for(var v=t.length-1;v>=0;v--)e=t[v],r=this._getLayer(e.layerId).layer,e.checked?a.push(r):e.checked||h.push(r);for(v=0;v<h.length;v++)this._map.hasLayer(h[v])&&this._map.removeLayer(h[v]);for(v=0;v<a.length;v++)this._map.hasLayer(a[v])||this._map.addLayer(a[v]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,e,r,a=this._map.getZoom(),h=t.length-1;h>=0;h--)e=t[h],r=this._getLayer(e.layerId).layer,e.disabled=r.options.minZoom!==void 0&&a<r.options.minZoom||r.options.maxZoom!==void 0&&a>r.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),nt=function(t,e,r){return new tt(t,e,r)},lt=U.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",r=It("div",e+" leaflet-bar"),a=this.options;return this._zoomInButton=this._createButton(a.zoomInText,a.zoomInTitle,e+"-in",r,this._zoomIn),this._zoomOutButton=this._createButton(a.zoomOutText,a.zoomOutTitle,e+"-out",r,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),r},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,r,a,h){var v=It("a",r,a);return v.innerHTML=t,v.href="#",v.title=e,v.setAttribute("role","button"),v.setAttribute("aria-label",e),Fe(v),St(v,"click",Te),St(v,"click",h,this),St(v,"click",this._refocusOnMap,this),v},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";Ht(this._zoomInButton,e),Ht(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&Pt(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&Pt(this._zoomInButton,e)}});P.mergeOptions({zoomControl:!0}),P.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new lt,this.addControl(this.zoomControl))});var ht=function(t){return new lt(t)},ct=U.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",r=It("div",e),a=this.options;return this._addScales(a,e+"-line",r),t.on(a.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),r},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,r){t.metric&&(this._mScale=It("div",e,r)),t.imperial&&(this._iScale=It("div",e,r))},_update:function(){var t=this._map,e=t.getSize().y/2,r=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(r)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),r=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,r,e/t)},_updateImperial:function(t){var e=t*3.2808399,r,a,h;e>5280?(r=e/5280,a=this._getRoundNum(r),this._updateScale(this._iScale,a+" mi",a/r)):(h=this._getRoundNum(e),this._updateScale(this._iScale,h+" ft",h/e))},_updateScale:function(t,e,r){t.style.width=Math.round(this.options.maxWidth*r)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),r=t/e;return r=r>=10?10:r>=5?5:r>=3?3:r>=2?2:1,e*r}}),mt=function(t){return new ct(t)},wt=U.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){C(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=It("div","leaflet-control-attribution"),Fe(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(!!this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var r=[];this.options.prefix&&r.push(this.options.prefix),t.length&&r.push(t.join(", ")),this._container.innerHTML=r.join(" | ")}}});P.mergeOptions({attributionControl:!0}),P.addInitHook(function(){this.options.attributionControl&&new wt().addTo(this)});var jt=function(t){return new wt(t)};U.Layers=tt,U.Zoom=lt,U.Scale=ct,U.Attribution=wt,j.layers=nt,j.zoom=ht,j.scale=mt,j.attribution=jt;var At=Bt.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});At.addTo=function(t,e){return t.addHandler(e,this),this};var Vt={Events:Ot},Qt=Wt?"touchstart mousedown":"mousedown",Jt={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},pe={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},ie=ce.extend({options:{clickTolerance:3},initialize:function(t,e,r,a){C(this,a),this._element=t,this._dragStartTarget=e||t,this._preventOutline=r},enable:function(){this._enabled||(St(this._dragStartTarget,Qt,this._onDown,this),this._enabled=!0)},disable:function(){!this._enabled||(ie._dragging===this&&this.finishDrag(),qt(this._dragStartTarget,Qt,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!(t._simulated||!this._enabled)&&(this._moved=!1,!Je(this._element,"leaflet-zoom-anim")&&!(ie._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(ie._dragging=this,this._preventOutline&&Zi(this._element),ki(),Se(),!this._moving))){this.fire("down");var e=t.touches?t.touches[0]:t,r=rn(this._element);this._startPoint=new Lt(e.clientX,e.clientY),this._parentScale=ji(r),St(document,pe[t.type],this._onMove,this),St(document,Jt[t.type],this._onUp,this)}},_onMove:function(t){if(!(t._simulated||!this._enabled)){if(t.touches&&t.touches.length>1){this._moved=!0;return}var e=t.touches&&t.touches.length===1?t.touches[0]:t,r=new Lt(e.clientX,e.clientY)._subtract(this._startPoint);!r.x&&!r.y||Math.abs(r.x)+Math.abs(r.y)<this.options.clickTolerance||(r.x/=this._parentScale.x,r.y/=this._parentScale.y,ve(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=Ce(this._element).subtract(r),Pt(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Pt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(r),this._moving=!0,J(this._animRequest),this._lastEvent=t,this._animRequest=bt(this._updatePosition,this,!0))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Xt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){t._simulated||!this._enabled||this.finishDrag()},finishDrag:function(){Ht(document.body,"leaflet-dragging"),this._lastTarget&&(Ht(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var t in pe)qt(document,pe[t],this._onMove,this),qt(document,Jt[t],this._onUp,this);hi(),ti(),this._moved&&this._moving&&(J(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,ie._dragging=!1}});function Pe(t,e){if(!e||!t.length)return t.slice();var r=e*e;return t=ir(t,r),t=yn(t,r),t}function ye(t,e,r){return Math.sqrt(Vi(t,e,r,!0))}function Ui(t,e,r){return Vi(t,e,r)}function yn(t,e){var r=t.length,a=typeof Uint8Array!=void 0+""?Uint8Array:Array,h=new a(r);h[0]=h[r-1]=1,Hi(t,h,e,0,r-1);var v,R=[];for(v=0;v<r;v++)h[v]&&R.push(t[v]);return R}function Hi(t,e,r,a,h){var v=0,R,$,et;for($=a+1;$<=h-1;$++)et=Vi(t[$],t[a],t[h],!0),et>v&&(R=$,v=et);v>r&&(e[R]=1,Hi(t,e,r,a,R),Hi(t,e,r,R,h))}function ir(t,e){for(var r=[t[0]],a=1,h=0,v=t.length;a<v;a++)nr(t[a],t[h])>e&&(r.push(t[a]),h=a);return h<v-1&&r.push(t[v-1]),r}var Sn;function Tn(t,e,r,a,h){var v=a?Sn:di(t,r),R=di(e,r),$,et,st;for(Sn=R;;){if(!(v|R))return[t,e];if(v&R)return!1;$=v||R,et=an(t,e,$,r,h),st=di(et,r),$===v?(t=et,v=st):(e=et,R=st)}}function an(t,e,r,a,h){var v=e.x-t.x,R=e.y-t.y,$=a.min,et=a.max,st,ft;return r&8?(st=t.x+v*(et.y-t.y)/R,ft=et.y):r&4?(st=t.x+v*($.y-t.y)/R,ft=$.y):r&2?(st=et.x,ft=t.y+R*(et.x-t.x)/v):r&1&&(st=$.x,ft=t.y+R*($.x-t.x)/v),new Lt(st,ft,h)}function di(t,e){var r=0;return t.x<e.min.x?r|=1:t.x>e.max.x&&(r|=2),t.y<e.min.y?r|=4:t.y>e.max.y&&(r|=8),r}function nr(t,e){var r=e.x-t.x,a=e.y-t.y;return r*r+a*a}function Vi(t,e,r,a){var h=e.x,v=e.y,R=r.x-h,$=r.y-v,et=R*R+$*$,st;return et>0&&(st=((t.x-h)*R+(t.y-v)*$)/et,st>1?(h=r.x,v=r.y):st>0&&(h+=R*st,v+=$*st)),R=t.x-h,$=t.y-v,a?R*R+$*$:new Lt(h,v)}function Ue(t){return!B(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]!="undefined"}function Bn(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ue(t)}var rr={simplify:Pe,pointToSegmentDistance:ye,closestPointOnSegment:Ui,clipSegment:Tn,_getEdgeIntersection:an,_getBitCode:di,_sqClosestPointOnSegment:Vi,isFlat:Ue,_flat:Bn};function On(t,e,r){var a,h=[1,4,2,8],v,R,$,et,st,ft,yt,zt;for(v=0,ft=t.length;v<ft;v++)t[v]._code=di(t[v],e);for($=0;$<4;$++){for(yt=h[$],a=[],v=0,ft=t.length,R=ft-1;v<ft;R=v++)et=t[v],st=t[R],et._code&yt?st._code&yt||(zt=an(st,et,yt,e,r),zt._code=di(zt,e),a.push(zt)):(st._code&yt&&(zt=an(st,et,yt,e,r),zt._code=di(zt,e),a.push(zt)),a.push(et));t=a}return t}var or={clipPolygon:On},Ln={project:function(t){return new Lt(t.lng,t.lat)},unproject:function(t){return new Et(t.y,t.x)},bounds:new Dt([-180,-90],[180,90])},bn={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Dt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var e=Math.PI/180,r=this.R,a=t.lat*e,h=this.R_MINOR/r,v=Math.sqrt(1-h*h),R=v*Math.sin(a),$=Math.tan(Math.PI/4-a/2)/Math.pow((1-R)/(1+R),v/2);return a=-r*Math.log(Math.max($,1e-10)),new Lt(t.lng*e*r,a)},unproject:function(t){for(var e=180/Math.PI,r=this.R,a=this.R_MINOR/r,h=Math.sqrt(1-a*a),v=Math.exp(-t.y/r),R=Math.PI/2-2*Math.atan(v),$=0,et=.1,st;$<15&&Math.abs(et)>1e-7;$++)st=h*Math.sin(R),st=Math.pow((1-st)/(1+st),h/2),et=Math.PI/2-2*Math.atan(v*st)-R,R+=et;return new Et(R*e,t.x*e/r)}},ar={LonLat:Ln,Mercator:bn,SphericalMercator:V},sr=c({},b,{code:"EPSG:3395",projection:bn,transformation:function(){var t=.5/(Math.PI*bn.R);return at(t,.5,-t,.5)}()}),In=c({},b,{code:"EPSG:4326",projection:Ln,transformation:at(1/180,1,-1/180,.5)}),lr=c({},d,{projection:Ln,transformation:at(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var r=e.lng-t.lng,a=e.lat-t.lat;return Math.sqrt(r*r+a*a)},infinite:!0});d.Earth=b,d.EPSG3395=sr,d.EPSG3857=rt,d.EPSG900913=ot,d.EPSG4326=In,d.Simple=lr;var De=ce.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[A(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[A(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(!!e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var r=this.getEvents();e.on(r,this),this.once("remove",function(){e.off(r,this)},this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}});P.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=A(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=A(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&A(t)in this._layers},eachLayer:function(t,e){for(var r in this._layers)t.call(e,this._layers[r]);return this},_addLayers:function(t){t=t?B(t)?t:[t]:[];for(var e=0,r=t.length;e<r;e++)this.addLayer(t[e])},_addZoomLimit:function(t){(isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[A(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=A(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=Infinity,e=-Infinity,r=this._getZoomSpan();for(var a in this._zoomBoundLayers){var h=this._zoomBoundLayers[a].options;t=h.minZoom===void 0?t:Math.min(t,h.minZoom),e=h.maxZoom===void 0?e:Math.max(e,h.maxZoom)}this._layersMaxZoom=e===-Infinity?void 0:e,this._layersMinZoom=t===Infinity?void 0:t,r!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var xi=De.extend({initialize:function(t,e){C(this,e),this._layers={};var r,a;if(t)for(r=0,a=t.length;r<a;r++)this.addLayer(t[r])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){if(!t)return!1;var e=typeof t=="number"?t:this.getLayerId(t);return e in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e=Array.prototype.slice.call(arguments,1),r,a;for(r in this._layers)a=this._layers[r],a[t]&&a[t].apply(a,e);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var r in this._layers)t.call(e,this._layers[r]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return A(t)}}),hr=function(t,e){return new xi(t,e)},Pi=xi.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),xi.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),xi.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new Ut;for(var e in this._layers){var r=this._layers[e];t.extend(r.getBounds?r.getBounds():r.getLatLng())}return t}}),ur=function(t,e){return new Pi(t,e)},Ei=Bt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){C(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var r=this._getIconUrl(t);if(!r){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var a=this._createImg(r,e&&e.tagName==="IMG"?e:null);return this._setIconStyles(a,t),a},_setIconStyles:function(t,e){var r=this.options,a=r[e+"Size"];typeof a=="number"&&(a=[a,a]);var h=Tt(a),v=Tt(e==="shadow"&&r.shadowAnchor||r.iconAnchor||h&&h.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(r.className||""),v&&(t.style.marginLeft=-v.x+"px",t.style.marginTop=-v.y+"px"),h&&(t.style.width=h.x+"px",t.style.height=h.y+"px")},_createImg:function(t,e){return e=e||document.createElement("img"),e.src=t,e},_getIconUrl:function(t){return Ie&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function cr(t){return new Ei(t)}var Yi=Ei.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return Yi.imagePath||(Yi.imagePath=this._detectIconPath()),(this.options.imagePath||Yi.imagePath)+Ei.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=It("div","leaflet-default-icon-path",document.body),e=je(t,"background-image")||je(t,"backgroundImage");return document.body.removeChild(t),e===null||e.indexOf("url")!==0?e="":e=e.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,""),e}}),Dn=At.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new ie(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Pt(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ht(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,r=e._map,a=this._marker.options.autoPanSpeed,h=this._marker.options.autoPanPadding,v=Ce(e._icon),R=r.getPixelBounds(),$=r.getPixelOrigin(),et=oe(R.min._subtract($).add(h),R.max._subtract($).subtract(h));if(!et.contains(v)){var st=Tt((Math.max(et.max.x,v.x)-et.max.x)/(R.max.x-et.max.x)-(Math.min(et.min.x,v.x)-et.min.x)/(R.min.x-et.min.x),(Math.max(et.max.y,v.y)-et.max.y)/(R.max.y-et.max.y)-(Math.min(et.min.y,v.y)-et.min.y)/(R.min.y-et.min.y)).multiplyBy(a);r.panBy(st,{animate:!1}),this._draggable._newPos._add(st),this._draggable._startPos._add(st),Xt(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=bt(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(J(this._panRequest),this._panRequest=bt(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,r=e._shadow,a=Ce(e._icon),h=e._map.layerPointToLatLng(a);r&&Xt(r,a),e._latlng=h,t.latlng=h,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){J(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),sn=De.extend({options:{icon:new Yi,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){C(this,e),this._latlng=X(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=X(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),r=t.icon.createIcon(this._icon),a=!1;r!==this._icon&&(this._icon&&this._removeIcon(),a=!0,t.title&&(r.title=t.title),r.tagName==="IMG"&&(r.alt=t.alt||"")),Pt(r,e),t.keyboard&&(r.tabIndex="0"),this._icon=r,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var h=t.icon.createShadow(this._shadow),v=!1;h!==this._shadow&&(this._removeShadow(),v=!0),h&&(Pt(h,e),h.alt=""),this._shadow=h,t.opacity<1&&this._updateOpacity(),a&&this.getPane().appendChild(this._icon),this._initInteraction(),h&&v&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),Zt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Zt(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Xt(this._icon,t),this._shadow&&Xt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(!!this.options.interactive&&(Pt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Dn)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Dn(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&de(this._icon,t),this._shadow&&de(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function fr(t,e){return new sn(t,e)}var ii=De.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return C(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),ln=ii.extend({options:{fill:!0,radius:10},initialize:function(t,e){C(this,e),this._latlng=X(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=X(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return ii.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,r=this._clickTolerance(),a=[t+r,e+r];this._pxBounds=new Dt(this._point.subtract(a),this._point.add(a))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function dr(t,e){return new ln(t,e)}var kn=ln.extend({initialize:function(t,e,r){if(typeof e=="number"&&(e=c({},r,{radius:e})),C(this,e),this._latlng=X(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new Ut(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:ii.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,r=this._map,a=r.options.crs;if(a.distance===b.distance){var h=Math.PI/180,v=this._mRadius/b.R/h,R=r.project([e+v,t]),$=r.project([e-v,t]),et=R.add($).divideBy(2),st=r.unproject(et).lat,ft=Math.acos((Math.cos(v*h)-Math.sin(e*h)*Math.sin(st*h))/(Math.cos(e*h)*Math.cos(st*h)))/h;(isNaN(ft)||ft===0)&&(ft=v/Math.cos(Math.PI/180*e)),this._point=et.subtract(r.getPixelOrigin()),this._radius=isNaN(ft)?0:et.x-r.project([st,t-ft]).x,this._radiusY=et.y-R.y}else{var yt=a.unproject(a.project(this._latlng).subtract([this._mRadius,0]));this._point=r.latLngToLayerPoint(this._latlng),this._radius=this._point.x-r.latLngToLayerPoint(yt).x}this._updateBounds()}});function pr(t,e,r){return new kn(t,e,r)}var He=ii.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){C(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e=Infinity,r=null,a=Vi,h,v,R=0,$=this._parts.length;R<$;R++)for(var et=this._parts[R],st=1,ft=et.length;st<ft;st++){h=et[st-1],v=et[st];var yt=a(t,h,v,!0);yt<e&&(e=yt,r=a(t,h,v))}return r&&(r.distance=Math.sqrt(e)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,r,a,h,v,R,$=this._rings[0],et=$.length;if(!et)return null;for(t=0,e=0;t<et-1;t++)e+=$[t].distanceTo($[t+1])/2;if(e===0)return this._map.layerPointToLatLng($[0]);for(t=0,a=0;t<et-1;t++)if(h=$[t],v=$[t+1],r=h.distanceTo(v),a+=r,a>e)return R=(a-e)/r,this._map.layerPointToLatLng([v.x-R*(v.x-h.x),v.y-R*(v.y-h.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=X(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new Ut,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Ue(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],r=Ue(t),a=0,h=t.length;a<h;a++)r?(e[a]=X(t[a]),this._bounds.extend(e[a])):e[a]=this._convertLatLngs(t[a]);return e},_project:function(){var t=new Dt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new Lt(t,t);this._pxBounds=new Dt([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)])},_projectLatlngs:function(t,e,r){var a=t[0]instanceof Et,h=t.length,v,R;if(a){for(R=[],v=0;v<h;v++)R[v]=this._map.latLngToLayerPoint(t[v]),r.extend(R[v]);e.push(R)}else for(v=0;v<h;v++)this._projectLatlngs(t[v],e,r)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var e=this._parts,r,a,h,v,R,$,et;for(r=0,h=0,v=this._rings.length;r<v;r++)for(et=this._rings[r],a=0,R=et.length;a<R-1;a++)$=Tn(et[a],et[a+1],t,a,!0),!!$&&(e[h]=e[h]||[],e[h].push($[0]),($[1]!==et[a+1]||a===R-2)&&(e[h].push($[1]),h++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,r=0,a=t.length;r<a;r++)t[r]=Pe(t[r],e)},_update:function(){!this._map||(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var r,a,h,v,R,$,et=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(r=0,v=this._parts.length;r<v;r++)for($=this._parts[r],a=0,R=$.length,h=R-1;a<R;h=a++)if(!(!e&&a===0)&&ye(t,$[h],$[a])<=et)return!0;return!1}});function _r(t,e){return new He(t,e)}He._flat=Bn;var Ci=He.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,r,a,h,v,R,$,et,st=this._rings[0],ft=st.length;if(!ft)return null;for(v=R=$=0,t=0,e=ft-1;t<ft;e=t++)r=st[t],a=st[e],h=r.y*a.x-a.y*r.x,R+=(r.x+a.x)*h,$+=(r.y+a.y)*h,v+=h*3;return v===0?et=st[0]:et=[R/v,$/v],this._map.layerPointToLatLng(et)},_convertLatLngs:function(t){var e=He.prototype._convertLatLngs.call(this,t),r=e.length;return r>=2&&e[0]instanceof Et&&e[0].equals(e[r-1])&&e.pop(),e},_setLatLngs:function(t){He.prototype._setLatLngs.call(this,t),Ue(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ue(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,r=new Lt(e,e);if(t=new Dt(t.min.subtract(r),t.max.add(r)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var a=0,h=this._rings.length,v;a<h;a++)v=On(this._rings[a],t,!0),v.length&&this._parts.push(v)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e=!1,r,a,h,v,R,$,et,st;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(v=0,et=this._parts.length;v<et;v++)for(r=this._parts[v],R=0,st=r.length,$=st-1;R<st;$=R++)a=r[R],h=r[$],a.y>t.y!=h.y>t.y&&t.x<(h.x-a.x)*(t.y-a.y)/(h.y-a.y)+a.x&&(e=!e);return e||He.prototype._containsPoint.call(this,t,!0)}});function mr(t,e){return new Ci(t,e)}var Ve=Pi.extend({initialize:function(t,e){C(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e=B(t)?t:t.features,r,a,h;if(e){for(r=0,a=e.length;r<a;r++)h=e[r],(h.geometries||h.geometry||h.features||h.coordinates)&&this.addData(h);return this}var v=this.options;if(v.filter&&!v.filter(t))return this;var R=wn(t,v);return R?(R.feature=cn(t),R.defaultOptions=R.options,this.resetStyle(R),v.onEachFeature&&v.onEachFeature(t,R),this.addLayer(R)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=c({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){t.setStyle&&(typeof e=="function"&&(e=e(t.feature)),t.setStyle(e))}});function wn(t,e){var r=t.type==="Feature"?t.geometry:t,a=r?r.coordinates:null,h=[],v=e&&e.pointToLayer,R=e&&e.coordsToLatLng||Mn,$,et,st,ft;if(!a&&!r)return null;switch(r.type){case"Point":return $=R(a),Rn(v,t,$,e);case"MultiPoint":for(st=0,ft=a.length;st<ft;st++)$=R(a[st]),h.push(Rn(v,t,$,e));return new Pi(h);case"LineString":case"MultiLineString":return et=hn(a,r.type==="LineString"?0:1,R),new He(et,e);case"Polygon":case"MultiPolygon":return et=hn(a,r.type==="Polygon"?1:2,R),new Ci(et,e);case"GeometryCollection":for(st=0,ft=r.geometries.length;st<ft;st++){var yt=wn({geometry:r.geometries[st],type:"Feature",properties:t.properties},e);yt&&h.push(yt)}return new Pi(h);default:throw new Error("Invalid GeoJSON object.")}}function Rn(t,e,r,a){return t?t(e,r):new sn(r,a&&a.markersInheritOptions&&a)}function Mn(t){return new Et(t[1],t[0],t[2])}function hn(t,e,r){for(var a=[],h=0,v=t.length,R;h<v;h++)R=e?hn(t[h],e-1,r):(r||Mn)(t[h]),a.push(R);return a}function xn(t,e){return e=typeof e=="number"?e:6,t.alt!==void 0?[S(t.lng,e),S(t.lat,e),S(t.alt,e)]:[S(t.lng,e),S(t.lat,e)]}function un(t,e,r,a){for(var h=[],v=0,R=t.length;v<R;v++)h.push(e?un(t[v],e-1,r,a):xn(t[v],a));return!e&&r&&h.push(h[0]),h}function Si(t,e){return t.feature?c({},t.feature,{geometry:e}):cn(e)}function cn(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var Pn={toGeoJSON:function(t){return Si(this,{type:"Point",coordinates:xn(this.getLatLng(),t)})}};sn.include(Pn),kn.include(Pn),ln.include(Pn),He.include({toGeoJSON:function(t){var e=!Ue(this._latlngs),r=un(this._latlngs,e?1:0,!1,t);return Si(this,{type:(e?"Multi":"")+"LineString",coordinates:r})}}),Ci.include({toGeoJSON:function(t){var e=!Ue(this._latlngs),r=e&&!Ue(this._latlngs[0]),a=un(this._latlngs,r?2:e?1:0,!0,t);return e||(a=[a]),Si(this,{type:(r?"Multi":"")+"Polygon",coordinates:a})}}),xi.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(r){e.push(r.toGeoJSON(t).geometry.coordinates)}),Si(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(e==="MultiPoint")return this.toMultiPoint(t);var r=e==="GeometryCollection",a=[];return this.eachLayer(function(h){if(h.toGeoJSON){var v=h.toGeoJSON(t);if(r)a.push(v.geometry);else{var R=cn(v);R.type==="FeatureCollection"?a.push.apply(a,R.features):a.push(R)}}}),r?Si(this,{geometries:a,type:"GeometryCollection"}):{type:"FeatureCollection",features:a}}});function An(t,e){return new Ve(t,e)}var gr=An,fn=De.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,r){this._url=t,this._bounds=Nt(e),C(this,r)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Pt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Zt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&se(this._image),this},bringToBack:function(){return this._map&&xe(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=Nt(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",e=this._image=t?this._url:It("img");if(Pt(e,"leaflet-image-layer"),this._zoomAnimated&&Pt(e,"leaflet-zoom-animated"),this.options.className&&Pt(e,this.options.className),e.onselectstart=O,e.onmousemove=O,e.onload=_(this.fire,this,"load"),e.onerror=_(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(e.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=e.src;return}e.src=this._url,e.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),r=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Re(this._image,r,e)},_reset:function(){var t=this._image,e=new Dt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),r=e.getSize();Xt(t,e.min),t.style.width=r.x+"px",t.style.height=r.y+"px"},_updateOpacity:function(){de(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),vr=function(t,e,r){return new fn(t,e,r)},zn=fn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1},_initImage:function(){var t=this._url.tagName==="VIDEO",e=this._image=t?this._url:It("video");if(Pt(e,"leaflet-image-layer"),this._zoomAnimated&&Pt(e,"leaflet-zoom-animated"),this.options.className&&Pt(e,this.options.className),e.onselectstart=O,e.onmousemove=O,e.onloadeddata=_(this.fire,this,"load"),t){for(var r=e.getElementsByTagName("source"),a=[],h=0;h<r.length;h++)a.push(r[h].src);this._url=r.length>0?a:[e.src];return}B(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted;for(var v=0;v<this._url.length;v++){var R=It("source");R.src=this._url[v],e.appendChild(R)}}});function yr(t,e,r){return new zn(t,e,r)}var Nn=fn.extend({_initImage:function(){var t=this._image=this._url;Pt(t,"leaflet-image-layer"),this._zoomAnimated&&Pt(t,"leaflet-zoom-animated"),this.options.className&&Pt(t,this.options.className),t.onselectstart=O,t.onmousemove=O}});function Lr(t,e,r){return new Nn(t,e,r)}var Ye=De.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){C(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&de(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&de(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(de(this._container,0),this._removeTimeout=setTimeout(_(Zt,void 0,this._container),200)):Zt(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=X(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){!this._map||(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&se(this._container),this},bringToBack:function(){return this._map&&xe(this._container),this},_prepareOpen:function(t,e,r){if(e instanceof De||(r=e,e=t),e instanceof Pi)for(var a in t._layers){e=t._layers[a];break}if(!r)if(e.getCenter)r=e.getCenter();else if(e.getLatLng)r=e.getLatLng();else throw new Error("Unable to get source layer LatLng.");return this._source=e,this.update(),r},_updateContent:function(){if(!!this._content){var t=this._contentNode,e=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof e=="string")t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(!!this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=Tt(this.options.offset),r=this._getAnchor();this._zoomAnimated?Xt(this._container,t.add(r)):e=e.add(t).add(r);var a=this._containerBottom=-e.y,h=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=a+"px",this._container.style.left=h+"px"}},_getAnchor:function(){return[0,0]}}),Ti=Ye.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){Ye.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ii||this._source.on("preclick",Kt))},onRemove:function(t){Ye.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ii||this._source.off("preclick",Kt))},getEvents:function(){var t=Ye.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=It("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),r=this._wrapper=It("div",t+"-content-wrapper",e);if(this._contentNode=It("div",t+"-content",r),Fe(e),ei(this._contentNode),St(e,"contextmenu",Kt),this._tipContainer=It("div",t+"-tip-container",e),this._tip=It("div",t+"-tip",this._tipContainer),this.options.closeButton){var a=this._closeButton=It("a",t+"-close-button",e);a.href="#close",a.innerHTML="&#215;",St(a,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var r=t.offsetWidth;r=Math.min(r,this.options.maxWidth),r=Math.max(r,this.options.minWidth),e.width=r+1+"px",e.whiteSpace="",e.height="";var a=t.offsetHeight,h=this.options.maxHeight,v="leaflet-popup-scrolled";h&&a>h?(e.height=h+"px",Pt(t,v)):Ht(t,v),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),r=this._getAnchor();Xt(this._container,e.add(r))},_adjustPan:function(){if(!!this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var t=this._map,e=parseInt(je(this._container,"marginBottom"),10)||0,r=this._container.offsetHeight+e,a=this._containerWidth,h=new Lt(this._containerLeft,-r-this._containerBottom);h._add(Ce(this._container));var v=t.layerPointToContainerPoint(h),R=Tt(this.options.autoPanPadding),$=Tt(this.options.autoPanPaddingTopLeft||R),et=Tt(this.options.autoPanPaddingBottomRight||R),st=t.getSize(),ft=0,yt=0;v.x+a+et.x>st.x&&(ft=v.x+a-st.x+et.x),v.x-ft-$.x<0&&(ft=v.x-$.x),v.y+r+et.y>st.y&&(yt=v.y+r-st.y+et.y),v.y-yt-$.y<0&&(yt=v.y-$.y),(ft||yt)&&t.fire("autopanstart").panBy([ft,yt])}},_onCloseButtonClick:function(t){this._close(),Te(t)},_getAnchor:function(){return Tt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),br=function(t,e){return new Ti(t,e)};P.mergeOptions({closePopupOnClick:!0}),P.include({openPopup:function(t,e,r){return t instanceof Ti||(t=new Ti(r).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return(!t||t===this._popup)&&(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),De.include({bindPopup:function(t,e){return t instanceof Ti?(C(t,e),this._popup=t,t._source=this):((!this._popup||e)&&(this._popup=new Ti(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){return this._popup&&this._map&&(e=this._popup._prepareOpen(this,t,e),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;if(!!this._popup&&!!this._map){if(Te(t),e instanceof ii){this.openPopup(t.layer||t.target,t.latlng);return}this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var Bi=Ye.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){Ye.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){Ye.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=Ye.prototype.getEvents.call(this);return Wt&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip",e=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=It("div",e)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,r,a=this._map,h=this._container,v=a.latLngToContainerPoint(a.getCenter()),R=a.layerPointToContainerPoint(t),$=this.options.direction,et=h.offsetWidth,st=h.offsetHeight,ft=Tt(this.options.offset),yt=this._getAnchor();$==="top"?(e=et/2,r=st):$==="bottom"?(e=et/2,r=0):$==="center"?(e=et/2,r=st/2):$==="right"?(e=0,r=st/2):$==="left"?(e=et,r=st/2):R.x<v.x?($="right",e=0,r=st/2):($="left",e=et+(ft.x+yt.x)*2,r=st/2),t=t.subtract(Tt(e,r,!0)).add(ft).add(yt),Ht(h,"leaflet-tooltip-right"),Ht(h,"leaflet-tooltip-left"),Ht(h,"leaflet-tooltip-top"),Ht(h,"leaflet-tooltip-bottom"),Pt(h,"leaflet-tooltip-"+$),Xt(h,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&de(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return Tt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),kr=function(t,e){return new Bi(t,e)};P.include({openTooltip:function(t,e,r){return t instanceof Bi||(t=new Bi(r).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),De.include({bindTooltip:function(t,e){return t instanceof Bi?(C(t,e),this._tooltip=t,t._source=this):((!this._tooltip||e)&&(this._tooltip=new Bi(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var e=t?"off":"on",r={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?r.add=this._openTooltip:(r.mouseover=this._openTooltip,r.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(r.mousemove=this._moveTooltip),Wt&&(r.click=this._openTooltip)),this[e](r),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){return this._tooltip&&this._map&&(e=this._tooltip._prepareOpen(this,t,e),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(Pt(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(Ht(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;!this._tooltip||!this._map||this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e=t.latlng,r,a;this._tooltip.options.sticky&&t.originalEvent&&(r=this._map.mouseEventToContainerPoint(t.originalEvent),a=this._map.containerPointToLayerPoint(r),e=this._map.layerPointToLatLng(a)),this._tooltip.setLatLng(e)}});var Zn=Ei.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&t.tagName==="DIV"?t:document.createElement("div"),r=this.options;if(r.html instanceof Element?(si(e),e.appendChild(r.html)):e.innerHTML=r.html!==!1?r.html:"",r.bgPos){var a=Tt(r.bgPos);e.style.backgroundPosition=-a.x+"px "+-a.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});function wr(t){return new Zn(t)}Ei.Default=Yi;var Wi=De.extend({options:{tileSize:256,opacity:1,updateWhenIdle:be,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){C(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),Zt(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(se(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(xe(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=z(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof Lt?t:new Lt(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e=this.getPane().children,r=-t(-Infinity,Infinity),a=0,h=e.length,v;a<h;a++)v=e[a].style.zIndex,e[a]!==this._container&&v&&(r=t(r,+v));isFinite(r)&&(this.options.zIndex=r+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(!!this._map&&!kt){de(this._container,this.options.opacity);var t=+new Date,e=!1,r=!1;for(var a in this._tiles){var h=this._tiles[a];if(!(!h.current||!h.loaded)){var v=Math.min(1,(t-h.loaded)/200);de(h.el,v),v<1?e=!0:(h.active?r=!0:this._onOpaqueTile(h),h.active=!0)}}r&&!this._noPrune&&this._pruneTiles(),e&&(J(this._fadeFrame),this._fadeFrame=bt(this._updateOpacity,this))}},_onOpaqueTile:O,_initContainer:function(){this._container||(this._container=It("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(t!==void 0){for(var r in this._levels)r=Number(r),this._levels[r].el.children.length||r===t?(this._levels[r].el.style.zIndex=e-Math.abs(t-r),this._onUpdateLevel(r)):(Zt(this._levels[r].el),this._removeTilesAtZoom(r),this._onRemoveLevel(r),delete this._levels[r]);var a=this._levels[t],h=this._map;return a||(a=this._levels[t]={},a.el=It("div","leaflet-tile-container leaflet-zoom-animated",this._container),a.el.style.zIndex=e,a.origin=h.project(h.unproject(h.getPixelOrigin()),t).round(),a.zoom=t,this._setZoomTransform(a,h.getCenter(),h.getZoom()),O(a.el.offsetWidth),this._onCreateLevel(a)),this._level=a,a}},_onUpdateLevel:O,_onRemoveLevel:O,_onCreateLevel:O,_pruneTiles:function(){if(!!this._map){var t,e,r=this._map.getZoom();if(r>this.options.maxZoom||r<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)e=this._tiles[t],e.retain=e.current;for(t in this._tiles)if(e=this._tiles[t],e.current&&!e.active){var a=e.coords;this._retainParent(a.x,a.y,a.z,a.z-5)||this._retainChildren(a.x,a.y,a.z,a.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)Zt(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,r,a){var h=Math.floor(t/2),v=Math.floor(e/2),R=r-1,$=new Lt(+h,+v);$.z=+R;var et=this._tileCoordsToKey($),st=this._tiles[et];return st&&st.active?(st.retain=!0,!0):(st&&st.loaded&&(st.retain=!0),R>a?this._retainParent(h,v,R,a):!1)},_retainChildren:function(t,e,r,a){for(var h=2*t;h<2*t+2;h++)for(var v=2*e;v<2*e+2;v++){var R=new Lt(h,v);R.z=r+1;var $=this._tileCoordsToKey(R),et=this._tiles[$];if(et&&et.active){et.retain=!0;continue}else et&&et.loaded&&(et.retain=!0);r+1<a&&this._retainChildren(h,v,r+1,a)}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return e.minNativeZoom!==void 0&&t<e.minNativeZoom?e.minNativeZoom:e.maxNativeZoom!==void 0&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,r,a){var h=Math.round(e);this.options.maxZoom!==void 0&&h>this.options.maxZoom||this.options.minZoom!==void 0&&h<this.options.minZoom?h=void 0:h=this._clampZoom(h);var v=this.options.updateWhenZooming&&h!==this._tileZoom;(!a||v)&&(this._tileZoom=h,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),h!==void 0&&this._update(t),r||this._pruneTiles(),this._noPrune=!!r),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var r in this._levels)this._setZoomTransform(this._levels[r],t,e)},_setZoomTransform:function(t,e,r){var a=this._map.getZoomScale(r,t.zoom),h=t.origin.multiplyBy(a).subtract(this._map._getNewPixelOrigin(e,r)).round();he?Re(t.el,h,a):Xt(t.el,h)},_resetGrid:function(){var t=this._map,e=t.options.crs,r=this._tileSize=this.getTileSize(),a=this._tileZoom,h=this._map.getPixelWorldBounds(this._tileZoom);h&&(this._globalTileRange=this._pxBoundsToTileRange(h)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],a).x/r.x),Math.ceil(t.project([0,e.wrapLng[1]],a).x/r.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],a).y/r.x),Math.ceil(t.project([e.wrapLat[1],0],a).y/r.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var e=this._map,r=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),a=e.getZoomScale(r,this._tileZoom),h=e.project(t,this._tileZoom).floor(),v=e.getSize().divideBy(a*2);return new Dt(h.subtract(v),h.add(v))},_update:function(t){var e=this._map;if(!!e){var r=this._clampZoom(e.getZoom());if(t===void 0&&(t=e.getCenter()),this._tileZoom!==void 0){var a=this._getTiledPixelBounds(t),h=this._pxBoundsToTileRange(a),v=h.getCenter(),R=[],$=this.options.keepBuffer,et=new Dt(h.getBottomLeft().subtract([$,-$]),h.getTopRight().add([$,-$]));if(!(isFinite(h.min.x)&&isFinite(h.min.y)&&isFinite(h.max.x)&&isFinite(h.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var st in this._tiles){var ft=this._tiles[st].coords;(ft.z!==this._tileZoom||!et.contains(new Lt(ft.x,ft.y)))&&(this._tiles[st].current=!1)}if(Math.abs(r-this._tileZoom)>1){this._setView(t,r);return}for(var yt=h.min.y;yt<=h.max.y;yt++)for(var zt=h.min.x;zt<=h.max.x;zt++){var We=new Lt(zt,yt);if(We.z=this._tileZoom,!!this._isValidTile(We)){var pi=this._tiles[this._tileCoordsToKey(We)];pi?pi.current=!0:R.push(We)}}if(R.sort(function(ni,En){return ni.distanceTo(v)-En.distanceTo(v)}),R.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var pn=document.createDocumentFragment();for(zt=0;zt<R.length;zt++)this._addTile(R[zt],pn);this._level.el.appendChild(pn)}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var r=this._globalTileRange;if(!e.wrapLng&&(t.x<r.min.x||t.x>r.max.x)||!e.wrapLat&&(t.y<r.min.y||t.y>r.max.y))return!1}if(!this.options.bounds)return!0;var a=this._tileCoordsToBounds(t);return Nt(this.options.bounds).overlaps(a)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,r=this.getTileSize(),a=t.scaleBy(r),h=a.add(r),v=e.unproject(a,t.z),R=e.unproject(h,t.z);return[v,R]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),r=new Ut(e[0],e[1]);return this.options.noWrap||(r=this._map.wrapLatLngBounds(r)),r},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),r=new Lt(+e[0],+e[1]);return r.z=+e[2],r},_removeTile:function(t){var e=this._tiles[t];!e||(Zt(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){Pt(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=O,t.onmousemove=O,kt&&this.options.opacity<1&&de(t,this.options.opacity),Ct&&!Rt&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var r=this._getTilePos(t),a=this._tileCoordsToKey(t),h=this.createTile(this._wrapCoords(t),_(this._tileReady,this,t));this._initTile(h),this.createTile.length<2&&bt(_(this._tileReady,this,t,null,h)),Xt(h,r),this._tiles[a]={el:h,coords:t,current:!0},e.appendChild(h),this.fire("tileloadstart",{tile:h,coords:t})},_tileReady:function(t,e,r){e&&this.fire("tileerror",{error:e,tile:r,coords:t});var a=this._tileCoordsToKey(t);r=this._tiles[a],!!r&&(r.loaded=+new Date,this._map._fadeAnimated?(de(r.el,0),J(this._fadeFrame),this._fadeFrame=bt(this._updateOpacity,this)):(r.active=!0,this._pruneTiles()),e||(Pt(r.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:r.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),kt||!this._map._fadeAnimated?bt(this._pruneTiles,this):setTimeout(_(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new Lt(this._wrapX?Y(t.x,this._wrapX):t.x,this._wrapY?Y(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new Dt(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Mr(t){return new Wi(t)}var Oi=Wi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,e=C(this,e),e.detectRetina&&Ie&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),typeof e.subdomains=="string"&&(e.subdomains=e.subdomains.split("")),Ct||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&e===void 0&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var r=document.createElement("img");return St(r,"load",_(this._tileOnLoad,this,e,r)),St(r,"error",_(this._tileOnError,this,e,r)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),r.alt="",r.setAttribute("role","presentation"),r.src=this.getTileUrl(t),r},getTileUrl:function(t){var e={r:Ie?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=r),e["-y"]=r}return k(this._url,c(e,this.options))},_tileOnLoad:function(t,e){kt?setTimeout(_(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,r){var a=this.options.errorTileUrl;a&&e.getAttribute("src")!==a&&(e.src=a),t(r,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,r=this.options.zoomReverse,a=this.options.zoomOffset;return r&&(t=e-t),t+a},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&(e=this._tiles[t].el,e.onload=O,e.onerror=O,e.complete||(e.src=G,Zt(e),delete this._tiles[t]))},_removeTile:function(t){var e=this._tiles[t];if(!!e)return Yt||e.el.setAttribute("src",G),Wi.prototype._removeTile.call(this,t)},_tileReady:function(t,e,r){if(!(!this._map||r&&r.getAttribute("src")===G))return Wi.prototype._tileReady.call(this,t,e,r)}});function jn(t,e){return new Oi(t,e)}var Gn=Oi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var r=c({},this.defaultWmsParams);for(var a in e)a in this.options||(r[a]=e[a]);e=C(this,e);var h=e.detectRetina&&Ie?2:1,v=this.getTileSize();r.width=v.x*h,r.height=v.y*h,this.wmsParams=r},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,Oi.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),r=this._crs,a=oe(r.project(e[0]),r.project(e[1])),h=a.min,v=a.max,R=(this._wmsVersion>=1.3&&this._crs===In?[h.y,h.x,v.y,v.x]:[h.x,h.y,v.x,v.y]).join(","),$=Oi.prototype.getTileUrl.call(this,t);return $+D(this.wmsParams,$,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+R},setParams:function(t,e){return c(this.wmsParams,t),e||this.redraw(),this}});function xr(t,e){return new Gn(t,e)}Oi.WMS=Gn,jn.wms=xr;var Ae=De.extend({options:{padding:.1,tolerance:0},initialize:function(t){C(this,t),A(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&Pt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var r=this._map.getZoomScale(e,this._zoom),a=Ce(this._container),h=this._map.getSize().multiplyBy(.5+this.options.padding),v=this._map.project(this._center,e),R=this._map.project(t,e),$=R.subtract(v),et=h.multiplyBy(-r).add(a).add(h).subtract($);he?Re(this._container,et,r):Xt(this._container,et)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),r=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new Dt(r,r.add(e.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Fn=Ae.extend({getEvents:function(){var t=Ae.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ae.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");St(t,"mousemove",this._onMouseMove,this),St(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),St(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){J(this._redrawRequest),delete this._ctx,Zt(this._container),qt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var e in this._layers)t=this._layers[e],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ae.prototype._update.call(this);var t=this._bounds,e=this._container,r=t.getSize(),a=Ie?2:1;Xt(e,t.min),e.width=a*r.x,e.height=a*r.y,e.style.width=r.x+"px",e.style.height=r.y+"px",Ie&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Ae.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[A(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,r=e.next,a=e.prev;r?r.prev=a:this._drawLast=a,a?a.next=r:this._drawFirst=r,delete t._order,delete this._layers[A(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var e=t.options.dashArray.split(/[, ]+/),r=[],a,h;for(h=0;h<e.length;h++){if(a=Number(e[h]),isNaN(a))return;r.push(a)}t.options._dashArray=r}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){!this._map||(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||bt(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Dt,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var r=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,r.x,r.y),this._ctx.clip()}this._drawing=!0;for(var a=this._drawFirst;a;a=a.next)t=a.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(!!this._drawing){var r,a,h,v,R=t._parts,$=R.length,et=this._ctx;if(!!$){for(et.beginPath(),r=0;r<$;r++){for(a=0,h=R[r].length;a<h;a++)v=R[r][a],et[a?"lineTo":"moveTo"](v.x,v.y);e&&et.closePath()}this._fillStroke(et,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var e=t._point,r=this._ctx,a=Math.max(Math.round(t._radius),1),h=(Math.max(Math.round(t._radiusY),1)||a)/a;h!==1&&(r.save(),r.scale(1,h)),r.beginPath(),r.arc(e.x,e.y/h,a,0,Math.PI*2,!1),h!==1&&r.restore(),this._fillStroke(r,t)}},_fillStroke:function(t,e){var r=e.options;r.fill&&(t.globalAlpha=r.fillOpacity,t.fillStyle=r.fillColor||r.color,t.fill(r.fillRule||"evenodd")),r.stroke&&r.weight!==0&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=r.opacity,t.lineWidth=r.weight,t.strokeStyle=r.color,t.lineCap=r.lineCap,t.lineJoin=r.lineJoin,t.stroke())},_onClick:function(t){for(var e=this._map.mouseEventToLayerPoint(t),r,a,h=this._drawFirst;h;h=h.next)r=h.layer,r.options.interactive&&r._containsPoint(e)&&(!(t.type==="click"||t.type!=="preclick")||!this._map._draggableMoved(r))&&(a=r);a&&(u(t),this._fireEvent([a],t))},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(Ht(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var r,a,h=this._drawFirst;h;h=h.next)r=h.layer,r.options.interactive&&r._containsPoint(e)&&(a=r);a!==this._hoveredLayer&&(this._handleMouseOut(t),a&&(Pt(this._container,"leaflet-interactive"),this._fireEvent([a],t,"mouseover"),this._hoveredLayer=a)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(_(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,e,r){this._map._fireDOMEvent(e,r||e.type,t)},_bringToFront:function(t){var e=t._order;if(!!e){var r=e.next,a=e.prev;if(r)r.prev=a;else return;a?a.next=r:r&&(this._drawFirst=r),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t)}},_bringToBack:function(t){var e=t._order;if(!!e){var r=e.next,a=e.prev;if(a)a.next=r;else return;r?r.prev=a:a&&(this._drawLast=a),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t)}}});function Un(t){return $i?new Fn(t):null}var Xi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),Pr={_initContainer:function(){this._container=It("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ae.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=Xi("shape");Pt(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=Xi("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[A(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;Zt(e),t.removeInteractiveTarget(e),delete this._layers[A(t)]},_updateStyle:function(t){var e=t._stroke,r=t._fill,a=t.options,h=t._container;h.stroked=!!a.stroke,h.filled=!!a.fill,a.stroke?(e||(e=t._stroke=Xi("stroke")),h.appendChild(e),e.weight=a.weight+"px",e.color=a.color,e.opacity=a.opacity,a.dashArray?e.dashStyle=B(a.dashArray)?a.dashArray.join(" "):a.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=a.lineCap.replace("butt","flat"),e.joinstyle=a.lineJoin):e&&(h.removeChild(e),t._stroke=null),a.fill?(r||(r=t._fill=Xi("fill")),h.appendChild(r),r.color=a.fillColor||a.color,r.opacity=a.fillOpacity):r&&(h.removeChild(r),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),r=Math.round(t._radius),a=Math.round(t._radiusY||r);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+r+","+a+" 0,"+65535*360)},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){se(t._container)},_bringToBack:function(t){xe(t._container)}},dn=ke?Xi:ut,qi=Ae.extend({getEvents:function(){var t=Ae.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=dn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=dn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Zt(this._container),qt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ae.prototype._update.call(this);var t=this._bounds,e=t.getSize(),r=this._container;(!this._svgSize||!this._svgSize.equals(e))&&(this._svgSize=e,r.setAttribute("width",e.x),r.setAttribute("height",e.y)),Xt(r,t.min),r.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=dn("path");t.options.className&&Pt(e,t.options.className),t.options.interactive&&Pt(e,"leaflet-interactive"),this._updateStyle(t),this._layers[A(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){Zt(t._path),t.removeInteractiveTarget(t._path),delete this._layers[A(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,r=t.options;!e||(r.stroke?(e.setAttribute("stroke",r.color),e.setAttribute("stroke-opacity",r.opacity),e.setAttribute("stroke-width",r.weight),e.setAttribute("stroke-linecap",r.lineCap),e.setAttribute("stroke-linejoin",r.lineJoin),r.dashArray?e.setAttribute("stroke-dasharray",r.dashArray):e.removeAttribute("stroke-dasharray"),r.dashOffset?e.setAttribute("stroke-dashoffset",r.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),r.fill?(e.setAttribute("fill",r.fillColor||r.color),e.setAttribute("fill-opacity",r.fillOpacity),e.setAttribute("fill-rule",r.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,gt(t._parts,e))},_updateCircle:function(t){var e=t._point,r=Math.max(Math.round(t._radius),1),a=Math.max(Math.round(t._radiusY),1)||r,h="a"+r+","+a+" 0 1,0 ",v=t._empty()?"M0 0":"M"+(e.x-r)+","+e.y+h+r*2+",0 "+h+-r*2+",0 ";this._setPath(t,v)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){se(t._path)},_bringToBack:function(t){xe(t._path)}});ke&&qi.include(Pr);function Hn(t){return Xe||ke?new qi(t):null}P.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var e=this._paneRenderers[t];return e===void 0&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&Un(t)||Hn(t)}});var Vn=Ci.extend({initialize:function(t,e){Ci.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=Nt(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Er(t,e){return new Vn(t,e)}qi.create=dn,qi.pointsToPath=gt,Ve.geometryToLayer=wn,Ve.coordsToLatLng=Mn,Ve.coordsToLatLngs=hn,Ve.latLngToCoords=xn,Ve.latLngsToCoords=un,Ve.getFeature=Si,Ve.asFeature=cn,P.mergeOptions({boxZoom:!0});var Yn=At.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){St(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){qt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Zt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Se(),ki(),this._startPoint=this._map.mouseEventToContainerPoint(t),St(document,{contextmenu:Te,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=It("div","leaflet-zoom-box",this._container),Pt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new Dt(this._point,this._startPoint),r=e.getSize();Xt(this._box,e.min),this._box.style.width=r.x+"px",this._box.style.height=r.y+"px"},_finish:function(){this._moved&&(Zt(this._box),Ht(this._container,"leaflet-crosshair")),ti(),hi(),qt(document,{contextmenu:Te,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(_(this._resetState,this),0);var e=new Ut(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){t.keyCode===27&&this._finish()}});P.addInitHook("addHandler","boxZoom",Yn),P.mergeOptions({doubleClickZoom:!0});var Wn=At.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,r=e.getZoom(),a=e.options.zoomDelta,h=t.originalEvent.shiftKey?r-a:r+a;e.options.doubleClickZoom==="center"?e.setZoom(h):e.setZoomAround(t.containerPoint,h)}});P.addInitHook("addHandler","doubleClickZoom",Wn),P.mergeOptions({dragging:!0,inertia:!Rt,inertiaDeceleration:3400,inertiaMaxSpeed:Infinity,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Xn=At.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new ie(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}Pt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ht(this._map._container,"leaflet-grab"),Ht(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=Nt(this._map.options.maxBounds);this._offsetLimit=oe(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,r=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(r),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),r=this._initialWorldOffset,a=this._draggable._newPos.x,h=(a-e+r)%t+e-r,v=(a+e+r)%t-e-r,R=Math.abs(h+r)<Math.abs(v+r)?h:v;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=R},_onDragEnd:function(t){var e=this._map,r=e.options,a=!r.inertia||this._times.length<2;if(e.fire("dragend",t),a)e.fire("moveend");else{this._prunePositions(+new Date);var h=this._lastPos.subtract(this._positions[0]),v=(this._lastTime-this._times[0])/1e3,R=r.easeLinearity,$=h.multiplyBy(R/v),et=$.distanceTo([0,0]),st=Math.min(r.inertiaMaxSpeed,et),ft=$.multiplyBy(st/et),yt=st/(r.inertiaDeceleration*R),zt=ft.multiplyBy(-yt/2).round();!zt.x&&!zt.y?e.fire("moveend"):(zt=e._limitOffset(zt,e.options.maxBounds),bt(function(){e.panBy(zt,{duration:yt,easeLinearity:R,noMoveStart:!0,animate:!0})}))}}});P.addInitHook("addHandler","dragging",Xn),P.mergeOptions({keyboard:!0,keyboardPanDelta:80});var qn=At.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),St(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),qt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,r=t.scrollTop||e.scrollTop,a=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(a,r)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e=this._panKeys={},r=this.keyCodes,a,h;for(a=0,h=r.left.length;a<h;a++)e[r.left[a]]=[-1*t,0];for(a=0,h=r.right.length;a<h;a++)e[r.right[a]]=[t,0];for(a=0,h=r.down.length;a<h;a++)e[r.down[a]]=[0,t];for(a=0,h=r.up.length;a<h;a++)e[r.up[a]]=[0,-1*t]},_setZoomDelta:function(t){var e=this._zoomKeys={},r=this.keyCodes,a,h;for(a=0,h=r.zoomIn.length;a<h;a++)e[r.zoomIn[a]]=t;for(a=0,h=r.zoomOut.length;a<h;a++)e[r.zoomOut[a]]=-t},_addHooks:function(){St(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){qt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=t.keyCode,r=this._map,a;if(e in this._panKeys)(!r._panAnim||!r._panAnim._inProgress)&&(a=this._panKeys[e],t.shiftKey&&(a=Tt(a).multiplyBy(3)),r.panBy(a),r.options.maxBounds&&r.panInsideBounds(r.options.maxBounds));else if(e in this._zoomKeys)r.setZoom(r.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[e]);else if(e===27&&r._popup&&r._popup.options.closeOnEscapeKey)r.closePopup();else return;Te(t)}}});P.addInitHook("addHandler","keyboard",qn),P.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Kn=At.extend({addHooks:function(){St(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){qt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=o(t),r=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var a=Math.max(r-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(_(this._performZoom,this),a),Te(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),r=this._map.options.zoomSnap||0;t._stop();var a=this._delta/(this._map.options.wheelPxPerZoomLevel*4),h=4*Math.log(2/(1+Math.exp(-Math.abs(a))))/Math.LN2,v=r?Math.ceil(h/r)*r:h,R=t._limitZoom(e+(this._delta>0?v:-v))-e;this._delta=0,this._startTime=null,!!R&&(t.options.scrollWheelZoom==="center"?t.setZoom(e+R):t.setZoomAround(this._lastMousePos,e+R))}});P.addInitHook("addHandler","scrollWheelZoom",Kn),P.mergeOptions({tap:!0,tapTolerance:15});var Jn=At.extend({addHooks:function(){St(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){qt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(!!t.touches){if(ve(t),this._fireClick=!0,t.touches.length>1){this._fireClick=!1,clearTimeout(this._holdTimeout);return}var e=t.touches[0],r=e.target;this._startPos=this._newPos=new Lt(e.clientX,e.clientY),r.tagName&&r.tagName.toLowerCase()==="a"&&Pt(r,"leaflet-active"),this._holdTimeout=setTimeout(_(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),this._simulateEvent("mousedown",e),St(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),qt(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],r=e.target;r&&r.tagName&&r.tagName.toLowerCase()==="a"&&Ht(r,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new Lt(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var r=document.createEvent("MouseEvents");r._simulated=!0,e.target._simulatedClick=!0,r.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(r)}});Wt&&(!me||$t)&&P.addInitHook("addHandler","tap",Jn),P.mergeOptions({touchZoom:Wt&&!Rt,bounceAtZoomLimits:!0});var $n=At.extend({addHooks:function(){Pt(this._map._container,"leaflet-touch-zoom"),St(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ht(this._map._container,"leaflet-touch-zoom"),qt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(!(!t.touches||t.touches.length!==2||e._animatingZoom||this._zooming)){var r=e.mouseEventToContainerPoint(t.touches[0]),a=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),e.options.touchZoom!=="center"&&(this._pinchStartLatLng=e.containerPointToLatLng(r.add(a)._divideBy(2))),this._startDist=r.distanceTo(a),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),St(document,"touchmove",this._onTouchMove,this),St(document,"touchend",this._onTouchEnd,this),ve(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var e=this._map,r=e.mouseEventToContainerPoint(t.touches[0]),a=e.mouseEventToContainerPoint(t.touches[1]),h=r.distanceTo(a)/this._startDist;if(this._zoom=e.getScaleZoom(h,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&h<1||this._zoom>e.getMaxZoom()&&h>1)&&(this._zoom=e._limitZoom(this._zoom)),e.options.touchZoom==="center"){if(this._center=this._startLatLng,h===1)return}else{var v=r._add(a)._divideBy(2)._subtract(this._centerPoint);if(h===1&&v.x===0&&v.y===0)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(v),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),J(this._animRequest);var R=_(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=bt(R,this,!0),ve(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,J(this._animRequest),qt(document,"touchmove",this._onTouchMove,this),qt(document,"touchend",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});P.addInitHook("addHandler","touchZoom",$n),P.BoxZoom=Yn,P.DoubleClickZoom=Wn,P.Drag=Xn,P.Keyboard=qn,P.ScrollWheelZoom=Kn,P.Tap=Jn,P.TouchZoom=$n,s.version=f,s.Control=U,s.control=j,s.Browser=Di,s.Evented=ce,s.Mixin=Vt,s.Util=Mt,s.Class=Bt,s.Handler=At,s.extend=c,s.bind=_,s.stamp=A,s.setOptions=C,s.DomEvent=x,s.DomUtil=on,s.PosAnimation=M,s.Draggable=ie,s.LineUtil=rr,s.PolyUtil=or,s.Point=Lt,s.point=Tt,s.Bounds=Dt,s.bounds=oe,s.Transformation=W,s.transformation=at,s.Projection=ar,s.LatLng=Et,s.latLng=X,s.LatLngBounds=Ut,s.latLngBounds=Nt,s.CRS=d,s.GeoJSON=Ve,s.geoJSON=An,s.geoJson=gr,s.Layer=De,s.LayerGroup=xi,s.layerGroup=hr,s.FeatureGroup=Pi,s.featureGroup=ur,s.ImageOverlay=fn,s.imageOverlay=vr,s.VideoOverlay=zn,s.videoOverlay=yr,s.SVGOverlay=Nn,s.svgOverlay=Lr,s.DivOverlay=Ye,s.Popup=Ti,s.popup=br,s.Tooltip=Bi,s.tooltip=kr,s.Icon=Ei,s.icon=cr,s.DivIcon=Zn,s.divIcon=wr,s.Marker=sn,s.marker=fr,s.TileLayer=Oi,s.tileLayer=jn,s.GridLayer=Wi,s.gridLayer=Mr,s.SVG=qi,s.svg=Hn,s.Renderer=Ae,s.Canvas=Fn,s.canvas=Un,s.Path=ii,s.CircleMarker=ln,s.circleMarker=dr,s.Circle=kn,s.circle=pr,s.Polyline=He,s.polyline=_r,s.Polygon=Ci,s.polygon=mr,s.Rectangle=Vn,s.rectangle=Er,s.Map=P,s.map=F;var Cr=window.L;s.noConflict=function(){return window.L=Cr,this},window.L=s})},41004:function(w,E,s){"use strict";s.d(E,{Z:function(){return B}});var f=s(22122),c=s(19756),y=s(63349),_=s(41788),T=s(96156),A=s(45243),z=s(67294),Y=s(51299),O=s(59827),S=function(G){return G===void 0&&(G=""),G.split(" ").filter(Boolean)},N=function(G,q){S(q).forEach(function(K){A.DomUtil.addClass(G,K)})},Z=function(G,q){S(q).forEach(function(K){A.DomUtil.removeClass(G,K)})},C=function(H,G,q){H!=null&&q!==G&&(G!=null&&G.length>0&&Z(H,G),q!=null&&q.length>0&&N(H,q))};function D(H){for(var G=arguments.length,q=new Array(G>1?G-1:0),K=1;K<G;K++)q[K-1]=arguments[K];return Object.keys(H).reduce(function(Q,it){return q.indexOf(it)===-1&&(Q[it]=H[it]),Q},{})}var g=["children","className","id","style","useFlyTo","whenReady"],k=function(G){return Array.isArray(G)?[G[0],G[1]]:[G.lat,G.lon?G.lon:G.lng]},B=function(H){(0,_.Z)(G,H);function G(K){var Q;return Q=H.call(this,K)||this,(0,T.Z)((0,y.Z)(Q),"className",void 0),(0,T.Z)((0,y.Z)(Q),"contextValue",void 0),(0,T.Z)((0,y.Z)(Q),"container",void 0),(0,T.Z)((0,y.Z)(Q),"viewport",{center:void 0,zoom:void 0}),(0,T.Z)((0,y.Z)(Q),"_ready",!1),(0,T.Z)((0,y.Z)(Q),"_updating",!1),(0,T.Z)((0,y.Z)(Q),"onViewportChange",function(){var it=Q.leafletElement.getCenter();Q.viewport={center:it?[it.lat,it.lng]:void 0,zoom:Q.leafletElement.getZoom()},Q.props.onViewportChange&&!Q._updating&&Q.props.onViewportChange(Q.viewport)}),(0,T.Z)((0,y.Z)(Q),"onViewportChanged",function(){Q.props.onViewportChanged&&!Q._updating&&Q.props.onViewportChanged(Q.viewport)}),(0,T.Z)((0,y.Z)(Q),"bindContainer",function(it){Q.container=it}),Q.className=K.className,Q}var q=G.prototype;return q.createLeafletElement=function(Q){var it=Q.viewport,pt=(0,c.Z)(Q,["viewport"]);return it&&(it.center&&(pt.center=it.center),typeof it.zoom=="number"&&(pt.zoom=it.zoom)),new A.Map(this.container,pt)},q.updateLeafletElement=function(Q,it){this._updating=!0;var pt=it.bounds,bt=it.boundsOptions,J=it.boxZoom,Mt=it.center,Bt=it.className,Gt=it.doubleClickZoom,Ot=it.dragging,ce=it.keyboard,Lt=it.maxBounds,Be=it.scrollWheelZoom,Tt=it.tap,Dt=it.touchZoom,oe=it.useFlyTo,Ut=it.viewport,Nt=it.zoom;if(C(this.container,Q.className,Bt),Ut&&Ut!==Q.viewport){var Et=Ut.center?Ut.center:Mt,X=Ut.zoom==null?Nt:Ut.zoom;oe===!0?this.leafletElement.flyTo(Et,X,this.getZoomPanOptions(it)):this.leafletElement.setView(Et,X,this.getZoomPanOptions(it))}else Mt&&this.shouldUpdateCenter(Mt,Q.center)?oe===!0?this.leafletElement.flyTo(Mt,Nt,this.getZoomPanOptions(it)):this.leafletElement.setView(Mt,Nt,this.getZoomPanOptions(it)):typeof Nt=="number"&&Nt!==Q.zoom&&(Q.zoom==null?this.leafletElement.setView(Mt,Nt,this.getZoomPanOptions(it)):this.leafletElement.setZoom(Nt,this.getZoomPanOptions(it)));Lt&&this.shouldUpdateBounds(Lt,Q.maxBounds)&&this.leafletElement.setMaxBounds(Lt),pt&&(this.shouldUpdateBounds(pt,Q.bounds)||bt!==Q.boundsOptions)&&(oe===!0?this.leafletElement.flyToBounds(pt,this.getFitBoundsOptions(it)):this.leafletElement.fitBounds(pt,this.getFitBoundsOptions(it))),J!==Q.boxZoom&&(J===!0?this.leafletElement.boxZoom.enable():this.leafletElement.boxZoom.disable()),Gt!==Q.doubleClickZoom&&(Gt===!0||typeof Gt=="string"?(this.leafletElement.options.doubleClickZoom=Gt,this.leafletElement.doubleClickZoom.enable()):this.leafletElement.doubleClickZoom.disable()),Ot!==Q.dragging&&(Ot===!0?this.leafletElement.dragging.enable():this.leafletElement.dragging.disable()),ce!==Q.keyboard&&(ce===!0?this.leafletElement.keyboard.enable():this.leafletElement.keyboard.disable()),Be!==Q.scrollWheelZoom&&(Be===!0||typeof Be=="string"?(this.leafletElement.options.scrollWheelZoom=Be,this.leafletElement.scrollWheelZoom.enable()):this.leafletElement.scrollWheelZoom.disable()),Tt!==Q.tap&&(Tt===!0?this.leafletElement.tap.enable():this.leafletElement.tap.disable()),Dt!==Q.touchZoom&&(Dt===!0||typeof Dt=="string"?(this.leafletElement.options.touchZoom=Dt,this.leafletElement.touchZoom.enable()):this.leafletElement.touchZoom.disable()),this._updating=!1},q.getZoomPanOptions=function(Q){var it=Q.animate,pt=Q.duration,bt=Q.easeLinearity,J=Q.noMoveStart;return{animate:it,duration:pt,easeLinearity:bt,noMoveStart:J}},q.getFitBoundsOptions=function(Q){var it=this.getZoomPanOptions(Q);return(0,f.Z)((0,f.Z)({},it),Q.boundsOptions)},q.componentDidMount=function(){var Q=D.apply(void 0,[this.props].concat(g));this.leafletElement=this.createLeafletElement(Q),this.leafletElement.on("move",this.onViewportChange),this.leafletElement.on("moveend",this.onViewportChanged),Q.bounds!=null&&this.leafletElement.fitBounds(Q.bounds,this.getFitBoundsOptions(Q)),this.contextValue={layerContainer:this.leafletElement,map:this.leafletElement},H.prototype.componentDidMount.call(this),this.forceUpdate()},q.componentDidUpdate=function(Q){this._ready===!1&&(this._ready=!0,this.props.whenReady&&this.leafletElement.whenReady(this.props.whenReady)),H.prototype.componentDidUpdate.call(this,Q),this.updateLeafletElement(Q,this.props)},q.componentWillUnmount=function(){H.prototype.componentWillUnmount.call(this),this.leafletElement.off("move",this.onViewportChange),this.leafletElement.off("moveend",this.onViewportChanged),this.props.preferCanvas===!0?(this.leafletElement._initEvents(!0),this.leafletElement._stop()):this.leafletElement.remove()},q.shouldUpdateCenter=function(Q,it){return it?(Q=k(Q),it=k(it),Q[0]!==it[0]||Q[1]!==it[1]):!0},q.shouldUpdateBounds=function(Q,it){return it?!(0,A.latLngBounds)(Q).equals((0,A.latLngBounds)(it)):!0},q.render=function(){return z.createElement("div",{className:this.className,id:this.props.id,ref:this.bindContainer,style:this.props.style},this.contextValue?z.createElement(Y.UO,{value:this.contextValue},this.props.children):null)},G}(O.Z)},59827:function(w,E,s){"use strict";s.d(E,{Z:function(){return z}});var f=s(22122),c=s(63349),y=s(41788),_=s(96156),T=s(67294),A=/^on(.+)$/i,z=function(Y){(0,y.Z)(O,Y);function O(N){var Z;return Z=Y.call(this,N)||this,(0,_.Z)((0,c.Z)(Z),"_leafletEvents",void 0),(0,_.Z)((0,c.Z)(Z),"leafletElement",void 0),Z._leafletEvents=Z.extractLeafletEvents(N),Z}var S=O.prototype;return S.componentDidMount=function(){this.bindLeafletEvents(this._leafletEvents)},S.componentDidUpdate=function(Z){this._leafletEvents=this.bindLeafletEvents(this.extractLeafletEvents(this.props),this._leafletEvents)},S.componentWillUnmount=function(){var Z=this,C=this.leafletElement;!C||Object.keys(this._leafletEvents).forEach(function(D){C.off(D,Z._leafletEvents[D])})},S.extractLeafletEvents=function(Z){return Object.keys(Z).reduce(function(C,D){if(A.test(D)&&Z[D]!=null){var g=D.replace(A,function(k,B){return B.toLowerCase()});C[g]=Z[D]}return C},{})},S.bindLeafletEvents=function(Z,C){Z===void 0&&(Z={}),C===void 0&&(C={});var D=this.leafletElement;if(D==null||D.on==null)return{};var g=(0,f.Z)({},C);return Object.keys(C).forEach(function(k){(Z[k]==null||C[k]!==Z[k])&&(delete g[k],D.off(k,C[k]))}),Object.keys(Z).forEach(function(k){(C[k]==null||Z[k]!==C[k])&&(g[k]=Z[k],D.on(k,Z[k]))}),g},S.fireLeafletEvent=function(Z,C){var D=this.leafletElement;D&&D.fire(Z,C)},O}(T.Component)},3263:function(w,E,s){"use strict";s.d(E,{Z:function(){return D}});var f=s(41788),c=s(45243),y=s(51299),_=s(22122),T=s(5991),A=s(63349),z=s(96156),Y=s(67294),O=s(59827),S=function(g){(0,f.Z)(k,g);function k(){return g.apply(this,arguments)||this}var B=k.prototype;return B.getOptions=function(G){return G.pane!=null?G:G.leaflet!=null&&G.leaflet.pane!=null?(0,_.Z)((0,_.Z)({},G),{},{pane:G.leaflet.pane}):G},k}(O.Z),N=function(g){(0,f.Z)(k,g);function k(H){var G;return G=g.call(this,H)||this,(0,z.Z)((0,A.Z)(G),"contextValue",void 0),(0,z.Z)((0,A.Z)(G),"leafletElement",void 0),G.leafletElement=G.createLeafletElement(H),G}var B=k.prototype;return B.createLeafletElement=function(G){throw new Error("createLeafletElement() must be implemented")},B.updateLeafletElement=function(G,q){},B.componentDidMount=function(){g.prototype.componentDidMount.call(this),this.layerContainer.addLayer(this.leafletElement)},B.componentDidUpdate=function(G){if(g.prototype.componentDidUpdate.call(this,G),this.props.attribution!==G.attribution){var q=this.props.leaflet.map;q!=null&&q.attributionControl!=null&&(q.attributionControl.removeAttribution(G.attribution),q.attributionControl.addAttribution(this.props.attribution))}this.updateLeafletElement(G,this.props)},B.componentWillUnmount=function(){g.prototype.componentWillUnmount.call(this),this.layerContainer.removeLayer(this.leafletElement)},B.render=function(){var G=this.props.children;return G==null?null:this.contextValue==null?Y.createElement(Y.Fragment,null,G):Y.createElement(y.UO,{value:this.contextValue},G)},(0,T.Z)(k,[{key:"layerContainer",get:function(){return this.props.leaflet.layerContainer||this.props.leaflet.map}}]),k}(S),Z=function(g){(0,f.Z)(k,g);function k(){return g.apply(this,arguments)||this}var B=k.prototype;return B.createLeafletElement=function(G){return new c.GridLayer(this.getOptions(G))},B.updateLeafletElement=function(G,q){var K=q.opacity,Q=q.zIndex;K!==G.opacity&&this.leafletElement.setOpacity(K),Q!==G.zIndex&&this.leafletElement.setZIndex(Q)},B.getOptions=function(G){var q=(0,_.Z)({},g.prototype.getOptions.call(this,G)),K=G.leaflet.map;return K!=null&&(q.maxZoom==null&&K.options.maxZoom!=null&&(q.maxZoom=K.options.maxZoom),q.minZoom==null&&K.options.minZoom!=null&&(q.minZoom=K.options.minZoom)),q},B.render=function(){return null},k}(N),C=function(g){(0,f.Z)(k,g);function k(){return g.apply(this,arguments)||this}var B=k.prototype;return B.createLeafletElement=function(G){return new c.TileLayer(G.url,this.getOptions(G))},B.updateLeafletElement=function(G,q){g.prototype.updateLeafletElement.call(this,G,q),q.url!==G.url&&this.leafletElement.setUrl(q.url)},k}(Z),D=(0,y.K5)(C)},51299:function(w,E,s){"use strict";s.d(E,{UO:function(){return Y},K5:function(){return O}});var f=s(22122),c=s(8679),y=s.n(c),_=s(67294),T=(0,_.createContext)({}),A=function(){return useContext(T)},z=T.Consumer,Y=T.Provider,O=function(N){var Z=function(k,B){return _.createElement(z,null,function(H){return _.createElement(N,(0,f.Z)({},k,{leaflet:H,ref:B}))})},C=N.displayName||N.name||"Component";Z.displayName="Leaflet("+C+")";var D=(0,_.forwardRef)(Z);return y()(D,N),D}}}]);
