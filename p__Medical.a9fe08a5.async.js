(self.webpackChunkpp_label_frontend=self.webpackChunkpp_label_frontend||[]).push([[454],{8982:function(p){p.exports={RSPop1:"RSPop1___ei_bv",RSPop2:"RSPop2___9d5gM"}},75721:function(p){p.exports={segment:"segment___1EX9A",mainStage:"mainStage___nDwOp",draw:"draw___1Aue1",pblock:"pblock___19sdD",progress:"progress___1595f",rightSideBar:"rightSideBar___1JzJc",determinOutline:"determinOutline___2vG7S"}},21028:function(p,N,o){"use strict";o.r(N),o.d(N,{MOST_HISTORY_STEPS:function(){return S},default:function(){return un}});var Fn=o(57663),$=o(71577),Vn=o(20136),Q=o(55241),wn=o(34669),k=o(54458),f=o(2824),g=o(67294),q=o(75721),v=o.n(q),_=o(8088),l=o(61541),T=o(44434),D=o(58967),P=o(27992),nn=o(5041),tn=o(57436),on=o(14836),en=o(29919),an=o(43801),sn=o(13931),Wn=o(13062),R=o(71230),Gn=o(66126),z=o(75454),Kn=o(89032),x=o(15746),rn=o(8982),y=o.n(rn),s=o(48971),n=o(85893),ln=function(m){var Z=(0,s.YB)().formatMessage({id:"component.PPMedical.windowWidth"}),M=(0,s.YB)().formatMessage({id:"component.PPMedical.windowLevel"});return(0,n.jsxs)("div",{children:[(0,n.jsxs)(R.Z,{children:[(0,n.jsx)(x.Z,{span:6,className:y().Pop1,children:(0,n.jsx)("span",{children:Z})}),(0,n.jsx)(x.Z,{span:18,className:y().Pop2,children:(0,n.jsx)(z.Z,{min:1,max:m.wwValue||100,defaultValue:37})})]}),(0,n.jsxs)(R.Z,{children:[(0,n.jsx)(x.Z,{span:6,className:y().Pop1,children:(0,n.jsx)("span",{children:M})}),(0,n.jsx)(x.Z,{span:18,className:y().Pop2,children:(0,n.jsx)(z.Z,{min:1,max:m.wlValue||100,defaultValue:37})})]})]})},dn=ln,S=40,cn=function(){var m,Z=(0,g.useState)(void 0),M=(0,f.Z)(Z,2),d=M[0],B=M[1],vn=(0,g.useState)({color:"",name:""}),J=(0,f.Z)(vn,2),b=J[0],E=J[1],fn=(0,g.useState)(),H=(0,f.Z)(fn,2),u=H[0],C=H[1],mn=(0,g.useState)([]),U=(0,f.Z)(mn,2),r=U[0],hn=U[1],Sn=(0,g.useState)(10),F=(0,f.Z)(Sn,2),j=F[0],V=F[1],pn=(0,g.useState)(1),w=(0,f.Z)(pn,2),L=w[0],Y=w[1],W=function(t){t||Y(1),t<.1||t>3?Y(1):Y(t)},c=function(t){C(t),t!=null&&t.label&&E(t.label)},h=function(t){hn(t)};(0,g.useEffect)(function(){localStorage.removeItem("history"),A([])},[]);function A(e,t){var a=localStorage.getItem("history"),i=a?JSON.parse(a):{index:-1,items:[]},X={currentAnnotation:t,annotations:e};if(JSON.stringify(i.items[i.index])!=JSON.stringify(X)){var Hn=i.index>S?i.index-S:0,Un=i.items.splice(Hn,i.index==0?1:i.index+1);i.items=Un.concat([X]),i.index<=S?i.index++:i.index=S+1,localStorage.setItem("history",JSON.stringify(i))}}var xn=function(){var t=localStorage.getItem("history");if(!!t){var a=JSON.parse(t);if(!!a&&!(a.index>=a.items.length-1)){a.index++,localStorage.setItem("history",JSON.stringify(a));var i=a.items[a.index];C(i.currentAnnotation),h(i.annotations)}}},yn=function(){var t=localStorage.getItem("history");if(!!t){var a=JSON.parse(t);if(!(!a||!a.index)&&!(a.index<=0)){a.index--,localStorage.setItem("history",JSON.stringify(a));var i=a.items[a.index];C(i.currentAnnotation),h(i.annotations)}}},O=function(t){for(var a=[],i=0;i<r.length;i++)r[i].annotationId==t.annotationId?a.push(t):a.push(r[i]);c(t),h(a)},G=(0,an.Z)({currentLabel:b,brushSize:j,currentTool:d,annotations:r,currentAnnotation:u,onAnnotationAdd:function(t){var a=r.concat([t]);h(a),u||c(t)},onAnnotationModify:O,onMouseUp:function(){A(r,u)}}),K=(0,sn.Z)({currentLabel:b,brushSize:j,currentTool:d,annotations:r,currentAnnotation:u,onAnnotationAdd:function(t){var a=r.concat([t]);h(a),u||c(t)},onAnnotationModify:O,onMouseUp:function(){A(r,u)}}),I=d=="polygon"?K:G,Mn=(0,s.YB)().formatMessage({id:"pages.toolBar.polygon"}),Bn=(0,s.YB)().formatMessage({id:"pages.toolBar.brush"}),jn=(0,s.YB)().formatMessage({id:"pages.toolBar.rubber"}),An=(0,s.YB)().formatMessage({id:"pages.toolBar.zoomIn"}),Pn=(0,s.YB)().formatMessage({id:"pages.toolBar.zoomOut"}),Zn=(0,s.YB)().formatMessage({id:"pages.toolBar.move"}),bn=(0,s.YB)().formatMessage({id:"pages.toolBar.unDo"}),Cn=(0,s.YB)().formatMessage({id:"pages.toolBar.reDo"}),Ln=(0,s.YB)().formatMessage({id:"pages.toolBar.save"}),Yn=(0,s.YB)().formatMessage({id:"pages.toolBar.edit"}),On=(0,s.YB)().formatMessage({id:"pages.toolBar.clearMark"}),In=(0,s.YB)().formatMessage({id:"pages.toolBar.interactor"}),Nn=(0,s.YB)().formatMessage({id:"pages.toolBar.segmentThreshold"}),Tn=(0,s.YB)().formatMessage({id:"pages.toolBar.transparency"}),Dn=(0,s.YB)().formatMessage({id:"pages.toolBar.visualRadius"}),Rn=(0,s.YB)().formatMessage({id:"pages.toolBar.determineOutline"}),zn=(0,s.YB)().formatMessage({id:"pages.toolBar.medicalSetting"}),Jn=(0,s.YB)().formatMessage({id:"pages.toolBar.divideData"}),En=(0,s.YB)().formatMessage({id:"pages.toolBar.export"});return(0,n.jsxs)(_.Z,{className:v().segment,children:[(0,n.jsxs)(T.Z,{children:[(0,n.jsx)(en.Z,{active:d=="polygon",onClick:function(){B("polygon"),c(void 0)},children:Mn}),(0,n.jsx)(l.Z,{imgSrc:"./pics/buttons/edit.png",children:Yn}),(0,n.jsx)(D.Z,{size:j,active:d=="brush",onClick:function(){d!="rubber"&&d!="brush"&&c(void 0),B("brush")},onChange:function(t){V(t)},children:Bn}),(0,n.jsx)(D.Z,{size:j,active:d=="rubber",onClick:function(){d!="rubber"&&d!="brush"&&c(void 0),B("rubber")},onChange:function(t){V(t)},imgSrc:"./pics/buttons/rubber.png",children:jn}),(0,n.jsx)(l.Z,{imgSrc:"./pics/buttons/zoom_in.png",onClick:function(){W(L+.1)},children:An}),(0,n.jsx)(l.Z,{imgSrc:"./pics/buttons/zoom_out.png",onClick:function(){W(L-.1)},children:Pn}),(0,n.jsx)(l.Z,{imgSrc:"./pics/buttons/save.png",children:Ln}),(0,n.jsx)(l.Z,{imgSrc:"./pics/buttons/move.png",onClick:function(){B("mover")},children:Zn}),(0,n.jsx)(l.Z,{imgSrc:"./pics/buttons/prev.png",onClick:function(){yn()},children:bn}),(0,n.jsx)(l.Z,{imgSrc:"./pics/buttons/next.png",onClick:function(){xn()},children:Cn}),(0,n.jsx)(l.Z,{imgSrc:"./pics/buttons/clear_mark.png",children:On})]}),(0,n.jsxs)("div",{id:"dr",className:v().mainStage,children:[(0,n.jsx)("div",{className:v().draw,children:(0,n.jsx)(tn.Z,{width:(m=document.getElementById("dr"))===null||m===void 0?void 0:m.clientWidth,scale:L,annotations:r,currentTool:d,currentAnnotation:u,setCurrentAnnotation:c,onAnnotationModify:O,onAnnotationModifyComplete:function(){A(r,u)},onMouseDown:I.onMouseDown,onMouseMove:I.onMouseMove,onMouseUp:I.onMouseUp,createPolygonFunc:K.createElementsFunc,createBrushFunc:G.createElementsFunc})}),(0,n.jsx)("div",{className:v().pblock,children:(0,n.jsx)("div",{className:v().progress,children:(0,n.jsx)(k.Z,{percent:50,status:"active"})})})]}),(0,n.jsxs)(T.Z,{disLoc:"right",children:[(0,n.jsx)(l.Z,{imgSrc:"./pics/buttons/intelligent_interaction.png",children:In}),(0,n.jsx)(P.Z,{imgSrc:"./pics/buttons/threshold.png",disLoc:"left",children:Nn}),(0,n.jsx)(P.Z,{imgSrc:"./pics/buttons/alpha.png",disLoc:"left",children:Tn}),(0,n.jsx)(P.Z,{imgSrc:"./pics/buttons/radius.png",disLoc:"left",children:Dn}),(0,n.jsxs)(Q.Z,{overlayInnerStyle:{borderRadius:"0.5rem"},placement:"leftTop",title:"Setting of medical",content:(0,n.jsx)(dn,{}),trigger:"hover",children:[" ",(0,n.jsx)(l.Z,{imgSrc:"./pics/buttons/medical_setting.png",children:zn})]}),(0,n.jsx)(l.Z,{imgSrc:"./pics/buttons/data_division.png",children:Jn}),(0,n.jsx)(l.Z,{imgSrc:"./pics/buttons/export.png",children:En})]}),(0,n.jsxs)("div",{className:v().rightSideBar,children:[(0,n.jsx)("div",{className:v().determinOutline,children:(0,n.jsx)($.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",block:!0,onClick:function(){c(void 0)},children:Rn})}),(0,n.jsx)(nn.Z,{selectedLabel:b,onLabelSelect:function(t){E(t),c(void 0)},onLabelModify:function(){},onLabelDelete:function(){},onLabelAdd:function(){}}),(0,n.jsx)(on.Z,{selectedAnnotation:u,annotations:r,onAnnotationSelect:function(t){t!=null&&t.delete||c(t)},onAnnotationAdd:function(){},onAnnotationModify:function(){},onAnnotationDelete:function(t){h(r.filter(function(a){return a.annotationId!=t.annotationId})),c(void 0)}})]})]})},un=cn}}]);
