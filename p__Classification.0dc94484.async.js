(self.webpackChunkpp_label_frontend=self.webpackChunkpp_label_frontend||[]).push([[672],{41435:function(x,d,e){"use strict";e.d(d,{Z:function(){return v}});var m=e(94663),p=e(80112);function h(o){return Function.toString.call(o).indexOf("[native code]")!==-1}var P=e(18597);function s(o,a,u){return(0,P.Z)()?s=Reflect.construct:s=function(l,i,g){var E=[null];E.push.apply(E,i);var j=Function.bind.apply(l,E),I=new j;return g&&(0,p.Z)(I,g.prototype),I},s.apply(null,arguments)}function v(o){var a=typeof Map=="function"?new Map:void 0;return v=function(r){if(r===null||!h(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof a!="undefined"){if(a.has(r))return a.get(r);a.set(r,l)}function l(){return s(r,arguments,(0,m.Z)(this).constructor)}return l.prototype=Object.create(r.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),(0,p.Z)(l,r)},v(o)}},73199:function(){},10137:function(x,d,e){"use strict";var m=e(34669),p=e(54458),h=e(67294),P=e(85893),s=function(o){var a,u;return(0,P.jsxs)("div",{className:"progress",children:[(0,P.jsx)(p.Z,{className:"progressBar",percent:Math.ceil(o.project.finished/((a=o.task.all)===null||a===void 0?void 0:a.length)*100),status:"active",showInfo:!1})," ",(0,P.jsxs)("span",{className:"progressDesc",children:["Current labeling ",o.task.currIdx==null?1:o.task.currIdx+1," of"," ",(u=o.task.all)===null||u===void 0?void 0:u.length,". Already labeled ",o.project.finished||0,"."]})]})};d.Z=s},29214:function(x,d,e){"use strict";e.r(d);var m=e(11849),p=e(20228),h=e(11382),P=e(34792),s=e(48086),v=e(91220),o=e(67294),a=e(48971),u=e(73199),r=e.n(u),l=e(8088),i=e(61541),g=e(44434),E=e(5041),j=e(57436),I=e(10137),S=e(69762),t=e(85893),W=function(){var c=(0,S.$L)(o.useState,o.useEffect,{label:{oneHot:!1,postSelect:z},tool:{defaultTool:"mover"},effectTrigger:{postTaskChange:$,postProjectChanged:F}}),b=c.tool,T=c.loading,B=c.scale,D=c.annotation,L=c.task,y=c.data,M=c.project,_=c.label,O=(0,a.YB)(),Z=O.formatMessage({id:"pages.toolBar.zoomIn"}),K=O.formatMessage({id:"pages.toolBar.zoomOut"}),U=O.formatMessage({id:"pages.toolBar.move"}),k=O.formatMessage({id:"pages.toolBar.save"}),N=O.formatMessage({id:"pages.toolBar.autoSave"});function F(){var n;((n=M.curr)===null||n===void 0?void 0:n.labelFormat)=="single_class"&&_.setOneHot(!0)}function z(n,f){if(console.log("selectLabel",n),f.has(n.labelId))_.isOneHot&&D.clear(),D.create({taskId:L.curr.taskId,labelId:n.labelId,dataId:y.curr.dataId});else{var H=D.all.filter(function(A){return A.labelId==n.labelId}),C=(0,v.Z)(H),R;try{for(C.s();!(R=C.n()).done;){var Y=R.value;D.remove(Y.annotationId)}}catch(A){C.e(A)}finally{C.f()}}}function $(n,f){T.setCurr(!0),!(!n||!f)&&(_.initActive(f),T.setCurr(!1))}return(0,t.jsxs)(l.Z,{className:r().classes,children:[(0,t.jsxs)(g.Z,{children:[(0,t.jsx)(i.Z,{imgSrc:"./pics/buttons/zoom_in.png",onClick:function(){B.change(.1)},children:Z}),(0,t.jsx)(i.Z,{imgSrc:"./pics/buttons/zoom_out.png",onClick:function(){B.change(-.1)},children:K}),(0,t.jsx)(i.Z,{imgSrc:"./pics/buttons/save.png",onClick:function(){s.default.success(N)},children:k}),(0,t.jsx)(i.Z,{imgSrc:"./pics/buttons/move.png",active:b.curr=="mover",onClick:function(){b.setCurr("mover")},children:U})]}),(0,t.jsx)("div",{id:"dr",className:"mainStage",children:(0,t.jsxs)(h.Z,{tip:"loading",spinning:T.curr,children:[(0,t.jsx)("div",{className:"draw",children:(0,t.jsx)(j.Z,{scale:B.curr,currentTool:b.curr,setCurrentAnnotation:function(){},onAnnotationModify:function(){},onAnnotationModifyComplete:function(){},imgSrc:y.imgSrc})}),(0,t.jsx)("div",{className:"pblock",children:(0,t.jsx)(I.Z,{task:L,project:M})}),(0,t.jsx)("div",{className:"prevTask",onClick:L.prevTask}),(0,t.jsx)("div",{className:"nextTask",onClick:L.nextTask})]})}),(0,t.jsxs)(g.Z,{disLoc:"right",children:[(0,t.jsx)(i.Z,{imgSrc:"./pics/buttons/data_division.png",onClick:function(){a.m8.push("/project_overview?projectId=".concat(M.curr.projectId))},children:"Project Overview"}),(0,t.jsx)(i.Z,{imgSrc:"./pics/buttons/data_division.png",onClick:function(){a.m8.push("/ml?projectId=".concat(M.curr.projectId))},children:"ML Settings"})]}),(0,t.jsx)("div",{className:"rightSideBar",children:(0,t.jsx)(E.Z,{labels:_.all,activeIds:_.activeIds,onLabelSelect:_.onSelect,onLabelAdd:function(f){return _.create((0,m.Z)((0,m.Z)({},f),{},{projectId:M.curr.projectId}))},onLabelDelete:_.remove,onLabelModify:function(){},hideColorPicker:!0,hideEye:!0})})]})};d.default=W}}]);
