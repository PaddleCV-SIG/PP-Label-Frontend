(self.webpackChunkpp_label_frontend=self.webpackChunkpp_label_frontend||[]).push([[672],{41435:function(T,h,t){"use strict";t.d(h,{Z:function(){return f}});var j=t(94663),S=t(80112);function Z(i){return Function.toString.call(i).indexOf("[native code]")!==-1}var M=t(18597);function d(i,c,b){return(0,M.Z)()?d=Reflect.construct:d=function(r,x,C){var p=[null];p.push.apply(p,x);var N=Function.bind.apply(r,p),P=new N;return C&&(0,S.Z)(P,C.prototype),P},d.apply(null,arguments)}function f(i){var c=typeof Map=="function"?new Map:void 0;return f=function(a){if(a===null||!Z(a))return a;if(typeof a!="function")throw new TypeError("Super expression must either be null or a function");if(typeof c!="undefined"){if(c.has(a))return c.get(a);c.set(a,r)}function r(){return d(a,arguments,(0,j.Z)(this).constructor)}return r.prototype=Object.create(a.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),(0,S.Z)(r,a)},f(i)}},73199:function(){},81094:function(T,h,t){"use strict";t.r(h),t.d(h,{default:function(){return $}});var j=t(8870),S=t(20228),Z=t(11382),M=t(34792),d=t(48086),f=t(67294),i=t(48971),c=t(73199),b=t.n(c),a=t(8088),r=t(61541),x=t(44434),C=t(5041),p=t(57436),N=t(34669),P=t(54458),n=t(85893),A=function(e){var l,u;return(0,n.jsxs)("div",{className:"progress",children:[(0,n.jsx)(P.Z,{className:"progressBar",percent:Math.ceil(e.project.finished/((l=e.task.all)===null||l===void 0?void 0:l.length)*100),status:"active",showInfo:!1})," ",(0,n.jsxs)("span",{className:"progressDesc",children:["Current labeling ",e.task.currIdx==null?1:e.task.currIdx+1," of"," ",(u=e.task.all)===null||u===void 0?void 0:u.length,". Already labeled ",e.project.finished||0,"."]})]})},B=A,O=t(19424),z=function(){var e=(0,O.$L)(f.useState,f.useEffect,{label:{oneHot:!1,postSetCurr:G},tool:{defaultTool:"mover"},effectTrigger:{postTaskChange:J,postProjectChanged:Y}}),l=e.tool,u=e.loading,k=e.scale,y=e.annotation,I=e.task,L=e.data,g=e.project,s=e.label,m=(0,i.YB)(),F=m.formatMessage({id:"pages.toolBar.zoomIn"}),H=m.formatMessage({id:"pages.toolBar.zoomOut"}),D=m.formatMessage({id:"pages.toolBar.move"}),R=m.formatMessage({id:"pages.toolBar.save"}),W=m.formatMessage({id:"pages.toolBar.autoSave"});function Y(){var o;((o=g.curr)===null||o===void 0?void 0:o.labelFormat)=="single_class"&&s.setOneHot(!0)}function G(o){if(s.isActive(o))s.isOneHot&&y.clear(),y.create({taskId:I.curr.taskId,labelId:o.labelId,dataId:L.curr.dataId});else{var v=y.all.filter(function(K){return K.labelId==o.labelId})[0];y.remove(v.annotationId)}}function J(o,v){u.setCurr(!0),!(!o||!v)&&(s.initActive(v),u.setCurr(!1))}return(0,n.jsxs)(a.Z,{className:b().classes,children:[(0,n.jsxs)(x.Z,{children:[(0,n.jsx)(r.Z,{imgSrc:"./pics/buttons/zoom_in.png",onClick:function(){k.change(.1)},children:F}),(0,n.jsx)(r.Z,{imgSrc:"./pics/buttons/zoom_out.png",onClick:function(){k.change(-.1)},children:H}),(0,n.jsx)(r.Z,{imgSrc:"./pics/buttons/save.png",onClick:function(){d.default.success(W)},children:R}),(0,n.jsx)(r.Z,{imgSrc:"./pics/buttons/move.png",active:l.curr=="mover",onClick:function(){l.setCurr("mover")},children:D})]}),(0,n.jsx)("div",{id:"dr",className:"mainStage",children:(0,n.jsxs)(Z.Z,{tip:"loading",spinning:u.curr,children:[(0,n.jsx)("div",{className:"draw",children:(0,n.jsx)(p.Z,{scale:k.curr,currentTool:l.curr,setCurrentAnnotation:function(){},onAnnotationModify:function(){},onAnnotationModifyComplete:function(){},imgSrc:L.imgSrc})}),(0,n.jsx)("div",{className:"pblock",children:(0,n.jsx)(B,{task:I,project:g})}),(0,n.jsx)("div",{className:"prevTask",onClick:I.prevTask}),(0,n.jsx)("div",{className:"nextTask",onClick:I.nextTask})]})}),(0,n.jsxs)(x.Z,{disLoc:"right",children:[(0,n.jsx)(r.Z,{imgSrc:"./pics/buttons/data_division.png",onClick:function(){i.m8.push("/project_overview?projectId=".concat(g.curr.projectId))},children:"Project Overview"}),(0,n.jsx)(r.Z,{imgSrc:"./pics/buttons/data_division.png",onClick:function(){i.m8.push("/ml?projectId=".concat(g.curr.projectId))},children:"ML Settings"})]}),(0,n.jsx)("div",{className:"rightSideBar",children:(0,n.jsx)(C.Z,{labels:s.all,activeIds:s.activeIds,onLabelSelect:s.onSelect,onLabelAdd:function(v){return s.create((0,j.Z)((0,j.Z)({},v),{},{projectId:g.curr.projectId}))},onLabelDelete:s.remove,onLabelModify:function(){},hideColorPicker:!0,hideEye:!0})})]})},$=z}}]);
