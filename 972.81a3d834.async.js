(self.webpackChunkpp_labeling_frontend=self.webpackChunkpp_labeling_frontend||[]).push([[972],{91220:function(i,M,n){"use strict";n.d(M,{Z:function(){return E}});var I=n(64254);function E(_,C){var a;if(typeof Symbol=="undefined"||_[Symbol.iterator]==null){if(Array.isArray(_)||(a=(0,I.Z)(_))||C&&_&&typeof _.length=="number"){a&&(_=a);var l=0,v=function(){};return{s:v,n:function(){return l>=_.length?{done:!0}:{done:!1,value:_[l++]}},e:function(o){throw o},f:v}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var m=!0,h=!1,x;return{s:function(){a=_[Symbol.iterator]()},n:function(){var o=a.next();return m=o.done,o},e:function(o){h=!0,x=o},f:function(){try{!m&&a.return!=null&&a.return()}finally{if(h)throw x}}}}},85024:function(i){i.exports={listItem:"listItem___u4Q82",eye:"eye___BwaRm",delete:"delete___31JB_",roundBall:"roundBall___23A7l",popover:"popover___1BNET",annotationId:"annotationId___zAzX4",labelName:"labelName___2ohxn",listItemActive:"listItemActive___2QnA3"}},56159:function(i){i.exports={labelList:"labelList___v7C6K",listHeader:"listHeader___1aY8R",eye:"eye___2MKbp",roundBall:"roundBall___187XH"}},57560:function(i){i.exports={toolBarButtonContainerWrapper:"toolBarButtonContainerWrapper___147XP",toolBarButtonContainer:"toolBarButtonContainer___ZEvhK",toolBarButton:"toolBarButton___1s2Rh",buttonText:"buttonText___3NTCv",toolBarButtonContainerWrapperActive:"toolBarButtonContainerWrapperActive___2Utx8",popover:"popover___3PRoi"}},52822:function(i){i.exports={roundBall:"roundBall___1pqu1",popover:"popover___1-PR6"}},5882:function(i){i.exports={listItem:"listItem___vtDXn",eye:"eye___AsLBS",roundBall:"roundBall___1J_R3",popover:"popover___1x-2R",listItemActive:"listItemActive___3FRb7"}},56131:function(i){i.exports={labelList:"labelList___jvD05",listHeader:"listHeader___UM5UF",eye:"eye___II3Po",roundBall:"roundBall___j752J"}},78677:function(i){i.exports={container:"container___G0FNe"}},83930:function(i){i.exports={stage:"stage___3H5QL"}},80961:function(i){i.exports={toolbar:"toolbar___3vxli"}},82499:function(i){i.exports={toolBarButtonContainerWrapper:"toolBarButtonContainerWrapper___1SHWL",toolBarButtonContainer:"toolBarButtonContainer___1jKUz",toolBarButton:"toolBarButton___3Ouq1",buttonText:"buttonText___10ls7",toolBarButtonContainerWrapperActive:"toolBarButtonContainerWrapperActive___3AA28"}},14836:function(i,M,n){"use strict";n.d(M,{Z:function(){return u}});var I=n(54421),E=n(38272),_=n(57663),C=n(71577),a=n(67294),l=n(56159),v=n.n(l),m=n(49111),h=n(19650),x=n(2824),t=n(11849),o=n(85024),r=n.n(o),d=n(63097),e=n(85893),b=function(s){var f=(0,t.Z)({},s.annotation),P=(0,a.useState)(f.invisible),L=(0,x.Z)(P,2),B=L[0],O=L[1];(0,a.useEffect)(function(){O(s.annotation.invisible)},[s.annotation.invisible]);var H=(0,e.jsxs)(E.ZP.Item,{className:"".concat(r().listItem," ").concat(s.active?r().listItemActive:""),unselectable:"on",onClick:function(){s.onClick(f)},children:[(0,e.jsxs)(h.Z,{align:"center",size:5,children:[(0,e.jsx)("a",{className:r().eye,style:{backgroundImage:B?"url(./pics/hide.png)":"url(./pics/show.png)"},onClick:function(){O(!B),s.onAnnotationModify(f)}})," ",(0,e.jsx)("span",{className:r().annotationId,children:f.annotationId}),(0,e.jsx)("span",{className:r().labelName,children:f.label.name}),(0,e.jsx)(d.Z,{color:f.label.color})]}),(0,e.jsx)("a",{className:r().delete,onClick:function(){f.delete=!0,s.onAnnotationDelete(f)}})]});return H},g=b,D=function(s){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(E.ZP,{className:v().labelList,size:"large",header:(0,e.jsx)("div",{className:v().listHeader,children:"Annotation List"}),bordered:!0,dataSource:s.annotations,renderItem:function(P){var L;return(0,e.jsx)(g,{onClick:s.onAnnotationSelect,annotation:P,active:P.annotationId==((L=s.selectedAnnotation)===null||L===void 0?void 0:L.annotationId),onAnnotationDelete:s.onAnnotationDelete,onAnnotationModify:s.onAnnotationModify})},footer:(0,e.jsx)("div",{children:(0,e.jsx)(C.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",onClick:function(){s.onAnnotationSelect(void 0)},block:!0,children:"Add Annotation"})})})})},u=D},43801:function(i,M,n){"use strict";n.d(M,{Z:function(){return x}});var I=n(11849),E=n(2824),_=n(91220),C=n(67294),a=n(65031),l=n(85893);function v(t,o,r,d){if(!(!t||!o||!r||!d))return{width:t,color:o,points:r,tool:d,element:(0,l.jsx)(a.x1,{stroke:o,strokeWidth:t,globalCompositeOperation:d==="brush"?"source-over":"destination-out",lineCap:"round",points:r,tension:.01})}}function m(t,o){return t=="rubber"||o==2?"rubber":"brush"}function h(t){var o=0,r=(0,_.Z)(t),d;try{for(r.s();!(d=r.n()).done;){var e=d.value;!e||e.annotationId>o&&(o=e.annotationId)}}catch(b){r.e(b)}finally{r.f()}return o}function x(t){console.log("drawBrush");var o=(0,C.useState)(),r=(0,E.Z)(o,2),d=r[0],e=r[1],b=function(A){var s,f=m(t.currentTool,A.evt.button),P=v(t.brushSize||10,(s=t.currentLabel)===null||s===void 0?void 0:s.color,[A.evt.offsetX,A.evt.offsetY,A.evt.offsetX,A.evt.offsetY],f);if(!!P)if(e(f),!t.currentAnnotation)t.onAnnotationAdd({annotationId:h(t.annotations)+1,label:t.currentLabel,lines:[P]});else{var L,B={annotationId:t.currentAnnotation.annotationId,label:t.currentAnnotation.label,lines:(L=t.currentAnnotation.lines)===null||L===void 0?void 0:L.concat([P])};t.onAnnotationModify(B),console.log(B)}},g=function(A){var s;if(!(!d||!t.currentAnnotation)){var f=[A.evt.offsetX,A.evt.offsetY],P=[];(s=t.currentAnnotation)!==null&&s!==void 0&&s.lines&&(f=t.currentAnnotation.lines[t.currentAnnotation.lines.length-1].points.concat(f),P=t.currentAnnotation.lines);var L=v(t.brushSize||10,t.currentLabel.color,f,d);!L||(P.pop(),P.push(L),t.onAnnotationModify((0,I.Z)((0,I.Z)({},t.currentAnnotation),{},{lines:P})))}},D=function(){e(void 0)};return{onMouseDown:b,onMouseMove:g,onMouseUp:D}}},58967:function(i,M,n){"use strict";var I=n(20136),E=n(55241),_=n(77883),C=n(70507),a=n(57663),l=n(71577),v=n(2824),m=n(67294),h=n(61541),x=n(57560),t=n.n(x),o=n(85893),r=1,d=50,e=10;function b(D){return D?D<=r?r:D>=d?d:D:e}var g=function(u){var A=(0,m.useState)(b(u.size)),s=(0,v.Z)(A,2),f=s[0],P=s[1];return(0,m.useEffect)(function(){P(b(u.size))},[u.size]),(0,o.jsxs)(E.Z,{overlayClassName:t().popover,placement:"right",content:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.Z,{type:"text",onClick:function(){var B,O=b(f-1);P(O),(B=u.onChange)===null||B===void 0||B.call(0,O)},children:"-"}),(0,o.jsx)(C.Z,{min:r,max:d,value:f,onChange:function(B){var O;(O=u.onChange)===null||O===void 0||O.call(0,B)},controls:!1,style:{textAlign:"center"}}),(0,o.jsx)(l.Z,{type:"text",onClick:function(){var B,O=b(f+1);P(O),(B=u.onChange)===null||B===void 0||B.call(0,O)},children:"+"})]}),trigger:u.active?"hover":"click",children:[" ",(0,o.jsx)(h.Z,{active:u.active,imgSrc:u.imgSrc||"./pics/buttons/brush.png",onClick:u.onClick,children:u.children||"Brush"})]})};M.Z=g},63097:function(i,M,n){"use strict";var I=n(20136),E=n(55241),_=n(2824),C=n(67294),a=n(52822),l=n.n(a),v=n(63144),m=n(85893),h=function(t){var o=(0,C.useState)(t.color||"#FFF"),r=(0,_.Z)(o,2),d=r[0],e=r[1];return(0,C.useEffect)(function(){e(t.color||"#FFF")},[t]),t.changeable?(0,m.jsx)(E.Z,{getPopupContainer:function(g){return g.parentElement||document.body},overlayClassName:l().popover,openClassName:l().popoverOpenClassName,placement:"bottom",content:(0,m.jsx)(v.xS,{disableAlpha:!0,color:d,onChange:function(g){e(g.hex)},onChangeComplete:t.onChange}),trigger:"click",children:(0,m.jsx)("div",{className:l().roundBall,style:{backgroundColor:d}})}):(0,m.jsx)("div",{className:l().roundBall,style:{backgroundColor:d}})};M.Z=h},5041:function(i,M,n){"use strict";n.d(M,{Z:function(){return X}});var I=n(54421),E=n(38272),_=n(57663),C=n(71577),a=n(2824),l=n(67294),v=n(56131),m=n.n(v),h=n(49111),x=n(19650),t=n(11849),o=n(5882),r=n.n(o),d=n(63097),e=n(85893),b=function(c){var j=(0,t.Z)({},c.label),W=(0,l.useState)(j.invisible),F=(0,a.Z)(W,2),U=F[0],K=F[1],R=(0,e.jsx)(E.ZP.Item,{className:"".concat(r().listItem," ").concat(c.active?r().listItemActive:""),unselectable:"on",onClick:function(){c.onClick(j)},children:(0,e.jsxs)(x.Z,{align:"center",size:5,children:[(0,e.jsx)("a",{className:r().eye,style:{backgroundImage:U?"url(./pics/hide.png)":"url(./pics/show.png)"},onClick:function(){K(!U),c.onLabelModify(j)}})," ",j.name,(0,e.jsx)(d.Z,{color:j.color,changeable:!0,onChange:function(S){j.color=S.hex,c.onLabelModify(j)}})]})});return R},g=b,D=n(71194),u=n(50146),A=n(47673),s=n(24044),f=n(9715),P=n(93766),L=["#FF0000","#008000","#0000FF","#FFFF00","#FFA500","#00FFFF","#8B00FF","#FFC0CB","#7CFC00","#007FFF","#800080","#36BF36","#DAA520","#800000","#008B8B","#B22222","#E6D933","#000080","#FF00FF","#FFFF99","#87CEEB","#5C50E6","#CD5C5C","#20B2AA","#E680FF","#4D1F00","#006374","#B399FF","#8B4513","#BA55D3","#C0C0C0","#808080","#000000"],B=function(c){var j,W,F=(0,l.useState)(((j=c.defaultLabel)===null||j===void 0?void 0:j.color)||L[c.order||0]),U=(0,a.Z)(F,2),K=U[0],R=U[1];(0,l.useEffect)(function(){var y;R(((y=c.defaultLabel)===null||y===void 0?void 0:y.color)||L[c.order||0])},[c]);var N=P.Z.useForm(),S=(0,a.Z)(N,1),Z=S[0];return(0,e.jsx)(u.Z,{title:"Add Label",visible:c.visible,onCancel:c.onCancel,footer:null,children:(0,e.jsxs)(P.Z,{form:Z,name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!1,labelname:(W=c.defaultLabel)===null||W===void 0?void 0:W.name},onFinish:function(T){var Y={name:T.labelname,color:K};c.onLabelAdd(Y),Z.resetFields()},autoComplete:"off",children:[(0,e.jsx)(P.Z.Item,{label:"Label Name",name:"labelname",rules:[{required:!0,message:"Please input label name!"}],children:(0,e.jsx)(s.Z,{})}),(0,e.jsx)(P.Z.Item,{label:"Select Color",name:"color",children:(0,e.jsx)(d.Z,{color:K,onChange:function(T){R(T.hex)}})}),(0,e.jsx)(P.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,e.jsxs)(x.Z,{children:[(0,e.jsx)(C.Z,{onClick:function(){var T;(T=c.onCancel)===null||T===void 0||T.call(0),Z.resetFields()},children:"\u53D6\u6D88"}),(0,e.jsx)(C.Z,{type:"primary",htmlType:"submit",children:"\u786E\u5B9A"})]})})]})})},O=B,H=[{color:"#FF0000",name:"Label 1"},{color:"#008000",name:"Label 2"}],z=function(c){var j=(0,l.useState)(H),W=(0,a.Z)(j,2),F=W[0],U=W[1],K=(0,l.useState)(!1),R=(0,a.Z)(K,2),N=R[0],S=R[1];return(0,l.useEffect)(function(){c.selectedLabel||c.onLabelSelect(F[0])},[F,c]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(E.ZP,{className:m().labelList,size:"large",header:(0,e.jsx)("div",{className:m().listHeader,children:"Label List"}),footer:(0,e.jsx)("div",{children:(0,e.jsx)(C.Z,{style:{height:40,fontSize:"0.75rem"},type:"primary",onClick:function(){S(!0)},block:!0,children:"Add Label"})}),bordered:!0,dataSource:F,renderItem:function(y){var T;return(0,e.jsx)(g,{onClick:c.onLabelSelect,label:y,active:y.name==((T=c.selectedLabel)===null||T===void 0?void 0:T.name),onLabelDelete:c.onLabelDelete,onLabelModify:c.onLabelModify})}}),(0,e.jsx)(O,{order:F.length,visible:N,onLabelAdd:function(y){F.push(y),U(F),S(!1)},onCancel:function(){S(!1)}})]})},X=z},8088:function(i,M,n){"use strict";var I=n(67294),E=n(78677),_=n.n(E),C=n(85893),a=function(v){return(0,C.jsx)("div",{className:"".concat(_().container," ").concat(v.className),children:v.children})};M.Z=a},57436:function(i,M,n){"use strict";var I=n(2824),E=n(67294),_=n(65031),C=n(84420),a=n.n(C),l=n(83930),v=n.n(l),m=n(85893),h="./pics/basketball.jpg",x=function(o){var r=a()(h),d=(0,I.Z)(r,1),e=d[0],b=(e==null?void 0:e.width)||0,g=(e==null?void 0:e.height)||0;return(0,m.jsxs)(_.Hf,{width:b,height:g,className:v().stage,children:[(0,m.jsx)(_.mh,{children:(0,m.jsx)(_.Ee,{image:e})}),(0,m.jsxs)(_.mh,{onMouseDown:function(u){o.onMouseDown&&o.onMouseDown(u)},onMouseMove:function(u){o.onMouseMove&&o.onMouseMove(u)},onMouseUp:function(u){o.onMouseUp&&o.onMouseUp(u)},onContextMenu:function(u){u.evt.preventDefault()},children:[(0,m.jsx)(_.Ee,{image:e}),o.annotations.map(function(D,u){var A;return(A=D.lines)===null||A===void 0?void 0:A.map(function(s,f){return s.element})})]})]})};M.Z=x},44434:function(i,M,n){"use strict";var I=n(67294),E=n(80961),_=n.n(E),C=n(85893),a=function(v){return(0,C.jsx)("div",{className:_().toolbar,children:v.children})};M.Z=a},61541:function(i,M,n){"use strict";var I=n(49111),E=n(19650),_=n(67294),C=n(82499),a=n.n(C),l=n(85893),v=function(h){return(0,l.jsx)("div",{unselectable:"on",className:"".concat(a().toolBarButtonContainerWrapper," ").concat(h.active&&a().toolBarButtonContainerWrapperActive),onClick:h.onClick,children:(0,l.jsx)(E.Z,{align:"center",className:a().toolBarButtonContainer,size:0,children:(0,l.jsxs)(E.Z,{align:"center",direction:"vertical",className:a().toolBarButton,size:0,children:[(0,l.jsx)("img",{src:h.imgSrc}),(0,l.jsx)("div",{className:a().buttonText,children:h.children})]})})})};M.Z=v}}]);
